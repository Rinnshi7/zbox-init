/*! For license information please see main.js.LICENSE.txt */
var __FIX_DUMMY_LIBRARY_NAME_NOT_ALLOWED__;(()=>{var __webpack_modules__={47471:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return i(e)?e:q(e)}function r(e){return l(e)?e:$(e)}function o(e){return s(e)?e:K(e)}function a(e){return i(e)&&!u(e)?e:J(e)}function i(e){return!(!e||!e[f])}function l(e){return!(!e||!e[d])}function s(e){return!(!e||!e[p])}function u(e){return l(e)||s(e)}function c(e){return!(!e||!e[h])}t(r,n),t(o,n),t(a,n),n.isIterable=i,n.isKeyed=l,n.isIndexed=s,n.isAssociative=u,n.isOrdered=c,n.Keyed=r,n.Indexed=o,n.Set=a;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",m="delete",y=5,g=1<<y,b=g-1,v={},_={value:!1},w={value:!1};function S(e){return e.value=!1,e}function O(e){e&&(e.value=!0)}function M(){}function C(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function k(e){return void 0===e.size&&(e.size=e.__iterate(P)),e.size}function E(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?k(e)+t:t}function P(){return!0}function T(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function j(e,t){return D(e,t,0)}function x(e,t){return D(e,t,t)}function D(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var A=0,I=1,L=2,N="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",F=N||R;function Y(e){this.next=e}function B(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function U(){return{value:void 0,done:!0}}function W(e){return!!V(e)}function z(e){return e&&"function"==typeof e.next}function H(e){var t=V(e);return t&&t.call(e)}function V(e){var t=e&&(N&&e[N]||e[R]);if("function"==typeof t)return t}function G(e){return e&&"number"==typeof e.length}function q(e){return null==e?ie():i(e)?e.toSeq():function(e){var t=ue(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function $(e){return null==e?ie().toKeyedSeq():i(e)?l(e)?e.toSeq():e.fromEntrySeq():le(e)}function K(e){return null==e?ie():i(e)?l(e)?e.entrySeq():e.toIndexedSeq():se(e)}function J(e){return(null==e?ie():i(e)?l(e)?e.entrySeq():e:se(e)).toSetSeq()}Y.prototype.toString=function(){return"[Iterator]"},Y.KEYS=A,Y.VALUES=I,Y.ENTRIES=L,Y.prototype.inspect=Y.prototype.toSource=function(){return this.toString()},Y.prototype[F]=function(){return this},t(q,n),q.of=function(){return q(arguments)},q.prototype.toSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq {","}")},q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},q.prototype.__iterate=function(e,t){return ce(this,e,t,!0)},q.prototype.__iterator=function(e,t){return fe(this,e,t,!0)},t($,q),$.prototype.toKeyedSeq=function(){return this},t(K,q),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(e,t){return ce(this,e,t,!1)},K.prototype.__iterator=function(e,t){return fe(this,e,t,!1)},t(J,q),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},q.isSeq=ae,q.Keyed=$,q.Set=J,q.Indexed=K;var X,Z,Q,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ae(e){return!(!e||!e[ee])}function ie(){return X||(X=new te([]))}function le(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():z(e)?new oe(e).fromEntrySeq():W(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){return G(e)?new te(e):z(e)?new oe(e):W(e)?new re(e):void 0}function ce(e,t,n,r){var o=e._cache;if(o){for(var a=o.length-1,i=0;i<=a;i++){var l=o[n?a-i:i];if(!1===t(l[1],r?l[0]:i,e))return i+1}return i}return e.__iterateUncached(t,n)}function fe(e,t,n,r){var o=e._cache;if(o){var a=o.length-1,i=0;return new Y((function(){var e=o[n?a-i:i];return i++>a?{value:void 0,done:!0}:B(t,r?e[0]:i-1,e[1])}))}return e.__iteratorUncached(t,n)}function de(e,t){return t?pe(t,e,"",{"":e}):he(e)}function pe(e,t,n,r){return Array.isArray(t)?e.call(r,n,K(t).map((function(n,r){return pe(e,n,r,t)}))):me(t)?e.call(r,n,$(t).map((function(n,r){return pe(e,n,r,t)}))):t}function he(e){return Array.isArray(e)?K(e).map(he).toList():me(e)?$(e).map(he).toMap():e}function me(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ye(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ge(e,t){if(e===t)return!0;if(!i(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||l(e)!==l(t)||s(e)!==s(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(c(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&ye(o[1],e)&&(n||ye(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var a=e;e=t,t=a}var f=!0,d=t.__iterate((function(t,r){if(n?!e.has(t):o?!ye(t,e.get(r,v)):!ye(e.get(r,v),t))return f=!1,!1}));return f&&e.size===d}function be(e,t){if(!(this instanceof be))return new be(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function ve(e,t){if(!e)throw new Error(t)}function _e(e,t,n){if(!(this instanceof _e))return new _e(e,t,n);if(ve(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Q)return Q;Q=this}}function we(){throw TypeError("Abstract")}function Se(){}function Oe(){}function Me(){}q.prototype[ee]=!0,t(te,K),te.prototype.get=function(e,t){return this.has(e)?this._array[E(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new Y((function(){return o>r?{value:void 0,done:!0}:B(e,o,n[t?r-o++:o++])}))},t(ne,$),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,a=0;a<=o;a++){var i=r[t?o-a:a];if(!1===e(n[i],i,this))return a+1}return a},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,a=0;return new Y((function(){var i=r[t?o-a:a];return a++>o?{value:void 0,done:!0}:B(e,i,n[i])}))},ne.prototype[h]=!0,t(re,K),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=H(this._iterable),r=0;if(z(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=H(this._iterable);if(!z(n))return new Y(U);var r=0;return new Y((function(){var t=n.next();return t.done?t:B(e,r++,t.value)}))},t(oe,K),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,a=0;a<o.length;)if(!1===e(o[a],a++,this))return a;for(;!(n=r.next()).done;){var i=n.value;if(o[a]=i,!1===e(i,a++,this))break}return a},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new Y((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return B(e,o,r[o++])}))},t(be,K),be.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,t){return this.has(e)?this._value:t},be.prototype.includes=function(e){return ye(this._value,e)},be.prototype.slice=function(e,t){var n=this.size;return T(e,t,n)?this:new be(this._value,x(t,n)-j(e,n))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){return ye(this._value,e)?0:-1},be.prototype.lastIndexOf=function(e){return ye(this._value,e)?this.size:-1},be.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},be.prototype.__iterator=function(e,t){var n=this,r=0;return new Y((function(){return r<n.size?B(e,r++,n._value):{value:void 0,done:!0}}))},be.prototype.equals=function(e){return e instanceof be?ye(this._value,e._value):ge(e)},t(_e,K),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+E(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return T(e,t,this.size)?this:(e=j(e,this.size),(t=x(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;a<=n;a++){if(!1===e(o,a,this))return a+1;o+=t?-r:r}return a},_e.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;return new Y((function(){var i=o;return o+=t?-r:r,a>n?{value:void 0,done:!0}:B(e,a++,i)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ge(this,e)},t(we,n),t(Se,we),t(Oe,we),t(Me,we),we.Keyed=Se,we.Indexed=Oe,we.Set=Me;var Ce="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ke(e){return e>>>1&1073741824|3221225471&e}function Ee(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return ke(n)}if("string"===t)return e.length>Le?function(e){var t=Fe[e];return void 0===t&&(t=Pe(e),Re===Ne&&(Re=0,Fe={}),Re++,Fe[e]=t),t}(e):Pe(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(De&&void 0!==(t=Te.get(e)))return t;if(void 0!==(t=e[Ie]))return t;if(!xe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ie]))return t;if(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e),void 0!==t)return t}if(t=++Ae,1073741824&Ae&&(Ae=0),De)Te.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(xe)Object.defineProperty(e,Ie,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ie]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ie]=t}}return t}(e);if("function"==typeof e.toString)return Pe(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Pe(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ke(t)}var Te,je=Object.isExtensible,xe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),De="function"==typeof WeakMap;De&&(Te=new WeakMap);var Ae=0,Ie="__immutablehash__";"function"==typeof Symbol&&(Ie=Symbol(Ie));var Le=16,Ne=255,Re=0,Fe={};function Ye(e){ve(e!==1/0,"Cannot perform this action with an infinite size.")}function Be(e){return null==e?et():Ue(e)&&!c(e)?e:et().withMutations((function(t){var n=r(e);Ye(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ue(e){return!(!e||!e[ze])}t(Be,Se),Be.of=function(){var t=e.call(arguments,0);return et().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Be.prototype.toString=function(){return this.__toString("Map {","}")},Be.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Be.prototype.set=function(e,t){return tt(this,e,t)},Be.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},Be.prototype.remove=function(e){return tt(this,e,v)},Be.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},Be.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Be.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=ct(this,ln(e),t,n);return r===v?void 0:r},Be.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):et()},Be.prototype.merge=function(){return it(this,void 0,arguments)},Be.prototype.mergeWith=function(t){return it(this,t,e.call(arguments,1))},Be.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,et(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Be.prototype.mergeDeep=function(){return it(this,lt,arguments)},Be.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return it(this,st(t),n)},Be.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,et(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Be.prototype.sort=function(e){return At(Kt(this,e))},Be.prototype.sortBy=function(e,t){return At(Kt(this,t,e))},Be.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Be.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new M)},Be.prototype.asImmutable=function(){return this.__ensureOwner()},Be.prototype.wasAltered=function(){return this.__altered},Be.prototype.__iterator=function(e,t){return new Je(this,e,t)},Be.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Be.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Qe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Be.isMap=Ue;var We,ze="@@__IMMUTABLE_MAP__@@",He=Be.prototype;function Ve(e,t){this.ownerID=e,this.entries=t}function Ge(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ke(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Je(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Ze(e._root)}function Xe(e,t){return B(e,t[0],t[1])}function Ze(e,t){return{node:e,index:0,__prev:t}}function Qe(e,t,n,r){var o=Object.create(He);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function et(){return We||(We=Qe(0))}function tt(e,t,n){var r,o;if(e._root){var a=S(_),i=S(w);if(r=nt(e._root,e.__ownerID,0,void 0,t,n,a,i),!i.value)return e;o=e.size+(a.value?n===v?-1:1:0)}else{if(n===v)return e;o=1,r=new Ve(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Qe(o,r):et()}function nt(e,t,n,r,o,a,i,l){return e?e.update(t,n,r,o,a,i,l):a===v?e:(O(l),O(i),new Ke(t,r,[o,a]))}function rt(e){return e.constructor===Ke||e.constructor===$e}function ot(e,t,n,r,o){if(e.keyHash===r)return new $e(t,r,[e.entry,o]);var a,i=(0===n?e.keyHash:e.keyHash>>>n)&b,l=(0===n?r:r>>>n)&b;return new Ge(t,1<<i|1<<l,i===l?[ot(e,t,n+y,r,o)]:(a=new Ke(t,r,o),i<l?[e,a]:[a,e]))}function at(e,t,n,r,o){for(var a=0,i=new Array(g),l=0;0!==n;l++,n>>>=1)i[l]=1&n?t[a++]:void 0;return i[r]=o,new qe(e,a+1,i)}function it(e,t,n){for(var o=[],a=0;a<n.length;a++){var l=n[a],s=r(l);i(l)||(s=s.map((function(e){return de(e)}))),o.push(s)}return ut(e,t,o)}function lt(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):ye(e,t)?e:t}function st(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return ye(t,o)?t:o}}function ut(e,t,n){return n=n.filter((function(e){return 0!==e.size})),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function ct(e,t,n,r){var o=e===v,a=t.next();if(a.done){var i=o?n:e,l=r(i);return l===i?e:l}ve(o||e&&e.set,"invalid keyPath");var s=a.value,u=o?v:e.get(s,v),c=ct(u,t,n,r);return c===u?e:c===v?e.remove(s):(o?et():e).set(s,c)}function ft(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function dt(e,t,n,r){var o=r?e:C(e);return o[t]=n,o}He[ze]=!0,He[m]=He.remove,He.removeIn=He.deleteIn,Ve.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(ye(n,o[a][0]))return o[a][1];return r},Ve.prototype.update=function(e,t,n,r,o,a,i){for(var l=o===v,s=this.entries,u=0,c=s.length;u<c&&!ye(r,s[u][0]);u++);var f=u<c;if(f?s[u][1]===o:l)return this;if(O(i),(l||!f)&&O(a),!l||1!==s.length){if(!f&&!l&&s.length>=pt)return function(e,t,n,r){e||(e=new M);for(var o=new Ke(e,Ee(n),[n,r]),a=0;a<t.length;a++){var i=t[a];o=o.update(e,0,void 0,i[0],i[1])}return o}(e,s,r,o);var d=e&&e===this.ownerID,p=d?s:C(s);return f?l?u===c-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),d?(this.entries=p,this):new Ve(e,p)}},Ge.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var o=1<<((0===e?t:t>>>e)&b),a=this.bitmap;return 0==(a&o)?r:this.nodes[ft(a&o-1)].get(e+y,t,n,r)},Ge.prototype.update=function(e,t,n,r,o,a,i){void 0===n&&(n=Ee(r));var l=(0===t?n:n>>>t)&b,s=1<<l,u=this.bitmap,c=0!=(u&s);if(!c&&o===v)return this;var f=ft(u&s-1),d=this.nodes,p=c?d[f]:void 0,h=nt(p,e,t+y,n,r,o,a,i);if(h===p)return this;if(!c&&h&&d.length>=ht)return at(e,d,u,l,h);if(c&&!h&&2===d.length&&rt(d[1^f]))return d[1^f];if(c&&h&&1===d.length&&rt(h))return h;var m=e&&e===this.ownerID,g=c?h?u:u^s:u|s,_=c?h?dt(d,f,h,m):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),a=0,i=0;i<r;i++)i===t&&(a=1),o[i]=e[i+a];return o}(d,f,m):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var a=new Array(o),i=0,l=0;l<o;l++)l===t?(a[l]=n,i=-1):a[l]=e[l+i];return a}(d,f,h,m);return m?(this.bitmap=g,this.nodes=_,this):new Ge(e,g,_)},qe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var o=(0===e?t:t>>>e)&b,a=this.nodes[o];return a?a.get(e+y,t,n,r):r},qe.prototype.update=function(e,t,n,r,o,a,i){void 0===n&&(n=Ee(r));var l=(0===t?n:n>>>t)&b,s=o===v,u=this.nodes,c=u[l];if(s&&!c)return this;var f=nt(c,e,t+y,n,r,o,a,i);if(f===c)return this;var d=this.count;if(c){if(!f&&--d<mt)return function(e,t,n,r){for(var o=0,a=0,i=new Array(n),l=0,s=1,u=t.length;l<u;l++,s<<=1){var c=t[l];void 0!==c&&l!==r&&(o|=s,i[a++]=c)}return new Ge(e,o,i)}(e,u,d,l)}else d++;var p=e&&e===this.ownerID,h=dt(u,l,f,p);return p?(this.count=d,this.nodes=h,this):new qe(e,d,h)},$e.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(ye(n,o[a][0]))return o[a][1];return r},$e.prototype.update=function(e,t,n,r,o,a,i){void 0===n&&(n=Ee(r));var l=o===v;if(n!==this.keyHash)return l?this:(O(i),O(a),ot(this,e,t,n,[r,o]));for(var s=this.entries,u=0,c=s.length;u<c&&!ye(r,s[u][0]);u++);var f=u<c;if(f?s[u][1]===o:l)return this;if(O(i),(l||!f)&&O(a),l&&2===c)return new Ke(e,this.keyHash,s[1^u]);var d=e&&e===this.ownerID,p=d?s:C(s);return f?l?u===c-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),d?(this.entries=p,this):new $e(e,this.keyHash,p)},Ke.prototype.get=function(e,t,n,r){return ye(n,this.entry[0])?this.entry[1]:r},Ke.prototype.update=function(e,t,n,r,o,a,i){var l=o===v,s=ye(r,this.entry[0]);return(s?o===this.entry[1]:l)?this:(O(i),l?void O(a):s?e&&e===this.ownerID?(this.entry[1]=o,this):new Ke(e,this.keyHash,[r,o]):(O(a),ot(this,e,t,Ee(r),[r,o])))},Ve.prototype.iterate=$e.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Ge.prototype.iterate=qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var a=n[t?o-r:r];if(a&&!1===a.iterate(e,t))return!1}},Ke.prototype.iterate=function(e,t){return e(this.entry)},t(Je,Y),Je.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return Xe(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return Xe(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var a=r.nodes[this._reverse?n-o:o];if(a){if(a.entry)return Xe(e,a.entry);t=this._stack=Ze(a,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var pt=g/4,ht=g/2,mt=g/4;function yt(e){var t=kt();if(null==e)return t;if(gt(e))return e;var n=o(e),r=n.size;return 0===r?t:(Ye(r),r>0&&r<g?Ct(0,r,y,null,new _t(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function gt(e){return!(!e||!e[bt])}t(yt,Oe),yt.of=function(){return this(arguments)},yt.prototype.toString=function(){return this.__toString("List [","]")},yt.prototype.get=function(e,t){if((e=E(this,e))>=0&&e<this.size){var n=Tt(this,e+=this._origin);return n&&n.array[e&b]}return t},yt.prototype.set=function(e,t){return function(e,t,n){if((t=E(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?jt(e,t).set(0,n):jt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,a=S(w);return t>=Dt(e._capacity)?r=Et(r,e.__ownerID,0,t,n,a):o=Et(o,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Ct(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},yt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},yt.prototype.insert=function(e,t){return this.splice(e,0,t)},yt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):kt()},yt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){jt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},yt.prototype.pop=function(){return jt(this,0,-1)},yt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){jt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},yt.prototype.shift=function(){return jt(this,1)},yt.prototype.merge=function(){return xt(this,void 0,arguments)},yt.prototype.mergeWith=function(t){return xt(this,t,e.call(arguments,1))},yt.prototype.mergeDeep=function(){return xt(this,lt,arguments)},yt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return xt(this,st(t),n)},yt.prototype.setSize=function(e){return jt(this,0,e)},yt.prototype.slice=function(e,t){var n=this.size;return T(e,t,n)?this:jt(this,j(e,n),x(t,n))},yt.prototype.__iterator=function(e,t){var n=0,r=Mt(this,t);return new Y((function(){var t=r();return t===Ot?{value:void 0,done:!0}:B(e,n++,t)}))},yt.prototype.__iterate=function(e,t){for(var n,r=0,o=Mt(this,t);(n=o())!==Ot&&!1!==e(n,r++,this););return r},yt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ct(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},yt.isList=gt;var bt="@@__IMMUTABLE_LIST__@@",vt=yt.prototype;function _t(e,t){this.array=e,this.ownerID=t}vt[bt]=!0,vt[m]=vt.remove,vt.setIn=He.setIn,vt.deleteIn=vt.removeIn=He.removeIn,vt.update=He.update,vt.updateIn=He.updateIn,vt.mergeIn=He.mergeIn,vt.mergeDeepIn=He.mergeDeepIn,vt.withMutations=He.withMutations,vt.asMutable=He.asMutable,vt.asImmutable=He.asImmutable,vt.wasAltered=He.wasAltered,_t.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&b;if(r>=this.array.length)return new _t([],e);var o,a=0===r;if(t>0){var i=this.array[r];if((o=i&&i.removeBefore(e,t-y,n))===i&&a)return this}if(a&&!o)return this;var l=Pt(this,e);if(!a)for(var s=0;s<r;s++)l.array[s]=void 0;return o&&(l.array[r]=o),l},_t.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&b;if(o>=this.array.length)return this;if(t>0){var a=this.array[o];if((r=a&&a.removeAfter(e,t-y,n))===a&&o===this.array.length-1)return this}var i=Pt(this,e);return i.array.splice(o+1),r&&(i.array[o]=r),i};var wt,St,Ot={};function Mt(e,t){var n=e._origin,r=e._capacity,o=Dt(r),a=e._tail;return function e(i,l,s){return 0===l?function(e,i){var l=i===o?a&&a.array:e&&e.array,s=i>n?0:n-i,u=r-i;return u>g&&(u=g),function(){if(s===u)return Ot;var e=t?--u:s++;return l&&l[e]}}(i,s):function(o,a,i){var l,s=o&&o.array,u=i>n?0:n-i>>a,c=1+(r-i>>a);return c>g&&(c=g),function(){for(;;){if(l){var n=l();if(n!==Ot)return n;l=null}if(u===c)return Ot;var r=t?--c:u++;l=e(s&&s[r],a-y,i+(r<<a))}}}(i,l,s)}(e._root,e._level,0)}function Ct(e,t,n,r,o,a,i){var l=Object.create(vt);return l.size=t-e,l._origin=e,l._capacity=t,l._level=n,l._root=r,l._tail=o,l.__ownerID=a,l.__hash=i,l.__altered=!1,l}function kt(){return wt||(wt=Ct(0,0,y))}function Et(e,t,n,r,o,a){var i,l=r>>>n&b,s=e&&l<e.array.length;if(!s&&void 0===o)return e;if(n>0){var u=e&&e.array[l],c=Et(u,t,n-y,r,o,a);return c===u?e:((i=Pt(e,t)).array[l]=c,i)}return s&&e.array[l]===o?e:(O(a),i=Pt(e,t),void 0===o&&l===i.array.length-1?i.array.pop():i.array[l]=o,i)}function Pt(e,t){return t&&e&&t===e.ownerID?e:new _t(e?e.array.slice():[],t)}function Tt(e,t){if(t>=Dt(e._capacity))return e._tail;if(t<1<<e._level+y){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&b],r-=y;return n}}function jt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new M,o=e._origin,a=e._capacity,i=o+t,l=void 0===n?a:n<0?a+n:o+n;if(i===o&&l===a)return e;if(i>=l)return e.clear();for(var s=e._level,u=e._root,c=0;i+c<0;)u=new _t(u&&u.array.length?[void 0,u]:[],r),c+=1<<(s+=y);c&&(i+=c,o+=c,l+=c,a+=c);for(var f=Dt(a),d=Dt(l);d>=1<<s+y;)u=new _t(u&&u.array.length?[u]:[],r),s+=y;var p=e._tail,h=d<f?Tt(e,l-1):d>f?new _t([],r):p;if(p&&d>f&&i<a&&p.array.length){for(var m=u=Pt(u,r),g=s;g>y;g-=y){var v=f>>>g&b;m=m.array[v]=Pt(m.array[v],r)}m.array[f>>>y&b]=p}if(l<a&&(h=h&&h.removeAfter(r,0,l)),i>=d)i-=d,l-=d,s=y,u=null,h=h&&h.removeBefore(r,0,i);else if(i>o||d<f){for(c=0;u;){var _=i>>>s&b;if(_!==d>>>s&b)break;_&&(c+=(1<<s)*_),s-=y,u=u.array[_]}u&&i>o&&(u=u.removeBefore(r,s,i-c)),u&&d<f&&(u=u.removeAfter(r,s,d-c)),c&&(i-=c,l-=c)}return e.__ownerID?(e.size=l-i,e._origin=i,e._capacity=l,e._level=s,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):Ct(i,l,s,u,h)}function xt(e,t,n){for(var r=[],a=0,l=0;l<n.length;l++){var s=n[l],u=o(s);u.size>a&&(a=u.size),i(s)||(u=u.map((function(e){return de(e)}))),r.push(u)}return a>e.size&&(e=e.setSize(a)),ut(e,t,r)}function Dt(e){return e<g?0:e-1>>>y<<y}function At(e){return null==e?Nt():It(e)?e:Nt().withMutations((function(t){var n=r(e);Ye(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function It(e){return Ue(e)&&c(e)}function Lt(e,t,n,r){var o=Object.create(At.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Nt(){return St||(St=Lt(et(),kt()))}function Rt(e,t,n){var r,o,a=e._map,i=e._list,l=a.get(t),s=void 0!==l;if(n===v){if(!s)return e;i.size>=g&&i.size>=2*a.size?(o=i.filter((function(e,t){return void 0!==e&&l!==t})),r=o.toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=a.remove(t),o=l===i.size-1?i.pop():i.set(l,void 0))}else if(s){if(n===i.get(l)[1])return e;r=a,o=i.set(l,[t,n])}else r=a.set(t,i.size),o=i.set(i.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Lt(r,o)}function Ft(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Bt(e){this._iter=e,this.size=e.size}function Ut(e){this._iter=e,this.size=e.size}function Wt(e){var t=rn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=on,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===L){var r=e.__iterator(t,n);return new Y((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===I?A:I,n)},t}function zt(e,t,n){var r=rn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var a=e.get(r,v);return a===v?o:t.call(n,a,r,e)},r.__iterateUncached=function(r,o){var a=this;return e.__iterate((function(e,o,i){return!1!==r(t.call(n,e,o,i),o,a)}),o)},r.__iteratorUncached=function(r,o){var a=e.__iterator(L,o);return new Y((function(){var o=a.next();if(o.done)return o;var i=o.value,l=i[0];return B(r,l,t.call(n,i[1],l,e),o)}))},r}function Ht(e,t){var n=rn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Wt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=on,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Vt(e,t,n,r){var o=rn(e);return r&&(o.has=function(r){var o=e.get(r,v);return o!==v&&!!t.call(n,o,r,e)},o.get=function(r,o){var a=e.get(r,v);return a!==v&&t.call(n,a,r,e)?a:o}),o.__iterateUncached=function(o,a){var i=this,l=0;return e.__iterate((function(e,a,s){if(t.call(n,e,a,s))return l++,o(e,r?a:l-1,i)}),a),l},o.__iteratorUncached=function(o,a){var i=e.__iterator(L,a),l=0;return new Y((function(){for(;;){var a=i.next();if(a.done)return a;var s=a.value,u=s[0],c=s[1];if(t.call(n,c,u,e))return B(o,r?u:l++,c,a)}}))},o}function Gt(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=o:n|=0),T(t,n,o))return e;var a=j(t,o),i=x(n,o);if(a!=a||i!=i)return Gt(e.toSeq().cacheResult(),t,n,r);var l,s=i-a;s==s&&(l=s<0?0:s);var u=rn(e);return u.size=0===l?l:e.size&&l||void 0,!r&&ae(e)&&l>=0&&(u.get=function(t,n){return(t=E(this,t))>=0&&t<l?e.get(t+a,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===l)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,s=!0,u=0;return e.__iterate((function(e,n){if(!s||!(s=i++<a))return u++,!1!==t(e,r?n:u-1,o)&&u!==l})),u},u.__iteratorUncached=function(t,n){if(0!==l&&n)return this.cacheResult().__iterator(t,n);var o=0!==l&&e.__iterator(t,n),i=0,s=0;return new Y((function(){for(;i++<a;)o.next();if(++s>l)return{value:void 0,done:!0};var e=o.next();return r||t===I?e:B(t,s-1,t===A?void 0:e.value[1],e)}))},u}function qt(e,t,n,r){var o=rn(e);return o.__iterateUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterate(o,a);var l=!0,s=0;return e.__iterate((function(e,a,u){if(!l||!(l=t.call(n,e,a,u)))return s++,o(e,r?a:s-1,i)})),s},o.__iteratorUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterator(o,a);var l=e.__iterator(L,a),s=!0,u=0;return new Y((function(){var e,a,c;do{if((e=l.next()).done)return r||o===I?e:B(o,u++,o===A?void 0:e.value[1],e);var f=e.value;a=f[0],c=f[1],s&&(s=t.call(n,c,a,i))}while(s);return o===L?e:B(o,a,c,e)}))},o}function $t(e,t,n){var r=rn(e);return r.__iterateUncached=function(r,o){var a=0,l=!1;return function e(s,u){var c=this;s.__iterate((function(o,s){return(!t||u<t)&&i(o)?e(o,u+1):!1===r(o,n?s:a++,c)&&(l=!0),!l}),o)}(e,0),a},r.__iteratorUncached=function(r,o){var a=e.__iterator(r,o),l=[],s=0;return new Y((function(){for(;a;){var e=a.next();if(!1===e.done){var u=e.value;if(r===L&&(u=u[1]),t&&!(l.length<t)||!i(u))return n?e:B(r,s++,u,e);l.push(a),a=u.__iterator(r,o)}else a=l.pop()}return{value:void 0,done:!0}}))},r}function Kt(e,t,n){t||(t=an);var r=l(e),o=0,a=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return a.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?$(a):s(e)?K(a):J(a)}function Jt(e,t,n){if(t||(t=an),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return Xt(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return Xt(t,e,n)?n:e}))}function Xt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Zt(e,t,r){var o=rn(e);return o.size=new te(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(I,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var a=r.map((function(e){return e=n(e),H(o?e.reverse():e)})),i=0,l=!1;return new Y((function(){var n;return l||(n=a.map((function(e){return e.next()})),l=n.some((function(e){return e.done}))),l?{value:void 0,done:!0}:B(e,i++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function Qt(e,t){return ae(e)?t:e.constructor(t)}function en(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function tn(e){return Ye(e.size),k(e)}function nn(e){return l(e)?r:s(e)?o:a}function rn(e){return Object.create((l(e)?$:s(e)?K:J).prototype)}function on(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function an(e,t){return e>t?1:e<t?-1:0}function ln(e){var t=H(e);if(!t){if(!G(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(n(e))}return t}function sn(e,t){var n,r=function(a){if(a instanceof r)return a;if(!(this instanceof r))return new r(a);if(!n){n=!0;var i=Object.keys(e);!function(e,t){try{t.forEach(dn.bind(void 0,e))}catch(e){}}(o,i),o.size=i.length,o._name=t,o._keys=i,o._defaultValues=e}this._map=Be(a)},o=r.prototype=Object.create(un);return o.constructor=r,r}t(At,Be),At.of=function(){return this(arguments)},At.prototype.toString=function(){return this.__toString("OrderedMap {","}")},At.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},At.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Nt()},At.prototype.set=function(e,t){return Rt(this,e,t)},At.prototype.remove=function(e){return Rt(this,e,v)},At.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},At.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},At.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},At.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Lt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},At.isOrderedMap=It,At.prototype[h]=!0,At.prototype[m]=At.prototype.remove,t(Ft,$),Ft.prototype.get=function(e,t){return this._iter.get(e,t)},Ft.prototype.has=function(e){return this._iter.has(e)},Ft.prototype.valueSeq=function(){return this._iter.valueSeq()},Ft.prototype.reverse=function(){var e=this,t=Ht(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Ft.prototype.map=function(e,t){var n=this,r=zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Ft.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?tn(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Ft.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(I,t),r=t?tn(this):0;return new Y((function(){var o=n.next();return o.done?o:B(e,t?--r:r++,o.value,o)}))},Ft.prototype[h]=!0,t(Yt,K),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t),r=0;return new Y((function(){var t=n.next();return t.done?t:B(e,r++,t.value,t)}))},t(Bt,J),Bt.prototype.has=function(e){return this._iter.includes(e)},Bt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Bt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t);return new Y((function(){var t=n.next();return t.done?t:B(e,t.value,t.value,t)}))},t(Ut,$),Ut.prototype.entrySeq=function(){return this._iter.toSeq()},Ut.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){en(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Ut.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t);return new Y((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){en(r);var o=i(r);return B(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Ft.prototype.cacheResult=Bt.prototype.cacheResult=Ut.prototype.cacheResult=on,t(sn,Se),sn.prototype.toString=function(){return this.__toString(fn(this)+" {","}")},sn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},sn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},sn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=cn(this,et()))},sn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+fn(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:cn(this,n)},sn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:cn(this,t)},sn.prototype.wasAltered=function(){return this._map.wasAltered()},sn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},sn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},sn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?cn(this,t,e):(this.__ownerID=e,this._map=t,this)};var un=sn.prototype;function cn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function fn(e){return e._name||e.constructor.name||"Record"}function dn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ve(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function pn(e){return null==e?_n():hn(e)&&!c(e)?e:_n().withMutations((function(t){var n=a(e);Ye(n.size),n.forEach((function(e){return t.add(e)}))}))}function hn(e){return!(!e||!e[yn])}un[m]=un.remove,un.deleteIn=un.removeIn=He.removeIn,un.merge=He.merge,un.mergeWith=He.mergeWith,un.mergeIn=He.mergeIn,un.mergeDeep=He.mergeDeep,un.mergeDeepWith=He.mergeDeepWith,un.mergeDeepIn=He.mergeDeepIn,un.setIn=He.setIn,un.update=He.update,un.updateIn=He.updateIn,un.withMutations=He.withMutations,un.asMutable=He.asMutable,un.asImmutable=He.asImmutable,t(pn,Me),pn.of=function(){return this(arguments)},pn.fromKeys=function(e){return this(r(e).keySeq())},pn.prototype.toString=function(){return this.__toString("Set {","}")},pn.prototype.has=function(e){return this._map.has(e)},pn.prototype.add=function(e){return bn(this,this._map.set(e,!0))},pn.prototype.remove=function(e){return bn(this,this._map.remove(e))},pn.prototype.clear=function(){return bn(this,this._map.clear())},pn.prototype.union=function(){var t=e.call(arguments,0);return t=t.filter((function(e){return 0!==e.size})),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)a(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},pn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return a(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},pn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return a(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},pn.prototype.merge=function(){return this.union.apply(this,arguments)},pn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},pn.prototype.sort=function(e){return wn(Kt(this,e))},pn.prototype.sortBy=function(e,t){return wn(Kt(this,t,e))},pn.prototype.wasAltered=function(){return this._map.wasAltered()},pn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},pn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},pn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},pn.isSet=hn;var mn,yn="@@__IMMUTABLE_SET__@@",gn=pn.prototype;function bn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function vn(e,t){var n=Object.create(gn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function _n(){return mn||(mn=vn(et()))}function wn(e){return null==e?kn():Sn(e)?e:kn().withMutations((function(t){var n=a(e);Ye(n.size),n.forEach((function(e){return t.add(e)}))}))}function Sn(e){return hn(e)&&c(e)}gn[yn]=!0,gn[m]=gn.remove,gn.mergeDeep=gn.merge,gn.mergeDeepWith=gn.mergeWith,gn.withMutations=He.withMutations,gn.asMutable=He.asMutable,gn.asImmutable=He.asImmutable,gn.__empty=_n,gn.__make=vn,t(wn,pn),wn.of=function(){return this(arguments)},wn.fromKeys=function(e){return this(r(e).keySeq())},wn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},wn.isOrderedSet=Sn;var On,Mn=wn.prototype;function Cn(e,t){var n=Object.create(Mn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function kn(){return On||(On=Cn(Nt()))}function En(e){return null==e?An():Pn(e)?e:An().unshiftAll(e)}function Pn(e){return!(!e||!e[jn])}Mn[h]=!0,Mn.__empty=kn,Mn.__make=Cn,t(En,Oe),En.of=function(){return this(arguments)},En.prototype.toString=function(){return this.__toString("Stack [","]")},En.prototype.get=function(e,t){var n=this._head;for(e=E(this,e);n&&e--;)n=n.next;return n?n.value:t},En.prototype.peek=function(){return this._head&&this._head.value},En.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Dn(e,t)},En.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Ye(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Dn(t,n)},En.prototype.pop=function(){return this.slice(1)},En.prototype.unshift=function(){return this.push.apply(this,arguments)},En.prototype.unshiftAll=function(e){return this.pushAll(e)},En.prototype.shift=function(){return this.pop.apply(this,arguments)},En.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):An()},En.prototype.slice=function(e,t){if(T(e,t,this.size))return this;var n=j(e,this.size);if(x(t,this.size)!==this.size)return Oe.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Dn(r,o)},En.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Dn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},En.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},En.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new Y((function(){if(r){var t=r.value;return r=r.next,B(e,n++,t)}return{value:void 0,done:!0}}))},En.isStack=Pn;var Tn,jn="@@__IMMUTABLE_STACK__@@",xn=En.prototype;function Dn(e,t,n,r){var o=Object.create(xn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function An(){return Tn||(Tn=Dn(0))}function In(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}xn[jn]=!0,xn.withMutations=He.withMutations,xn.asMutable=He.asMutable,xn.asImmutable=He.asImmutable,xn.wasAltered=He.wasAltered,n.Iterator=Y,In(n,{toArray:function(){Ye(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Ft(this,!0)},toMap:function(){return Be(this.toKeyedSeq())},toObject:function(){Ye(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return At(this.toKeyedSeq())},toOrderedSet:function(){return wn(l(this)?this.valueSeq():this)},toSet:function(){return pn(l(this)?this.valueSeq():this)},toSetSeq:function(){return new Bt(this)},toSeq:function(){return s(this)?this.toIndexedSeq():l(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return En(l(this)?this.valueSeq():this)},toList:function(){return yt(l(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return Qt(this,function(e,t){var n=l(e),o=[e].concat(t).map((function(e){return i(e)?n&&(e=r(e)):e=n?le(e):se(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var a=o[0];if(a===e||n&&l(a)||s(e)&&s(a))return a}var u=new te(o);return n?u=u.toKeyedSeq():s(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),u}(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ye(t,e)}))},entries:function(){return this.__iterator(L)},every:function(e,t){Ye(this.size);var n=!0;return this.__iterate((function(r,o,a){if(!e.call(t,r,o,a))return n=!1,!1})),n},filter:function(e,t){return Qt(this,Vt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Ye(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ye(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(A)},map:function(e,t){return Qt(this,zt(this,e,t))},reduce:function(e,t,n){var r,o;return Ye(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,a,i){o?(o=!1,r=t):r=e.call(n,r,t,a,i)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Qt(this,Ht(this,!0))},slice:function(e,t){return Qt(this,Gt(this,e,t,!0))},some:function(e,t){return!this.every(Yn(e),t)},sort:function(e){return Qt(this,Kt(this,e))},values:function(){return this.__iterator(I)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return k(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Be().asMutable();return e.__iterate((function(o,a){r.update(t.call(n,o,a,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return ge(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(Fn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Yn(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,o,a){if(e.call(t,n,o,a))return r=[o,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(P)},flatMap:function(e,t){return Qt(this,function(e,t,n){var r=nn(e);return e.toSeq().map((function(o,a){return r(t.call(n,o,a,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Qt(this,$t(this,e,!0))},fromEntrySeq:function(){return new Ut(this)},get:function(e,t){return this.find((function(t,n){return ye(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=ln(e);!(n=o.next()).done;){var a=n.value;if((r=r&&r.get?r.get(a,v):v)===v)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=l(e),o=(c(e)?At():Be()).asMutable();e.__iterate((function(a,i){o.update(t.call(n,a,i,e),(function(e){return(e=e||[]).push(r?[i,a]:a),e}))}));var a=nn(e);return o.map((function(t){return Qt(e,a(t))}))}(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return ye(t,e)}))},keySeq:function(){return this.toSeq().map(Rn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Jt(this,e)},maxBy:function(e,t){return Jt(this,t,e)},min:function(e){return Jt(this,e?Bn(e):zn)},minBy:function(e,t){return Jt(this,t?Bn(t):zn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Qt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Qt(this,qt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Yn(e),t)},sortBy:function(e,t){return Qt(this,Kt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Qt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Qt(this,function(e,t,n){var r=rn(e);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var i=0;return e.__iterate((function(e,o,l){return t.call(n,e,o,l)&&++i&&r(e,o,a)})),i},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(L,o),l=!0;return new Y((function(){if(!l)return{value:void 0,done:!0};var e=i.next();if(e.done)return e;var o=e.value,s=o[0],u=o[1];return t.call(n,u,s,a)?r===L?e:B(r,s,u,e):(l=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Yn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=c(e),n=l(e),r=t?1:0;return function(e,t){return t=Ce(t,3432918353),t=Ce(t<<15|t>>>-15,461845907),t=Ce(t<<13|t>>>-13,5),t=Ce((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ke((t=Ce(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Hn(Ee(e),Ee(t))|0}:function(e,t){r=r+Hn(Ee(e),Ee(t))|0}:t?function(e){r=31*r+Ee(e)|0}:function(e){r=r+Ee(e)|0}),r)}(this))}});var Ln=n.prototype,Nn=(Ln[f]=!0,Ln[F]=Ln.values,Ln.__toJS=Ln.toArray,Ln.__toStringMapper=Un,Ln.inspect=Ln.toSource=function(){return this.toString()},Ln.chain=Ln.flatMap,Ln.contains=Ln.includes,In(r,{flip:function(){return Qt(this,Wt(this))},mapEntries:function(e,t){var n=this,r=0;return Qt(this,this.toSeq().map((function(o,a){return e.call(t,[a,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Qt(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}}),r.prototype);function Rn(e,t){return t}function Fn(e,t){return[t,e]}function Yn(e){return function(){return!e.apply(this,arguments)}}function Bn(e){return function(){return-e.apply(this,arguments)}}function Un(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Wn(){return C(arguments)}function zn(e,t){return e<t?1:e>t?-1:0}function Hn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Nn[d]=!0,Nn[F]=Ln.entries,Nn.__toJS=Ln.toObject,Nn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Un(e)},In(o,{toKeyedSeq:function(){return new Ft(this,!1)},filter:function(e,t){return Qt(this,Vt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Qt(this,Ht(this,!1))},slice:function(e,t){return Qt(this,Gt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=j(e,e<0?this.count():this.size);var r=this.slice(0,e);return Qt(this,1===n?r:r.concat(C(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Qt(this,$t(this,e,!1))},get:function(e,t){return(e=E(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=E(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Qt(this,function(e,t){var n=rn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,a=0;return e.__iterate((function(e,r){return(!a||!1!==n(t,a++,o))&&!1!==n(e,a++,o)}),r),a},n.__iteratorUncached=function(n,r){var o,a=e.__iterator(I,r),i=0;return new Y((function(){return(!o||i%2)&&(o=a.next()).done?o:i%2?B(n,i++,t):B(n,i++,o.value,o)}))},n}(this,e))},interleave:function(){var e=[this].concat(C(arguments)),t=Zt(this.toSeq(),K.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Qt(this,n)},keySeq:function(){return _e(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Qt(this,qt(this,e,t,!1))},zip:function(){return Qt(this,Zt(this,Wn,[this].concat(C(arguments))))},zipWith:function(e){var t=C(arguments);return t[0]=this,Qt(this,Zt(this,e,t))}}),o.prototype[p]=!0,o.prototype[h]=!0,In(a,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=Ln.includes,a.prototype.contains=a.prototype.includes,In($,r.prototype),In(K,o.prototype),In(J,a.prototype),In(Se,r.prototype),In(Oe,o.prototype),In(Me,a.prototype),{Iterable:n,Seq:q,Collection:we,Map:Be,OrderedMap:At,List:yt,Stack:En,Set:pn,OrderedSet:wn,Record:sn,Range:_e,Repeat:be,is:ye,fromJS:de}}()},81506:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},34575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},93913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},59713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},67154:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.apply(this,arguments)}e.exports=t},29754:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},2205:(e,t,n)=>{var r=n(99489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},85354:e=>{e.exports=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}},95318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},20862:(e,t,n)=>{var r=n(50008);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n,a,i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&((a=l?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}},6479:(e,t,n)=>{var r=n(37316);e.exports=function(e,t){if(null==e)return{};var n,o=r(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n]);return o}},37316:e=>{e.exports=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}},78585:(e,t,n)=>{var r=n(50008),o=n(81506);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},99489:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},50008:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},59726:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Signal:()=>h,batch:()=>function(e){if(0<c)return e();c++;try{return e()}finally{l()}},computed:()=>_,effect:()=>M,signal:()=>m,useComputed:()=>function(e){var t=(0,r.useRef)(e);return t.current=e,(0,r.useMemo)((function(){return _((function(){return t.current()}))}),C)},useSignal:()=>function(e){return(0,r.useMemo)((function(){return m(e)}),C)},useSignalEffect:()=>function(e){var t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((function(){return M((function(){return t.current()}))}),C)}});var r=n(67294),o=(t=n(85893),n(34862)),a=n(61688);function i(){throw new Error("Cycle detected")}function l(){if(1<c)c--;else{for(var e,t=!1;void 0!==u;){var n=u;for(u=void 0,f++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&y(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=r}}if(f=0,c--,t)throw e}}var s=void 0,u=void 0,c=0,f=0,d=0;function p(e){var t;if(void 0!==s)return void 0===(t=e.n)||t.t!==s?(t={i:0,S:e,p:s.s,n:void 0,t:s,e:void 0,x:void 0,r:t},void 0!==s.s&&(s.s.n=t),s.s=t,e.n=t,32&s.f&&e.S(t),t):-1===t.i?(void(t.i=0)!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=s.s,t.n=void 0,s.s.n=t,s.s=t),t):void 0}function h(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function m(e){return new h(e)}function y(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return 1}function g(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),(t.S.n=t).i=-1,void 0===t.n){e.s=t;break}}}function b(e){for(var t=e.s,n=void 0;void 0!==t;){var r=t.p;-1===t.i?(t.S.U(t),void 0!==r&&(r.n=t.n),void 0!==t.n&&(t.n.p=r)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=r}e.s=n}function v(e){h.call(this,void 0),this.x=e,this.s=void 0,this.g=d-1,this.f=4}function _(e){return new v(e)}function w(e){var t=e.u;if(e.u=void 0,"function"==typeof t){c++;var n=s;s=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,S(e),t}finally{s=n,l()}}}function S(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,w(e)}function O(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function M(e){var t=new O(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}h.prototype.h=function(){return!0},h.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},h.prototype.U=function(e){var t,n;void 0!==this.t&&(t=e.e,n=e.x,void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n))},h.prototype.subscribe=function(e){var t=this;return M((function(){var n=t.value,r=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=r}}))},h.prototype.valueOf=function(){return this.value},h.prototype.toString=function(){return this.value+""},h.prototype.peek=function(){return this.v},Object.defineProperty(h.prototype,"value",{get:function(){var e=p(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){100<f&&i(),this.v=e,this.i++,d++,c++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{l()}}}}),(v.prototype=new h).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===d)return!0;if(this.g=d,this.f|=1,0<this.i&&!y(this))return this.f&=-2,!0;var e=s;try{g(this);var t=(s=this).x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return s=e,b(this),this.f&=-2,!0},v.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}h.prototype.S.call(this,e)},v.prototype.U=function(e){if(void 0!==this.t&&(h.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},v.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},v.prototype.peek=function(){if(this.h()||i(),16&this.f)throw this.v;return this.v},Object.defineProperty(v.prototype,"value",{get:function(){1&this.f&&i();var e=p(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),O.prototype.c=function(){var e=this.S();try{8&this.f||void 0===this.x||(this.u=this.x())}finally{e()}},O.prototype.S=function(){1&this.f&&i(),this.f|=1,this.f&=-9,w(this),g(this),c++;var e=s;return s=this,function(e){if(s!==this)throw new Error("Out-of-order effect");b(this),s=e,this.f&=-2,8&this.f&&S(this),l()}.bind(this,e)},O.prototype.N=function(){2&this.f||(this.f|=2,this.o=u,u=this)},O.prototype.d=function(){this.f|=8,1&this.f||S(this)};var C=[],k=(n=Symbol.for("react.element"),Symbol.for("react.memo")),E=new WeakMap,P="function"==typeof Proxy,T={apply:function(e,t,n){var o=(0,r.useMemo)(x,C);(0,a.useSyncExternalStore)(o.subscribe,o.getSnapshot,o.getSnapshot),o=o.updater.S();try{return e.apply(t,n)}catch(e){throw e}finally{o()}}};function j(e){return E.get(e)||function(e){var t;if(P)return t=new Proxy(e,T),E.set(e,t),E.set(t,t),t;function n(){return T.apply(e,void 0,arguments)}return E.set(e,n),E.set(n,n),n}(e)}function x(){var e,t,n=0,r=M((function(){e=this}));return e.c=function(){n=n+1|0,t&&t()},{updater:e,subscribe:function(e){return t=e,function(){n=n+1|0,t=void 0,r()}},getSnapshot:function(){return n}}}function D(e){return"function"!=typeof e?e:function(t,n){var o=[].slice.call(arguments,2);if("function"==typeof t&&!(t instanceof r.Component))return e.call.apply(e,[e,j(t),n].concat(o));if(t&&"object"==typeof t&&t.$$typeof===k)return t.type=j(t.type),e.call.apply(e,[e,t,n].concat(o));if("string"==typeof t&&n)for(var a in n){var i=n[a];"children"!==a&&i instanceof h&&(n[a]=i.value)}return e.call.apply(e,[e,t,n].concat(o))}}r.createElement=D(r.createElement),o.jsx&&(o.jsx=D(o.jsx)),t.jsx&&(t.jsx=D(t.jsx)),o.jsxs&&(o.jsxs=D(o.jsxs)),t.jsxs&&(t.jsxs=D(t.jsxs)),o.jsxDEV&&(o.jsxDEV=D(o.jsxDEV)),t.jsxDEV&&(t.jsxDEV=D(t.jsxDEV)),Object.defineProperties(h.prototype,{$$typeof:{configurable:!0,value:n},type:{configurable:!0,value:j((function(e){return e.data.value}))},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}})},57125:(e,t,n)=>{var r=n(99101).GenIcon;e.exports.BsCalendar=function(e){return r({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 0H2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z",clipRule:"evenodd"}},{tag:"path",attr:{fillRule:"evenodd",d:"M6.5 7a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}}]})(e)}},30712:(e,t,n)=>{var r=n(99101).GenIcon;e.exports.BsCameraVideo=function(e){return r({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.667 3.5c-.645 0-1.167.522-1.167 1.167v6.666c0 .645.522 1.167 1.167 1.167h6.666c.645 0 1.167-.522 1.167-1.167V4.667c0-.645-.522-1.167-1.167-1.167H2.667zM.5 4.667C.5 3.47 1.47 2.5 2.667 2.5h6.666c1.197 0 2.167.97 2.167 2.167v6.666c0 1.197-.97 2.167-2.167 2.167H2.667A2.167 2.167 0 01.5 11.333V4.667z",clipRule:"evenodd"}},{tag:"path",attr:{fillRule:"evenodd",d:"M11.25 5.65l2.768-1.605a.318.318 0 01.482.263v7.384c0 .228-.26.393-.482.264l-2.767-1.605-.502.865 2.767 1.605c.859.498 1.984-.095 1.984-1.129V4.308c0-1.033-1.125-1.626-1.984-1.128L10.75 4.785l.502.865z",clipRule:"evenodd"}}]})(e)}},76774:(e,t,n)=>{var r=n(99101).GenIcon;e.exports.CgEnter=function(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M20 5H8V9H6V3H22V21H6V15H8V19H20V5Z",fill:"currentColor"}},{tag:"path",attr:{d:"M13.0743 16.9498L11.6601 15.5356L14.1957 13H2V11H14.1956L11.6601 8.46451L13.0743 7.05029L18.024 12L13.0743 16.9498Z",fill:"currentColor"}}]})(e)}},27638:(e,t,n)=>{var r=n(99101).GenIcon;e.exports.IoChevronDownSharp=function(e){return r({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"M112 184l144 144 144-144"}}]})(e)}},41425:(e,t,n)=>{var r=n(99101).GenIcon;e.exports.IoChevronUpSharp=function(e){return r({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"M112 328l144-144 144 144"}}]})(e)}},75:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.IconBase=t.GenIcon=void 0,n(67294)),i=n(484);function l(e){function t(t){var n,i=e.attr,l=e.size,s=e.title,u=o(e,["attr","size","title"]);return l=l||t.size||"1em",t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:r(r({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&a.createElement("title",null,s),e.children)}return void 0!==i.IconContext?a.createElement(i.IconContext.Consumer,null,t):t(i.DefaultContext)}t.GenIcon=function(e){return function(t){return a.createElement(l,r({attr:r({},e.attr)},t),function e(t){return t&&t.map((function(t,n){return a.createElement(t.tag,r({key:n},t.attr),e(t.child))}))}(e.child))}},t.IconBase=l},484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconContext=t.DefaultContext=void 0,n=n(67294),t.DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t.IconContext=n.createContext&&n.createContext(t.DefaultContext)},34305:e=>{e.exports.IconsManifest=[{id:"fa",name:"Font Awesome",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/refactoringui/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"}]},99101:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(34305),t),o(n(75),t),o(n(484),t)},78826:function(e){!function(){"use strict";function t(e){return parseInt(e)===e}function n(e){if(t(e.length)){for(var n=0;n<e.length;n++)if(!t(e[n])||e[n]<0||255<e[n])return;return 1}}function r(e,r){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return r?e.slice?e.slice():Array.prototype.slice.call(e):e;if(Array.isArray(e)){if(n(e))return new Uint8Array(e);throw new Error("Array contains invalid value: "+e)}if(t(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function a(e,t,n,r,o){null==r&&null==o||(e=e.slice?e.slice(r,o):Array.prototype.slice.call(e,r,o)),t.set(e,n)}var i,l={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var o=e.charCodeAt(n++);37===o?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(o)}return r(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):191<r&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},s=(i="0123456789abcdef",{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(i[(240&r)>>4]+i[15&r])}return t.join("")}}),u={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],h=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],w=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],O=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],M=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function C(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}function k(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:r(e,!0)}),this._prepare()}function E(e){if(!(this instanceof E))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(e)}function P(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=r(t,!0),this._aes=new k(e)}function T(e,t,n){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);this.segmentSize=n=n||1,this._shiftRegister=r(t,!0),this._aes=new k(e)}function j(e,t){if(!(this instanceof j))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=r(t,!0),this._lastPrecipherIndex=16,this._aes=new k(e)}function x(e){if(!(this instanceof x))throw Error("Counter must be instanitated with `new`");"number"==typeof(e=0===e||e?e:1)?(this._counter=o(16),this.setValue(e)):this.setBytes(e)}function D(e,t){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof x||(t=new x(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(e)}k.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),o=this.key.length/4,a=C(this.key);for(t=0;t<o;t++)this._Ke[n=t>>2][t%4]=a[t],this._Kd[e-n][t%4]=a[t];for(var i,l=0,s=o;s<r;){if(i=a[o-1],a[0]^=f[i>>16&255]<<24^f[i>>8&255]<<16^f[255&i]<<8^f[i>>24&255]^c[l]<<24,l+=1,8!=o)for(t=1;t<o;t++)a[t]^=a[t-1];else{for(t=1;t<o/2;t++)a[t]^=a[t-1];for(i=a[o/2-1],a[o/2]^=f[255&i]^f[i>>8&255]<<8^f[i>>16&255]<<16^f[i>>24&255]<<24,t=o/2+1;t<o;t++)a[t]^=a[t-1]}for(t=0;t<o&&s<r;)this._Ke[d=s>>2][p=s%4]=a[t],this._Kd[e-d][p]=a[t++],s++}for(var d=1;d<e;d++)for(var p=0;p<4;p++)i=this._Kd[d][p],this._Kd[d][p]=w[i>>24&255]^S[i>>16&255]^O[i>>8&255]^M[255&i]},k.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=C(e),a=0;a<4;a++)r[a]^=this._Ke[0][a];for(var i=1;i<t;i++){for(a=0;a<4;a++)n[a]=p[r[a]>>24&255]^h[r[(a+1)%4]>>16&255]^m[r[(a+2)%4]>>8&255]^y[255&r[(a+3)%4]]^this._Ke[i][a];r=n.slice()}var l,s=o(16);for(a=0;a<4;a++)l=this._Ke[t][a],s[4*a]=255&(f[r[a]>>24&255]^l>>24),s[4*a+1]=255&(f[r[(a+1)%4]>>16&255]^l>>16),s[4*a+2]=255&(f[r[(a+2)%4]>>8&255]^l>>8),s[4*a+3]=255&(f[255&r[(a+3)%4]]^l);return s},k.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=C(e),a=0;a<4;a++)r[a]^=this._Kd[0][a];for(var i=1;i<t;i++){for(a=0;a<4;a++)n[a]=g[r[a]>>24&255]^b[r[(a+3)%4]>>16&255]^v[r[(a+2)%4]>>8&255]^_[255&r[(a+1)%4]]^this._Kd[i][a];r=n.slice()}var l,s=o(16);for(a=0;a<4;a++)l=this._Kd[t][a],s[4*a]=255&(d[r[a]>>24&255]^l>>24),s[4*a+1]=255&(d[r[(a+3)%4]>>16&255]^l>>16),s[4*a+2]=255&(d[r[(a+2)%4]>>8&255]^l>>8),s[4*a+3]=255&(d[255&r[(a+1)%4]]^l);return s},E.prototype.encrypt=function(e){if((e=r(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),i=0;i<e.length;i+=16)a(e,n,0,i,i+16),a(n=this._aes.encrypt(n),t,i);return t},E.prototype.decrypt=function(e){if((e=r(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),i=0;i<e.length;i+=16)a(e,n,0,i,i+16),a(n=this._aes.decrypt(n),t,i);return t},P.prototype.encrypt=function(e){if((e=r(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),i=0;i<e.length;i+=16){a(e,n,0,i,i+16);for(var l=0;l<16;l++)n[l]^=this._lastCipherblock[l];this._lastCipherblock=this._aes.encrypt(n),a(this._lastCipherblock,t,i)}return t},P.prototype.decrypt=function(e){if((e=r(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),i=0;i<e.length;i+=16){a(e,n,0,i,i+16),n=this._aes.decrypt(n);for(var l=0;l<16;l++)t[i+l]=n[l]^this._lastCipherblock[l];a(e,this._lastCipherblock,0,i,i+16)}return t},T.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t=r(e,!0),n=0;n<t.length;n+=this.segmentSize){for(var o=this._aes.encrypt(this._shiftRegister),i=0;i<this.segmentSize;i++)t[n+i]^=o[i];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(t,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return t},T.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t=r(e,!0),n=0;n<t.length;n+=this.segmentSize){for(var o=this._aes.encrypt(this._shiftRegister),i=0;i<this.segmentSize;i++)t[n+i]^=o[i];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return t},j.prototype.decrypt=j.prototype.encrypt=function(e){for(var t=r(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},x.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;0<=t;--t)this._counter[t]=e%256,e=parseInt(e/256)},x.prototype.setBytes=function(e){if(16!=(e=r(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},x.prototype.increment=function(){for(var e=15;0<=e;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}},D.prototype.decrypt=D.prototype.encrypt=function(e){for(var t=r(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},e.exports={AES:k,Counter:x,ModeOfOperation:{ecb:E,cbc:P,cfb:T,ofb:j,ctr:D},utils:{hex:s,utf8:l},padding:{pkcs7:{pad:function(e){var t=16-(e=r(e,!0)).length%16,n=o(e.length+t);a(e,n);for(var i=e.length;i<n.length;i++)n[i]=t;return n},strip:function(e){if((e=r(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(16<t)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,i=0;i<t;i++)if(e[n+i]!==t)throw new Error("PKCS#7 invalid padding byte");var l=o(n);return a(e,l,0,0,n),l}}},_arrayTest:{coerceArray:r,createArray:o,copyArray:a}}}()},23848:function(e,t){!function(e){"use strict";function t(e,t){return e.then((function(e){return[null,e]})).catch((function(e){return t&&Object.assign(e,t),[e,void 0]}))}e.to=t,e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}(t)},47321:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=i(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=a?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(25758);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(o)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);var n=s(r);function r(e){var t;if(this instanceof r)return f(u(t=n.call(this,e)),"viewerElement",void 0),f(u(t),"imageElement",void 0),f(u(t),"scaleChangeTimer",void 0),f(u(t),"closeTimer",void 0),f(u(t),"isDragging",void 0),f(u(t),"isMouseDown",void 0),f(u(t),"disx",void 0),f(u(t),"disy",void 0),f(u(t),"lastMouseUpTime",void 0),f(u(t),"posRegulatorTimer",void 0),f(u(t),"handleMouseDown",(function(e){t.isDragging=!1,t.isMouseDown=!0,e.preventDefault();var n=e.target;t.disx=e.pageX-n.offsetLeft,t.disy=e.pageY-n.offsetTop})),f(u(t),"handleMouseMove",(function(e){t.isMouseDown&&t.isDraggable(e)&&(t.isDragging=!0,t.setState((function(){return t.calculatePos(e)})))})),f(u(t),"handleMouseUp",(function(e){var n;t.isMouseDown=!1,e.target.closest("a,button")||(n=(new Date).getTime(),t.isDragging&&t.isDraggable(e)?t.setState((function(){return t.calculatePos(e)})):t.lastMouseUpTime&&n-t.lastMouseUpTime<300?(t.closeTimer&&(clearTimeout(t.closeTimer),t.closeTimer=null),t.resetTransforms()):(clearTimeout(t.closeTimer),t.closeTimer=setTimeout((function(){var e=t.props.onRequestClose;e&&e(),t.closeTimer=null}),350)),t.lastMouseUpTime=n),t.isDragging=!1})),f(u(t),"isDraggable",(function(e){return!!t.state.movable&&"IMG"===(null==(e=e.target)?void 0:e.tagName)&&(n=e.getBoundingClientRect(),e=e.offsetParent.getBoundingClientRect(),n.height>e.height||n.width>e.width);var n})),f(u(t),"resetTransforms",(function(){t.setState({x:"auto",y:"auto",scale:1,rotate:0,movable:!0})})),f(u(t),"zoomIn",(function(e){var n=t.state,r=n.x,o=n.y;t.setState((function(e){return{scale:Math.min(t.props.maxScale,1.5*e.scale)}}),(function(){"auto"===r&&"auto"===o||setTimeout((function(){t.setState((function(){return t.calculatePos({target:document.querySelector(".advance-image-viewer > img")},!0)}))}),200)})),null!=e&&e.stopPropagation()})),f(u(t),"zoomOut",(function(e){var n=t.state,r=n.x,o=n.y;t.setState((function(e){return{scale:Math.max(t.props.minScale,e.scale*(2/3))}}),(function(){"auto"===r&&"auto"===o||setTimeout((function(){t.setState((function(){return t.calculatePos({target:document.querySelector(".advance-image-viewer > img")},!0)}))}),200)})),null!=e&&e.stopPropagation()})),f(u(t),"rotate90",(function(e){var n,r,o=null==(n=t.viewerElement)?void 0:n.getBoundingClientRect(),a=t.imageElement?{width:t.imageElement.width,height:t.imageElement.height}:null;t.setState((function(e){var t,n,i,l={};return e=e.rotate,e=!((r=e-90)/90%2),l.movable=r%360==0,l.x="auto",l.y="auto",l.scale=1,l.rotate=r,!e&&o&&a&&(e=a.height,t=a.width,n=o.height,i=o.width,n<t?l.scale=n/t:i<e&&(l.scale=i/e)),l}),(function(){r%360==0&&setTimeout((function(){requestAnimationFrame((function(){t.setState({rotate:0},(function(){document.body.classList.add("no-animation"),requestAnimationFrame((function(){document.body.classList.remove("no-animation")}))}))}))}),100)})),null!=e&&e.stopPropagation()})),f(u(t),"handleKeyDown",(function(e){var n=(r=t.props).onRequestClose,r=r.onKeyDown;"Escape"===e.code&&null!=n&&n(),null!=r&&r(e)})),f(u(t),"handleMouseOnWheel",(function(e){var n,r,o,a,i,l,s,u=(d=t.state).x,c=d.y,f=d.movable,d=d.scale;f&&(f=e.ctrlKey,n=(r=e.nativeEvent).wheelDelta,r=r.deltaY,l=t.props,o=l.minScale,a=l.maxScale,i=l.wheelSpeed,l=l.touchpadSpeed,s=f?l*(-r/80)*(d/2):i*(n/500),t.setState((function(e){return{scale:Math.min(a,Math.max(o,e.scale+s))}}),(function(){"auto"===u&&"auto"===c||(clearTimeout(t.posRegulatorTimer),t.posRegulatorTimer=setTimeout((function(){t.setState((function(){return t.calculatePos(e,!0)}))}),200))})))})),f(u(t),"getViewerRef",(function(e){t.viewerElement=e})),f(u(t),"getImageRef",(function(e){t.imageElement=e})),t.state={x:"auto",y:"auto",scale:1,rotate:0,movable:!0},t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.showScaleLabel&&t.scale!==this.state.scale&&(this.scaleChangeTimer&&clearTimeout(this.scaleChangeTimer),this.viewerElement.classList.add("is-scaling"),this.scaleChangeTimer=setTimeout((function(){n.viewerElement.classList.remove("is-scaling"),n.scaleChangeTimer=null}),1e3))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.closeTimer&&clearTimeout(this.closeTimer),this.scaleChangeTimer&&clearTimeout(this.scaleChangeTimer)}},{key:"isMovable",get:function(){return this.state.movable}},{key:"calculatePos",value:function(e){var t,n,r,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1]?{x:this.state.x,y:this.state.y}:{x:e.pageX-this.disx,y:e.pageY-this.disy},a=(a=this.state.scale)||1,i=(l=this.props).maxScale,l=l.minScale;return"IMG"===(null==(a=Math.min(i,Math.max(l,a)),Math.abs(1-a)<.15&&(a=1),i=e.target)?void 0:i.tagName)?(l=i.getBoundingClientRect(),e=i.offsetParent.getBoundingClientRect(),l.height<=e.height&&(o.y="auto"),l.width<=e.width&&(o.x="auto"),i=l.width/a*(a-1)/2,t=l.height/a*(a-1)/2,n=e.width-l.width+l.width/a*(a-1)/2,r=e.height-l.height+l.height/a*(a-1)/2,l.height>e.height&&(l.width<=e.width&&(o.x=(e.width-l.width/a)/2),o.y<r?o.y=r:o.y>t&&(o.y=t)),l.width>e.width&&(l.height<=e.height&&(o.y=(e.height-l.height/a)/2),o.x<n?o.x=n:o.x>i&&(o.x=i)),o):{}}},{key:"render",value:function(){var e=(f=this.props).src,t=f.showActions,n=f.minScale,r=f.maxScale,i=f.zoomInText,l=f.zoomOutText,s=f.zoomResetText,u=f.rotate90Text,c=f.showScaleLabel,f=f.saveAsText,d=(y=this.state).scale,p=y.x,h=y.y,m=y.rotate,y=y.movable;return r=Math.min(r,Math.max(n,d)),Math.abs(1-r)<.15&&(r=1),n={transform:"scale(".concat(r,") rotate(").concat(m,"deg)"),position:"auto"===p||"auto"===h?"relative":"absolute",top:h,left:p},d=null,t&&(d=o.default.createElement(a.ImageViewerActions,{className:"dock dock-top dock-right has-padding-sm rounded",zoomOut:this.zoomOut,zoomIn:this.zoomIn,resetTransforms:this.resetTransforms,rotate90:this.rotate90,zoomInText:i,zoomOutText:l,zoomResetText:s,rotate90Text:u,saveAsText:f,movable:y})),o.default.createElement("div",{className:"advance-image-viewer dock center-content",onWheel:this.handleMouseOnWheel,ref:this.getViewerRef},o.default.createElement("img",{style:n,src:e,alt:e,onMouseDown:this.handleMouseDown,ref:this.getImageRef}),c?o.default.createElement("div",{className:"advance-image-viewer-scale-label label circle shadow"},Math.floor(100*r),"%"):null,d)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),f(t.default=n,"defaultProps",{showActions:!1,minScale:.1,maxScale:10,wheelSpeed:1,touchpadSpeed:1,showScaleLabel:!0})},50943:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MENTION_TRIGGER=t.DraftJS=t.AutocompleteEditor=void 0;var o=f(n(45697)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),i=f(n(73935)),l=n(13544),s=f(n(93378)),u=["editorState","onChange","delay","onRequestSuggestions","suggestionsItemRender","onClickMoreSuggestionBtn","handleReturn","keyBindingFn","onSuggestionSelect","onTab","onArrowDown","onArrowLeft","onArrowRight","onArrowUp"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}t.MENTION_TRIGGER="@";var g=(0,l.lazyModuleProxy)(process.env.HOT?"draft.dev":"draft",{browser:"Draft",root:"assets",id:"draft",beforeLoad:function(){n.g.React=a.default,n.g.ReactDOM=i.default}});t.DraftJS=g,l=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(n=t?(n=m(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return h(o)}}(o);function o(e){var t;if(this instanceof o)return y(h(t=n.call(this,e)),"handleSuggestionClick",(function(e){t.commitSelection(e)})),y(h(t),"handleMoreSuggestionBtnClick",(function(){var e=t.props.onClickMoreSuggestionBtn;e&&e(),t.setState({autocompleteState:!1})})),y(h(t),"handleChange",(function(e){var n=(o=t.props).onChange,r=o.onRequestSuggestions,o=o.delay;n&&n(e),r&&(t.delayTimer&&clearTimeout(t.delayTimer),o?t.delayTimer=setTimeout((function(){var e=t.getAutocompleteState();t.setState({autocompleteState:e,selectedIndex:0}),t.delayTimer=null}),o):window.requestAnimationFrame((function(){t.setState({autocompleteState:t.getAutocompleteState(),selectedIndex:0})})))})),y(h(t),"handleSuggestionEmptyChange",(function(e){t.setState({isSuggestionEmpty:!e,noOrOneSuggestion:e<2})})),y(h(t),"onArrow",(function(e,n,r){return t.state.noOrOneSuggestion||!t.hasAutocompleteState()?(n&&n(e),!1):(e.preventDefault(),t.setState((function(e){return{selectedIndex:e.selectedIndex+r}})),!0)})),y(h(t),"onArrowUp",(function(e){t.onArrow(e,t.props.onArrowUp,-1)})),y(h(t),"onArrowDown",(function(e){t.onArrow(e,t.props.onArrowDown,1)})),y(h(t),"onArrowLeft",(function(e){t.onArrow(e,t.props.onArrowLeft,-1)})),y(h(t),"onArrowRight",(function(e){t.onArrow(e,t.props.onArrowRight,1)})),y(h(t),"onEscape",(function(e){var n=t.state.autocompleteState;e.preventDefault(),n&&t.setState({autocompleteState:!1})})),y(h(t),"onTab",(function(e){return t.onArrow(e,t.props.onTab,1)})),y(h(t),"keyBindingFn",(function(e){var n=t.hasAutocompleteState();if(n){var r=t["on".concat(e.key)];if("function"==typeof r)return r(e)}if(t.state.isSuggestionEmpty||" "!==e.key||!n)return(r=t.props.keyBindingFn)?r(e):g.getDefaultKeyBinding(e);e.preventDefault(),t.commitSelection()})),y(h(t),"handleReturn",(function(e){var n;return t.state.isSuggestionEmpty||!t.hasAutocompleteState()?(n=t.props.handleReturn)?n(e):"not-handled":(e.preventDefault(),t.commitSelection(),"handled")})),t.state={autocompleteState:null,selectedIndex:0,isSuggestionEmpty:!0,noOrOneSuggestion:!0},t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"componentWillUnmount",value:function(){this.delayTimer&&clearTimeout(this.delayTimer)}},{key:"getAutocompleteState",value:function(){var e,t=this.getAutocompleteRange("@");return t?{trigger:"@",type:"mention",left:((e=window.getSelection().getRangeAt(0).cloneRange()).setStart(e.startContainer,t.start),e=e.getBoundingClientRect()).left,top:window.innerHeight-e.top,text:t.text}:null}},{key:"getAutocompleteRange",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"@";if(0===(t=window.getSelection()).rangeCount)return null;if(this.isBlurOrHasEntityAtSelection())return null;var t,n=(t=t.getRangeAt(0)).startContainer.textContent;return-1===(e=(n=n.substring(0,t.startOffset)).lastIndexOf(e))||(n=n.substring(e).substring("@".length)).length&&!n.trim().length?null:{text:n,start:e,end:t.startOffset}}},{key:"isBlurOrHasEntityAtSelection",value:function(){var e=this.props.editorState,t=e.getSelection();return!t.getHasFocus()||!!e.getCurrentContent().getBlockForKey(t.getStartKey()).getEntityAt(t.getStartOffset()-1)}},{key:"hasAutocompleteState",value:function(){return!!this.state.autocompleteState}},{key:"focus",value:function(){this.editor.focus()}},{key:"commitSelection",value:function(e){var t=this.props.onSuggestionSelect;null==e&&(e=this._suggestionsPanel.getSelectedItem()),t&&e&&t(e),this.setState({autocompleteState:!1})}},{key:"render",value:function(){var e=this,t=(i=this.props).editorState,n=(i.onChange,i.delay,i.onRequestSuggestions),r=i.suggestionsItemRender,o=i.onClickMoreSuggestionBtn,i=(i.handleReturn,i.keyBindingFn,i.onSuggestionSelect,i.onTab,i.onArrowDown,i.onArrowLeft,i.onArrowRight,i.onArrowUp,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(i,u)),l=(t=a.default.createElement(g.Editor,d({ref:function(t){e.editor=t},key:"editor",editorState:t,handleReturn:this.handleReturn,onChange:this.handleChange,keyBindingFn:this.keyBindingFn},i)),(i=this.state).autocompleteState);return i=i.selectedIndex,n&&l?[t,a.default.createElement(s.default,{key:"suggestions",className:"shadow-1 rounded",ref:function(t){e._suggestionsPanel=t},suggestionsState:l,selectedIndex:i,onRequestSuggestions:n,suggestionsItemRender:r,onClickItem:this.handleSuggestionClick,showMoreBtn:o?this.handleMoreSuggestionBtnClick:null,onSuggestionsCountChange:this.handleSuggestionEmptyChange})]:t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.PureComponent),y(t.AutocompleteEditor=l,"propTypes",{onChange:o.default.func,onClickMoreSuggestionBtn:o.default.func,onRequestSuggestions:o.default.func,suggestionsItemRender:o.default.func,onSuggestionSelect:o.default.func,editorState:o.default.any,handleReturn:o.default.func,keyBindingFn:o.default.func,onTab:o.default.func,onArrowDown:o.default.func,onArrowLeft:o.default.func,onArrowRight:o.default.func,onArrowUp:o.default.func,delay:o.default.number}),y(l,"defaultProps",{onChange:null,onClickMoreSuggestionBtn:null,onRequestSuggestions:null,suggestionsItemRender:null,onSuggestionSelect:null,editorState:null,handleReturn:null,keyBindingFn:null,onTab:null,onArrowDown:null,onArrowLeft:null,onArrowRight:null,onArrowUp:null,delay:0})},2388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.renderAvatar=function(e,t){return e?!0===e&&t?r.default.createElement(y,{icon:t}):r.default.isValidElement(e)?e:"object"!==m(e)?r.default.createElement(y,{auto:e}):r.default.createElement(y,e):null};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=d(n(45697)),a=n(64393),i=d(n(41384)),l=d(n(87137)),s=d(n(88446)),u=n(74933),c=n(16986),f=["image","icon","label","style","auto","skin","size","className","foreColor","imageClassName","imageErrorView","iconClassName","children","iconSize","badge"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){var t=e.image,n=e.icon,o=e.label,d=e.style,p=e.auto,m=e.skin,y=e.size,g=e.className,b=e.foreColor,v=e.imageClassName,_=e.imageErrorView,w=e.iconClassName,S=e.children,O=e.iconSize,M=e.badge;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,f),d=Object.assign(m?i.default.style(m):{},d),y&&(d.width=(0,a.rem)(y),d.height=d.width),b&&(d.color=b),p&&("string"!=typeof p||/^(icon|mdi|sprite)-/.test(p)?n=p:1===p.length?o=p:t=p),m=null,t&&(m=r.default.isValidElement(t)?t:r.default.createElement(s.default,{alt:t,src:t,className:v},!1!==_&&(_||r.default.createElement(l.default,{name:"image-filter-hdr muted"})))),b=null,!t&&n&&(b=r.default.isValidElement(n)?n:r.default.createElement(l.default,{className:w,name:n,size:O})),p=null,t||n||!o||(p=r.default.isValidElement(o)?o:o.trim().length<=1?r.default.createElement("span",{className:"text",style:y?{fontSize:(0,a.rem)(y/2)}:{}},o):(_=(v=o.trim()).match(/(?::[\w\d_]+:)|\S/g),w=v.match(/(?:(?: |\n)(?:\w+)|(?: |\n)(?::[\w\d_]+:))/g),O=(0,c.getAsciiWidth)(v),t=_.length,n=w?w.length+1:1,v=0,3<=(w=_.filter((function(e){return 2<e.length&&e.startsWith(":")||1===e.length&&(0,c.isWideCharacter)(e)})).length)||6<t||2<t&&1<n?v=2:1<t&&(1<w||3<t||3===t&&90<=O)&&(v=1),_=0,y&&(_=y/2,1===v?_*=.85:2===v&&(_*=.65)),n="<span>".concat(o.replace(/(:[\w\d_]+:)/g,"</span>$1<span>"),"</span>").replace(/<span> *<\/span>/g,""),r.default.createElement("span",{className:(0,a.classes)("text","crowd-".concat(v)),style:y?{fontSize:(0,a.rem)(Math.round(_))}:{},dangerouslySetInnerHTML:{__html:(0,u.emojiToImage)(n)}}))),w=null,r.default.createElement("div",h({className:(0,a.classes)("avatar",g,{"with-badge":w=M?r.default.isValidElement(M)?M:r.default.createElement("div",{className:"label label-sm dock-right dock-top circle red badge"},M):w})},e,{style:d}),m,b,p,w,S)}y.propTypes={auto:o.default.any,skin:o.default.any,image:o.default.any,icon:o.default.any,label:o.default.any,size:o.default.number,iconSize:o.default.number,className:o.default.oneOfType([o.default.array,o.default.object,o.default.string]),foreColor:o.default.string,imageClassName:o.default.string,iconClassName:o.default.string,style:o.default.object,children:o.default.any,badge:o.default.any,leftstyle:o.default.object,rightstyle:o.default.object,imageErrorView:o.default.any},y.defaultProps={skin:null,image:null,icon:null,label:null,size:null,iconSize:null,foreColor:null,className:null,imageClassName:null,iconClassName:null,style:null,children:null,auto:null,badge:null,leftstyle:null,rightstyle:null,imageErrorView:null},t.default=(0,r.memo)(y)},55072:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),i=n(64393),l=(o=n(41384))&&o.__esModule?o:{default:o},s=n(87137),u=["skin","icon","label","iconPosition","hoverLabel","className","children","style","type","btnClass","disabled","url","click"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=(0,a.memo)((function(e){var t=e.skin,n=e.icon,r=e.label,o=void 0===(o=e.iconPosition)?"left":o,c=e.hoverLabel,d=void 0===(d=e.className)?"":d,p=e.children,h=e.style,m=void 0===(m=e.type)?"button":m,y=void 0===(y=e.btnClass)?"btn":y,g=void 0!==(g=e.disabled)&&g,b=void 0===(b=e.url)?"":b,v=e.click;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),n=n?(0,s.renderIcon)(n):null,r=r?a.default.isValidElement(r)?r:a.default.createElement("span",{className:"text"},r):null,c=c?a.default.createElement("span",{className:"text for-hover"},c):null,t=Object.assign(t?l.default.style(t):{},h),h=(0,i.classes)(y,g?"disabled":null,d,{"btn-icon":!r&&!p,"has-hover-text":!!c}),"a"===m||b?a.default.createElement("a",f({href:b,onClick:v,style:t,className:h},e),n,r,c,p):a.default.createElement("button",f({type:m,className:h,style:t,onClick:v},e),"left"===o?n:null,r,c,"right"===o?n:null,p)}))},53158:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=(n=n(32292))&&n.__esModule?n:{default:n};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=(0,o.memo)((function(e){var t=void 0!==(t=e.checked)&&t,n=void 0!==(n=e.indeterminate)&&n,r=void 0===(r=e.label)?null:r,l=void 0===(l=e.className)?null:l,u=void 0===(u=e.inputProps)?null:u,c=void 0===(f=e.onChange)?null:f,f=void 0===(f=e.description)?null:f,d=(e=void 0!==(e=e.disabled)&&e,(0,i.default)()),p=f?{display:"inline-block"}:{display:"block"};return o.default.createElement("div",{className:(0,a.classes)("checkbox",l,{checked:t,indeterminate:n})},o.default.createElement("input",s({disabled:e,id:d,checked:t,type:"checkbox",onChange:function(e){return null==c?void 0:c(e.target.checked,e)}},u)),null!=r&&o.default.createElement("label",{style:p,htmlFor:d},r),null!=f&&o.default.createElement("span",{className:"text-gray"}," (".concat(f,")")))}))},8062:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=i(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=a?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(n=(n=n(45697))&&n.__esModule?n:{default:n},["onClickOutside","children"]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(n=t?(n=f(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return c(o)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var p=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=u(r);function r(){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return d(c(e=n.call.apply(n,[this].concat(o))),"handleClickOutside",(function(t){var n;0===t.button&&(n=e.props.onClickOutside)&&e._wrapper&&!e._wrapper.contains(t.target)&&n(t,c(e))})),e}return t=r,(e=[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=((n=this.props).onClickOutside,n.children),n=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,a);return o.default.createElement("div",l({ref:function(t){e._wrapper=t}},n),t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent);d(t.default=p,"propTypes",{onClickOutside:n.default.func,children:n.default.any}),d(p,"defaultProps",{onClickOutside:null,children:null})},28350:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showContextMenu=t.default=void 0;var o=p(n(67294)),a=p(n(32887)),i=n(64393),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(87137)),s=p(n(61997)),u=p(n(94128)),c=p(n(8062)),f=["id","className","hidden","click","url","render","type","disabled","icon","extraView","checked","label"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(){var e=window.document.querySelectorAll(".collapse-menu-items");e[0]&&(e[0].style.cssText="")}var b=u.default.access("ui");n={show:t.showContextMenu=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,u=(p=n).className,d=p.content,p=p.style,h=(O=n).onItemClick,v=O.menuClassName,_=O.itemClassName,w=b.getZoomFactor();if(!e&&DEBUG)throw new Error("Position is not defined to show the popover.");n.id||(n.id=(0,s.default)());var S=!1,O=t.map((function(e,t){if(o.default.isValidElement(e))return e;var r=e="string"==typeof e?"-"===e||"divider"===e||"separator"===e?{type:"divider"}:{label:e}:e,s=r.id,u=r.className,c=r.hidden,d=(r.click,r.url),p=r.render,m=r.type,b=r.disabled,v=r.icon,w=r.extraView,O=r.checked,M=r.label,C=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,f);return Object.keys(C).forEach((function(e){e.startsWith("_")&&delete C[e]})),c?null:p?p(e):"divider"===m||"separator"===m?o.default.createElement("div",y({key:s||t,className:(0,i.classes)("divider",u)},C)):((r=v&&(0,l.renderIcon)(v,{className:"item-left-icon"}))&&(S=!0),c=null,o.default.isValidElement(M)?c=M:M&&(c=o.default.createElement("span",{className:"title"},M)),o.default.createElement("a",y({href:d,onClick:function(e,t,r){var o=null;h&&(o=h(e,t,r)),e.click&&(g(),o=e.click(e,t,r)),!1!==o&&((e=window.document.querySelectorAll(".collapse-menu-items"))[0]&&(e[0].style.cssText=""),a.default.remove(n.id))}.bind(null,e,t),key:s||t,className:(0,i.classes)("item",_,u,{disabled:b})},C),r,c,O&&o.default.createElement(l.default,{name:"check"}),w))})),M=(d=o.default.createElement(c.default,{onClickOutside:g},o.default.createElement("div",{className:(0,i.classes)("list dropdown-menu",v,{"has-icon-left":S})},O,d)),e.x/w||0),C=e.y/w||0;return p=m({maxWidth:window.innerWidth,maxHeight:window.innerHeight,left:M,top:C},p),u=(0,i.classes)("contextmenu layer rounded",u),delete(n=m(m({backdropClassName:"clean",animation:!1},n),{},{className:u,style:p,content:d,plugName:"contextmenu"})).menuClassName,delete n.itemClassName,delete n.onItemClick,a.default.show(n,(function(t){if(t){var n=t.displayElement,o=M,a=C,i=n.clientWidth,l=n.clientHeight,s=(n=e.direction,e.triggerElement),u=e.triggerElementBounding||s&&s.getBoundingClientRect();if(n)switch(n){case"top":o-=i/2,a-=l;break;case"top-left":o-=i,a-=l;break;case"top-right":a-=l;break;case"left":o-=i/2,a-=l/2;break;case"right":a-=l/2;break;case"bottom":o-=i/2;break;case"bottom-left":o-=i;break;case"below-left":u&&(o=u.left,a=u.top+u.height);break;case"below-right":u&&(o=u.left+u.width-i,a=u.top+u.height);break;case"above-left":u&&(o=u.left,a=u.top-l);break;case"above-right":u&&(o=u.left+u.width-i,a=u.top-l)}e.offsetX&&(o+=e.offsetX/w),e.offsetY&&(a+=e.offsetY/w),o=Math.floor(Math.max(0,Math.min(window.innerWidth/w-i,o))),a=Math.floor(Math.max(0,Math.min(window.innerHeight/w-l,a))),o!==M||a!==C?t.setStyle({top:a,left:o,opacity:1}):t.setStyle({opacity:1}),null!=r&&r()}}))},hide:a.default.hide,remove:a.default.remove},t.default=n},97591:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ImgCropper=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(1881)),i=u(n(87137)),l=n(64393),s=u(n(41584));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n=o.default.forwardRef((function(e,t){var n=void 0===(n=e.inputImage)?"":n,r=void 0===(u=e.maxMagnification)?3:u,u=(e=void 0!==(u=e.isPreviewCircle)&&u,f((0,s.default)(),1)[0]),c=(n=f((0,o.useState)(n),2))[0],d=n[1],p=(0,o.useRef)(null),h=((0,o.useImperativeHandle)(t,(function(){return{setImage:d,cropperRef:p}}),[d,p]),(0,o.useRef)()),m=(n=(0,o.useCallback)((function(e){var t=p.current.getContainerData();p.current.zoomTo(+e.target.value,{x:t.width/2,y:t.height/2})}),[]),(0,o.useRef)(0)),y=(t=(0,o.useCallback)((function(){var e,t=(e=(e=p.current.getCanvasData()).width/e.naturalWidth)*r;m.current=t,h.current.min=String(e),h.current.value=String(e),h.current.max=String(t),h.current.step=String((t-e)/100)}),[]),(0,o.useCallback)((function(e){if(e.detail.ratio>m.current)return e.preventDefault(),void p.current.zoomTo(m.current);h.current.value=String(e.detail.ratio)}),[]));return o.default.createElement("div",{className:"flex avatar-settings xx-cropper"},o.default.createElement("div",{className:"operate operate-size"},o.default.createElement("div",{className:"gray-pale operate-size overlap pointer-pass top-left translucent"}),o.default.createElement(a.default,{style:{height:200,width:200},aspectRatio:1,preview:".avatar-preview",src:c,viewMode:3,minCropBoxHeight:200,minCropBoxWidth:200,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!0,onInitialized:function(e){p.current=e},guides:!1,dragMode:"move",movable:!0,cropBoxMovable:!1,cropBoxResizable:!1,zoomable:!0,scalable:!1,rotatable:!1,zoom:y,ready:t}),e?o.default.createElement("div",{className:(0,l.classes)("operate-size overlap pointer-pass top-left translucent",{hidden:!c})},o.default.createElement("svg",{width:"100%",height:"100%"},o.default.createElement("defs",null,o.default.createElement("mask",{id:"hole"},o.default.createElement("rect",{width:"100%",height:"100%",fill:"white"}),o.default.createElement("circle",{r:"50%",cx:"50%",cy:"50%",fill:"black"}))),o.default.createElement("rect",{width:"100%",height:"100%",mask:"url(#hole)"}))):null,o.default.createElement("div",{className:"has-padding overlap bottom"},o.default.createElement("div",{className:"slider"},o.default.createElement(i.default,{name:"mdi-minus",size:24,className:"translucent"}),o.default.createElement("input",{className:"avatar-cropper",ref:h,type:"range",min:"0",max:"1",step:"0.01",defaultValue:"0",style:{flexGrow:10},onChange:n,disabled:!c}),o.default.createElement(i.default,{name:"mdi-plus",size:24,className:"translucent"})))),o.default.createElement("div",{className:"flex-vertical"},o.default.createElement("div",{className:(0,l.classes)("preview-size avatar gray-pale has-margin-sm",{circle:e})},o.default.createElement("div",{className:"avatar-preview preview-size"})),o.default.createElement("div",{className:"text-gray text-center"},u.string("common.previewCropper"))))})),t.ImgCropper=n},40254:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=s(n(61997)),i=s(n(46594)),l=["style","cache","content","id"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(n=t?(n=p(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var n=d(r);function r(e){if(this instanceof r)return(e=n.call(this,e)).state={all:{}},e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"getItem",value:function(e){return this.state.all[e]}},{key:"lastShowItem",get:function(){var e=this.state.all;return e=Object.values(e).filter((function(e){return e.ref&&e.ref.isShow})).sort((function(e,t){return t.lastShowTime-e.lastShowTime})),null==e?void 0:e[0]}},{key:"show",value:function(e,t){var n,o,i=this,s=this.state.all,u=(null!=e.id||(e.id=(0,a.default)()),e.id),c=s[u];if(!c)return n=e.onHidden,e.onHidden=function(t){var o;null!=(o=r.onHiddenHandler)&&o.call(r,t,e),null!=n&&n(t),e.cache||(delete s[u],i.setState({all:s}))},o=e.onShown,e.onShown=function(n){var a;null!=(a=r.onShownHandler)&&a.call(r,n,e),null!=o&&o(n),"function"==typeof t&&t(n)},s[u]={props:e},this.setState({all:s}),null;if(!c.ref)return null;var f=e.style,d=e.cache,p=e.content,h=(e.id,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,l));return p||Object.keys(h).length?(p&&c.ref.loadContent(p),s[u]=Object.assign(c,{props:e}),this.setState({all:s},(function(){c.ref.isShow?null!=t&&t():c.ref.show(t)}))):(d&&f&&c.ref.setStyle(f),c.ref.show(t)),c.ref}},{key:"hide",value:function(e,t){var n,r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"auto",a=this.state.all,i=null!=e?a[e]:this.lastShowItem;if(i)return"auto"===o&&(o=!i.props.cache),null!=(n=i.ref)&&n.hide((function(){o&&(delete a[e],r.setState({all:a})),null!=t&&t()})),i.ref;null!=t&&t(!1)}},{key:"remove",value:function(e,t){return this.hide(e,t,!0)}},{key:"load",value:function(e,t,n){var r=this.state.all[e];if(r)return r.ref.loadContent(t,n),r.ref;DEBUG&&console.error("Cannot find display layer with id ".concat(e,"."))}},{key:"setStyle",value:function(e,t,n){var r=this.state.all[e];if(r)return r.ref.setStyle(t,n),r.ref;DEBUG&&console.error("Cannot find display layer with id ".concat(e,"."))}},{key:"render",value:function(){var e=this.state.all;return o.default.createElement("div",{className:"display-container dock"},Object.keys(e).map((function(t){var n=e[t],r=n.props;return o.default.createElement(i.default,c({key:t,ref:function(e){n.ref=e}},r))})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),h(t.default=n,"onHiddenHandler",void 0),h(n,"onShownHandler",void 0)},46594:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(88547)),i=c(n(91705)),l=n(64393),s=c(n(61997)),u=(n=c(n(60811)),["plugName","className","rootClassName","backdrop","backdropClassName","animation","modal","show","content","onShown","onHidden","onShow","onHide","header","footer","hotkey","cache","loadingContent","contentClassName","contentLoadFail","children","style","listenUpdateStyle","id","onAction","onLoad"]);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(n=t?(n=b(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return g(o)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var _=new n.default({init:0,ready:1,shown:2,hidden:3},0),w=1100;n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e);var n=y(r);function r(e){var t;if(this instanceof r)return v(g(t=n.call(this,e)),"id",void 0),v(g(t),"showTimerTask",void 0),v(g(t),"displayElement",void 0),v(g(t),"lastShowTime",0),v(g(t),"handleWindowKeyup",(function(e){var n=(r=t.props).hotkey,r=r.onAction;return"Escape"===e.code?(null!=r&&r({type:"cancel"}),void t.hide()):"Enter"!==e.code&&"NumpadEnter"!==e.code||"function"!=typeof r?void("function"==typeof n&&n(e,g(t))):(r({type:"submit"}),void t.hide())})),v(g(t),"handleBackdropClick",(function(){t.props.enableBackdropClick&&!t.props.modal&&t.hide()})),v(g(t),"handleDisplayClick",(function(e){for(var n=e.target;n;){if(n&&(n.hasAttribute("data-dismiss")||n.classList&&n.classList.contains("dismiss-display"))){t.hide();break}n=n.parentElement}})),t.state={stage:_.$.init,loading:"function"==typeof e.content,content:"function"!=typeof e.content?e.content:null,style:null,zIndex:w++},t.id=e.id||(0,s.default)(),t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){var e=(t=this.props).show,t=t.hotkey;e&&(this.show(),this.loadContent()),t&&window.addEventListener("keyup",this.handleWindowKeyup)}},{key:"componentWillUnmount",value:function(){this.props.hotkey&&window.removeEventListener("keyup",this.handleWindowKeyup),clearTimeout(this.showTimerTask)}},{key:"stageName",get:function(){var e=this.state.stage;return _.getName(e)}},{key:"isShow",get:function(){return this.isStage(_.$.shown)}},{key:"isHide",get:function(){return this.isStage(_.$.hidden)}},{key:"isStage",value:function(e){return _.isSame(e,this.state.stage)}},{key:"changeStage",value:function(e){var t={stage:_.getValue(e)};_.isSame(e,_.$.shown)&&(t.zIndex=w++),this.setState(t)}},{key:"setStyle",value:function(e,t){this.setState({style:e},t)}},{key:"show",value:function(e){var t=this;if(this.state.stage===_.$.init)return this.changeStage(_.$.ready),void(this.showTimerTask=setTimeout((function(){t.show(e)}),50));function n(){t.lastShowTime=Date.now(),null!=o&&o(t),null!=e&&e(t)}var r=(a=this.props).onShow,o=a.onShown,a=a.animation;null!=r&&r(this),this.changeStage(_.$.shown),a?setTimeout(n,400):n()}},{key:"hide",value:function(e){function t(){var t=(n=r.props).cache,n=n.onHidden;t&&r.reset(),null!=n&&n(r),"function"==typeof e&&e(r)}var n,r=this,o=(this.changeStage(_.$.hidden),n=this.props).animation;null!=(n=n.onHide)&&n(this),o?setTimeout(t,400):t()}},{key:"loadContent",value:function(e,t){function n(){null!=i&&i(!0,r.state.content,r),null!=t&&t(!0,r.state.content,r)}var r=this,o=this.props.content,a=(e="function"==typeof(o=void 0!==e?e:o)?o():o,(o=this.props).contentLoadFail),i=o.onLoad;if(e instanceof Promise)return this.setState({loading:!0,content:null}),void e.then((function(e){r.setState({content:e,loading:!1},n)})).catch((function(){r.setState({content:a,loading:!1},n)}));this.setState({content:e,loading:!1},n)}},{key:"reset",value:function(){this.setState({stage:_.$.init})}},{key:"render",value:function(){var e=this,t=(w=this.props).plugName,n=w.className,r=w.rootClassName,s=w.backdrop,c=w.backdropClassName,f=w.animation,p=(w.modal,w.show,w.content,w.onShown,w.onHidden,w.onShow,w.onHide,w.header),m=w.footer,y=(w.hotkey,w.cache,w.loadingContent),g=w.contentClassName,b=(w.contentLoadFail,w.children),v=w.style,w=(w.listenUpdateStyle,w.id,w.onAction,w.onLoad,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(w,u));return delete w.enableBackdropClick,delete w.zIndex,r=(0,l.classes)("user-app-no-dragable","display-layer",r,"display-stage-".concat(this.stageName),t?"display-layer-".concat(t):null,{"has-animation":!!f}),o.default.createElement("div",{onKeyUp:this.handleWindowKeyup,className:r,style:{zIndex:null!=(t=this.props.zIndex)?t:this.state.zIndex}},s&&o.default.createElement("div",{onClick:this.handleBackdropClick,className:(0,l.classes)("display-backdrop",c)},o.default.createElement("div",{className:"user-app-dragable dock-top"})),o.default.createElement("div",d({id:this.id,className:(0,l.classes)("display",f,n,{in:this.isStage(_.$.shown)}),style:h(h({},v),this.state.style),ref:function(t){e.displayElement=t},onClick:this.handleDisplayClick},w),p,o.default.createElement("div",{className:(0,l.classes)("content",g)},o.default.createElement(a.default,null,this.state.loading?!0===y?o.default.createElement(i.default,null):y:this.state.content)),b,m))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent),v(t.default=n,"STAGE",_),v(n,"defaultProps",{listenUpdateStyle:!1,plugName:"",animation:"scale-from-top",modal:!1,show:!0,content:"",contentLoadFail:null,contentClassName:"",header:null,footer:null,onShown:null,onShow:null,onHidden:null,onHide:null,onLoad:null,hotkey:!0,className:"layer",rootClassName:"",backdrop:!0,backdropClassName:"",loadingContent:!0,cache:!1,id:"",children:null,style:null,onAction:null,enableBackdropClick:!0})},32887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayShow=t.displaySetStyle=t.displayRemove=t.displayHide=t.displayGetRef=t.default=void 0;var r=a(n(67294)),o=a(n(73935));function a(e){return e&&e.__esModule?e:{default:e}}n=a(n(40254));var i="display-container",l=document.getElementById(i),s=(l||((l=document.createElement("div")).id=i,l.classList.add("affix"),document.body.appendChild(l)),null);o.default.render(r.default.createElement(n.default,{ref:function(e){s=e}}),l),i={show:t.displayShow=function(e,t){var n;return null==(n=s)?void 0:n.show(e,t)},hide:t.displayHide=function(e,t,n){var r;return null==(r=s)?void 0:r.hide(e,t,n)},remove:t.displayRemove=function(e,t){return s.remove(e,t)},getRef:t.displayGetRef=function(e){return null==(e=s&&s.getItem(e))?void 0:e.ref},setStyle:t.displaySetStyle=function(e,t,n){var r;return null==(r=s)?void 0:r.setStyle(e,t,n)}},t.default=i},4500:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=i(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=a?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(n=n(70389))&&n.__esModule?n:{default:n};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n=o.default.forwardRef((function(e,t){var n=e.inputProps,r=void 0===(e=e.dataHandler)?null:e;return e=(0,o.useCallback)((function(e){e.preventDefault(),e=function(e){e=e.currentTarget;var t,n={},r=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}((e=new FormData(e)).entries());try{for(r.s();!(t=r.n()).done;){var o=s(t.value,2),a=o[0],i=o[1];"string"==typeof i&&(n[a]=i)}}catch(e){r.e(e)}finally{r.f()}return n}(e),r&&r(e)}),[r]),n=n.map((function(e){return delete(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)).type,delete t.name,delete t.label,delete t.value,delete t.helpText,delete t.addon,o.default.createElement(a.default,{key:e.name,label:e.label,inputType:e.type,name:e.name,inputProps:t,defaultValue:e.value,helpText:e.helpText,addon:e.addon});var t})),o.default.createElement("form",{ref:t,onSubmit:e},n)})),t.default=n},93378:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(45697)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),i=p(n(73935)),l=n(64393),s=p(n(60609)),u=p(n(91705)),c=p(n(61862)),f=["id","className","onClick"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=d;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);var n,o=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(n=t?(n=v(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(d);function d(e){var t;if(this instanceof d)return(e=o.call(this,e)).state={suggestions:null},e._element=((t=document.createElement("div")).classList.add("dock"),t.style.zIndex=1050,t.style.overflow="hidden",t),e;throw new TypeError("Cannot call a class as a function")}return t=d,e=[{key:"scrollToPrimarySuggestion",value:function(){var e=document.querySelector(".app-mention-suggest-panel .primary");e&&(0,l.scrollIntoView)(e)}}],(n=[{key:"componentDidMount",value:function(){document.body.appendChild(this._element),this.tryFetchSuggestions(),this.fixPanelPosition();var e=this.props.onSuggestionsCountChange;e&&e(null!=(e=null==(e=this.state.suggestions)?void 0:e.length)?e:0)}},{key:"componentDidUpdate",value:function(e,t){var n,r=this.props.onSuggestionsCountChange;r&&(n=null!=(n=null==(n=this.state.suggestions)?void 0:n.length)?n:0)!==(null!=(t=null==(t=t.suggestions)?void 0:t.length)?t:0)&&r(n),this.tryFetchSuggestions(),this.fixPanelPosition(),d.scrollToPrimarySuggestion()}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this._element),this._unmounted=!0}},{key:"tryFetchSuggestions",value:function(){this._suggestionsState!==this.props.suggestionsState&&this.fetchSuggestions()}},{key:"fetchSuggestions",value:function(){var e=this,t=(n=this.props).suggestionsState,n=n.onRequestSuggestions;this._suggestionsState=t,n&&(n=n(t,(function(n){e._suggestionsState!==e.props.suggestionsState||e._unmounted||(!t.text.length&&Array.isArray(n)&&n.unshift("all"),e.setState({suggestions:n}))})),!t.text.length&&Array.isArray(n)&&n.unshift("all"),this.setState({suggestions:n}))}},{key:"fixPanelPosition",value:function(){var e,t,n,r,o,a,i=this._panel;i&&(e=i.clientWidth,t=i.clientHeight,n=(r=this._position).left,r=r.top,o=window.innerWidth,a=window.innerHeight,o<n+e&&(i.style.left="".concat(o-e,"px")),a<r+t&&(i.style.top="".concat(a-t,"px")))}},{key:"getSuggestions",value:function(){return this.state.suggestions}},{key:"getSelectedItem",value:function(){var e=this.state.suggestions,t=this.props.selectedIndex;return e[(100*e.length+t)%e.length]}},{key:"render",value:function(){var e=this,t=(h=this.props).className,n=h.style,r=h.suggestionsState,o=h.suggestionsItemRender,d=h.onClickItem,p=h.showMoreBtn,h=h.selectedIndex,g=this.state.suggestions,b=g&&g.length;if(!b)return null;var v,_=null;return g?b&&(v=(100*g.length+h)%g.length,_=a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"suggest-title flex space-between white",style:{width:"100%",padding:"5px 11px 4px 11px"}},a.default.createElement("span",{className:"x-text-black small"},c.default.string("chat.group.members")),p&&a.default.createElement("a",{href:"function"==typeof p?null:"string"==typeof p?p:"xxc://showChatMentionsDialog",className:"text-primary small rounded",onClick:"function"==typeof p?p:null},c.default.string("common.more"))),a.default.createElement("div",{className:"list column single align-start white"},g.map((function(e,t){if(t=v===t,o)return o(e,(function(t){return d(e,t)}),t);var n=e.id,r=e.className,i=void 0===(i=e.onClick)?d:i,u=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,f);return a.default.createElement(s.default,y({className:(0,l.classes)(r,t?"active":""),key:n},u,{onClick:i}))}))))):_=a.default.createElement(u.default,{className:"has-padding-h"}),this._position={left:Math.floor(r.left+10*r.trigger.length-5),bottom:Math.ceil(r.top)+1},i.default.createPortal(a.default.createElement("div",{className:(0,l.classes)("app-mention-suggest-panel dock dock-left dock-bottom",t),style:m(m({},this._position),n),ref:function(t){e._panel=t}},_),this._element)}}])&&g(t.prototype,n),e&&g(t,e),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.PureComponent),_(t.default=n,"propTypes",{selectedIndex:o.default.number,className:o.default.string,style:o.default.object,suggestionsState:o.default.object,onRequestSuggestions:o.default.func,suggestionsItemRender:o.default.func,onClickItem:o.default.func,showMoreBtn:o.default.oneOfType([o.default.func,o.default.string,o.default.bool]),onSuggestionsCountChange:o.default.func}),_(n,"defaultProps",{selectedIndex:0,className:null,style:null,suggestionsState:null,onRequestSuggestions:null,suggestionsItemRender:null,onClickItem:null,showMoreBtn:null,onSuggestionsCountChange:null})},10352:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(67294)),o=l(n(45697)),a=n(74933),i=["name"];function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){var t=e.name;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,i),r.default.createElement("div",s({},e,{dangerouslySetInnerHTML:{__html:(0,a.emojiToImage)(t)}}))}u.propTypes={name:o.default.string.isRequired},t.default=u},74933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeEmojiMessage=function(e){var t=e.match(/\^XUAN_EMOJI([^$]+)\$/);return null!==t&&l.emojiList[null==t?void 0:t[1]]?e.replace(/\^XUAN_EMOJI([^$]+)\$/g,(function(e,t){return l.shortnameToUnicode(t)})):e},t.default=void 0,t.emojiToImage=function(e){var t=[],n=[];return e=e.replace(/([\da-fA-F]{1,4}:){7}([\da-fA-F]{1,4})/gi,(function(e){return t.push(e),"{{IPV6_".concat(t.length-1,"}}")})).replace(/(([a-fA-F0-9]{2}[-:]){5}[a-fA-F0-9]{2})|(([a-fA-F0-9]{4}\.){2}[a-fA-F0-9]{4})/gi,(function(e){return n.push(e),"{{MAC_".concat(n.length-1,"}}")})),e=l.toImage(e),t.length&&(e=e.replace(/\{\{IPV6_(\d+)\}\}/g,(function(e,n){return t[n]}))),n.length&&(e=e.replace(/\{\{MAC_(\d+)\}\}/g,(function(e,t){return n[t]}))),e},t.encodeEmojiMessage=function(e){var t=/(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD\uDEC3-\uDEC5\uDEF0-\uDEF6])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])\uFE0F/g;return t.test(e)?(e=e.replace(t,(function(e){return"^XUAN_EMOJI".concat(e,"$")})),l.toShort(e)):e};var r=n(13544),o=(n=n(74160))&&n.__esModule?n:{default:n};function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,r.lazyModuleProxy)("emoji-toolkit",{browser:"joypixels",root:"assets",id:"emoji-toolkit",onLoad:function(e){e.emojioneList||(e.imagePathPNG=o.default.media["emoji.imagePathPNG"],e.imageType=o.default.media["emoji.imageType"],Object.defineProperty(e,"emojioneList",{get:function(){var t;return e._emojioneList||(t={},Object.keys(e.emojiList).forEach((function(n){var r=e.emojiList[n],o={unicode:r.uc_base!==r.uc_full?[r.uc_base,r.uc_full]:[r.uc_base],fname:r.uc_base,uc:r.uc_full,isCanonical:!0};r.shortnames&&r.shortnames.length&&r.shortnames.forEach((function(e){t[e]=i(i({},o),{},{isCanonical:!1})})),t[n]=o})),e._emojioneList=t),e._emojioneList}}))}});t.default=l},53595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEmojiListForPicker=t.default=void 0;var r=(n=n(74933))&&n.__esModule?n:{default:n};function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i={};t.initEmojiListForPicker=function(){var e,t,n;i.smile||(e=r.default.$,t=e.mapUnicodeCharactersToShort(),n=[],"||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||#|*|0|1|2|3|4|5|6|7|8|9||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||".split("|").forEach((function(r,a){var l,s;void 0!==(r=t[r])&&(l=e.emojiList[r],s=r.substring(1,r.length-1),i[s]={unicode:l.uc_base,unicode_alt:l.uc_base!==l.uc_full?l.uc_full:"",name:s,emoji_order:String(a+1),shortname:r,category:l.category,aliases:n,aliases_ascii:n,keywords:[s].concat(o(l.shortnames.map((function(e){return e.substring(1,e.length-1)}))))})})))},n=i,t.default=n},25396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=((n=n(74933))&&n.__esModule?n:{default:n}).default,t.default=n},88547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=s(n(55072)),a=n(64393),i=s(n(94128)),l=s(n(10352));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function y(){"browser"===i.default.type?window.location.reload():i.default.call("ui.reloadWindow")}n=function(e){var t=s;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(n=t?(n=h(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(r)}}(s);function s(e){var t;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");return m(p(t=i.call(this,e)),"componentName",void 0),m(p(t),"error",null),m(p(t),"errorInfo",null),m(p(t),"handleShowError",(function(){t.setState((function(e){return{showError:!e.showError}}))})),m(p(t),"copyErrorInfoToClipboard",(function(){var e="Error:\n".concat(null==(e=t.error)?void 0:e.message,"\nStackInfo:\n").concat(null==(e=t.errorInfo)?void 0:e.componentStack);navigator.clipboard.writeText(e)})),t.state={hasError:!1,showError:!1,isHoverOverErrorInfo:!1},"object"!==c(e=e.children)&&"function"!=typeof e||"type"in e&&"string"!=typeof e.type&&("string"==typeof e.type.name?t.componentName=e.type.name:"type"in e.type&&("object"===c(e.type.type)||"function"==typeof e.type.type)&&"name"in e.type.type&&"string"==typeof e.type.type.name&&(t.componentName=e.type.type.name)),t}return t=s,e=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(n=[{key:"componentDidCatch",value:function(e,t){var n;this.error=e,this.errorInfo=t,DEBUG?console.collapse(" ErrorBoundary ","redBgDark",null!=(n=this.componentName)?n:"","redPale"):console.group(" ErrorBoundary ",this.componentName),console.trace("error",e),console.trace("errorInfo",t),console.groupEnd()}},{key:"render",value:function(){var e,t=this;return this.state.hasError?this.props.fallbackComponent||r.default.createElement("div",{className:"w-full h-full bg-red-50 p-2 flex flex-col gap-2 flex-nowrap items-center"},r.default.createElement(l.default,{name:":cry:"}),r.default.createElement("div",{className:"text-sm font-medium"},"Something went wrong"),this.componentName?r.default.createElement("p",{className:"text-2xs"},"Error occurred in component ",this.componentName):null,r.default.createElement("div",{className:"flex justify-between w-full gap-3"},r.default.createElement("div",{className:"btn bg-gray-200 rounded",onClick:this.handleShowError},"Learn More"),r.default.createElement("div",{className:"btn text-white bg-red-400 rounded",onClick:y},"Reload")),this.state.showError?r.default.createElement("div",{className:"relative p-2",style:{borderRadius:"8px 8px",backgroundColor:"rgba(0, 0, 0, 0.05)",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"rgba(0, 0, 0, 0.05) 0 1px 4px, rgba(0, 0, 0, 0.08) 0 1px 2px"},onMouseEnter:function(){t.setState({isHoverOverErrorInfo:!0})},onMouseLeave:function(){t.setState({isHoverOverErrorInfo:!1})}},r.default.createElement(o.default,{className:(0,a.classes)("absolute top-2 right-2 btn rounded bg-gray-50 text-gray-500",{hidden:!this.state.isHoverOverErrorInfo}),click:this.copyErrorInfoToClipboard},"Copy"),r.default.createElement("div",{className:"text-2xs"},null==(e=this.error)?void 0:e.message),r.default.createElement("div",{className:"text-2xs whitespace-pre-line"},null==(e=this.errorInfo)?void 0:e.componentStack)):null):this.props.children}}])&&f(t.prototype,n),e&&f(t,e),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component),t.default=n},64208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==v(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=p(n(45697)),a=n(64393),i=p(n(87137)),l=p(n(14242)),s=p(n(60609)),u=p(n(74160)),c=n(16986),f=["forceCollapse","headingCreator","hideEmptyGroup","checkIsGroup","itemCreator","itemConverter","group","toggleWithHeading","defaultExpand","expandIcon","collapseIcon","onExpandChange","className","children","startPageSize","morePageSize","defaultPage","showMoreText","rootClassName"],d=["id","list"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(n=t?(n=M(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===v(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return O(r)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n,o=S(u);function u(e){var t;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");C(O(t=o.call(this,e)),"handleHeadingClick",(function(){t.toggle()})),C(O(t),"handleRequestMorePage",(function(){var e=t.state.page;t.setState({page:e+1})})),C(O(t),"renderHeading",(function(e){if(e.root&&void 0===e.title)return null;var n,o=null,s=(f=t.props).headingCreator,u=f.expandIcon,c=f.collapseIcon,f=f.toggleWithHeading;return s?o=s(e,O(t)):e.title&&(s=e.title,r.default.isValidElement(s)?o=s:"object"===v(s)?o=r.default.createElement(l.default,s):s&&(n=null,(u=t.isExpand?u:c)&&(n=r.default.isValidElement(u)?u:"object"===v(u)?r.default.createElement(i.default,b({onClick:f?null:t.handleHeadingClick},u)):r.default.createElement(i.default,{onClick:f?null:t.handleHeadingClick,name:u})),o=r.default.createElement("header",{onClick:f?t.handleHeadingClick:null,className:(0,a.classes)("heading",e.className)},n,r.default.createElement("div",{className:"title"},s)))),o}));var n=e.defaultExpand,s=e.group;return void 0!==s.expand?n=s.expand:"function"==typeof n&&(n=n(s,O(t))),t.state={expand:n,page:e.defaultPage},t}return t=u,e=[{key:"render",value:function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=[],i=(t=y(y({},u.defaultProps),t),n?Math.min(e.length,t.startPageSize+(1<n?(n-1)*t.morePageSize:0)):e.length),l=(n=t).checkIsGroup,f=n.itemConverter,p=n.hideEmptyGroup,h=0;h<i;++h){var m,v=f?f(e[h],h):e[h];v&&(!p||v.list&&v.list.length)&&(l&&(!0===l||l(v))||!l&&("group"===v.type||v.list)?a.push(r.default.createElement(u,{key:v.key||"id-".concat(v.id)||0,group:v,itemCreator:t.itemCreator,itemConverter:f,className:t.className,toggleWithHeading:t.toggleWithHeading,headingCreator:t.headingCreator,defaultExpand:t.defaultExpand,expandIcon:t.expandIcon,collapseIcon:t.collapseIcon,hideEmptyGroup:p,checkIsGroup:l,forceCollapse:t.forceCollapse,onExpandChange:t.onExpandChange,startPageSize:t.startPageSize,morePageSize:t.morePageSize,defaultPage:t.defaultPage,showMoreText:t.showMoreText})):t.itemCreator?a.push(t.itemCreator(v,h)):(v.id,v.list,m=g(v,d),a.push(r.default.createElement(s.default,b({key:v.key||v.id||h},m)))))}return(n=e.length-i)&&(n=t&&t.showMoreText?(0,c.formatString)(t.showMoreText,n):"...",a.push(r.default.createElement(s.default,{key:"showMore",icon:"chevron-double-down",className:"flex-middle item muted",title:r.default.createElement("span",{className:"title small"},n),onClick:o}))),a}}],(n=[{key:"toggle",value:function(e,t){var n=this;void 0===e&&(e=!this.state.expand),this.setState({expand:e},(function(){var r=(o=n.props).onExpandChange,o=o.group;r&&r(e,o),t&&t(e,o)}))}},{key:"expand",value:function(e){this.toggle(!0,e)}},{key:"collapse",value:function(e){this.toggle(!1,e)}},{key:"isExpand",get:function(){return!this.props.forceCollapse&&this.state.expand}},{key:"render",value:function(){var e=((i=this.props).forceCollapse,i.headingCreator,i.hideEmptyGroup,i.checkIsGroup,i.itemCreator,i.itemConverter,i.group),t=(i.toggleWithHeading,i.defaultExpand,i.expandIcon,i.collapseIcon,i.onExpandChange,i.className),n=i.children,o=(i.startPageSize,i.morePageSize,i.defaultPage,i.showMoreText,i.rootClassName),i=g(i,f),l=e.list,s=e.root,c=this.state.page,d=s||this.isExpand;return r.default.createElement("div",b({className:(0,a.classes)("list",t,(C(t={"is-expand":d,"is-collapse":!d},o,o&&s),C(t,"group-list-root",s),C(t,"app-group-list group-list",!s),t))},i),this.renderHeading(e),d&&l&&u.render(l,this.props,c,this.handleRequestMorePage),n)}}])&&_(t.prototype,n),e&&_(t,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.Component),C(t.default=n,"propTypes",{headingCreator:o.default.func,checkIsGroup:o.default.oneOfType([o.default.bool,o.default.func]),itemCreator:o.default.func,itemConverter:o.default.func,onExpandChange:o.default.func,group:o.default.object,className:o.default.string,rootClassName:o.default.string,children:o.default.any,defaultExpand:o.default.oneOfType([o.default.bool,o.default.func]),toggleWithHeading:o.default.bool,forceCollapse:o.default.bool,hideEmptyGroup:o.default.bool,collapseIcon:o.default.string,expandIcon:o.default.string,startPageSize:o.default.number,morePageSize:o.default.number,defaultPage:o.default.number,showMoreText:o.default.node}),C(n,"defaultProps",{headingCreator:null,itemCreator:null,itemConverter:null,group:null,className:null,rootClassName:null,children:null,defaultExpand:!0,toggleWithHeading:!0,collapseIcon:"chevron-right",expandIcon:"chevron-down",hideEmptyGroup:!0,checkIsGroup:null,onExpandChange:null,forceCollapse:!1,startPageSize:u.default.ui["page.start.size"]||20,morePageSize:u.default.ui["page.more.size"]||20,defaultPage:1,showMoreText:""})},77632:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=n(64393),l=n(16986),s=c(n(87137)),u=["className","count","startPageSize","morePageSize","loadMoreText","children"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){for(var t,n=e.className,r=e.count,a=void 0===(a=e.startPageSize)?20:a,c=void 0===(f=e.morePageSize)?20:f,f=e.loadMoreText,h=e.children,m=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),(t=p((0,o.useState)(Math.min(a,r)),2))[0]),y=t[1],g=Math.max(Math.min(a,r),m),b=(a=null,(t=g<r)&&(m={morePageSize:c,loadedCount:g,totalCount:r,nextCount:Math.min(c,r-g)},a="function"==typeof f?f(m):"string"==typeof f?(0,l.formatString)(f,m):o.default.isValidElement(f)?f:o.default.createElement(s.default,{name:"chevron-double-down"})),m=t?function(){y(Math.min(g+c,r))}:null,[]),v=0;v<g;++v)b.push(h(v,g));return o.default.createElement("div",d({className:(0,i.classes)("growing-list",n)},e),b,a?o.default.createElement("a",{className:"growing-list-load-more",onClick:m},a):null)}m.propTypes={children:a.default.func.isRequired,count:a.default.number.isRequired,className:a.default.string,startPageSize:a.default.number,morePageSize:a.default.number,loadMoreText:a.default.oneOfType([a.default.node,a.default.string,a.default.func])},m.defaultProps={className:null,startPageSize:20,morePageSize:20,loadMoreText:null},t.default=(0,o.memo)(m)},14242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=u(n(45697)),a=n(64393),i=u(n(87137)),l=u(n(2388)),s=["type","nav","avatar","icon","title","children","className"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(n=t?(n=h(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===d(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(o);function o(){if(this instanceof o)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=(h=this.props).type,t=h.nav,n=h.avatar,o=h.icon,u=h.title,c=h.children,p=h.className,h=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(h,s),y=null,g=(o&&(r.default.isValidElement(o)?y=o:"object"===d(o)?y=r.default.createElement(i.default,o):o&&(y=r.default.createElement(i.default,{name:o}))),null);return n&&(!0===n&&y?g=r.default.createElement(l.default,{icon:o}):r.default.isValidElement(n)?g=n:"object"===d(n)?g=r.default.createElement(l.default,n):n&&(g=r.default.createElement(l.default,{auto:n}))),o=null,u&&(r.default.isValidElement(u)?o=u:u&&(o=r.default.createElement("div",{className:"title"},u))),r.default.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,a.classes)("app-heading",p)},h),g,y,o,t,c)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent),m(t.default=n,"propTypes",{avatar:o.default.any,icon:o.default.any,title:o.default.any,children:o.default.any,nav:o.default.any,className:o.default.string,type:o.default.string}),m(n,"defaultProps",{avatar:null,icon:null,title:null,children:null,nav:null,className:null,type:"a"})},6015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useReducer)((function(){return{}}),{}));return{updateSymbol:e[0],forceUpdate:e=e[1]}};var r=n(67294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},72524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||o(e,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(s)),n=t[0],a=t[1];return(0,r.useEffect)((function(){if(e&&!(525600<=e))return function(e){l.delete(e),l.size||(clearInterval(i),i=null)}.bind(null,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=Symbol("minute-callback-id");return l.set(n,{callback:e,intervalMins:t,tick:s}),i=i||setInterval((function(){s++;var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){var r;if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(l.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;s-n.tick>=n.intervalMins&&(n.tick=s,n.callback(s))}}catch(e){t.e(e)}finally{t.f()}}),6e4),n}(a,e))}),[e]),n};var r=n(67294);function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i,l=new Map,s=0},32292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.useRef)((0,o.default)()).current};var r=n(67294),o=(t=n(61997))&&t.__esModule?t:{default:t}},58551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((0,o.getWindowSizeInfo)())),t=e[0],n=e[1];return(0,r.useEffect)((function(){return a.unsubscribeWindowSizeTypeChange.bind(null,(0,a.subscribeWindowSizeTypeChange)((function(e){n(e)})))}),[]),t};var r=n(67294),o=n(28361),a=n(92256);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},85978:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=c(n(70389)),l=n(64393),s=n(4829),u=["onChange","defaultValue","className","inputProps","onlyMotifyKeysText"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(n=t?(n=g(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return y(o)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=m(r);function r(e){var t;if(this instanceof r)return b(y(t=n.call(this,e)),"handleKeyDownEvent",(function(e){var n,r;8===e.keyCode||"Backspace"===e.code?t.changeValue(""):(n=(0,s.getKeyDecoration)(e),(0,s.isOnlyModifyKeys)(n)?(r=t.props.onlyMotifyKeysText,t.changeValue(n,r)):t.changeValue(n),e.preventDefault(),e.stopPropagation())})),b(y(t),"handleBlurEvent",(function(){var e=t.state.value;(0,s.isOnlyModifyKeys)(e)&&t.changeValue("",t.props.onlyMotifyKeysText)})),t.state={value:(0,s.formatKeyDecoration)(e.defaultValue),error:null},t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"changeValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=this.props.onChange;n&&n(e),this.setState({value:e,error:t})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var e=this,t=((a=this.props).onChange,a.defaultValue),n=a.className,r=a.inputProps,a=(a.onlyMotifyKeysText,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,u)),s=(c=this.state).error,c=c.value;return o.default.createElement(i.default,d({},a,{placeholder:t,className:(0,l.classes)(n,{"has-error":!!s}),helpText:s,ref:function(t){e.inputControl=t},value:c,inputProps:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onKeyDown:this.handleKeyDownEvent,onBlur:this.handleBlurEvent},r)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),b(t.default=n,"propTypes",{defaultValue:a.default.string,className:a.default.string,onChange:a.default.func,inputProps:a.default.object,onlyMotifyKeysText:a.default.string}),b(n,"defaultProps",{defaultValue:"",onChange:null,inputProps:null,className:null,onlyMotifyKeysText:""})},87137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,t.renderIcon=function(e,t){var n=null;return e&&(r.default.isValidElement(e)?n=e:"object"===u(e)?n=r.default.createElement(c,s({},t,e)):"string"==typeof e&&(n=r.default.createElement(c,s({name:e},t)))),n};var r=(t=n(67294))&&t.__esModule?t:{default:t},o=n(64393),a=["square","size","color","name","style","children","className"];function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){var t=void 0===(t=e.square)||t,n=void 0===(n=e.size)?0:n,i=void 0===(i=e.color)?"":i,u=void 0===(u=e.name)?"":u,c=e.style,f=e.children,d=void 0===(d=e.className)?"":d;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,a),c=l({},c),n&&(c.fontSize=(0,o.rem)(n<12?12*n:n)),i&&(c.color=i),t&&n&&(c.lineHeight=c.fontSize,c.height=c.fontSize,c.width=c.fontSize),i="",i=u.startsWith("mdi-")?"mdi ".concat(u):u.startsWith("icon-")?u:u.startsWith("sprite-")?"".concat(u," icon-sprite"):"mdi mdi-".concat(u),r.default.createElement("i",s({style:c},e,{className:(0,o.classes)("icon ".concat(i),d)}),f)}},63607:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.block,n=e.src,r=void 0===(d=e.onDeleteBlock)?null:d,d=void 0===(d=e.alt)?"":d,p=void 0===(e=e.previewOnDoubleClick)||e,h=(0,o.useRef)(),g=(0,o.useRef)(),b=((0,o.useEffect)((function(){h.current.parentNode.addEventListener("click",(function(e){y(e,h)}))}),[]),e=(0,o.useCallback)((function(){p&&(0,u.showMediaPreviewWindow)(n)}),[n,p]),(0,o.useCallback)((function(){r(t)}),[r,t])),v=(0,o.useCallback)((function(e){var t,r,o,u=[];s.default.has("clipboard.writeImageFromUrl")&&(t=s.default.access("clipboard.writeImageFromUrl"),u.push({id:"copy-image",label:l.default.string("menu.image.copy"),click:(r=m((function*(){try{var e=yield(yield fetch(n)).blob();if(e instanceof Blob){if(["image/gif","image/bmp","image/tiff","image/svg"].includes(e.type)&&s.default.access("clipboard.writeBmpTiffImageFromFile"))return void s.default.access("clipboard.writeBmpTiffImageFromFile")(f.default.fromBlob(e,{width:g.current.naturalWidth,height:g.current.naturalHeight}));var r=yield(0,i.blobToDataURI)(e);return void t(r,"base64")}return console.error("The image that cannot be copied is",e),(0,a.executeCommand)("showMessager",l.default.error("CANNOT_HANDLE_IMAGE"))}catch(e){return(0,a.executeCommand)("showMessager",l.default.error(e))}})),function(){return r.apply(this,arguments)})})),s.default.has("dialog.saveAsImageFromUrl")&&u.push({id:"save-image",label:l.default.string("menu.image.saveAs"),click:(o=m((function*(){try{var e=yield s.default.call("dialog.saveAsImageFromUrl",n);if(!e)return;var t=s.default.has("ui.openFileItem")?[{label:l.default.string("file.open"),click:function(){return s.default.call("ui.openFileItem",e)}},{label:l.default.string("file.openFolder"),click:function(){return s.default.call("ui.showItemInFolder",e)}}]:null;(0,a.executeCommand)("showMessager",l.default.format("file.fileSavedAt.format",e),{actions:t})}catch(e){return(0,a.executeCommand)("showMessager",l.default.error(e))}})),function(){return o.apply(this,arguments)})}),(0,a.executeCommand)("contextMenu",{x:e.pageX,y:e.pageY,target:e.target,placement:"top"},u),e.preventDefault()}),[n]);return o.default.createElement("div",{ref:h,className:"draft-editor-image-block relative flex-inline",onContextMenu:v},o.default.createElement("img",{ref:g,className:"draft-editor-image",src:n,alt:d,onDoubleClick:e,style:{maxHeight:100}}),r?o.default.createElement("button",{className:"btn iconbutton rounded hint--bottom-right draft-editor-image-delete dock dock-top dock-right black","data-hint":l.default.string("common.delete"),onClick:b,type:"button"},o.default.createElement(c.default,{name:"mdi-close"})):null)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(78717),i=n(18876),l=d(n(61862)),s=d(n(94128)),u=n(52677),c=d(n(87137)),f=d(n(12482));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)}))}}var y=function(e,t){t=null==(t=t.current)||null==(t=t.parentNode)?void 0:t.nextSibling,"I"!==e.target.nodeName&&t&&(e.preventDefault(),window.getSelection().removeAllRanges(),window.getSelection().collapse(t))}},25758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageViewerActions=function(e){var t=e.className,n=e.zoomOut,o=e.zoomIn,a=e.resetTransforms,i=e.rotate90,l=e.zoomInText,s=e.zoomOutText,u=e.zoomResetText,c=e.rotate90Text,f=e.saveAsText,d=e.handleActionSaveAs;return e=void 0===(e=e.movable)||e,r.default.createElement("div",{className:"toolbar flex flex-row ".concat(null!=t?t:"")},r.default.createElement("button",{className:"btn iconbutton has-padding hint--bottom-right","data-hint":s,type:"button",onClick:n,disabled:!e},r.default.createElement("i",{className:"icon icon-2x mdi mdi-magnify-minus-outline"})),r.default.createElement("button",{className:"btn iconbutton has-padding hint--bottom-right","data-hint":l,type:"button",onClick:o,disabled:!e},r.default.createElement("i",{className:"icon icon-2x mdi mdi-magnify-plus-outline"})),r.default.createElement("button",{className:"btn iconbutton has-padding hint--bottom-right","data-hint":u,type:"button",onClick:a},r.default.createElement("i",{className:"icon icon-2x mdi mdi-magnify-scan"})),r.default.createElement("button",{className:"btn iconbutton has-padding hint--bottom-right","data-hint":c,type:"button",onClick:i},r.default.createElement("i",{className:"icon icon-2x mdi mdi-format-rotate-90"})),r.default.createElement("button",{className:"btn iconbutton has-padding hint--bottom-right","data-hint":f,type:"button",onClick:d},r.default.createElement("i",{className:"icon icon-2x mdi mdi-arrow-down-bold-circle-outline"})))};var r=(t=n(67294))&&t.__esModule?t:{default:t}},88446:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=i(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=a?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(n=(n=n(45697))&&n.__esModule?n:{default:n},["alt","src","children"]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(n=t?(n=f(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return c(o)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var p=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=u(r);function r(e){var t;if(this instanceof r)return d(c(t=n.call(this,e)),"_handleImgError",(function(e){DEBUG&&console.warn("Cannot load image ".concat(t.props.src),e),e=t.props.src,t.setState({error:e})})),t.state={error:null},t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"render",value:function(){var e=(r=this.props).alt,t=r.src,n=r.children,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,a),i=this.state.error;return i&&i===t?"function"==typeof n?n():n:o.default.createElement("img",l({alt:e,src:t,onError:this._handleImgError},r))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent);d(t.default=p,"propTypes",{src:n.default.string.isRequired,alt:n.default.string,children:n.default.any}),d(p,"defaultProps",{alt:null,children:null})},70389:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(3812)),i=n(64393),l=u(n(61997)),s=["name","label","labelStyle","isLabelInline","placeholder","autoFocus","inputType","inputStyle","inputProps","value","helpText","helpTextClassName","onChange","className","inputClassName","defaultValue","disabled","children","hotkeyScope","hotKeys","addon"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(n=t?(n=m(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return h(o)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}a.default.filter=function(e){var t=(e=e.target||e.srcElement).tagName;return!/^(INPUT|TEXTAREA|SELECT)$/.test(t)||!!(e=(t=e.attributes["data-hotkey-scope"])&&t.value)&&(a.default.setScope(e),!0)},n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=p(r);function r(e){var t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");y(h(t=n.call(this,e)),"controlled",void 0),y(h(t),"controlName",void 0),y(h(t),"hotkeyScope",void 0),y(h(t),"autoFocusTask",void 0),y(h(t),"input",void 0),y(h(t),"handleChange",(function(e){var n=t.props.onChange;n&&(t.controlled||t.state.isCompositionEnd)&&n(e.target.value,e)})),y(h(t),"handleCompositionChange",(function(e,n){t.setState({isCompositionEnd:e},(function(){t.handleChange(n)}))})),y(h(t),"handleCompositionStart",(function(e){return t.handleCompositionChange(!1,e)})),y(h(t),"handleCompositionEnd",(function(e){return t.handleCompositionChange(!0,e)})),y(h(t),"updateRef",(function(e){t.input=e}));var o=e.value,a=e.name,i=e.hotkeyScope;return e=e.hotKeys,t.controlled=void 0!==o,t.controlName=a||(0,l.default)(),t.hotkeyScope=i||e?i||t.controlName:"",t.state={isCompositionEnd:!0},t}return t=r,(e=[{key:"componentDidMount",value:function(){var e=this,t=(n=this.props).autoFocus,n=n.hotKeys;t&&(this.autoFocusTask=setTimeout((function(){e.focus(),e.autoFocusTask=null}),100)),n&&Object.keys(a.default).forEach((function(t){(0,a.default)(t,e.hotkeyScope,a.default[t])}))}},{key:"componentWillUnmount",value:function(){this.autoFocusTask&&(clearTimeout(this.autoFocusTask),this.autoFocusTask=null),this.hotkeyScope&&a.default.deleteScope(this.hotkeyScope)}},{key:"value",get:function(){return(this.controlled?this.props:this.input).value}},{key:"setValue",value:function(e){if(this.controlled)throw new Error('Cannot call set value method in a controlled form control, use property "value" to update value.');this.input.value=e}},{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=(w=this.props).name,t=w.label,n=w.labelStyle,r=w.isLabelInline,a=w.placeholder,l=(w.autoFocus,w.inputType),u=w.inputStyle,c=w.inputProps,d=w.value,p=w.helpText,h=w.helpTextClassName,m=(w.onChange,w.className),y=w.inputClassName,g=w.defaultValue,b=w.disabled,v=w.children,_=(w.hotkeyScope,w.hotKeys,w.addon),w=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(w,s);return o.default.createElement("div",f({className:(0,i.classes)("control",m,{disabled:b})},w),t&&o.default.createElement("label",{htmlFor:this.controlName,style:n},t),o.default.createElement("div",{className:(0,i.classes)("relative",{"inline-block":r})},o.default.createElement("input",f({name:e,"data-hotkey-scope":this.hotkeyScope,disabled:!!b,ref:this.updateRef,value:d,defaultValue:g,id:this.controlName,type:l,className:(0,i.classes)("input",y,{"pr-10":!!_}),placeholder:a,onChange:this.handleChange,onCompositionStart:this.handleCompositionStart,onCompositionUpdate:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,style:u,spellCheck:!1},c)),_&&o.default.createElement("span",{className:"absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none text-xs text-nowrap"},_)),p?o.default.createElement("p",{className:null!=h?h:"help-text"},p):null,v)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent),y(t.default=n,"defaultProps",{label:" ",isLabelInline:!1,className:"",placeholder:"",autoFocus:!1,style:null,inputType:"text",value:void 0,helpText:null,helpTextClassName:void 0,onChange:null,disabled:!1,inputClassName:"rounded",name:"",labelStyle:null,inputStyle:null,inputProps:null,children:null,defaultValue:void 0,hotkeyScope:null,hotKeys:null,addon:""})},60609:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0===(t=e.type)?"a":t,n=e.avatar,u=e.icon,c=e.title,f=e.subtitle,d=e.children,p=e.actions,h=void 0!==(h=e.divider)&&h,m=e.className,y=(e=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l),u=(0,a.renderIcon)(u),n=(0,i.renderAvatar)(n,u),null);return c&&(r.default.isValidElement(c)?y=c:c&&(y=r.default.createElement("div",{className:"title"},c))),c=null,f&&(r.default.isValidElement(f)?c=f:f&&(c=r.default.createElement("div",{className:"subtitle"},f))),c=(f=c||d)?r.default.createElement("div",{className:"content"},y,c,d):y,r.default.createElement(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,o.classes)("app-list-item item",m,{divider:h,"with-avatar":Boolean(n),"multi-lines":Boolean(f)})},e),n,u,c,p)};var r=(t=n(67294))&&t.__esModule?t:{default:t},o=n(64393),a=n(87137),i=n(2388),l=["type","avatar","icon","title","subtitle","children","actions","divider","className"];function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}},89212:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=(n=n(451))&&n.__esModule?n:{default:n},l=["source","sourceType","width","height","thumbnailWidth","thumbnailHeight","mediaType","status","maxWidth","maxHeight","controls","thumbnail","hint","progress","loadingText","brokenMessage","onRequestReload","className","style","children"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=(0,o.memo)((function(e){var t=e.source,n=e.sourceType,r=e.width,s=e.height,c=e.thumbnailWidth,d=e.thumbnailHeight,p=void 0===(p=e.mediaType)?"image":p,h=void 0===(h=e.status)?"ok":h,m=void 0===(m=e.maxWidth)?2e3:m,y=void 0===(y=e.maxHeight)?360:y,g=void 0===(g=e.controls)||g,b=e.thumbnail,v=e.hint,_=void 0===(_=e.progress)?0:_,w=e.loadingText,S=e.brokenMessage,O=e.onRequestReload,M=e.className,C=e.style,k=e.children,E=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,l),!(!r||!s)),P=!(!c||!d),T={maxHeight:y,maxWidth:m},j=(E&&!P&&(s<=T.maxHeight&&r<=T.maxWidth?(T.maxHeight=s,T.maxWidth=r):(j=r,(x=s)>T.maxHeight&&(x=T.maxHeight,j=Math.floor(x*r/s),T.maxWidth=j),j>T.maxWidth&&(x=Math.floor(T.maxWidth*x/j),T.maxHeight=x)),T.width=T.maxWidth,T.maxWidth="100%"),P&&(T.width=c,T.maxHeight=d,T.maxWidth="100%"),f(f(f({},T),C),{},{height:"100%"})),x=null;return E&&(P={paddingBottom:E?y<s&&r/s<y/m?y:r?"".concat(100*s/r,"%"):0:0},x=o.default.createElement("div",{className:"media-holder-aspectratio",style:P})),o.default.createElement("div",u({className:(0,a.classes)(M,"media-holder media-holder-status-".concat(h," media-holder-media-").concat(p),{"has-given-size":!!E,"not-given-size":!E}),style:j},e),o.default.createElement(i.default,{status:h,mediaType:p,className:M,onRequestReload:O,brokenMessage:S,source:t,thumbnail:b,sourceType:n,progress:_,loadingText:w,hint:v,controls:g,maxWidth:j.maxWidth}),x,k)}))},61323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMediaPreviewDialog=void 0;var r=l(n(67294)),o=l(n(61997)),a=l(n(48516)),i=l(n(57239));function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.showMediaPreviewDialog=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.default)();return a.default.show({closeButton:!1,actions:!1,className:"layer-image-viewer dock clean",content:r.default.createElement(i.default,s({className:"dock",obtainer:e,onRequestClose:function(){return a.default.hide(n)}},t.mediaPreviewProps)),id:n})}},57239:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(87137)),i=f(n(47321)),l=n(25758),s=f(n(89212)),u=n(64393),c=f(n(75345));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(o)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function b(e){e.target.closest("a,button,img")&&e.stopPropagation()}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=h(r);function r(e){var t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");if(g(m(t=n.call(this,e)),"mouseMoveTimer",void 0),g(m(t),"unmounted",void 0),g(m(t),"advancedImageViewer",void 0),g(m(t),"handleMouseMove",(0,c.default)((function(){!1===t.state.showBtns&&t.setState({showBtns:!0}),t.mouseMoveTimer&&clearTimeout(t.mouseMoveTimer),t.mouseMoveTimer=setTimeout((function(){t.setState({showBtns:!1})}),2e3)}))),g(m(t),"reloadMedia",(function(){var e,n;"obtain"in t.props.obtainer&&null!=(e=(n=t.props.obtainer).obtain)&&e.call(n,t.state.current).then(t.updateCurrentMedia).catch(console.error)})),g(m(t),"updateCurrentMedia",(function(e){t.unmounted||t.setState({current:e,loading:!1},(function(){var n,r;null!=(n=(r=t.props).onShow)&&n.call(r,e)}))})),g(m(t),"handleSwithPrevMedia",(function(){var e,n=t.props.obtainer;"obtainPrev"in n&&n.obtainPrev&&("prev"in(e=t.state.current)&&!1===e.prev||t.setState({loading:!0},(function(){"obtainPrev"in n&&n.obtainPrev(e).then(t.updateCurrentMedia).catch(console.error)})))})),g(m(t),"handleSwithNextMedia",(function(){var e,n=t.props.obtainer;"obtainNext"in n&&n.obtainNext&&("next"in(e=t.state.current)&&!1===e.next||t.setState({loading:!0},(function(){n.obtainNext(e).then(t.updateCurrentMedia).catch(console.error)})))})),g(m(t),"handleKeyDown",(function(e){"ArrowUp"===(e=e.code)?t.zoomIn():"ArrowLeft"===e?t.handleSwithPrevMedia():"ArrowDown"===e?t.zoomOut():"ArrowRight"===e&&t.handleSwithNextMedia()})),g(m(t),"setAdvancedImageViewer",(function(e){t.advancedImageViewer=e})),g(m(t),"resetTransforms",(function(e){null!=(e=(null==e?void 0:e.target).closest("button,a"))&&e.blur(),null!=(e=t.advancedImageViewer)&&e.resetTransforms()})),g(m(t),"zoomIn",(function(e){null!=(e=(null==e?void 0:e.target).closest("button,a"))&&e.blur(),null!=(e=t.advancedImageViewer)&&e.zoomIn()})),g(m(t),"zoomOut",(function(e){null!=(e=(null==e?void 0:e.target).closest("button,a"))&&e.blur(),null!=(e=t.advancedImageViewer)&&e.zoomOut()})),g(m(t),"rotate90",(function(e){null!=(e=(null==e?void 0:e.target).closest("button,a"))&&e.blur(),null!=(e=t.advancedImageViewer)&&e.rotate90(),requestAnimationFrame((function(){t.setState({movable:t.isMovable()})}))})),g(m(t),"handleContextMenu",(function(e){var n,r,o={x:e.clientX,y:e.clientY};null!=(n=(r=t.props).onContextMenu)&&n.call(r,o,t.state.current.src,{width:t.advancedImageViewer.imageElement.naturalWidth,height:t.advancedImageViewer.imageElement.naturalHeight}),e.preventDefault()})),g(m(t),"handleActionSaveAs",(function(e){var n;null!=(e=(null==e?void 0:e.target).closest("button,a"))&&e.blur(),null!=(n=(e=t.props).handleMediaSaveAs)&&n.call(e,t.state.current.src)})),g(m(t),"isMovable",(function(){var e;return null==(e=t.advancedImageViewer)?void 0:e.isMovable})),(e=e.obtainer)&&(e.current||"obtainCurrent"in e&&e.obtainCurrent))return t.state={loading:!e.current,current:null!=(e=e.current)?e:{},showBtns:!0,movable:!0},t.mouseMoveTimer=null,t;throw new Error('The prop "obtainer" of MediaPreview must be a object and implement "current" prop or "obtainCurrent" func to provide current image information.')}return t=r,(e=[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.obtainer;"obtainCurrent"in n&&null!=(e=n.obtainCurrent)&&e.call(n).then(this.updateCurrentMedia).catch(console.error),setTimeout((function(){t.setState({showBtns:!1})}),2e3),document.addEventListener("mousemove",this.handleMouseMove)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.handleMouseMove),this.unmounted=!0}},{key:"render",value:function(){var e=(v=this.props).prevText,t=v.nextText,n=v.obtainText,r=v.onRequestClose,c=v.obtainer,f=v.title,d=v.showActions,p=v.className,h=v.zoomInText,m=v.zoomOutText,y=v.zoomResetText,g=v.rotate90Text,v=v.saveAsText,_=(C=this.state.current).prev,w=C.next,S=C.src,O=void 0===(O=C.mediaType)?"image":O,M=C.title,C=C.errorMessage,k=(P=this.state).loading,E=P.movable,P=P.showBtns,T=[],j=null;return k?T.push(o.default.createElement(a.default,{name:"mdi-loading",className:"spin text-gray inline-block",size:64,key:"loading"})):(_&&c.obtainPrev&&T.push(o.default.createElement("a",{className:(0,u.classes)("switch-image-btn","prev-image-btn","center-content","rounded","no-radius-left",{show:P}),title:e,onMouseUp:this.handleSwithPrevMedia,key:"prevBtn"},o.default.createElement(a.default,{name:"mdi-chevron-left",size:80}))),C?T.push(o.default.createElement("div",{className:"text-center",key:"error"},o.default.createElement("div",{className:"lead space",key:"errorMessage"},C),o.default.createElement("a",{className:"btn primary rounded",onClick:this.reloadMedia},o.default.createElement(a.default,{name:"mdi-reload"}),o.default.createElement("span",{className:"text"},n)))):"audio"===O||"video"===O?T.push(o.default.createElement(s.default,{source:S,mediaType:O,maxWidth:null,maxHeight:null})):(T.push(o.default.createElement(i.default,{key:"imageViewer",onRequestClose:r,onKeyDown:this.handleKeyDown,src:S,ref:this.setAdvancedImageViewer})),d&&(j=o.default.createElement("div",{className:"flex justify-center dock dock-bottom has-padding-lg"},o.default.createElement(l.ImageViewerActions,{className:(0,u.classes)({show:P}),zoomOut:this.zoomOut,zoomIn:this.zoomIn,resetTransforms:this.resetTransforms,rotate90:this.rotate90,zoomInText:h,zoomOutText:m,zoomResetText:y,rotate90Text:g,saveAsText:v,handleActionSaveAs:this.handleActionSaveAs,movable:E})))),w&&c.obtainNext&&T.push(o.default.createElement("a",{className:(0,u.classes)("switch-image-btn","next-image-btn","center-content","rounded","no-radius-right",{show:P}),title:t,onMouseUp:this.handleSwithNextMedia,key:"nextBtn"},o.default.createElement(a.default,{name:"mdi-chevron-right",size:80})))),k=null,f&&(k=o.default.createElement("div",{className:"title row single flex-middle flex"},o.default.createElement(a.default,{name:"video"===O?"mdi-video":"audio"===O?"mdi-music":"mdi-image-search-outline",size:16,className:"muted"})," ",o.default.createElement("span",{className:"text"},!0!==f?f:"",!0!==f&&M?" - ":"",M||""))),o.default.createElement("div",{className:"media-preview column single ".concat(p||""),onClick:b},o.default.createElement("header",{className:"flex-none heading"},k),o.default.createElement("div",{className:"content center-content flex-auto",onContextMenu:this.handleContextMenu},T),j)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),g(t.default=n,"defaultProps",{onRequestClose:null,onShow:null,title:null,showActions:!1,nextText:"Next",prevText:"Previous",obtainText:"Obtain",className:null,zoomInText:null,zoomOutText:null,rotate90Text:null,zoomResetText:null,onContextMenu:null,saveAsText:null,handleMediaSaveAs:null})},451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.status,n=e.className,l=e.onRequestReload,s=e.mediaType,f=e.brokenMessage,d=e.source,p=e.thumbnail,h=e.progress,m=e.hint,y=e.loadingText,g=e.controls,b=e.sourceType;return e=e.maxWidth,n=r.default.createElement("div",{className:(0,a.classes)("media-holder-broken gray-pale text-gray",n,{state:!!l}),onClick:l},r.default.createElement(i.default,{name:"image"===s?"image-off":"image-broken",className:"icon-3x"}),r.default.createElement("div",{className:"text text-center"},f,l?r.default.createElement("div",{className:"strong"},o.default.string("common.rerequest")):null)),"broken"===t?n:"loading"===t?r.default.createElement("div",{className:"media-holder-progress".concat(h?"":" media-holder-waiting")},r.default.createElement("div",{className:"dock center-content"},r.default.createElement(i.default,{name:{image:"image-filter-hdr",video:"video",audio:"music"}[s],className:"muted icon-5x"})),r.default.createElement("div",{className:"text flex flex-middle"},r.default.createElement(i.default,{name:"loading",className:"inline-block spin inline-block text-shadow-white"})," ",e<120?"":y,h?"".concat(Math.floor(h),"%"):""),r.default.createElement("div",{className:"progress"},r.default.createElement("div",{className:"bar",style:{width:h?"".concat(h,"%"):"100%"}}))):d?"video"===s||"audio"===s?(l=Array.isArray(d)?d.map((function(e,t){var n=e.src;return e=e.type,r.default.createElement("source",{src:n,type:e,key:null!=t?t:n})})):r.default.createElement("source",{src:d,type:b}),"video"===s?r.default.createElement("video",{controls:g,muted:!0,autoPlay:!0,className:"media-holder-media",onPlay:c},l,n):r.default.createElement("audio",{controls:g,className:"media-holder-media"},l,n)):r.default.createElement("img",{className:"media-holder-media",src:d,alt:m||d,"data-broken":f,onError:u}):p?r.default.createElement("img",{src:p,alt:m||d,"data-broken":f,onError:u}):n};var r=s(n(67294)),o=s(n(61862)),a=n(64393),i=s(n(87137)),l=n(68788);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){e.target.classList.add("broken")}function c(e){var t=(e=e.target).getVideoPlaybackQuality();0===(null==t?void 0:t.totalVideoFrames)&&((0,l.showMessager)(o.default.string("file.cannotPreviewTheFile")),e.remove())}},68788:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMessager=t.default=void 0;var r=u(n(67294)),o=u(n(32887)),a=n(64393),i=u(n(87137)),l=u(n(61997)),s=["type","autoHide","closeButton","actions","position","onAction"];function u(e){return e&&e.__esModule?e:{default:e}}n={show:t.showMessager=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,u=t.type,c=t.content,f=t.autoHide,d=t.closeButton,p=t.actions,h=t.className,m=t.rootClassName,y=t.position,g=t.id,b=t.icon,v=t.onAction;return g=g||(0,l.default)(),void 0===d&&(d=!0),u=u||"info",m=(0,a.classes)(m,"position-".concat(y=void 0===y?"top":y)),h=(0,a.classes)("messager layer",h||"rounded",u),c=c||b?r.default.createElement("div",{className:"row single flex-middle"},b?"string"==typeof b?r.default.createElement(i.default,{className:"flex-auto messager-icon",name:b}):r.default.createElement("div",{className:"flex-none messager-icon"},b):null,c?r.default.createElement("div",{className:"flex-auto messager-content"},r.default.createElement("h5",{className:"messager-title"},e),r.default.createElement("div",null,c)):r.default.createElement("div",{className:"flex-auto messager-content"},e)):e,p=p||[],d&&p.push({icon:"close",click:function(){return o.default.hide(g),!0}}),y=null,p&&p.length&&(y=r.default.createElement("nav",{className:"nav"},p.map((function(e,t){return r.default.createElement("a",{href:e.href||e.url,onClick:function(e,t){var n=null;v&&(n=v(e,t)),!1!==(n=e.click?e.click(e,t):n)&&o.default.hide(g)}.bind(null,e),key:e.name||t,title:e.label},e.icon?r.default.createElement(i.default,{name:e.icon}):e.label)})))),f&&("number"!=typeof f&&(f=5e3),setTimeout((function(){o.default.hide(g)}),f)),t.type,t.autoHide,t.closeButton,t.actions,t.position,t.onAction,(u=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,s)).backdropClassName=null!=(b=u.backdropClassName)?b:"clean",u.rootClassName=m,u.className=h,u.content=c,u.footer=y,u.plugName="messager",u.id=g,e=u,o.default.show(e,n)},hide:o.default.hide,remove:o.default.remove},t.default=n},48516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showPrompt=t.showModal=t.showConfirm=t.showAlert=t.setLangObj=t.default=void 0;var r=f(n(67294)),o=f(n(32887)),a=n(64393),i=f(n(87137)),l=f(n(61997)),s=f(n(70389)),u=["title","closeButton","actions","onSubmit","onCancel","headingClassName","headerButtons"],c=["inputProps","onSubmit"];function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function h(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;null==e.id&&(e.id=(0,l.default)());var n,s,c=e.className,f=void 0===(f=e.actions)?[{type:"submit"},{type:"cancel"}]:f,d=e.id,h=e.title,b=e.onAction,v=e.onSubmit,_=e.onCancel,w=e.headingClassName,C=void 0===(C=e.closeButton)||C,k=void 0===(k=e.enableBackdropClick)||k,E=void 0===(E=e.headerButtons)?[]:E,P=(c=(0,a.classes)("modal layer rounded",c||""),"string"==typeof(f=!0===f?[{type:"submit"},{type:"cancel"}]:f)&&"cancel"===(f="submit"===f?[{type:"submit"}]:f)&&(f=[{type:"cancel"}]),{submit:9e3,primary:8e3,secondary:7e3,cancel:-9e3}),T=null,j=(f&&null!=(j=f)&&j.length&&"object"===g(f)&&(f=f.map((function(e,t){return null==e.order&&(e.order=t+P[e.type]),e.type&&(null==e.className&&(e.className=M[e.type]),null==e.label&&(e.label="submit"===e.type?S.string("common.confirm"):"cancel"===e.type?S.string("common.cancel"):e.type.toUpperCase())),e})),n=O?1:-1,f.sort((function(e,t){return(e.order-t.order)*n})),s=function(){e=function*(e,t){var n=[];b&&n.push(b(e,t)),v&&"submit"===e.type&&n.push(v(e,t)),_&&"cancel"===e.type&&n.push(_(e,t)),e.click&&n.push(e.click(e,t)),!1!==(yield Promise.all(n)).reduce((function(e,t){return e&&t}),!0)&&o.default.hide(d)};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,l,"next",e)}function l(e){y(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e,n){return t.apply(this,arguments)}}(),T=r.default.createElement("footer",{className:"footer toolbar"},f.map((function(e,t){return r.default.createElement("button",{className:(0,a.classes)("btn rounded",e.className,e.type?"action-".concat(e.type):""),type:"button",onClick:s.bind(null,e),key:e.id||t,title:e.label},e.label)})))),h||C?r.default.createElement("header",{className:(0,a.classes)("heading",w)},r.default.createElement("div",{className:"title"},h),C||E.length?r.default.createElement("nav",{style:{overflow:"visible"},title:S.string("common.close"),className:"nav"},E.map((function(e){return r.default.createElement("a",{key:e.id,className:"close rounded",onClick:e.onClick},r.default.createElement(i.default,{name:e.iconName}))})),C&&r.default.createElement("a",{className:"close rounded",onClick:function(){return o.default.remove(d)}},r.default.createElement(i.default,{name:"close"}))):null):null);return(e=m(m({},e),{},{className:c,header:j,footer:T,closeButton:C,plugName:"modal",enableBackdropClick:k})).title,e.closeButton,e.actions,e.onSubmit,e.onCancel,e.headingClassName,e.headerButtons,(f=p(e,u)).className=c,f.header=j,f.footer=T,f.enableBackdropClick=k,f.plugName="modal",w=f,o.default.show(w,t)}function v(e,t,n){return b(m({modal:!0,content:e,actions:"submit"},t),n)}function _(e,t,n){return new Promise((function(r){var o=!1;b(m({closeButton:!1,modal:!0,content:e,actions:!0,onAction:function(e){o||(o=!0,r("submit"===e.type))},onHidden:function(){o||r(!1)}},t),n)}))}function w(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=n.inputProps,i=n.onSubmit,l=(n.inputProps,n.onSubmit,p(n,c));return new Promise((function(n){var u=!1,c=t;b(m({closeButton:!1,modal:!0,title:e,content:r.default.createElement(s.default,d({autoFocus:!0,defaultValue:t,onChange:function(e){c=e}},a)),actions:!0,onAction:function(e){if("submit"===e.type){if(i&&!1===i(c))return!1;u=!0,n(c)}},onHidden:function(){u||n(t)}},l),o)}))}var S,O=window.navigator.userAgent.includes("Mac OS"),M={submit:"bg-primary",primary:"bg-primary",secondary:"danger x-outline",cancel:"gray x-outline"};t.setLangObj=function(e){S=e},t.showModal=b,t.showAlert=v,t.showConfirm=_,t.showPrompt=w,n={show:b,alert:v,confirm:_,prompt:w,hide:o.default.hide,remove:o.default.remove},t.default=n},82371:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(61862)),i=n(64393),l=u(n(87137)),s=["page","className","recTotal","pageTotal","pageRecCount","recPerPage","onPageChange","showFirstLast","hintClass","reversed"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(n=t?(n=g(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return y(o)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=m(r);function r(){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return b(y(e=n.call.apply(n,[this].concat(o))),"totalPage",void 0),b(y(e),"handlePrevBtnClick",(function(){e.props.onPageChange&&1<e.props.page&&e.props.onPageChange(e.props.page-1)})),b(y(e),"handleNextBtnClick",(function(){e.props.onPageChange&&e.props.page<e.totalPage&&e.props.onPageChange(e.props.page+1)})),b(y(e),"handleFirstBtnClick",(function(){e.props.onPageChange&&1<e.props.page&&e.props.onPageChange(1)})),b(y(e),"handleLastBtnClick",(function(){e.props.onPageChange&&e.props.page<e.totalPage&&e.props.onPageChange(e.totalPage)})),e}return t=r,(e=[{key:"render",value:function(){var e=(y=this.props).page,t=y.className,n=y.recTotal,r=y.pageTotal,u=y.pageRecCount,c=y.recPerPage,p=(y.onPageChange,y.showFirstLast),h=y.hintClass,m=y.reversed,y=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(y,s);this.totalPage=r||Math.ceil(n/c);var g=(r=d(m?[e<=1,e>=this.totalPage]:[e>=this.totalPage,e<=1],2))[0],b=(r=r[1],null),v=null;return p&&(!0===p||5<this.totalPage)&&(b=o.default.createElement("div",{className:h,"data-hint":a.default.string("pager.first")},o.default.createElement("button",{disabled:r,type:"button",className:"iconbutton btn rounded",onClick:m?this.handleLastBtnClick:this.handleFirstBtnClick},o.default.createElement(l.default,{name:"chevron-double-left"}))),v=o.default.createElement("div",{className:h,"data-hint":a.default.string("pager.last")},o.default.createElement("button",{disabled:g,type:"button",className:"iconbutton btn rounded",onClick:m?this.handleFirstBtnClick:this.handleLastBtnClick},o.default.createElement(l.default,{name:"chevron-double-right"})))),o.default.createElement("div",f({},y,{className:(0,i.classes)("pager flex flex-middle",t)}),b,o.default.createElement("div",{className:h,"data-hint":a.default.string("pager.prev")},o.default.createElement("button",{disabled:r,type:"button",className:"iconbutton btn rounded",onClick:m?this.handleNextBtnClick:this.handlePrevBtnClick},o.default.createElement(l.default,{name:"chevron-left"}))),n?o.default.createElement("div",{className:h,"data-hint":u?"".concat((e-1)*c+1," ~ ").concat(Math.min(n,(e-1)*c+u)," / ").concat(n):null},o.default.createElement("strong",null,m?this.totalPage-e+1:e)," / ",o.default.createElement("strong",null,this.totalPage)):null,o.default.createElement("div",{className:h,"data-hint":a.default.string("pager.next")},o.default.createElement("button",{disabled:g,type:"button",className:"iconbutton btn rounded",onClick:m?this.handlePrevBtnClick:this.handleNextBtnClick},o.default.createElement(l.default,{name:"chevron-right"}))),v)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent),b(t.default=n,"defaultProps",{page:1,recTotal:0,recPerPage:20,pageTotal:!1,onPageChange:null,className:null,pageRecCount:0,showFirstLast:"auto",hintClass:"hint--bottom",reversed:!1})},21898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showPopover=t.default=void 0;var r=l(n(67294)),o=l(n(32887)),a=n(64393),i=l(n(61997));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n={show:t.showPopover=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=(m=n).className,c=m.arrow,f=m.arrowSize,d=m.width,p=m.height,h=m.style,m=m.offset;if(!e&&DEBUG)throw new Error("Position is not defined to show the popover.");n.id||(n.id=(0,i.default)()),(c=void 0===c||c)?f?"number"==typeof f&&(f={width:f,height:f/2}):f={width:20,height:10}:f={width:0,height:0},d=d||200,p=p||100;var y=window.innerHeight,g=window.innerWidth,b=void 0===(b=e.target)?document.activeElement:b,v=void 0===e.x?e.pageX||0:e.x,_=void 0===e.y?e.pageY||0:e.y,w=e.placement||"auto",S=e.align||"center";if("auto"===w){for(var O=0,M="top",C=0,k=[{name:"top",size:_},{name:"right",size:g-v},{name:"bottom",size:y-_},{name:"left",size:v}];C<k.length;C++){var E=k[C];O<E.size&&(O=E.size,M=E.name)}w=M}if(b&&b.getBoundingClientRect){var P=b.getBoundingClientRect();switch(w){case"top":v=P.left+Math.floor(P.width/2),_=P.top;break;case"right":v=P.left+P.width,_=P.top+Math.floor(P.height/2);break;case"bottom":v=P.left+Math.floor(P.width/2),_=P.top+P.height;break;case"left":v=P.left,_=P.top+Math.floor(P.height/2)}}var T=0,j=0,x={};switch(w){case"top":j=Math.max(0,Math.min(y-p,_-p-f.height)),T="start"===S?Math.floor(Math.max(0,Math.min(g-d,v-c.width/2))):"end"===S?Math.floor(Math.max(0,Math.min(g-d,v-d+c.width/2))):Math.floor(Math.max(0,Math.min(g-d,v-d/2))),x.left=Math.max(T+f.width/2,Math.min(T+d-f.width/2,v));break;case"right":T=Math.floor(Math.max(0,Math.min(g-d,v+f.height))),j="start"===S?Math.max(0,Math.min(y-p,_-c.width/2)):"end"===S?Math.max(0,Math.min(y-p,_-p+c.width/2)):Math.max(0,Math.min(y-p,_-p/2)),x.top=Math.max(j+f.height/2,Math.min(j+p-f.height/2,_));break;case"bottom":j=Math.max(0,_+f.height),T="start"===S?Math.floor(Math.max(0,Math.min(g-d,v-c.width/2))):"end"===S?Math.floor(Math.max(0,Math.min(g-d,v-d+c.width/2))):Math.floor(Math.max(0,Math.min(g-d,v-d/2))),x.left=Math.max(T+f.width/2,Math.min(T+d-f.width/2,v));break;case"left":T=Math.floor(Math.max(0,Math.min(g-d,v-d-f.height))),j="start"===S?Math.max(0,Math.min(y-p,_-c.width/2)):"end"===S?Math.max(0,Math.min(y-p,_-p+c.width/2)):Math.max(0,Math.min(y-p,_-p/2)),x.top=Math.max(j+f.height/2,Math.min(j+p-f.height/2,_))}return m&&(m.left&&(T+=m.left),m.top&&(j+=m.top)),h=u({width:d,height:p,top:j,left:T},h),s=(0,a.classes)("popover layer rounded",s,"placement-".concat(w)),e={left:"right",right:"left",top:"bottom",bottom:"top"},b=c?r.default.createElement("div",{style:x,className:"display-arrow arrow-".concat(e[w])}):null,delete(n=u(u({backdropClassName:"clean",animation:"scale-from-".concat(e[w])},n),{},{className:s,style:h,content:t,footer:b,plugName:"popover"})).width,delete n.height,delete n.arrow,delete n.arrowSize,delete n.offset,o.default.show(n,l)},hide:o.default.hide,remove:o.default.remove},t.default=n},7807:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(45697)),i=n(64393),l=u(n(2388)),s=["progress","hideOnComplete","className"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(n=t?(n=p(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(){if(this instanceof a)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){var e=(r=this.props).progress,t=r.hideOnComplete,n=r.className,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,s),a=null,u=e?Math.floor(e):0,c={},d={};return e&&(!t||u<100)&&(u<50?d.transform="rotate(".concat(3.6*u,"deg)"):(d.display="none",c.transform="rotate(".concat(3.6*u-180,"deg)")),a=o.default.createElement("div",{className:(0,i.classes)("circle-progress-box",100<=e?"circle-progress-full":"")},o.default.createElement("span",{className:"left-circle-progress circle-progress"},o.default.createElement("span",{style:c})),o.default.createElement("span",{className:"right-circle-progress circle-progress"},o.default.createElement("span",{style:d})))),o.default.createElement(l.default,f({className:(0,i.classes)(a?"circle-progress-wrapper":null,n)},r),a)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),h(t.default=n,"propTypes",{progress:a.default.oneOfType([a.default.bool,a.default.number]),hideOnComplete:a.default.bool,className:a.default.string}),h(n,"defaultProps",{progress:null,hideOnComplete:!0,className:null})},21205:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(45697)),i=n(64393),l=f(n(61997)),s=f(n(18922)),u=["name","items","checked","children","className","radioProps","onChange"],c=["label","value"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function m(e){var t=e.name,n=e.items,r=e.checked,a=e.children,f=e.className,d=e.radioProps,m=e.onChange,y=(e=h(e,u),t||(0,l.default)());return o.default.createElement("div",p({className:(0,i.classes)("radio-group",f)},e,{onChange:function(e){return null==m?void 0:m(e.target.value,e)}}),n&&n.map((function(e){var t=e.label,n=e.value;return e=h(e,c),o.default.createElement(s.default,p({key:n,name:y,label:t},e,{checked:r===n,value:n},d))})),a)}m.propTypes={checked:a.default.bool,items:a.default.array,name:a.default.string,className:a.default.string,radioProps:a.default.object,onChange:a.default.func,children:a.default.any,label:a.default.any},m.defaultProps={checked:!1,label:null,className:null,radioProps:null,onChange:null,children:null,items:null,name:null},t.default=(0,o.memo)(m)},18922:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=(n=n(32292))&&n.__esModule?n:{default:n},l=["name","value","checked","disabled","label","children","className","inputProps","onChange"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=(0,o.memo)((function(e){var t,n=(0,i.default)(),r=e.name,s=e.value,c=void 0!==(c=e.checked)&&c,f=void 0!==(f=e.disabled)&&f,d=e.label,p=e.children,h=e.className,m=e.inputProps,y=e.onChange,g=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,l);return o.default.isValidElement(p)?t=p:"function"==typeof p&&(t=p(c,e)),o.default.createElement("div",u({className:(0,a.classes)("radio",h,{checked:c,disabled:f})},g),o.default.createElement("input",u({disabled:f,name:r,id:n,checked:c,type:"radio",onChange:function(e){return null==y?void 0:y(r,s,e.target.checked,e)},value:s},m)),d&&o.default.createElement("label",{htmlFor:n},d),t)}))},74673:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(a=n(45697))&&a.__esModule?a:{default:a},i=n(64393),l=["className","stickyToBottom","customView","children","onScrollToEnd","onScroll","hoverEffect"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(n=t?(n=h(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(o)}}(a);function a(e){var t;if(this instanceof a)return m(p(t=n.call(this,e)),"_contentElement",void 0),m(p(t),"_containerElement",void 0),m(p(t),"_handleScroll",(function(){t.updateScrollInfo()})),m(p(t),"_containerElementRef",(function(e){t._containerElement=e})),m(p(t),"_contentElementRef",(function(e){t._contentElement=e})),t._scrollInfo={stickyToBottom:!1,scrollbarShowed:!1,clientHeight:0,scrollHeight:0,position:0,scrollTop:0,isStickiedAtBegin:!0,isStickiedAtEnd:!0,isAtTop:!0,isAtBottom:!0},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"scrollInfo",get:function(){return this._scrollInfo}},{key:"componentDidMount",value:function(){var e=this;this.updateScrollInfo(),this.props.stickyToBottom&&(this._containerSizeObserver=new ResizeObserver((function(){e._containerElement.scrollHeight===e._scrollInfo.scrollHeight&&e._containerElement.clientHeight===e._scrollInfo.clientHeight||e._fixStickyPosition()})),this._containerSizeObserver.observe(this._containerElement),this._containerSizeObserver.observe(this._contentElement),this.scrollToEnd())}},{key:"componentWillUnmount",value:function(){this._containerSizeObserver&&this._containerSizeObserver.disconnect(),this._fixStickyPositionAnimationID&&cancelAnimationFrame(this._fixStickyPositionAnimationID)}},{key:"updateScrollInfo",value:function(){var e=(n=this.props).stickyToBottom,t=n.onScroll,n=n.onScrollToEnd,r=this._scrollInfo,o=(i=this._containerElement).clientHeight,a=i.scrollHeight,i=i.scrollTop,l=a-o,s=0<l,u=e?l-i:i;this._scrollInfo={scrollTop:i,position:u,stickyToBottom:e,clientHeight:o,scrollHeight:a,scrollbarShowed:s,isStickiedAtBegin:!s||0===u,isStickiedAtEnd:!s||u===l,isAtBottom:i===l,isAtTop:0===i},e=u!==r.position,t&&e&&t(f({},this._scrollInfo),r),n&&this._scrollInfo.isStickiedAtEnd&&!r.isStickiedAtEnd&&n(f({},this._scrollInfo),r)}},{key:"setScrollTop",value:function(e){this._containerElement.scrollTop=e}},{key:"scrollTo",value:function(e){var t=(n=this._containerElement).clientHeight,n=n.scrollHeight;this.setScrollTop(this.props.stickyToBottom?n-t-e:e)}},{key:"scrollToBegin",value:function(){return this.scrollTo(0)}},{key:"scrollToEnd",value:function(){var e=(t=this._containerElement).clientHeight,t=t.scrollHeight;return this.scrollTo(t-e)}},{key:"scrollToTop",value:function(){return this.setScrollTop(0),!0}},{key:"scrollToBottom",value:function(){return this.props.stickyToBottom?this.scrollToBegin():this.scrollToEnd()}},{key:"_fixStickyPosition",value:function(){var e;this.props.stickyToBottom&&(e=this._scrollInfo,this._keepPosition(e.position))}},{key:"_keepPosition",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500,n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)||Date.now(),r=Date.now()-n;r<=t&&this.scrollTo(e),r<t&&(this._fixStickyPositionAnimationID=requestAnimationFrame(this._keepPosition.bind(this,e,t,n)))}},{key:"render",value:function(){var e=(s=this.props).className,t=s.stickyToBottom,n=s.customView,r=s.children,a=(s.onScrollToEnd,s.onScroll,s.hoverEffect),s=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(s,l);return e=(0,i.classes)("scroll-list-classic",e,"is-stick-".concat(t?"bottom":"top")),o.default.createElement("div",u({className:e},s),o.default.createElement("div",{className:(0,i.classes)("scroll-list-classic-container",{"scrollbar-hover":a}),ref:this._containerElementRef,onScroll:this._handleScroll},o.default.createElement("div",{className:"scroll-list-classic-content",ref:this._contentElementRef},r)),"function"==typeof n?n(this._scrollInfo):n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),m(t.default=n,"propTypes",{className:a.default.string,onScroll:a.default.func,onScrollToEnd:a.default.func,stickyToBottom:a.default.bool,hoverEffect:a.default.bool,customView:a.default.any,children:a.default.node}),m(n,"defaultProps",{className:null,onScroll:null,onScrollToEnd:null,stickyToBottom:!1,hoverEffect:!0,customView:null,children:null})},39701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=(o=n(45697))&&o.__esModule?o:{default:o},a=n(64393),i=["className","stickyToBottom","useHotkey","animation","customView","children","onScroll","onScrollToEnd","minScrollbarHeight","scrollPageRatio","scrollbarHideDelay","showScrollbarAfterShow","showScrollbarOnChange","animateOnClickScrollbar","wheelSpeed"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===f(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(r)}}(o);function o(e){var t;if(this instanceof o)return g(m(t=n.call(this,e)),"_listElement",void 0),g(m(t),"_containerElement",void 0),g(m(t),"_scrollbarElement",void 0),g(m(t),"_isMovingScrollbar",!1),g(m(t),"_lastPositionChangeTime",0),g(m(t),"_touching",!1),g(m(t),"_handleCustomEvent",(function(e){var n,r=e.detail;Array.isArray(r)?(n=r.shift(),t[n].apply(t,d(r))):"object"===f(r)&&r&&(n=t)[r.method].apply(n,d(r.args||[])),e.stopPropagation()})),g(m(t),"_handleWheel",(function(e){var n=Date.now(),r=m(t)._lastWheelTime;300<=(t._lastWheelTime=n)-r||n-(null!=(r=t._lastScrollTime)?r:0)<300||(r=(n=t.props).stickyToBottom,n=n.wheelSpeed,t.scrollWithOffset((void 0===n?1:n)*e.deltaY*(r?-1:1)))})),g(m(t),"_handleContainerScroll",(function(){t._lastScrollTime=Date.now()})),g(m(t),"_handleKeyDown",(function(e){var n=m(t)._scrollInfo;if(!(n.scrollHeight<=n.clientHeight)){var r=t.props,o=r.stickyToBottom,a=r.scrollPageRatio,i=0;switch(e.code){case"PageUp":i=n.clientHeight*a*(o?1:-1);break;case"PageDown":case"Space":i=n.clientHeight*a*(o?-1:1);break;case"ArrowUp":i=40*(o?1:-1);break;case"ArrowDown":i=40*(o?-1:1);break;case"Home":i=o?n.scrollHeight-n.clientHeight-n.position:0-n.position;break;case"End":i=o?0-n.position:n.scrollHeight-n.clientHeight-n.position}i&&t.scrollWithOffset(i)}})),g(m(t),"_handleKeyUp",(function(){t._continuousScrollingTimer&&(clearTimeout(t._continuousScrollingTimer),t._continuousScrollingTimer=0),t._continuousScrollingAnimation&&(cancelAnimationFrame(t._continuousScrollingAnimation),t._continuousScrollingAnimation=0)})),g(m(t),"_handleClickScrollbar",(function(e){var n,r;t._isMovingScrollbar||e.target.classList.contains("scroll-list-scrollbar-bar")||(r=m(t)._scrollInfo).scrollHeight<=r.clientHeight||(n=t._scrollbarElement.parentElement.getBoundingClientRect(),n=e.clientY-n.y,n=t.props.stickyToBottom?r.clientHeight-n-Math.floor(r.scrollbarHeight/2):n-Math.floor(r.scrollbarHeight/2),r=t.setScrollbarPosition(n,t.props.animateOnClickScrollbar),t._handleStartMoveScrollbar(e,r))})),g(m(t),"_handleStartMoveScrollbar",(function(e,n){t._isMovingScrollbar={startY:e.clientY,startPosition:null!=n?n:t._scrollInfo.position},t._startListenMouseMove(),e.stopPropagation()})),g(m(t),"_handleStopMoveScrollbar",(function(){t._isMovingScrollbar=!1,t._stopListenMouseMove()})),g(m(t),"_handleMoveScrollbar",(function(e){var n,r,o,a;!t._isMovingScrollbar||(n=m(t)._scrollInfo).scrollHeight<=n.clientHeight||(r=t.props.stickyToBottom,o=(a=t._isMovingScrollbar).startY,a=a.startPosition,e.clientY!==o&&t.scrollTo(a+(e.clientY-o)*(r?-1:1)*((n.scrollHeight-n.clientHeight)/(n.clientHeight-n.scrollbarHeight))))})),g(m(t),"_handleTouchStart",(function(e){var n=e.touches[0];t._touching={startY:n.clientY,lastY:n.clientY,startTime:Date.now(),isTouchScrollbar:e.target.classList.contains("scroll-list-scrollbar-bar")}})),g(m(t),"_handleTouchMove",(function(e){var n;t._touching&&(e=e.touches[0].clientY,n=(t._touching.lastY-e)*(t._touching.isTouchScrollbar?-1:1),t._touching.lastY=e,t._handleWheel({deltaY:n}))})),g(m(t),"_handleTouchEnd",(function(e){var n,r,o,a;t._touching&&(n=(a=t._touching).startY,r=a.startTime,a=a.lastY,o=Date.now(),a=300*(e=(((null==(e=e.touches[0])?void 0:e.clientY)||a)-n)/(o-r)),t._acceleratingTimer&&(clearTimeout(t._acceleratingTimer),t._acceleratingTimer=null),0!=e&&(t._listElement.classList.add("touch-accelerating"),t._handleWheel({deltaY:a*(t._touching.isTouchScrollbar?1:-1)}),t._acceleratingTimer=setTimeout((function(){t._listElement.classList.remove("touch-accelerating"),t._acceleratingTimer=null}),650)),t._touching=!1)})),g(m(t),"_listElementRef",(function(e){t._listElement=e})),g(m(t),"_containerElementRef",(function(e){t._containerElement=e})),g(m(t),"_scrollbarElementRef",(function(e){t._scrollbarElement=e})),t._scrollInfo={stickyToBottom:!1,scrollbarShowed:!1,clientHeight:0,scrollHeight:0,position:0,isStickiedAtBegin:!0,isStickiedAtEnd:!0,isAtTop:!0,isAtBottom:!0,scrollbarPosition:0,scrollbarHeight:0},t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"scrollInfo",get:function(){return this._scrollInfo}},{key:"listElement",get:function(){return this._listElement}},{key:"componentDidMount",value:function(){var e=this;this.tryUpdateStyle(),this._containerSizeObserver=new ResizeObserver((function(t){!((t=t[0].contentRect).left||t.top||t.width||t.height)||e._containerElement.clientHeight===e._scrollInfo.scrollHeight&&e._listElement.clientHeight===e._scrollInfo.clientHeight||e.tryUpdateStyle()})),this._containerSizeObserver.observe(this._containerElement),this._containerSizeObserver.observe(this._listElement),this._listElement.addEventListener("scrolllist",this._handleCustomEvent),this._containerElement.addEventListener("scroll",this._handleContainerScroll,{capture:!0}),this.props.showScrollbarAfterShow&&this._startScrollingEffect()}},{key:"componentWillUnmount",value:function(){this._containerSizeObserver.disconnect(),this._stopListenMouseMove(),this._scrollingEffectTimer&&clearTimeout(this._scrollingEffectTimer),this._acceleratingTimer&&clearTimeout(this._acceleratingTimer),this._listElement.removeEventListener("scrolllist",this._handleCustomEvent),this._containerElement.removeEventListener("scroll",this._handleContainerScroll)}},{key:"updateStyle",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this._listElement){var n=this._scrollInfo,r=this._listElement.clientHeight,o=r<(u=this._containerElement.clientHeight),a=Math.floor(u-r);if(e=o?"number"==typeof e?Math.min(a,Math.max(0,Math.floor(e))):Math.min(a,n.position):0,r===n.clientHeight&&u===n.scrollHeight&&e===n.position)return!1;var i=(a=this.props).stickyToBottom,l=a.minScrollbarHeight,s=a.onScroll,u=(a=a.onScrollToEnd,this._scrollInfo={stickyToBottom:i,clientHeight:r,scrollHeight:u,position:e,scrollbarHeight:0,scrollbarPosition:0,scrollbarShowed:o,isStickiedAtBegin:!o||0===e,isStickiedAtEnd:!o||e===u-r,isAtBottom:!o||(i?0===e:e===u-r),isAtTop:!o||(i?e===u-r:0===e)},e!==n.position&&(this._containerElement.style[i?"bottom":"top"]="-".concat(e,"px")),o?(this._scrollbarElement.parentElement.style.display="block",o=Math.max(l,Math.floor(r*(r/u))),this._scrollbarElement.style[i?"bottom":"top"]="".concat(l=e/(u-r)*(r-o),"px"),this._scrollbarElement.style.height="".concat(o,"px"),this._scrollInfo.scrollbarHeight=o,this._scrollInfo.scrollbarPosition=l):this._scrollbarElement.parentElement.style.display="none",i=e!==n.position,s&&i&&s(c({},this._scrollInfo),n),a&&this._scrollInfo.isStickiedAtEnd&&!n.isStickiedAtEnd&&a(c({},this._scrollInfo),n),!t);return i&&(r=Date.now(),t&&(u=r-this._lastPositionChangeTime<100),this._lastPositionChangeTime=r),this._startScrollingEffect(u),!0}}},{key:"tryUpdateStyle",value:function(e,t){var n=this;this._updateStyleAnimationFrame&&cancelAnimationFrame(this._updateStyleAnimationFrame),this._updateStyleAnimationFrame=requestAnimationFrame((function(){n._updateStyleAnimationFrame=null,n.updateStyle(e,t)}))}},{key:"scrollWithOffset",value:function(e,t){var n=this._scrollInfo.position;this.tryUpdateStyle(n+e,t)}},{key:"scrollTo",value:function(e,t){this.tryUpdateStyle(e,t)}},{key:"setScrollbarPosition",value:function(e,t){var n=this._scrollInfo;if(n.scrollbarShowed)return e*=(n.scrollHeight-n.clientHeight)/(n.clientHeight-n.scrollbarHeight),this.scrollTo(e,t),e}},{key:"scrollToBegin",value:function(e){this._scrollInfo.isStickiedAtBegin||this.tryUpdateStyle(0,e)}},{key:"scrollToEnd",value:function(e){var t=this._scrollInfo;t.isStickiedAtEnd||this.tryUpdateStyle(t.scrollHeight-t.clientHeight,e)}},{key:"scrollToTop",value:function(e){if(!this._scrollInfo.isAtTop)return this.props.stickyToBottom?this.scrollToEnd(e):this.scrollToBegin(e)}},{key:"scrollToBottom",value:function(e){if(!this._scrollInfo.isAtBottom)return this.props.stickyToBottom?this.scrollToBegin(e):this.scrollToEnd(e)}},{key:"scrollToElement",value:function(e,t){if(!(e="string"==typeof e?this._containerElement.querySelector(e):e))return!1;var n=(t=(t="boolean"==typeof t?{behavior:t?"smooth":"instant"}:t)||{}).behavior,r=void 0===(r=t.block)?"start":r,o=void 0===(o=t.ifNeed)||o,a=(t=void 0===(t=t.offset)?0:t,n="smooth"===(void 0===n?"instant":n),e=e.getBoundingClientRect(),this._listElement.getBoundingClientRect()),i=e.top-a.top,l=a.bottom-e.bottom;return!(o&&0<=i&&0<=l||(o=r,"center"===r&&e.height>=a.height?o="start":"nearest"===r&&(o=i<l?"start":"end"),r=0,"start"===o?r=0-i:"end"===o?r=l:"center"===o&&(r=Math.round(a.top+(a.height-e.height)/2)-e.top),0===r||(i=this.props.stickyToBottom,this.scrollWithOffset((r+t)*(i?1:-1),n),0)))}},{key:"_startScrollingEffect",value:function(e){var t=this,n=this._listElement;n.classList.toggle("is-rapid",!!e),n.classList.contains("is-scrolling")||n.classList.add("is-scrolling"),this._scrollingEffectTimer&&clearTimeout(this._scrollingEffectTimer),this._scrollingEffectTimer=setTimeout((function(){n.classList.remove("is-scrolling"),n.classList.remove("is-rapid"),t._scrollingEffectTimer=null}),this.props.scrollbarHideDelay)}},{key:"_startListenMouseMove",value:function(){document.addEventListener("mouseup",this._handleStopMoveScrollbar),document.addEventListener("mousemove",this._handleMoveScrollbar)}},{key:"_stopListenMouseMove",value:function(){document.removeEventListener("mouseup",this._handleStopMoveScrollbar),document.removeEventListener("mousemove",this._handleMoveScrollbar)}},{key:"render",value:function(){var e=(c=this.props).className,t=c.stickyToBottom,n=c.useHotkey,o=c.animation,l=c.customView,u=c.children,c=(c.onScroll,c.onScrollToEnd,c.minScrollbarHeight,c.scrollPageRatio,c.scrollbarHideDelay,c.showScrollbarAfterShow,c.showScrollbarOnChange,c.animateOnClickScrollbar,c.wheelSpeed,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(c,i));return e=(0,a.classes)("scroll-list",e,"is-stick-".concat(t?"bottom":"top"),{"has-animation":o}),r.default.createElement("div",s({className:e,onWheel:this._handleWheel,onKeyUp:n?this._handleKeyUp:null,onKeyDown:n?this._handleKeyDown:null,onTouchStart:this._handleTouchStart,onTouchMove:this._handleTouchMove,onTouchEnd:this._handleTouchEnd,onTouchCancel:this._handleTouchEnd,ref:this._listElementRef,tabIndex:n?"0":null},c),r.default.createElement("div",{className:"scroll-list-container",ref:this._containerElementRef},u),r.default.createElement("div",{className:"scroll-list-scrollbar",onMouseDown:this._handleClickScrollbar},r.default.createElement("div",{className:"scroll-list-scrollbar-bar",ref:this._scrollbarElementRef,onMouseDown:this._handleStartMoveScrollbar})),"function"==typeof l?l(this._scrollInfo):l)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent),g(t.default=n,"propTypes",{className:o.default.string,onScroll:o.default.func,onScrollToEnd:o.default.func,stickyToBottom:o.default.bool,minScrollbarHeight:o.default.number,scrollPageRatio:o.default.number,wheelSpeed:o.default.number,useHotkey:o.default.bool,animation:o.default.bool,animateOnClickScrollbar:o.default.bool,customView:o.default.any,showScrollbarAfterShow:o.default.bool,showScrollbarOnChange:o.default.bool,scrollbarHideDelay:o.default.number,children:o.default.node}),g(n,"defaultProps",{className:null,onScroll:null,onScrollToEnd:null,stickyToBottom:!1,minScrollbarHeight:28,scrollPageRatio:.8,wheelSpeed:1,useHotkey:!0,animation:!0,animateOnClickScrollbar:!1,customView:null,showScrollbarAfterShow:!0,showScrollbarOnChange:!0,scrollbarHideDelay:500,children:null})},20270:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=s(n(39701)),i=s(n(74673)),l=["animation","hoverEffect","minScrollbarHeight","scrollbarHideDelay","scrollPageRatio","showScrollbarAfterShow","useHotkey","wheelSpeed"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}n=(0,o.forwardRef)((function(e,t){var n;return"ontouchstart"in window?(e.animation,e.hoverEffect,e.minScrollbarHeight,e.scrollbarHideDelay,e.scrollPageRatio,e.showScrollbarAfterShow,e.useHotkey,e.wheelSpeed,n=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,l),o.default.createElement(i.default,c({ref:t},n))):o.default.createElement(a.default,c({ref:t},e))})),n.defaultProps=a.default.defaultProps,n.propTypes=a.default.propTypes,t.default=(0,o.memo)(n)},13939:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBox=function(e){var t=e.options,n=e.onChange,r=e.defaultValue,a=(e=e.placeholder,(r=s((0,o.useState)(null!=r?r:""),2))[0]),l=r[1],u=(r=s((0,o.useState)(!1),2))[0],c=r[1],d=(0,o.useRef)(null),p=t.map((function(e){return e.label}));return r="absolute right-0 top-0 h-[26px] w-[26px] flex justify-center items-center",o.default.createElement("div",{className:"x-search-box"},o.default.createElement("div",{className:"relative"},o.default.createElement("input",{className:"input rounded",onChange:function(e){var t=e.target.value;l(e.target.value),c(!0),p.some((function(e){return e===t}))?n(t):n(null)},onFocus:function(){return c(!0)},onBlur:function(){setTimeout((function(){return c(!1)}),800)},value:a,ref:d,placeholder:e}),a?o.default.createElement(i.default,{name:"mdi-close",className:"".concat(r," cursor-pointer"),onClick:function(){l(""),d.current.focus()}}):o.default.createElement(i.default,{name:"mdi-chevron-down",className:r,style:{fontSize:"1rem"}})),u?o.default.createElement(f,{options:t,onChange:function(e,t){l(e),n(t),c(!1)},searchValue:a}):null)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(16986),i=(t=n(87137))&&t.__esModule?t:{default:t};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e,t){if(!e)return t;if(!e.includes(" "))return t.map((function(t){return{label:t.label,value:t.value,score:(0,a.caculateScore)(e,t.label)}})).filter((function(e){return 0<e.score})).sort((function(e,t){return t.score-e.score}));var n=e.split(" ");return t.map((function(e){return{label:e.label,value:e.value,score:n.reduce((function(t,n){return t+(0,a.caculateScore)(n,e.label)}),0)}})).filter((function(e){return 0<e.score})).sort((function(e,t){return t.score-e.score}))};function f(e){var t=e.options,n=e.onChange,r=e.searchValue,a=(e=s((0,o.useState)(c(r,t)),2))[0],i=e[1];return(0,o.useEffect)((function(){i(c(r,t))}),[r,t]),o.default.createElement("ul",{className:"x-data-list list-none m-0 py-2 pl-0 bg-white rounded-sm absolute min-h-[32px] max-h-[240px] overflow-y-auto w-[480px] z-50 shadow-xl"},a.map((function(e){var t=e.label,r=e.value;return o.default.createElement("li",{className:"pl-2 leading-8 hover:bg-[#f5f5f5]",key:r,onClick:function(){n(t,r)}},t)})))}},93956:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=d(n(45697)),i=n(64393),l=d(n(70389)),s=d(n(87137)),u=n(16986),c=d(n(84836)),f=["className","children","onSearchChange","changeDelay","onFocus","onFocusChange","onBlur","defaultValue","placeholder"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(n=t?(n=b(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return g(o)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e);var n=y(r);function r(e){var t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");v(g(t=n.call(this,e)),"handleOnInputFocus",(function(e){t.setState({focus:!0},(function(){var n=(r=t.props).onFocus,r=r.onFocusChange;n&&n(e),r&&r(!0,e)}))})),v(g(t),"handleOnInputBlur",(function(e){t.setState({focus:!1},(function(){var n=(r=t.props).onBlur,r=r.onFocusChange;n&&n(e),r&&r(!1,e)}))})),v(g(t),"handleOnInputChange",(function(e){t.setValue(e="string"==typeof e?e:"")})),v(g(t),"handleOnClearBtnClick",(function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];t.setValue("",(function(){e&&t.inputControl.focus()}))})),t.state={value:e.defaultValue,focus:!1,empty:(0,u.isEmptyString)(e.defaultValue)};var o=(e=t.props).onSearchChange;return e=e.changeDelay,o&&(t.delaySearchChangeTask=new c.default((function(e){o(e)}),e)),t}return t=r,(e=[{key:"componentWillUnmount",value:function(){this.delaySearchChangeTask&&this.delaySearchChangeTask.destroy()}},{key:"getValue",value:function(){return this.state.value.trim()}},{key:"isEmpty",value:function(){return this.state.empty}},{key:"setValue",value:function(e,t){var n=this;this.inputControl.setValue(e),this.setState({empty:(0,u.isEmptyString)(e),value:e},(function(){n.delaySearchChangeTask&&n.delaySearchChangeTask.do(e),t&&t(e)}))}},{key:"render",value:function(){var e=this,t=(u=this.props).className,n=u.children,r=(u.onSearchChange,u.changeDelay,u.onFocus,u.onFocusChange,u.onBlur,u.defaultValue),a=u.placeholder,u=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(u,f),c=(delete u.value,d=this.state).focus,d=d.empty;return o.default.createElement(l.default,h({className:(0,i.classes)("search",t,{focus:c,empty:d,normal:!c}),defaultValue:r,label:o.default.createElement(s.default,{name:"sprite-search"}),onFocus:this.handleOnInputFocus,onBlur:this.handleOnInputBlur,onChange:this.handleOnInputChange,ref:function(t){e.inputControl=t},placeholder:a},u,{labelStyle:{zIndex:1}}),o.default.createElement(s.default,{name:"close",onClick:this.handleOnClearBtnClick,className:"close state"}),n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent),v(t.default=n,"propTypes",{placeholder:a.default.any,changeDelay:a.default.number,onSearchChange:a.default.func,onBlur:a.default.func,onFocus:a.default.func,onFocusChange:a.default.func,defaultValue:a.default.any,children:a.default.any,className:a.default.string}),v(n,"defaultProps",{placeholder:null,changeDelay:100,onSearchChange:null,onFocusChange:null,onBlur:null,onFocus:null,defaultValue:void 0,className:null,children:null})},74379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=(o=n(45697))&&o.__esModule?o:{default:o},a=n(64393),i=n(16986),l=["value","children","className","selectProps","selectClassName","options","onChange"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(n=t?(n=h(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(r)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var n=d(o);function o(e){var t;if(this instanceof o)return m(p(t=n.call(this,e)),"handleSelectChange",(function(e){var n=e.target.value;t.setState({empty:(0,i.isEmptyString)(n)}),t.props.onChange&&t.props.onChange(n,e)})),m(p(t),"handleOnSelectFocus",(function(e){t.setState({focus:!0}),t.props.onFocus&&t.props.onFocus(e)})),m(p(t),"handleOnSelectBlur",(function(e){t.setState({focus:!1}),t.props.onBlur&&t.props.onBlur(e)})),t.state={focus:!1,empty:(0,i.isEmptyString)(t.props.value)},t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"focus",value:function(){this.selectBox.focus()}},{key:"render",value:function(){var e=this,t=(d=this.props).value,n=d.children,o=d.className,i=d.selectProps,s=d.selectClassName,f=d.options,d=(d.onChange,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(d,l));return r.default.createElement("div",u({className:(0,a.classes)("select",o,{focus:this.state.focus,empty:this.state.empty,normal:!this.state.focus})},d),r.default.createElement("select",u({name:this.props.name,ref:function(t){e.selectBox=t},className:s,value:t,onChange:this.handleSelectChange},i,{onFocus:this.handleOnSelectFocus,onBlur:this.handleOnSelectBlur}),f&&f.map((function(e){return e?("object"!==c(e)&&(e={value:e,label:e}),r.default.createElement("option",{key:e.value,value:e.value},e.label)):null})),n))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component),m(t.default=n,"propTypes",{name:o.default.string,value:o.default.any,onChange:o.default.func,onFocus:o.default.func,onBlur:o.default.func,children:o.default.any,selectProps:o.default.object,className:o.default.string,selectClassName:o.default.string,options:o.default.array}),m(n,"defaultProps",{name:void 0,value:"",onChange:null,onFocus:null,onBlur:null,children:null,className:null,selectClassName:"rounded",selectProps:null,options:null})},91705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0===(t=e.iconSize)?24:t,n=void 0===(n=e.iconName)?"loading":n,l=void 0===(l=e.iconClassName)?"spin text-gray inline-block":l,u=void 0===(u=e.labelClassName)?"":u,c=void 0===(c=e.label)?"":c,f=void 0===(f=e.className)?"":f,d=e.children;return e=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i),r.default.createElement("div",s({className:(0,o.classes)("spinner text-center",f)},e),r.default.createElement(a.default,{name:n,className:l,size:t}),c&&r.default.createElement("div",{className:(0,o.classes)("muted small title",u)},c),d)};var r=l(n(67294)),o=n(64393),a=l(n(87137)),i=["iconSize","iconName","iconClassName","labelClassName","label","className","children"];function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},3713:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=i(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=a?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(n=(n=n(45697))&&n.__esModule?n:{default:n},["label","children"]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(n=t?(n=u(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var f=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);var n=s(r);function r(){if(this instanceof r)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"render",value:function(){var e=((t=this.props).label,t.children),t=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,a);return o.default.createElement("div",t,"function"==typeof e?e():e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent);c(t.default=f,"propTypes",{label:n.default.any,children:n.default.any}),c(f,"defaultProps",{label:"tab",children:null})},66222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TabPane",{enumerable:!0,get:function(){return i.default}}),t.default=t.Tabs=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=s(n(45697)),a=n(64393),i=s(n(3713)),l=["defaultActivePaneKey","activePaneKey","cache","navClassName","tabPaneClass","activeClassName","contentClassName","onPaneChange","className","children"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(n=t?(n=p(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===f(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(o);function o(e){var t;if(this instanceof o)return(t=n.call(this,e)).state={activePaneKey:e.activePaneKey||e.defaultActivePaneKey},t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"handleNavClick",value:function(e){var t,n=this,r=this.state.activePaneKey;e!==r&&(t=r,this.setState({activePaneKey:e},(function(){var r=n.props.onPaneChange;r&&r(e,t)})))}},{key:"render",value:function(){var e=this,t=((h=this.props).defaultActivePaneKey,h.activePaneKey),n=h.cache,o=h.navClassName,i=h.tabPaneClass,s=h.activeClassName,u=h.contentClassName,d=(h.onPaneChange,h.className),p=h.children,h=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(h,l),m=t||this.state.activePaneKey;return p=p||[],p=(p=Array.isArray(p)?p:[p]).filter((function(e){return e&&"object"===f(e)})),r.default.createElement("div",c({className:(0,a.classes)("tabs",d,"tabs-active-".concat(m))},h),r.default.createElement("nav",{className:(0,a.classes)("nav",o)},p.map((function(t){return r.default.createElement("a",{key:t.key,className:t.key===m?s:"",onClick:e.handleNavClick.bind(e,t.key)},t.props.label)}))),r.default.createElement("div",{className:(0,a.classes)("content",u)},p.map((function(e){return e.key===m?r.default.createElement("div",{key:e.key,className:(0,a.classes)("tab-pane active",i)},e):n?r.default.createElement("div",{key:e.key,className:(0,a.classes)("tab-pane hidden",i)},e):null}))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent),h(t.Tabs=t.default=n,"TabPane",i.default),h(n,"propTypes",{navClassName:o.default.string,activeClassName:o.default.string,tabPaneClass:o.default.string,contentClassName:o.default.string,className:o.default.string,children:o.default.any,cache:o.default.bool,defaultActivePaneKey:o.default.any,activePaneKey:o.default.any,onPaneChange:o.default.func}),h(n,"defaultProps",{navClassName:"",activeClassName:"active",contentClassName:"active",tabPaneClass:"",className:"",cache:!1,defaultActivePaneKey:null,activePaneKey:null,onPaneChange:null,children:null})},61721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.startTimeSignal,n=e.timeRangeSignal,i=p((0,a.default)(),1)[0],l=(e=p((0,o.useState)(t.value.format("YYYY-MM-DD dddd HH:mm")),2))[0],u=e[1];return e=(0,o.useMemo)((function(){return[{label:i.string("common.time.duration.10minutes"),value:10},{label:i.string("common.time.duration.15minutes"),value:15},{label:i.string("common.time.duration.20minutes"),value:20},{label:i.string("common.time.duration.30minutes"),value:30},{label:i.string("common.time.duration.45minutes"),value:45},{label:i.string("common.time.duration.1hour"),value:60},{label:i.string("common.time.duration.2hours"),value:120}]}),[i]),o.createElement(o.Fragment,null,o.createElement("div",{className:"control"},o.createElement("label",null,i.string("common.startTime")),o.createElement("input",{type:"text",value:l,readOnly:!0,className:"input rounded read-only:bg-[var(--color-white)]",name:"startTime",onClick:function(e){(0,s.showContextMenu)({triggerElement:e.currentTarget,direction:"below-left"},[],{id:y,content:o.createElement(r.default,{input:!1,initialValue:l,dateFormat:"YYYY-MM-DD dddd",timeFormat:"HH:mm",isValidDate:m,onChange:function(e){"string"!=typeof e&&"object"===d(e)&&(u(e.format("YYYY-MM-DD dddd HH:mm")),t.value=e)},renderView:function(e,n){return"days"===e?o.createElement("div",{className:"flex"},n(),o.createElement(w,{startTimeSignal:t,setStartTimeValue:u})):n()}}),menuClassName:"!p-0"},_)}})),o.createElement("div",{className:"control"},o.createElement("label",{htmlFor:"timeRange"},i.string("conference.timeRange")),o.createElement("div",{className:"select"},o.createElement("select",{name:"timeRange",id:"timeRange",className:"rounded",value:n.value,onChange:function(e){n.value=Number(e.currentTarget.value)}},e.map((function(e){return o.createElement("option",{key:e.value,value:e.value},e.label)}))))))},t.showContextMenuCallback=_;var r=f(n(8660)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),a=f(n(41584)),i=(n(83839),n(74152),n(39183),n(65666),f(n(30381))),l=n(64393),s=n(28350),u=f(n(32887));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){return e.isAfter((0,i.default)().subtract(1,"day"))},y="start-time-picker";function g(){u.default.hide(y)}var b=Array.from({length:24},(function(e,t){return t})),v=Array.from({length:60},(function(e,t){return t})).filter((function(e){return e%5==0}));function _(){var e=document.getElementById("time-picker-hour"),t=document.getElementById("time-picker-minute");e&&e.scrollIntoView({block:"center"}),t&&t.scrollIntoView({block:"center"})}function w(e){var t,n=e.startTimeSignal,r=e.setStartTimeValue,i=(e=p((0,a.default)(),1)[0],(t=p((0,o.useState)(n.value.hour()),2))[0]),s=t[1],u=(t=p((0,o.useState)(n.value.minute()),2))[0],c=t[1];return o.createElement("div",{className:"flex flex-col items-center x-outline border-0 border-l"},o.createElement("div",{className:"flex"},o.createElement("div",{className:"min-w-[50px]"},o.createElement("div",{className:"flex justify-center items-center p-1 h-[32px] font-bold"},e.string("common.time.hour")),o.createElement("div",{className:"flex flex-nowrap flex-col gap-1 h-[165px] overflow-y-auto scrollbar-light x-outline border-0 border-y"},b.map((function(e){return o.createElement("button",{key:e,type:"button",className:(0,l.classes)("btn",{primary:i===e}),id:i===e?"time-picker-hour":null,onClick:function(){s(e);var t=n.value.clone().hour(e);r(t.format("YYYY-MM-DD dddd HH:mm")),n.value=t}},e)})))),o.createElement("div",{className:"min-w-[50px]"},o.createElement("div",{className:"flex justify-center items-center p-1 h-[32px] font-bold"},e.string("common.time.minute")),o.createElement("div",{className:"flex flex-nowrap flex-col gap-1 h-[165px] overflow-y-auto scrollbar-light x-outline border-r-0"},v.map((function(e){return o.createElement("button",{key:e,type:"button",className:(0,l.classes)("btn",{primary:u===e}),id:u===e?"time-picker-minute":null,onClick:function(){c(e);var t=n.value.clone().minute(e);r(t.format("YYYY-MM-DD dddd HH:mm")),n.value=t}},e)}))))),o.createElement("div",{className:"!w-fit my-0.5 btn rounded",onClick:g},e.string("common.finish")))}},67994:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDuration=function(e,t){return t=Math.abs(t.diff(e,"minutes")),e=Math.floor(t/60),t%=60,e="".concat(e?"".concat(e," ").concat(o.string("common.time.hour")):""," ").concat(t?"".concat(t," ").concat(o.string("common.time.minute")):"").trim(),"( ".concat(e," )")},t=r(n(61862));var o=(n=r(n(99605))).default?n.default.getSharedData("Lang"):t.default},35622:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=i?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=(0,o.memo)((function(e){var t=e.controller,n=(e=void 0===(e=e.title)?"":e,i((0,o.useState)(t.isWindowMaximized),2)),r=n[0],a=n[1];return document.body.classList.toggle("maximized",r),(0,o.useEffect)((function(){function e(){var e=t.isWindowMaximized();a(e),document.body.classList.toggle("maximized",e)}return t.onWindowMaximizedChanged(e),function(){return t.offWindowMaximizedChanged(e)}}),[t]),t.showWindowControls?o.default.createElement("div",{className:"app-titlebar"},o.default.createElement("div",{className:"app-titlebar-drag-area user-app-dragable dock"}),e&&o.default.createElement("div",{className:"app-titlebar-title"},e),o.default.createElement("nav",{className:"nav app-nav-windows-control dock-right dock-top"},o.default.createElement("a",{id:"min-window-btn",onClick:t.minimizeWindow},o.default.createElement("i",{className:"icon mdi mdi-window-minimize"})),o.default.createElement("a",{id:"max-window-btn",onClick:t.toggleWindowMaximized.bind(null,null)},o.default.createElement("i",{className:r?"icon mdi mdi-window-restore":"icon mdi mdi-window-maximize"})),o.default.createElement("a",{id:"cls-window-btn",onClick:t.closeWindow},o.default.createElement("i",{className:"icon mdi mdi-window-close"})))):o.default.createElement("div",{className:"user-app-dragable app-titlebar",onDoubleClick:t.handleTitlebarDblClick},e&&o.default.createElement("div",{className:"app-titlebar-title"},e))}))},74160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateConfig=t.getSpecialVersionName=t.default=void 0;var r=l(n(91230)),o=l(n(33859)),a=l(n(8755)),i=l(n(35507));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return Object.keys(e).forEach((function(t){Object.assign(f[t],e[t])})),f}var f={system:l(n(10241)).default,media:i.default,ui:o.default,pkg:r.default,exts:{},lang:a.default};t.getSpecialVersionName=function(){var e=f.system.specialVersion;return void 0===e?f.pkg.specialVersion:e},t.updateConfig=c,(i=f.pkg.configurations)&&c(i),f.pkg.buildTime||DEBUG,DEBUG&&(n.g.$config=f),c({system:u(u({},(t.default=f).system),{},{device:"zentaoweb"}),ui:{"chat.autoActiveNextChat":!1,"app.hideLogout":!1,"app.shortenReconnectMessage":!1}})},78717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommandContext=t.executeCommandWithContext=t.executeCommandLine=t.executeCommand=t.default=t.createCommandObject=void 0,t.isRegisteredCommand=function(e){return!!d[e]},t.unregisterCommand=t.setCommandContext=t.registerCommand=void 0;var r=n(64393);function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){e&&("object"!==s(e)&&(e={data:e}),Object.assign(f,e))}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{},f].concat(t))}var f={},d={};function p(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _.apply(void 0,[e,null].concat(n))}function h(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(e.includes("|"))return Promise.all(e.split("|").map((function(e){return h(e,t)})));var n=e.split("/");return e=n.map((function(e,t){return"?"===e[0]&&t===n.length-1?(0,r.getSearchParam)(null,e):decodeURIComponent(e)})),_.apply(void 0,[e.shift(),t].concat(i(e)))}function m(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return e="object"===s(e)?a({},e):{name:e},"function"==typeof t&&(e.func=t),n&&(e.context=n),e}function y(e){var t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(e=m(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null),d[e.name])return DEBUG&&console.warn("Command register failed, because the command '".concat(e.name,"' is already registered.")),!1;if("object"===s(t)&&t&&Object.assign(e,t),n.g.ExtsRuntime&&void 0!==e.apiLevel&&!e.extension)try{n.g.ExtsRuntime.registerExtensionAPI({name:"commander.executeCommand.".concat(e.name),type:"host",level:e.apiLevel})}catch(e){DEBUG&&console.error(e)}return d[e.name]=e,!0}function g(e){return!!d[e]&&(delete d[e],!0)}t.setCommandContext=u,t.getCommandContext=c;var b,v,_=function(e,t){var r=null;if("object"!==s(e)?e=d[r=e]:r=e&&e.name,e){for(var o=arguments.length,a=new Array(2<o?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];if(!e.func)return void(DEBUG&&(console.collapse("Command.execute","redBg",r,"redPale","command func not found","redBg"),console.log("command",e),console.log("params",a),console.groupEnd()));if(e.extension&&!n.g.ExtsRuntime.checkExtensionAPIPermission(e.extension,"ext.getExtension"))throw new Error('Call extension command "'.concat(e,'" failed, because the extension "').concat(e.extension,'" is not available.'));var l=null,u=(a&&a.length&&"object"===s(a[a.length-1])&&(l=a[a.length-1]),t=c(l?{options:l}:null,t),e.context&&("function"===(u=s(e.context))?Object.assign(t,e.context.apply(e,[t].concat(a))):"object"===u?Object.assign(t,e.context):Object.assign(t,{data:e.context})),e.func.apply(e,[t].concat(a)));return DEBUG&&(console.collapse("Command.execute","redBg",r,"redPale"),console.log("context",t),console.log("command",e),console.log("params",a),console.log("result",u),console.log("searchOptions",l),console.groupEnd()),u instanceof Promise?u:u instanceof Error?Promise.reject(u):Promise.resolve(u)}return Promise.resolve(new Error("Unknown command '".concat(r,"'.")))},w=(t.executeCommandWithContext=_,t.executeCommand=p,t.executeCommandLine=h,t.createCommandObject=m,t.registerCommand=y,t.unregisterCommand=g,n.g.ExtsRuntime&&(b=n.g.ExtsRuntime.registerExtensionAPI,[{name:"commander.registerCommand",level:5,func:function(e,t,n){return!(!y(e="extension.".concat(this.name,".").concat(e),t,n)||!(t=d[e])||(t.extension=this.name,0))}},{name:"commander.unregisterCommand",level:0,func:function(e){e="extension.".concat(this.name,".").concat(e);var t=d[e];return!(!t||t.extension!==this.name)&&g(e)}},{name:"commander.executeCommand",level:6,func:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v.call.apply(v,[this,e,null].concat(n))}},{name:"commander.executeCommandLine",level:6,func:function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t.includes("|"))return Promise.all(t.split("|").map((function(t){return e(t,n)})));var o=t.split("/");return t=o.map((function(e,t){return"?"===e[0]&&t===o.length-1?(0,r.getSearchParam)(null,e):decodeURIComponent(e)})),v.call.apply(v,[this,t.shift(),n].concat(i(t)))}},{name:"commander.executeCommandWithContext",level:6,func:v=function(e,t){for(var r,o=arguments.length,a=new Array(2<o?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];if("string"!=typeof e)throw r=new TypeError('Param "command" must be a string.'),DEBUG&&(console.collapse("Extension","greenBg",this.name,"redPale",r.message,"red"),console.log("command",e),console.log("thisContext",t),console.log("params",a),console.log("extension",this),console.error("error",r),console.groupEnd()),r;if("~"===e[0]&&(e="extension.".concat(this.name,".").concat(e.substring(1))),n.g.ExtsRuntime.checkExtensionAPIPermission(this.name,"commander.executeCommand.".concat(e)))return _.apply(void 0,[e,t].concat(a));throw r=new Error('Call extension api "commander.executeCommand.'.concat(e,'" failed, because the extension "').concat(this.name,'" has not permission to access the api.')),DEBUG&&(console.collapse("Extension","greenBg",this.name,"redPale",r.message,"red"),console.log("command",e),console.log("thisContext",t),console.log("params",a),console.log("extension",this),console.error("error",r),console.groupEnd()),r}}].forEach((function(e){return b(e)}))),DEBUG&&(n.g.$executeCommand=p,n.g.$commands=d),{executeCommand:p,executeCommandLine:h,setCommandContext:u,registerCommand:y,unregisterCommand:g});t.default=w},89174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConferenceActionTypes=void 0;var r,o,a=(o=n(74160))&&o.__esModule?o:{default:o},i=n(7066);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}t.ConferenceActionTypes=r,(o=r||(t.ConferenceActionTypes=r={})).create="create",o.creating="creating",o.join="join",o.invite="invite",o.closing="closing",o.leave="leave",o.close="close",o.ignore="ignore",o.unignore="unignore",o.publish="publish",o.server="server",o.error="error",n=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");s(this,"room",void 0),s(this,"type",void 0),s(this,"date",void 0),s(this,"user",void 0),s(this,"error",void 0),s(this,"message",void 0),s(this,"status",void 0),s(this,"invitee",void 0),s(this,"participants",void 0),s(this,"data",void 0),s(this,"device",void 0);var n=t.room,o=t.type,l=t.date,u=t.user,c=t.error,f=t.message,d=t.status,p=t.invitee,h=t.participants,m=t.data;if(t=t.device,this.room=n,this.type=r[o],this.date=(0,i.createDate)(l).getTime(),this.user=u,this.error=c,this.message=f,this.status=d,this.invitee=p,this.participants=h,this.data="string"==typeof m&&"{"===m[0]?JSON.parse(m):m,this.device=t||a.default.system.device||"desktop",!this.type)throw new Error(m.type?'Cannot create ConferenceAction, "'.concat(m.type,'" is not a valid conference type.'):'Cannot create ConferenceAction, "ConferenceAction.type" must provide.');if(!this.date)throw new Error('Cannot create ConferenceAction, "ConferenceAction.date" must provide.');if(!this.user)throw new Error('Cannot create ConferenceAction, "ConferenceAction.user" must provide.')}var t,n,o;return t=e,o=[{key:"create",value:function(t,n){return t=t instanceof e?t:new e(t),void 0!==n&&(t.room=n),t}}],(n=[{key:"isCurrentDevice",get:function(){return this.device===a.default.system.device}},{key:"isCreate",get:function(){return this.type===r.create}},{key:"isCreating",get:function(){return this.type===r.creating}},{key:"isJoin",get:function(){return this.type===r.join}},{key:"isInvite",get:function(){return this.type===r.invite}},{key:"isLeave",get:function(){return this.type===r.leave}},{key:"isClose",get:function(){return this.type===r.close}},{key:"isClosing",get:function(){return this.type===r.closing}},{key:"isIgnore",get:function(){return this.type===r.ignore}},{key:"isUnignore",get:function(){return this.type===r.unignore}},{key:"isPublish",get:function(){return this.type===r.publish}},{key:"isServerOperation",get:function(){return this.type===r.server}},{key:"isError",get:function(){return this.type===r.error}},{key:"plain",value:function(){return{room:this.room,type:this.type,date:this.date,user:this.user,error:this.error,message:this.message,status:this.status,invitee:this.invitee,participants:this.participants,data:this.data,device:this.device}}}])&&l(t.prototype,n),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},42012:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.checkAlreadyJoinedConference=t.cancelScheduledConference=t.cancelConference=void 0,t.checkAlreadyJoinedOnOtherDevice=x,t.createConference=t.closeConference=void 0,t.createDetachedConference=function(){return R.apply(this,arguments)},t.editConference=void 0,t.fetchConferenceByNumber=L,t.leaveConference=t.joinConference=t.inviteConference=t.ignoreConference=t.hideConference=void 0,t.syncConferenceAction=Y,t.syncPublicationState=function(e,t){return Y(e,_.ConferenceActionTypes.publish,JSON.stringify(t))},t.updateOngoingConference=t.unignoreConference=void 0;var o=n(73630),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=O(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(83047)),i=S(n(23848)),l=n(68788),s=S(n(65286)),u=n(51572),c=S(n(24260)),f=n(15973),d=n(57485),p=n(44374),h=n(63132),m=n(78717),y=S(n(61862)),g=n(16986),b=n(32360),v=S(n(74101)),_=n(89174),w=n(10088);function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){P(a,r,o,i,l,"next",e)}function l(e){P(a,r,o,i,l,"throw",e)}i(void 0)}))}}var j=function(e){var t=(0,p.getJoinedConference)();return t&&e&&(0,m.executeCommand)("showMessager",(0,g.formatString)(e,{name:t.name}),{type:"danger",icon:"alert",autoHide:!1,actions:[{label:y.default.string("common.viewDetail"),url:"xxc://openConferenceWindow/".concat(t.number||t.cgid)}]}),t};function x(e){return D.apply(this,arguments)}function D(){return(D=T((function*(e){return!!(e=(0,p.getConference)(e))&&((e=e.isJoinedOnOtherDevice((0,f.getCurrentUserID)()))&&(0,m.executeCommand)("showMessager",y.default.string("conference.message.joinedOnOtherDevice"),{type:"danger",icon:"alert",autoHide:!1}),e)}))).apply(this,arguments)}function A(e){return(0,d.canUseConference)(e,!0)?(0,d.isConferenceNumber)(e)?c.default.sendAndListen({method:"conferenceGetByNumber",params:[e]}):c.default.sendAndListen({method:"conferenceGetByChat",params:[e]}):Promise.reject(new Error("ACTION_NOT_ALLOWED"))}t.checkAlreadyJoinedConference=j,t.updateOngoingConference=A;var I=new Map;function L(e){return N.apply(this,arguments)}function N(){return(N=T((function*(e){if(I.has(e))return I.get(e);var t=new Promise((function(t){c.default.sendAndListen({method:"conferencegetbynumber",params:[e]}).then((function(e){if(!(e&&Array.isArray(e)&&e.length&&e[0]))throw DEBUG&&console.error("conferencegetbynumber error",e),new Error("Conference not found");!e[0].room&&e[0].rid&&(e[0].room=e[0].rid,delete e[0].rid);var n=(0,p.getConference)(e[0].number);n||(n=a.default.create({cgid:e[0].cgid,isOne2One:!1,name:e[0].name,number:e[0].number,room:e[0].room||e[0].rid,status:e[0].status}),(0,p.storeConference)(n)),(0,p.updateConference)(e[0]),t(n)})).catch((function(e){DEBUG&&console.error("conferencegetbynumber error",e)}))}));return I.set(e,t),t.finally((function(){I.delete(e)})),t}))).apply(this,arguments)}function R(){return(R=T((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:w.DEFAULT_PUBLICATION,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:a.ConferenceType.default,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"",h=6<arguments.length&&void 0!==arguments[6]?arguments[6]:"",g=7<arguments.length&&void 0!==arguments[7]?arguments[7]:"",b=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0,v=9<arguments.length&&void 0!==arguments[9]?arguments[9]:"";if(!(0,d.canUseConference)())return Promise.reject(new Error("ACTION_NOT_ALLOWED"));if(r===a.ConferenceType.default&&j(y.default.string("conference.createFailed.alreadyJoined")))return Promise.resolve(!1);var S=null==(S=(0,f.getCurrentUser)())?void 0:S.isVersionSupport(u.VersionSupport.conferenceAppAndAppointment);return b=(S=M(yield(0,i.default)(c.default.sendAndListen({method:"conferencecreatedetached",params:S?[e,t,r,o,s,h,g,b,v]:[e,t,r,o,s,h,g]},!0)),2))[0],v=S[1],!b&&v&&v.data?r!==a.ConferenceType.scheduled?(e=new a.default({cgid:v.data.cgid,isOne2One:!1,number:v.data.number,status:"closed",room:v.data.room,topic:o}),(0,p.storeConference)(e),r===a.ConferenceType.default&&((0,p.updateConferenceAction)({type:_.ConferenceActionTypes.creating},e),e.publishOptions=n),(0,p.updateConference)(v.data),e):void(0,l.showMessager)(y.default.string("conference.appointment.success"),{type:"info"}):(DEBUG&&(console.collapse("Conference","tealBg","Create conference error: ".concat(b.message),"red"),console.error("error",b),console.log("conference"),console.groupEnd()),void(0,m.executeCommand)("showMessager",y.default.string("conference.message.createFail"),{type:"danger",icon:"alert",autoHide:!1}))}))).apply(this,arguments)}t.createConference=function(){var e=T((function*(e,t,n){if(!(0,d.canUseConference)(e,!0))return Promise.reject(new Error("ACTION_NOT_ALLOWED"));if(j(y.default.string("conference.createFailed.alreadyJoined")))return Promise.resolve(!1);if(yield x(e))return Promise.resolve(!1);var r=yield(0,p.getAndFetchConference)(e);return r?((0,p.updateConferenceAction)({type:_.ConferenceActionTypes.creating},r),n&&(r.publishOptions=n),"string"==typeof t&&(t=t&&"_"!==t?t.split(",").map((function(e){return Number.parseInt(e,10)})):[]),c.default.sendAndListen({method:"conferenceCreate",params:[e,t]}).catch((function(t){DEBUG&&(console.collapse("Conference","tealBg",r.name,"tealPale","Create conference error: ".concat(String(t)),"red"),console.error("error",t),console.log("conference",r),console.groupEnd()),(0,p.updateConferenceAction)({type:_.ConferenceActionTypes.error,error:t},r),setTimeout((function(){(0,p.updateConferenceAction)({type:_.ConferenceActionTypes.close},r)}),1e3),e&&(0,m.executeCommand)("showMessager",t.message,{type:"danger",icon:"alert",autoHide:!1})}))):Promise.reject(new Error("Conference not found due to the chat does not exist"))}));return function(t,n,r){return e.apply(this,arguments)}}(),n=function(){var e=T((function*(e,t){if(!(0,d.canUseConference)(e))return Promise.reject(new Error("ACTION_NOT_ALLOWED"));var n=yield(0,p.getAndFetchConference)(e);if(!n)return Promise.reject(new Error("CONFERENCE_NOT_FOUND"));if(!(0,f.getCurrentUser)().isVersionSupport(u.VersionSupport.continueToInviteConference))return Promise.reject(new Error("SERVER NOT SUPPORT"));if(!(0,f.getCurrentUser)().isEnableDetachedConference){var r=[].concat(C(n.invitee),C(n.participants));if(!(t=t.filter((function(e){return!r.includes(e)}))).length)return}return c.default.sendAndListen({method:"conferenceInvite",params:[e,t]})}));return function(t,n){return e.apply(this,arguments)}}(),t.inviteConference=n,n=function(){var e=T((function*(e,t){if(!(0,d.canUseConference)(e))return Promise.reject(new Error("ACTION_NOT_ALLOWED"));if(j(y.default.string("conference.joinFailed.alreadyJoined")))return Promise.resolve(!1);var n=yield(0,p.getAndFetchConference)(e);return n?n.isClosed&&n.type===a.ConferenceType.default?Promise.reject(new Error("CONFERENCE_CLOSED")):(t&&(n.publishOptions={audio:Boolean(t.audio),video:Boolean(t.video),screen:!1}),(0,o.isOpenedConferenceWindow)(n.number||n.cgid)?void(0,o.openConferenceWindow)(n.number||n.cgid,void 0,y.default.format("conference.window.title",n.topic)):n.canJoin((0,f.getCurrentUserID)())?c.default.sendAndListen({method:"conferenceJoin",params:[e]}):Promise.reject(new Error("ACTION_NOT_ALLOWED"))):Promise.reject(new Error("CONFERENCE_NOT_FOUND"))}));return function(t,n){return e.apply(this,arguments)}}(),t.joinConference=n,n=function(){var e=T((function*(e){if(!(0,d.canUseConference)(e,!0))throw new Error("ACTION_NOT_ALLOWED");var t=yield(0,p.getAndFetchConference)(e);if(!t)return Promise.reject(new Error("CONFERENCE_NOT_FOUND"));if(!t.isClosed){var n=(0,f.getCurrentUserID)();if(!t.canLeave(n)&&e!=="".concat(n,"&").concat(n))throw new Error("ACTION_NOT_ALLOWED");(0,p.updateConferenceAction)({type:_.ConferenceActionTypes.leave},t),yield(0,b.disconnectConferenceServer)(t.room);try{yield c.default.sendAndListen({method:"conferenceLeave",params:[e]}),(0,o.closeConferenceWindow)(e)}catch(e){}}}));return function(t){return e.apply(this,arguments)}}();var F=(t.leaveConference=n,function(){var e=T((function*(e){return(0,d.canUseConference)(e)?(e=yield(0,p.getAndFetchConference)(e))?e.canCancel((0,f.getCurrentUserID)())?((0,p.updateConferenceAction)({type:_.ConferenceActionTypes.close},e),Promise.resolve()):Promise.reject(new Error("ACTION_NOT_ALLOWED")):Promise.reject(new Error("CONFERENCE_NOT_FOUND")):Promise.reject(new Error("ACTION_NOT_ALLOWED"))}));return function(t){return e.apply(this,arguments)}}());function Y(e,t){return B.apply(this,arguments)}function B(){return(B=T((function*(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(!(0,d.canUseConference)(e,!0))throw new Error("ACTION_NOT_ALLOWED");var r=yield(0,p.getAndFetchConference)(e);if(!r)return Promise.reject(new Error("CONFERENCE_NOT_FOUND"));(r.isOpen||r.isNotStarted)&&((0,p.updateConferenceAction)({type:t,data:n},r),yield c.default.sendAndListen({method:"conferenceSyncAction",params:[e,t,n]}))}))).apply(this,arguments)}t.cancelConference=F,n=function(){var e=T((function*(e){if(!(0,d.canUseConference)(e,!0))throw new Error("ACTION_NOT_ALLOWED");var t=yield(0,p.getAndFetchConference)(e);if(!t)return Promise.reject(new Error("CONFERENCE_NOT_FOUND"));var n=(0,f.getCurrentUserID)();if(t.canCancel(n))return F(e);var r=(0,f.getCurrentUser)();if(!(t.canClose(n)||r.config.useInitConference&&t.cgid==="".concat(r.id,"&").concat(r.id)))throw new Error("ACTION_NOT_ALLOWED");(0,p.updateConferenceAction)({type:_.ConferenceActionTypes.closing},t),yield(0,b.disconnectConferenceServer)(t.room),yield c.default.sendAndListen({method:"conferenceClose",params:[e]})}));return function(t){return e.apply(this,arguments)}}(),t.closeConference=n,n=function(){var e=T((function*(e){var t=yield(0,p.getAndFetchConference)(e);if(!t)return Promise.reject(new Error("CONFERENCE_NOT_FOUND"));var n=(0,f.getCurrentUserID)();if(t.type!==a.ConferenceType.scheduled||t.openedBy!==n)throw new Error("ACTION_NOT_ALLOWED");return(0,p.updateConferenceAction)({type:_.ConferenceActionTypes.close},t),c.default.send({method:"conferenceCancelScheduled",params:[e]})}));return function(t){return e.apply(this,arguments)}}(),t.cancelScheduledConference=n,t.hideConference=function(e){return c.default.send({method:"conferenceHide",params:[e]})},n=function(){var e=T((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:a.ConferenceType.default;if((yield c.default.sendAndListen({method:"conferenceEdit",params:[e,t,n,r,4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",5<arguments.length&&void 0!==arguments[5]?arguments[5]:"",6<arguments.length&&void 0!==arguments[6]?arguments[6]:"",7<arguments.length&&void 0!==arguments[7]?arguments[7]:"",8<arguments.length&&void 0!==arguments[8]?arguments[8]:0,9<arguments.length&&void 0!==arguments[9]?arguments[9]:""]})).isSuccess)return!0}));return function(t){return e.apply(this,arguments)}}(),t.editConference=n,n=function(){var e=T((function*(e){return(0,d.canUseConference)(e)?(e=yield(0,p.getAndFetchConference)(e))?e.isIgnored((0,f.getCurrentUserID)())||e.isClosed?void 0:e.isCurrentUserInvited?((0,p.updateConferenceAction)({type:_.ConferenceActionTypes.ignore},e),Promise.resolve()):Promise.reject(new Error("ACTION_NOT_ALLOWED")):Promise.reject(new Error("CONFERENCE_NOT_FOUND")):Promise.reject(new Error("ACTION_NOT_ALLOWED"))}));return function(t){return e.apply(this,arguments)}}(),t.ignoreConference=n,n=function(){var e=T((function*(e){return(0,d.canUseConference)(e)?(e=yield(0,p.getAndFetchConference)(e))?(0,d.isIgnoredConference)(e)?((0,p.updateConferenceAction)({type:_.ConferenceActionTypes.unignore},e),Promise.resolve()):Promise.reject(new Error("ACTION_NOT_ALLOWED")):Promise.reject(new Error("CONFERENCE_NOT_FOUND")):Promise.reject(new Error("ACTION_NOT_ALLOWED"))}));return function(t){return e.apply(this,arguments)}}(),t.unignoreConference=n;var U=function(){var e=T((function*(e){var t;e.isSuccess&&e.data&&(t=e.data.number?yield(0,p.getAndFetchConference)(e.data.number):(0,p.getConferenceByRoom)(e.data.room))&&(0,p.updateConferenceAction)(e.data,t)&&((0,h.updateConferenceServerConnection)(t),s.default.emit("conference.app.grid.update"))}));return function(t){return e.apply(this,arguments)}}();c.default.setHandler("conferenceGetByChat",(function(e){e.isSuccess&&e.data&&(e=M(e.data,1)[0])&&(!e.room&&e.rid&&(e.room=e.rid,delete e.rid),e.cgid.includes("&")&&"closed"===e.status||(0,p.updateConference)(e))})),c.default.setHandler("conferenceCreateDetached",(function(e){var t;e.isSuccess&&e.data&&(!(0,p.getConference)(e.data.number)&&e.data.openedBy===(0,f.getCurrentUserID)()||(s.default.emit("conference.app.grid.update"),(0,p.getConference)(e.data.number)||(t=a.default.create({cgid:e.data.cgid,isOne2One:!1,name:e.data.name,number:e.data.number,room:e.data.room}),(0,p.storeConference)(t)),(0,p.updateConference)(e.data)))})),c.default.setHandler("conferenceCreate",(function(e){e.isSuccess&&e.data&&(0,p.updateConference)(e.data)})),c.default.setHandler("conferenceClose",U),c.default.setHandler("conferenceCancel",U),c.default.setHandler("conferenceSyncAction",U),c.default.setHandler("conferenceJoin",(function(e){if(e.isSuccess&&e.data)return U(e);"Could not join the conference."===e.message&&(0,d.isConferenceNumber)(e.data.cgid)&&(0,p.getConference)(e.data.cgid)&&L(e.data.cgid),(0,m.executeCommand)("showMessager","".concat(y.default.string("conference.message.joinFail")).concat(e.message?"(".concat(e.message,")"):""),{type:"danger",icon:"alert",autoHide:!1}),(0,f.getCurrentUser)().isEnableDetachedConference||(0,p.updateConferenceAction)({type:_.ConferenceActionTypes.close},e.data)})),c.default.setHandler("conferenceInvite",U),c.default.setHandler("conferenceLeave",U),c.default.setHandler("syncConferences",(function(e){var t,n;e.isSuccess&&Array.isArray(e.data)&&(t=function(){e.data.forEach((function(e){!e.room&&e.rid&&(e.room=e.rid,delete e.rid),(0,p.updateConference)(e)}))},v.default.isReady?t():n=v.default.subscribeChatsReadyEvent((function(){t(),v.default.unsubscribeChatsReadyEvent(n)})))})),(0,m.registerCommand)("updateOngoingChatConference",(function(e,t){return e=e.options,!t&&e&&e.cgid&&(t=e.cgid),A(t)}))},10088:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emitConferenceInviteeChange=t.emitConferenceChange=t.emitConferenceAddActions=t.DEFAULT_PUBLICATION=t.CONFERENCE_EVENT=void 0,t.emitConferencePeerConnectionStatusChange=function(e){o.default.emit(r.peerConnectionStatusChange,e)},t.onConferenceAddActions=t.emitConferenceStatusChange=t.emitConferenceServerStatusChange=t.emitConferenceServerPublicationChange=void 0,t.onConferenceChange=function(e,t){return"function"==typeof e&&(t=e,e=null),o.default.on(e?"".concat(r.change,".").concat(e):r.change,t)},t.onConferenceChangeByCgid=function(e,t){return o.default.on("".concat(r.change,".cgid.").concat(e),t)},t.onConferenceInviteeChange=function(e,t){return"function"==typeof e&&(t=e,e=null),o.default.on(e?"".concat(r.inviteeChange,".").concat(e):r.inviteeChange,t)},t.onConferencePeerConnectionStatusChange=function(e){return o.default.on(r.peerConnectionStatusChange,e)},t.onConferenceServerPublicationChange=void 0,t.onConferenceServerStatusChange=function(e,t){return"function"==typeof e&&(t=e,e=null),o.default.on(e?"".concat(r.serverStatusChange,".").concat(e):r.serverStatusChange,t)},t.onConferenceStatusChange=function(e,t){return"function"==typeof e&&(t=e,e=null),o.default.on(e?"".concat(r.statusChange,".").concat(e):r.statusChange,t)};var r,o=(n=n(65286))&&n.__esModule?n:{default:n};t.DEFAULT_PUBLICATION={audio:!0,video:!1,screen:!1},t.CONFERENCE_EVENT=r,(n=r||(t.CONFERENCE_EVENT=r={})).change="conference.change",n.statusChange="conference.status.change",n.addActions="conference.addActions",n.serverStatusChange="conferenceServer.status.change",n.serverPublicationChange="conferenceServer.publication.change",n.inviteeChange="conference.invitee.change",n.peerConnectionStatusChange="conference.peerConnection.status.change",t.emitConferenceChange=function(e){o.default.emit(r.change,e),o.default.emit("".concat(r.change,".").concat(e.number||e.cgid),e),e.cgid&&o.default.emit("".concat(r.change,".cgid.").concat(e.cgid),e)},t.emitConferenceInviteeChange=function(e){o.default.emit(r.inviteeChange,e),o.default.emit("".concat(r.inviteeChange,".").concat(e.number||e.cgid),e)},t.emitConferenceStatusChange=function(e,t,n){DEBUG&&(console.collapse("Conference","tealBg",e.topic,"tealPale",'Status Changed from "'.concat(n.name,'" to "').concat(t.name,'"'),""),console.trace("newStatus",t),console.log("oldStatus",n),console.log("conference",e),console.groupEnd()),o.default.emit(r.statusChange,e,t,n),o.default.emit("".concat(r.statusChange,".").concat(e.number||e.cgid),e,t,n)},t.onConferenceAddActions=function(e){return o.default.on(r.addActions,e)},t.emitConferenceAddActions=function(e,t){o.default.emit(r.addActions,e,t)},t.emitConferenceServerStatusChange=function(e,t,n,a){DEBUG&&(console.collapse("ConferenceServer","tealBg",e.topic,"tealPale",'Status Changed from "'.concat(n.name,'" to "').concat(t.name,'"'),""),console.trace("newStatus",t),console.log("oldStatus",n),console.log("conference",e),console.log("conferenceServer",a),console.groupEnd()),o.default.emit(r.serverStatusChange,e,t,n,a),o.default.emit("".concat(r.serverStatusChange,".").concat(e.number||e.cgid),e,t,n,a)},t.onConferenceServerPublicationChange=function(e){return o.default.on(r.serverPublicationChange,e)},t.emitConferenceServerPublicationChange=function(e,t,n){o.default.emit(r.serverPublicationChange,e,t,n)}},57485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSpaceForConferenceNumber=function(e){var t=0;return e.split("").reverse().reduce((function(e,n,r){return r%3==0&&t<=2?(t++,"".concat(n," ").concat(e)):n+e}),"").trimEnd()},t.isConferenceIncoming=t.getMemberStatusInConference=t.getConferenceParticipantMembers=t.canUseConference=void 0,t.isConferenceNumber=d,t.isJoinedConference=t.isIgnoredConference=t.isConferenceParticipant=void 0,t.removeStringSpace=function(e){return e.replace(/\s/g,"")};var r=n(44374),o=n(15973),a=u(n(74101)),i=n(32360),l=u(n(94128)),s=u(n(84431));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return!("string"==typeof e&&!(e=(0,r.getConference)(e)))&&!!e.isOpen&&(null==t?t=(0,o.getCurrentUser)():"object"!==c(t)&&(t=s.default.getMemberOrTemp(t)),t.isOnline&&e.isParticipant(t.id))}function d(e){return!Number.isNaN(Number(e))}t.getConferenceParticipantMembers=function(e){if("string"==typeof e&&!(e=(0,r.getConference)(e)))return[];var t=[];return e.participantsList.forEach((function(e){(e=s.default.getMemberOrTemp(e))&&e.isOnline&&t.push(e)})),t},t.isConferenceParticipant=f,t.isJoinedConference=function(e){return f(e)},t.isIgnoredConference=function(e,t){var n;return!("string"==typeof e&&!(e=(0,r.getConference)(e)))&&(null==t&&(t=(0,o.getCurrentUserID)()),(null==(n=e)?void 0:n.isOpen)&&e.isIgnored(t))},t.isConferenceIncoming=function(e,t){if("string"==typeof e&&!(e=(0,r.getConference)(e)))return!1;var n=(0,o.getCurrentUser)();return void 0===t&&(t=n.id),n.isEnableDetachedConference?e.isOpen&&e.openedBy!==t&&!e.isParticipant(t)&&e.isCurrentUserInvited:e.isOpen&&e.openedBy!==t&&!e.isParticipant(t)},t.canUseConference=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(0,o.getCurrentUser)();return!(!n||!n.conference)&&(!(!n.config.useInitConference||!t||e!=="".concat(n.id,"&").concat(n.id))||!(!(null==n?void 0:n.permissions.includes("owt/nonelectron"))&&"electron"!==l.default.type||!n||!n.conference)&&(!!d(e)||(!e.includes("&")||(t=e.split("&"))[0]!==t[1])&&!((t=a.default.getChat(e)).isSystem&&!n.conference.enableSystem)&&t&&!t.isReadonly(n)))},t.getMemberStatusInConference=function(e,t){if("string"==typeof e&&!(e=(0,r.getConference)(e)))return!1;if(void 0===t?t=(0,o.getCurrentUser)():"object"!==c(t)&&(t=s.default.getMemberOrTemp(t)),e&&e.isOpen&&e.isParticipant(t.id)){if(e.room){if(t.isOffline)return"offline";if(e=(0,i.getConferenceServer)(e.room))if(e.isConnected){if(e.isParticipant(t.id))return"server_connected"}else if(e.isReady&&1<e.failuresCount&&e.error)return"server_error"}return"server_connecting"}return!1}},89848:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MEDIA_TYPES=void 0,t.createBlackVideoTrack=c,t.createMediaStream=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r.audio,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"av"===e?navigator.mediaDevices.getUserMedia({audio:!a.audioInputDeviceId.value||{deviceId:a.audioInputDeviceId.value},video:!0}):e===r.audio?navigator.mediaDevices.getUserMedia({audio:!a.audioInputDeviceId.value||{deviceId:a.audioInputDeviceId.value},video:!1}).catch((function(e){return console.error("Get user Media error",e),new MediaStream([u()])})):e===r.video?navigator.mediaDevices.getUserMedia({audio:!1,video:!0}):e!==r.screen?null:i.default.has("displayMedia.getDisplayMediaStream")?i.default.call("displayMedia.getDisplayMediaStream",{displaySelector:null!=(e=null==t?void 0:t.displaySelector)?e:d}):navigator.mediaDevices.getDisplayMedia({video:{cursor:"always"},audio:!1})},t.createSilenceAudioTrack=u,t.createWarmUpMediaStream=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new MediaStream([u(),c(e)])},t.destroyMediaStream=t.destroyAudio=void 0,t.displaySelector=d,t.playAudioStream=t.playAudio=void 0;var r,o,a=n(73630),i=(o=n(94128))&&o.__esModule?o:{default:o},l=n(78717);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){var e=(t=new AudioContext).createOscillator(),t=e.connect(t.createMediaStreamDestination());return e.start(),Object.assign(t.stream.getAudioTracks()[0],{enabled:!1,contentHint:"speech"})}function c(){var e=void 0===(e=(n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).width)?640:e,t=void 0===(t=n.height)?480:t,n=void 0===(n=n.contentHint)?"":n,r=Object.assign(document.createElement("canvas"),{width:e,height:t});return r.getContext("2d").fillRect(0,0,e,t),e=r.captureStream(),Object.assign(e.getVideoTracks()[0],{enabled:!1,contentHint:n})}function f(e,t,n){e="conference-audio-".concat(e);var r=document.getElementById(e);r||((r=document.createElement("audio")).id=e,DEBUG&&(r.controls=!0),document.getElementById("conference-audios").appendChild(r)),r.autoplay=n,r.srcObject=t}function d(e){return(0,l.executeCommand)("showDisplaySourceSelector",e)}t.MEDIA_TYPES=r,(o=r||(t.MEDIA_TYPES=r={})).audio="audio",o.video="video",o.screen="screen",t.playAudio=f,t.playAudioStream=function(e,t){return f(e.id,e.mediaStream,t)},t.destroyAudio=function(e){null!=(e=document.getElementById("conference-audio-".concat(e)))&&e.remove()},t.destroyMediaStream=function(e){if(e){var t,n=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(e.getTracks());try{for(n.s();!(t=n.n()).done;){var r=t.value;r.stop(),e.removeTrack(r)}}catch(e){n.e(e)}finally{n.f()}}},document.getElementById("conference-audios")||((n=document.createElement("div")).id="conference-audios",n.style.display="none",document.body.appendChild(n))},2160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryPlayRingSound=void 0;var r,o=n(83047),a=n(15973),i=n(44374),l=(r=n(94128))&&r.__esModule?r:{default:r},s=n(32360),u=null,c=0;t.tryPlayRingSound=function(){var e,t=!1,n=!1,r=!1,f=!1,d=!1,p=(0,a.getCurrentUserID)();(0,i.getConferencesList)().forEach((function(e){var a,i,l;e.isOpen&&e.cgid!=="".concat(p,"&").concat(p)&&(a=e.isOpenedBy(p)&&e.type===o.ConferenceType.default,i=e.isParticipant(p),l=e.isWaiting(p)&&e.isOne2One,a||i||e.isIgnored(p)||e.haveJoinedOrIgnoredBefore(p)||!e.isCurrentUserInvited?l&&(0,s.isConferenceAudioPublished)(e.room)?r=!0:i&&(n=!0,f=e.latestAction&&e.latestAction.isJoin,d=e.latestAction&&e.latestAction.isLeave):t=!0)})),t&&!n||r?(e=r,u=u||setInterval((function(){c++%(e?2:3)!=0&&l.default.call("sound.play","ring")}),1e3)):(u&&(clearInterval(u),u=null),f&&l.default.call("sound.play","jointone"),d&&l.default.call("sound.play","leavetone"))}},91731:(e,t)=>{"use strict";function n(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function r(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function a(e,t,n){if((t=l(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function i(e,t){return(t=l(e,t,"get")).get?t.get.call(e):t.value}function l(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.ConferenceParticipant=void 0;var s=new WeakMap,u=new WeakMap,c=new WeakMap,f=new WeakMap,d=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");o(this,"id",void 0),o(this,"self",void 0),o(this,"role",void 0),o(this,"joinTime",void 0),o(this,"streams",new Map),r(this,s,{writable:!0,value:"video"}),o(this,"data",{}),r(this,u,{writable:!0,value:{audio:!0,video:!1,screen:!1}}),r(this,c,{writable:!0,value:void 0}),r(this,f,{writable:!0,value:0});var a=t.id,i=t.self,l=t.role,d=t.joinTime;t=t.data,this.id=a,this.self=i,this.role=l,this.joinTime=null!=d?d:Date.now(),this.data=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t)}var t,l;return t=e,(l=[{key:"publishVideoTime",get:function(){return i(this,f)}},{key:"isPresenter",get:function(){return"presenter"===this.role}},{key:"audioStream",get:function(){return this.streams.get("audio")}},{key:"videoStream",get:function(){return this.streams.get("video")}},{key:"videoType",get:function(){return i(this,s)}},{key:"publicationState",get:function(){return i(this,u)}},{key:"hasAudio",get:function(){return this.publicationState.audio}},{key:"hasVideo",get:function(){return this.publicationState.video}},{key:"hasScreencast",get:function(){return this.publicationState.screen}},{key:"hasVideoOrScreencast",get:function(){return this.hasVideo||this.hasScreencast}},{key:"onStreamChange",set:function(e){a(this,c,e)}},{key:"getData",value:function(e){return void 0===e?this.data:this.data[e]}},{key:"setData",value:function(e){Object.assign(this.data,e)}},{key:"updateStream",value:function(e,t){t=t||e.getTracks()[0].kind;var n,r=this.streams.get(t);return r!==e&&(this.streams.set(t,e),t="audio"===t?"audio":i(this,s),null!=(n=i(this,c))&&n.call(this,{id:this.id,stream:e,type:r?"update":"add",mediaType:t,participant:this}),!0)}},{key:"removeStream",value:function(e,t){if(!this.streams.has(t))return!1;var n="audio"===t?"audio":i(this,s);return this.streams.delete(t),null!=(t=i(this,c))&&t.call(this,{id:this.id,stream:e,type:"stop",mediaType:n,participant:this}),!0}},{key:"switchVideoType",value:function(e){var t;i(this,s)!==e&&(a(this,s,e),null!=(t=i(this,c))&&t.call(this,{id:this.id,stream:this.videoStream,type:"update",mediaType:e,participant:this}))}},{key:"isPublished",value:function(e){return!!this.publicationState[e]}},{key:"updatePublicationState",value:function(e){var t=this.publicationState,n=void 0===(n=e.audio)?t.audio:n,r=void 0===(r=e.video)?t.video:r,o=void 0===(o=e.screen)?t.screen:o;return r&&!t.video&&a(this,f,Date.now()),(t.audio!==n||t.video!==r||t.screen!==o)&&(Object.assign(i(this,u),e),!0)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ConferenceParticipant=d},73630:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audioInputDeviceId=void 0,t.closeConferenceWindow=b,t.isOpenedConferenceWindow=function(e){return y.nwc&&(!e||e===y.number||e===y.cgid)},t.openConferenceWindow=v;var r=h(n(61862)),o=n(32360),a=h(n(84431)),i=n(57485),l=h(n(26774)),s=n(59726),u=h(n(94128)),c=h(n(65286)),f=n(10088),d=n(99838),p=n(15973);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={nwc:null,cgid:null,room:null,eventIds:null,number:null},g=(0,s.signal)(void 0);function b(e){if(!e||e===y.number||e===y.cgid){if(y.number=null,y.cgid=null,y.nwc)try{y.nwc.invoke("conferenceWindow.forceClose")}catch(t){DEBUG&&console.error('Cannot close conference window "'.concat(e,'".'))}y.nwc=null}}function v(e,t,n){var s;e===y.number||e===y.cgid?y.nwc.bridge&&e!=="".concat((0,p.getCurrentUserID)(),"&").concat((0,p.getCurrentUserID)())&&y.nwc.invoke("conferenceWindow.showAndFocus"):((y.number||y.cgid)&&b(),(n=u.default.call("nwc.openWindowAndCreateNwc","conference",{title:n,closeConfirm:!0,backgroundColor:(0,d.isDarkThemeMode)()?"#343434":"#ececec",minWidth:600,minHeight:300,overlayIcon:"conference-win.png",urlParams:{conferenceGid:e,conferenceRoom:t}})).once("destroy",(function(){y.eventIds&&(c.default.off.apply(c.default,function(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(y.eventIds)),y.eventIds=null)})),y.eventIds=[],n.registerInvokeTarget("conference",{onConferenceChange:function(e,t){return e=(0,f.onConferenceChange)(e,t),y.eventIds.push(e),e},onConferenceServerStatusChange:function(e,t){return e=(0,f.onConferenceServerStatusChange)(e,t),y.eventIds.push(e),e},onUserStatusChange:function(e){return e=(0,p.onUserStatusChange)(e),y.eventIds.push(e),e},onConferencePeerConnectionStatusChange:function(e){return e=(0,f.onConferencePeerConnectionStatusChange)(e),y.eventIds.push(e),e}}),n.shareData({getCurrentUserID:p.getCurrentUserID,getCurrentUser:p.getCurrentUser,Lang:r.default,connectConferenceServer:o.connectConferenceServer,membersStore:a.default,deptsStore:l.default,audioInputDeviceId:g}),s=(0,f.onConferenceServerStatusChange)(e,(function(t){t.isClosed&&b(e)})),y.eventIds.push(s),y.nwc=n,(0,i.isConferenceNumber)(e)?y.number=e:y.cgid=e,y.room=t)}t.audioInputDeviceId=g,DEBUG&&(n.g.$closeConferenceWindow=b,n.g.$openConferenceWindow=v,n.g.$conferenceWindowInfo=y)},63132:(e,t,n)=>{"use strict";function r(e){l.has(e)&&(l.delete(e),s&&!l.size&&(clearInterval(s),s=null))}Object.defineProperty(t,"__esModule",{value:!0}),t.updateConferenceServerConnection=void 0;var o=n(32360),a=n(57485),i=n(15973),l=new Map,s=null,u=function(e){var t=e.room,n=e.cgid,c=e.number;if(!t)return DEBUG&&console.warn('Update conference server connection failed, the "room" must be provide.'),r(c||n),!1;if(e.isJoinedOnOtherDevice((0,i.getCurrentUserID)()))return!1;var f=(0,o.getConferenceServer)(t);return(0,i.isUserOnline)()&&(0,a.isJoinedConference)(e)?(f.isReady&&f.failuresCount<10&&(0,o.connectConferenceServer)(e),f=e,l.set(f.number||f.cgid,f),s=s||setInterval((function(){Array.from(l.values()).forEach(u)}),5e3)):e.isClosed&&((0,o.disconnectConferenceServer)(t),r(c||n)),!0};t.updateConferenceServerConnection=u},48251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConferenceServer=function(e){return new("srs"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"owt")?o.SRSConferenceServer:r.OWTConferenceServer)(e)};var r=n(16836),o=n(47580)},36666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MEDIA_PUBLISH_TYPES=void 0;var r=n(89848),o=s(n(13109)),a=n(68788),i=s(n(61862)),l=n(78717);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,l,"next",e)}function l(e){u(a,r,o,i,l,"throw",e)}i(void 0)}))}}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function v(e,t,n){if((t=w(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function _(e,t){return(t=w(e,t,"get")).get?t.get.call(e):t.value}function w(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var S={published:!0,stopped:!1,disabled:"disabled",muted:"muted"},O=(t.MEDIA_PUBLISH_TYPES=S,new WeakMap),M=new WeakMap,C=new WeakMap,k=new WeakMap,E=new WeakMap,P=new WeakMap,T=new WeakMap,j=new WeakMap,x=new WeakMap,D=new WeakMap,A=new WeakMap;n=function(){function e(t){var n=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");b(this,"backend",void 0),b(this,"mode",void 0),b(this,"options",null),g(this,O,{writable:!0,value:o.default.create()}),g(this,M,{writable:!0,value:null}),g(this,C,{writable:!0,value:null}),g(this,k,{writable:!0,value:null}),b(this,"onRemoteStreamChange",null),g(this,E,{writable:!0,value:null}),g(this,P,{writable:!0,value:{audio:!1,video:!1,screen:!1}}),g(this,T,{writable:!0,value:null}),g(this,j,{writable:!0,value:null}),g(this,x,{writable:!0,value:0}),g(this,D,{writable:!0,value:!1}),g(this,A,{writable:!0,value:{}}),this.options=y({},t),_(this,O).onChange=function(e,t){var r;DEBUG&&(r=o.default.create(t),console.collapse("ConferenceServer","tealBg","Status changed","tealPale",'"'.concat(r.name,'"  "').concat(_(n,O).name,'"'),""),console.trace("newStatus",_(n,O)),console.log("oldStatus",r),console.log("conferenceServer",n),console.groupEnd()),null!=(r=_(n,C))&&r.call(n,n,_(n,O).proxy,o.default.create(t).proxy)},this.initOptions()}var t,n,s,u,p,h,m,w;return t=e,(n=[{key:"onStatusChange",set:function(e){v(this,C,e)}},{key:"onParticipantsChange",set:function(e){v(this,k,e)}},{key:"onPublicationChange",set:function(e){v(this,M,e)}},{key:"onError",set:function(e){v(this,E,e)}},{key:"room",get:function(){return this.options.room}},{key:"number",get:function(){return this.options.number}},{key:"cgid",get:function(){return this.options.cgid}},{key:"user",get:function(){return this.options.user}},{key:"api",get:function(){return this.options.api}},{key:"role",get:function(){return this.options.role}},{key:"https",get:function(){return this.options.https}},{key:"hostname",get:function(){return this.options.host}},{key:"rtc",get:function(){return this.options.rtc}},{key:"host",get:function(){return d(this.rtc.split("://"),2)[1]}},{key:"status",get:function(){return _(this,O).proxy}},{key:"statusName",get:function(){return _(this,O).name}},{key:"statusValue",get:function(){return _(this,O).value}},{key:"isReady",get:function(){return _(this,O).$.isReady}},{key:"isConnecting",get:function(){return _(this,O).$.isConnecting}},{key:"isConnected",get:function(){return _(this,O).$.isConnected}},{key:"idDisconnecting",get:function(){return _(this,O).$.isDisconnecting}},{key:"idNetworking",get:function(){return _(this,O).$.isDisconnecting||_(this,O).$.isConnecting}},{key:"error",get:function(){return _(this,j)}},{key:"failuresCount",get:function(){return _(this,x)}},{key:"publishState",get:function(){return y({audio:!1,video:!1,screen:!1},_(this,P))}},{key:"isAudioDisabled",get:function(){return this.isMediaDisabled(r.MEDIA_TYPES.audio)}},{key:"isVideoDisabled",get:function(){return this.isMediaDisabled(r.MEDIA_TYPES.video)}},{key:"isScreenDisabled",get:function(){return this.isMediaDisabled(r.MEDIA_TYPES.screen)}},{key:"isAudioPublished",get:function(){return this.isMediaPublished(r.MEDIA_TYPES.audio)}},{key:"isVideoPublished",get:function(){return this.isMediaPublished(r.MEDIA_TYPES.video)}},{key:"isScreencastPublished",get:function(){return this.isMediaPublished(r.MEDIA_TYPES.screen)}},{key:"isVideoOrScreenPublished",get:function(){return this.isVideoPublished||this.isScreencastPublished}},{key:"needPublishVideo",get:function(){return!!this.options.publish.video}},{key:"needPublishScreencast",get:function(){return!!this.options.publish.screen}},{key:"needPublishAudio",get:function(){return!!this.options.publish.audio}},{key:"participantsIds",get:function(){return _(this,T)?f(_(this,T).keys()):[]}},{key:"participantsList",get:function(){return _(this,T)?f(_(this,T).values()):[]}},{key:"getMediaPublishState",value:function(e){return null!=(e=_(this,P)[e])&&e}},{key:"isMediaDisabled",value:function(e){return this.getMediaPublishState(e)===S.disabled}},{key:"isMediaPublished",value:function(e){return this.getMediaPublishState(e)===S.published}},{key:"isMediaMuted",value:function(e){return this.getMediaPublishState(e)===S.muted}},{key:"needPublish",value:function(e){return e?!!this.options.publish[e]:!!(this.options.publish.video||this.options.publish.audio||this.options.publish.screen)}},{key:"updatePublishState",value:function(e){e===S.published?e={audio:S.published,video:S.published,screen:S.published}:e===S.stopped?e={audio:S.stopped,video:S.stopped,screen:S.stopped}:e===r.MEDIA_TYPES.audio?e={audio:S.published}:e===r.MEDIA_TYPES.video?e={video:S.published}:e===r.MEDIA_TYPES.screen&&(e={screen:S.published});var t=this.publishState;Object.assign(_(this,P),e),!_(this,M)||t.audio===_(this,P).audio&&t.video===_(this,P).video&&t.screen===_(this,P).screen||_(this,M).call(this,this,this.publishState,t)}},{key:"initOptions",value:function(){if(!this.options.room)throw new Error('Property "options.room" is required in construct ConferenceServer.');if(!this.options.user)throw new Error('Property "options.user" is required in construct ConferenceServer.');this.options.publish=y({audio:S.published,video:S.stopped,screen:S.stopped},this.options.publish)}},{key:"disconnect",value:(w=c((function*(){v(this,j,null),v(this,D,!1),_(this,O).change(o.default.$.disconnecting);try{return this.isParticipant(this.user)&&(DEBUG&&(console.collapse("ConferenceServer","tealBg","Disconnecting...","tealPale",this.room,""),console.log("ConferenceServer",this),console.groupEnd()),this.removeParticipant(this.user),yield this.disconnectServer()),_(this,O).change(o.default.$.ready),DEBUG&&(console.collapse("ConferenceServer","tealBg","Disconnected!","tealPale",this.room,""),console.log("ConferenceServer",this),console.groupEnd()),!0}catch(e){v(this,j,e),DEBUG&&(console.collapse("ConferenceServer","tealBg","Disconnect error","redPale",String(e),"red"),console.error("error",e),console.log("ConferenceServer",this),console.groupEnd()),_(this,O).change(o.default.$.ready)}return!1})),function(){return w.apply(this,arguments)})},{key:"connect",value:(m=c((function*(e){var t=this;e&&Object.assign(this.options.publish,e),e=this.statusValue,v(this,j,null),v(this,T,new Map),_(this,O).change(o.default.$.connecting);try{return DEBUG&&(console.collapse("ConferenceServer","tealBg","Connecting...","tealPale",this.room,""),console.log("ConferenceServer",this),console.groupEnd()),yield this.connectServer(),v(this,x,0),_(this,O).change(o.default.$.connected),this.cgid==="".concat(this.user,"&").concat(this.user)&&setTimeout((function(){(0,l.executeCommand)("closeConference",t.cgid,!1)}),1e3),_(this,D)&&(yield this.disconnect()),DEBUG&&(console.collapse("ConferenceServer","tealBg","Connected!","tealPale",this.room,""),console.log("ConferenceServer",this),console.groupEnd()),!0}catch(t){t&&"SDPCODE400"===t.message?(_(this,O).change(o.default.$.ready),(0,a.showMessager)(i.default.format("conference.message.server_sdp_error"),{type:"warning"})):this.cgid==="".concat(this.user,"&").concat(this.user)&&t.target&&t.target.readyState===WebSocket.CLOSED?(_(this,O).change(e),(0,l.executeCommand)("closeConference",this.cgid,!1)):(v(this,x,+_(this,x)+1),_(this,O).change(e)),v(this,j,t),DEBUG&&(console.collapse("ConferenceServer","tealBg","Connect error","redPale",String(t),"red"),console.error("error",t),console.log("ConferenceServer",this),console.groupEnd())}return!1})),function(e){return m.apply(this,arguments)})},{key:"tryDisconnect",value:function(){return this.isConnected?this.disconnect():(this.isConnecting&&v(this,D,!0),Promise.resolve())}},{key:"getParticipant",value:function(e){var t;return null==(t=_(this,T))?void 0:t.get(e)}},{key:"isParticipant",value:function(e){var t;return null!=(t=null==(t=_(this,T))?void 0:t.has(e))&&t}},{key:"clearParticipant",value:function(){_(this,T).clear()}},{key:"isParticipantMuted",value:function(e){return e===this.user?!this.isAudioPublished:null}},{key:"tryMute",value:(h=c((function*(e){var t="_isMuting_".concat(e);return _(this,A)[t]?"busy":(_(this,A)[t]=!0,e=yield this.mute(e),_(this,A)[t]=!1,e)})),function(e){return h.apply(this,arguments)})},{key:"tryUnmute",value:(p=c((function*(e){var t="_isMuting_".concat(e);return _(this,A)[t]?"busy":(_(this,A)[t]=!0,e=yield this.unmute(e),_(this,A)[t]=!1,e)})),function(e){return p.apply(this,arguments)})},{key:"tryPublish",value:(u=c((function*(e,t){var n="_isPublishing_".concat(e);if(_(this,A)[n])return"busy";if(this.isMediaPublished(e))return!1;if(e===r.MEDIA_TYPES.screen&&this.hasMediaStream(r.MEDIA_TYPES.screen))return"othersAlreadyShareScreen";_(this,A)[n]=!0;try{var o=yield this.publish(e,t);return _(this,A)[n]=!1,o}catch(e){throw _(this,A)[n]=!1,e}})),function(e,t){return u.apply(this,arguments)})},{key:"tryUnpublish",value:(s=c((function*(e){var t="_isPublishing_".concat(e);return _(this,A)[t]?"busy":(_(this,A)[t]=!0,e=yield this.unpublish(e),_(this,A)[t]=!1,e)})),function(e){return s.apply(this,arguments)})},{key:"hasVideoOrScreencastStream",get:function(){return this.hasMediaStream([r.MEDIA_TYPES.screen,r.MEDIA_TYPES.video])}},{key:"hasScreencast",get:function(){return this.hasMediaStream(r.MEDIA_TYPES.screen)}},{key:"publishAudio",value:function(){return this.tryPublish(r.MEDIA_TYPES.audio)}},{key:"publishVideo",value:function(){return this.tryPublish(r.MEDIA_TYPES.video)}},{key:"publishScreencast",value:function(e){return this.tryPublish(r.MEDIA_TYPES.screen,e)}},{key:"unpublishAudio",value:function(){return this.tryUnpublish(r.MEDIA_TYPES.audio)}},{key:"unpublishVideo",value:function(){return this.tryUnpublish(r.MEDIA_TYPES.video)}},{key:"unpublishScreencast",value:function(){return this.tryUnpublish(r.MEDIA_TYPES.screen)}},{key:"getVideoMediaStream",value:function(){return this.getMediaStream(r.MEDIA_TYPES.video)}},{key:"getScreencastMediaStream",value:function(){return this.getMediaStream(r.MEDIA_TYPES.screen)}},{key:"addParticipant",value:function(e){var t;return _(this,T).set(e.id,e),null!=(t=_(this,k))&&t.call(this,this,"add"),e}},{key:"removeParticipant",value:function(e){_(this,T).delete(e),null!=(e=_(this,k))&&e.call(this,this,"remove")}},{key:"updateParticipant",value:function(e){_(this,T).set(e.id,e),null!=(e=_(this,k))&&e.call(this,this,"update")}},{key:"emitError",value:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null!=(t=_(this,E))&&t.call.apply(t,[this,this,e].concat(r))}},{key:"getLocalAudioStream",value:function(){return this.getLocalMediaStream(r.MEDIA_TYPES.audio)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},13109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=new(((n=n(60811))&&n.__esModule?n:{default:n}).default)(["ready","connecting","connected","disconnecting"],"ready",["ready > connecting","connecting > connected","connecting > ready","connected > disconnecting","connected > connecting","disconnecting > ready","disconnecting > connected"],{isReady:function(){return this.is("ready")},isConnecting:function(){return this.is("connecting")},isConnected:function(){return this.is("connected")},isDisconnecting:function(){return this.is("disconnecting")}}),t.default=n},32360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpublishVideo=t.unpublishScreencast=t.unmuteConference=t.publishVideo=t.publishScreencast=t.muteConference=t.isConferenceVideoPublished=t.isConferenceVideoOrScreenPublished=t.isConferenceVideoDisabled=t.isConferenceServerConnected=t.isConferenceScreencastPublished=t.isConferenceAudioPublished=t.isConferenceAudioDisabled=t.hasShownConferenceVideoOrScreen=t.hasShowConferenceScreen=t.getVideoMediaStream=t.getScreencastMediaStream=t.getConferenceServerStatusName=t.getConferenceServer=t.disconnectConferenceServer=t.connectConferenceServer=void 0,t.updateOthersPublicationState=y;var r=n(48251),o=n(44374),a=n(15973),i=n(10088),l=n(89174);function s(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){var r=(0,o.getConferenceByRoom)(e.room);if((0,o.updateConferenceAction)({type:"server",data:{operation:"statusChange",serverStatus:t.name,oldServerStatus:n.name}},r),e.idDisconnecting&&!e.isParticipant((0,a.getCurrentUserID)())&&(0,o.updateConferenceAction)({type:l.ConferenceActionTypes.close},r),"connected"===t.name){var u,c=(0,a.getCurrentUserID)(),f=new Map,d=(r.actions.forEach((function(e){e.user!==c&&e.type===l.ConferenceActionTypes.publish&&f.set(e.user,e)})),s(f.values()));try{for(d.s();!(u=d.n()).done;){var p=u.value;y(r.room,p.user,p.data)}}catch(e){d.e(e)}finally{d.f()}}(0,i.emitConferenceServerStatusChange)(r,t,n,e)}function f(e,t){var n=(0,o.getConferenceByRoom)(e.room);(0,o.updateConferenceAction)({type:"server",participants:Array.from(e.participantsIds),data:{operation:"participantsChange",action:t}},n)}function d(e,t,n){(0,i.emitConferenceServerPublicationChange)(e,t,n)}function p(e,t){e=(0,o.getConferenceByRoom)(e.room);for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];(0,o.updateConferenceAction)({type:l.ConferenceActionTypes.server,data:{operation:"error",errorType:t,params:r}},e)}var h=new Map,m=function(e){if(!(i=h.get(e))){var t=(0,a.getCurrentUser)(),n=t.conference;if(!n)throw new Error("Owt config is required for current user.");var i,l=(0,o.getConferenceByRoom)(e);(i=(0,r.createConferenceServer)({room:e,number:null==l?void 0:l.number,cgid:(null==l?void 0:l.cgid)||process.env.conferenceGid,user:t.id,api:n.api,rtc:n.rtc,role:t.id===l.openedBy?"presenter":"member",host:n.host,https:n.https,backend:n.backend},n.backend)).onStatusChange=c,i.onParticipantsChange=f,i.onPublicationChange=d,i.onError=p,h.set(e,i)}return i};function y(e,t,n){!(e=m(e))||"srs"!==e.backend||(t=e.getParticipant(t))&&t.updatePublicationState(n)&&e.updateParticipant(t)}t.getConferenceServer=m,t.getConferenceServerStatusName=function(e){if((e="string"==typeof e?(0,o.getConference)(e)||(0,o.getConferenceByRoom)(e):e).room)return(e=m(e.room))&&e.statusName},t.isConferenceServerConnected=function(e){return!(!(e="string"==typeof e?(0,o.getConference)(e)||(0,o.getConferenceByRoom)(e):e).isOpen&&!e.isNotStarted||!e.room)&&(e=m(e.room))&&e.isConnected},t.connectConferenceServer=function(e){if(!(e="string"==typeof e?(0,o.getConference)(e)||(0,o.getConferenceByRoom)(e):e))return Promise.reject(new Error("Connect to conference server failed, conference must be provide."));if(e.isClosed)return Promise.reject(new Error("Connect to conference server failed, conference status is no open."));if(!e.isParticipant((0,a.getCurrentUserID)()))return Promise.reject(new Error("Connect to conference server failed, current user is not participant."));var t=e.room;if(!t)return Promise.reject(new Error("Connect to conference server failed, conference.room is required."));if((t=m(t)).isConnected)return Promise.resolve();var n=(0,a.getCurrentUserID)();return n=(0,a.getCurrentUser)().isEnableDetachedConference||e.isOpenedBy(n)&&!e.haveJoinedBefore(n)?e.publishOptions:null,t.connect(n)},t.disconnectConferenceServer=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!h.has(e))return Promise.resolve();var n=m(e);return n?(t&&h.delete(e),n.tryDisconnect()):Promise.reject(new Error('Connect to conference server failed, cannot found a server with room "'.concat(e,'".')))},t.isConferenceAudioPublished=function(e){return!!e&&m(e).isAudioPublished},t.isConferenceVideoPublished=function(e){return!!e&&m(e).isVideoPublished},t.isConferenceVideoOrScreenPublished=function(e){return!!e&&m(e).isVideoOrScreenPublished},t.hasShownConferenceVideoOrScreen=function(e){return!!e&&((e=m(e)).isVideoOrScreenPublished||e.hasVideoOrScreencastStream)},t.hasShowConferenceScreen=function(e){return!!e&&((e=m(e)).isScreencastPublished||e.hasScreencast)},t.isConferenceAudioDisabled=function(e){return!!e&&m(e).isAudioDisabled},t.isConferenceVideoDisabled=function(e){return!!e&&m(e).isVideoDisabled},t.isConferenceScreencastPublished=function(e){return!!e&&m(e).isScreencastPublished},t.muteConference=function(e){return m(e).mute()},t.unmuteConference=function(e){return m(e).unmute()},t.publishVideo=function(e){return m(e).publishVideo()},t.publishScreencast=function(e){return m(e).publishScreencast()},t.unpublishVideo=function(e){return m(e).unpublishVideo()},t.unpublishScreencast=function(e){return m(e).unpublishScreencast()},t.getVideoMediaStream=function(e){return!!e&&m(e).getVideoMediaStream()},t.getScreencastMediaStream=function(e){return!!e&&m(e).getScreencastMediaStream()},DEBUG&&(n.g.$conferenceServers=h)},56614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=new(((n=n(60811))&&n.__esModule?n:{default:n}).default)(["closed","creating","open","closing","createFail","notStarted"],"notStarted",["closed > creating","notStarted > creating","notStarted > open","notStarted > closed","creating > open","creating > createFail","open > closed","open > closing","closing > closed","closed > open","closed > notStarted","createFail > creating","createFail > closed"],{isOpen:function(){return this.is("open")},isClosed:function(){return this.is("closed")},isCreating:function(){return this.is("creating")},isCreateFail:function(){return this.is("createFail")},isClosing:function(){return this.is("closing")},isNotStarted:function(){return this.is("notStarted")}}),t.default=n},44374:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearConferencesStore=void 0,t.createLocalConference=_,t.deleteConference=void 0,t.getAllActiveConferenceByCgid=function(e){return Array.from(h.values()).filter((function(t){return t.cgid===e&&t.isOpen}))},t.getAndFetchConference=function(e){return v.apply(this,arguments)},t.getConference=b,t.getConferenceByCgid=function(e){var t=(0,s.getCurrentUser)();return t?t.isEnableDetachedConference?Array.from(h.values()).filter((function(t){return t.cgid===e&&t.isOpen&&t.isCurrentUserInvited})).sort((function(e,t){return t.openedDate-e.openedDate}))[0]:b(e):null},t.haveJoinedConference=t.getJoinedConference=t.getConferencesList=t.getConferenceByRoom=void 0,t.storeConference=y,t.xuanbotConferenceSet=t.updateConferenceAction=t.updateConference=void 0;var r=n(57485),o=n(42012),a=c(n(83047)),i=c(n(89174)),l=n(10088),s=n(15973),u=c(n(74101));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var p=new Set,h=(t.xuanbotConferenceSet=p,new Map),m=new Map;function y(e){e&&e instanceof a.default&&(e.number?(h.set(e.number,e),e.room&&m.set(e.room,e.number)):e.cgid&&(h.set(e.cgid,e),e.room&&m.set(e.room,e.cgid)),e.onStatusChange=l.emitConferenceStatusChange.bind(null,e),e.onAddActions=l.emitConferenceAddActions.bind(null,e))}function g(e){var t=h.get(e);return t?(h.delete(e),m.delete(t.room),t):null}function b(e){return(0,r.canUseConference)(e,!0)?h.get(e):null}function v(){var e;return e=function*(e){return b(e)||((0,r.isConferenceNumber)(e)?o.fetchConferenceByNumber:_)(e)},(v=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}function _(e){var t=u.default.getChat(e);return t?(y(e=a.default.create({cgid:e,name:t.name,status:"closed",isOne2One:t&&t.isOne2One})),e):null}function w(e){var t=Array.from(h.values());return e?t.filter(e):t}function S(){return w((function(e){return e.isCreating||e.isOpen&&e.isParticipant((0,s.getCurrentUserID)())}))[0]}t.deleteConference=g,t.clearConferencesStore=function(e){h.forEach((function(t,n){(n=g(n))&&e&&e(n)}))},t.getConferencesList=w,t.getConferenceByRoom=function(e){var t=m.get(e);return t?b(t):((t=Array.from(h.values()).find((function(t){return t.room===e}))).number?m.set(t.room,t.number):t.cgid&&m.set(t.room,t.cgid),t)},t.updateConference=function(e,t){var n=b(e.number||e.cgid);if(!n){if(e.number)n=a.default.create({cgid:e.cgid,number:e.number,name:e.name,isOne2One:!1,room:e.room||e.rid});else if(e.cgid){var r=u.default.getChat(e.cgid);if(!r)return null;n=a.default.create({cgid:e.cgid,name:e.name,isOne2One:r.isOne2One,room:e.room||e.rid})}if(!n)return null;y(n)}return n.update(e),null!=t&&t(n),(0,l.emitConferenceChange)(n),n},t.updateConferenceAction=function(e,t){var n=[],r=(0,s.getCurrentUser)();return e instanceof i.default||(e.actions&&n.push.apply(n,function(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.actions.map((function(e){return new i.default(e)})))),null==e.user&&(e.user=r.id),null==e.date&&(e.date=r.serverNowTime),e=new i.default(e),n.push(e)),t?(t.addActions(n),(0,l.emitConferenceChange)(t),e):(DEBUG&&console.warn('Cannot found a conference with room "'.concat(e.room||t,'".')),!1)},t.getJoinedConference=S,t.haveJoinedConference=function(){return!!S()},DEBUG&&(n.g.$conferences=h,n.g.$rooms=m)},14227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUsedIndependentConferenceWindow=t.initConferenceUI=t.getParticipantsInfo=t.getParticipantNames=t.getConferenceStatusText=t.getConferenceStatusName=t.getConferenceStatusMessage=t.getConferenceIcon=t.getConferenceColor=t.canContinueToInvite=void 0;var r,o,a=B(n(23848)),i=n(22821),l=n(28350),s=n(79913),u=n(68788),c=n(48516),f=n(19397),d=n(83047),p=n(54572),h=B(n(32887)),m=n(10088),y=n(98649),g=n(44374),b=n(78717),v=n(57485),_=n(42012),w=B(n(61862)),S=n(41832),O=n(15973),M=n(63132),C=n(32360),k=B(n(75738)),E=B(n(84431)),P=n(33417),T=B(n(74101)),j=n(13347),x=n(2160),D=n(92409),A=B(n(94128)),I=n(73630),L=B(n(65286)),N=B(n(74160)),R=n(89174),F=n(68271),Y=n(89848);function B(e){return e&&e.__esModule?e:{default:e}}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){$(a,r,o,i,l,"next",e)}function l(e){$(a,r,o,i,l,"throw",e)}i(void 0)}))}}function J(e){if(!e)return"closed";if((0,v.isIgnoredConference)(e))return"ignored";if((0,v.isConferenceIncoming)(e))return"incoming";if((0,v.isJoinedConference)(e)&&e.room){if(e.isJoinedOnOtherDevice((0,O.getCurrentUserID)()))return"joinedOnOtherDevice";var t=(0,C.getConferenceServer)(e.room);if(t)return t.isReady&&1<t.failuresCount&&t.error?"server_error":"server_".concat(t.statusName)}return e.statusName}function X(e,t){return r[t||J(e)]}function Z(e,t){return o[t||J(e)]}function Q(e,t){return!("server_connected"!==(t=t||J(e))||e.isOne2One)}function ee(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=[],o=(0,O.getCurrentUserID)();return e.forEach((function(e){var t;(e=e instanceof k.default?e:E.default.getMember(e))&&(e=(t=e.id===o)?w.default.string("conference.participants.me"):e.displayName,n&&t?r.unshift(e):r.push(e))})),t&&r.length>t?r.slice(0,t):r}function te(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20,n=w.default.string("conference.participants.joinPunctuation"),r=e.length;return r<2?ee(e).join(n):r<=t?"".concat(ee(e).join(n)," ").concat(w.default.format("conference.participants.totalFormat",r)):"".concat(ee(e,t).join(n)," ").concat(w.default.format("conference.participants.ellipsisTotalFormat",r))}function ne(e,t){var n;return"incoming"===(t=t||J(e))?(n=E.default.getMemberOrTemp(e.openedBy),w.default.format("conference.status.incoming",{openedBy:n?n.displayName:"",participantsCount:e.participantCount})):w.default.string("conference.status.".concat(t))}(n=r=r||{}).creating="yellow",n.closed="blue",n.incoming="blue",n.open="blue",n.createFail="red",n.ignored="blue",n.closing="blue",n.server_ready="yellow",n.server_connecting="yellow",n.server_connected="green",n.server_disconnecting="yellow",n.server_error="red",n.muted="yellow",n.offline="red",n.joinedOnOtherDevice="green",n.notStarted="blue",(n=o=o||{}).creating="phone-settings",n.closed="phone",n.incoming="phone-incoming",n.open="phone-in-talk",n.createFail="phone-alert",n.ignored="phone-return",n.closing="phone-off",n.server_ready="phone-settings",n.server_connecting="phone-settings",n.server_connected="phone-in-talk",n.server_disconnecting="phone-settings",n.server_error="phone-alert",n.muted="sprite-member-mute",n.offline="phone-alert",n.joinedOnOtherDevice="phone-forward",n.notStarted="phone";var re=A.default.isType("electron"),oe=(t.isUsedIndependentConferenceWindow=re,t.getConferenceStatusName=J,t.getConferenceColor=X,t.getConferenceIcon=Z,t.canContinueToInvite=Q,t.getParticipantNames=ee,t.getParticipantsInfo=te,t.getConferenceStatusText=ne,function(){var e=K((function*(e){if(!(e="string"==typeof e?(0,g.getConference)(e):e))return"";function t(){var t=E.default.getMember(e.openedBy);return t instanceof k.default?t.displayName:""}var n,r,o=J(e);switch(e.isStored||(r=(n=V(yield(0,a.default)(E.default.asyncGetMembers([].concat(H(e.invitee),[e.openedBy]))),2))[0],n=n[1],!r&&n||console.error("Get members from remote failed.",r),n&&(e.isStored=!0)),o){case"incoming":u=w.default.format("conference.message.incoming",{openedBy:t(),participantsInfo:te((0,v.getConferenceParticipantMembers)(e))});break;case"open":u=w.default.format("conference.message.open",{participantsInfo:te((0,v.getConferenceParticipantMembers)(e))});break;case"server_connected":var i=(0,C.getConferenceServer)(e.room),l=(0,v.getConferenceParticipantMembers)(e),s=l.filter((function(e){return!i.isParticipant(e.id)})),u=w.default.format("conference.message.".concat(o),{openedBy:t(),participantsInfo:te(l),connectionInfo:s.length?w.default.format("conference.connectionInfoFormat",te(s)):""});break;default:u=w.default.string("conference.message.".concat(o))}return e.isCreateFail&&e.latestAction.error?u="".concat(u," (").concat(e.latestAction.error.message||w.default.error(e.latestAction.error),")"):"server_error"===o&&(u="CONFERENCE_NO_MIC"===(r=(0,C.getConferenceServer)(e.room).error).code?"".concat(u," (").concat(w.default.string("conference.audioDisabledMessage"),")"):"".concat(u," (").concat(w.default.error(r),")")),u}));return function(t){return e.apply(this,arguments)}}());t.getConferenceStatusMessage=oe,t.initConferenceUI=function(){(0,b.registerCommand)("createConference",(function(e,t,n,r,o){return e=e.options,(!t&&e&&e.cgid&&(t=e.cgid),void 0===r&&e&&e.confirm&&(r=e.confirm),e=(0,O.getCurrentUser)()).config.useInitConference&&t==="".concat(e.id,"&").concat(e.id)||(0,F.setActiveChat)(t),r&&"false"!==r?(e=T.default.getChat(t).name,(0,b.executeCommand)("showConfirm",w.default.format("conference.createConfirmMessage",{name:e})).then((function(e){if(e)return navigator.mediaDevices.getUserMedia({audio:!0}).catch((function(e){return console.error("Get user Media error",e),new MediaStream([(0,Y.createSilenceAudioTrack)()])})).then((function(){return(0,_.createConference)(t,n,o)}))}))):navigator.mediaDevices.getUserMedia({audio:!0}).catch((function(e){return console.error("Get user Media error",e),new MediaStream([(0,Y.createSilenceAudioTrack)()])})).then((function(){return(0,_.createConference)(t,n,o)}))}),{apiLevel:5}),(0,b.registerCommand)("inviteConference",(function(e,t,n){return e=e.options,t=t||e.cgid,(0,_.inviteConference)(t,n)})),(0,b.registerCommand)("joinConference",(function(e,t,n){return e=e.options,!t&&e&&e.cgid&&(t=e.cgid),navigator.mediaDevices.getUserMedia(null!=n?n:{audio:!0}).catch((function(e){return console.error("Get user Media error",e),new MediaStream([(0,Y.createSilenceAudioTrack)()])})).then((function(){return(0,_.joinConference)(t,n)})).catch((function(e){(0,b.executeCommand)("showMessager",w.default.error(e),{type:"danger"})}))}),{apiLevel:5}),(0,b.registerCommand)("leaveConference",(function(e,t){return e=e.options,!t&&e&&e.cgid&&(t=e.cgid),(0,_.leaveConference)(t)}),{apiLevel:5}),(0,b.registerCommand)("tryDisconnectConference",(function(e,t){if(e=e.options,!t&&e&&e.cgid&&(t=e.cgid),(0,v.canUseConference)())try{var n=(0,g.getConference)(t);(0,g.updateConferenceAction)({type:R.ConferenceActionTypes.leave},n),(0,C.disconnectConferenceServer)(n.room)}catch(e){}}),{apiLevel:5}),(0,b.registerCommand)("ignoreConference",(function(e,t){return e=e.options,!t&&e&&e.cgid&&(t=e.cgid),(0,_.ignoreConference)(t)}),{apiLevel:5}),(0,b.registerCommand)("unignoreConference",(function(e,t){return e=e.options,!t&&e&&e.cgid&&(t=e.cgid),(0,_.unignoreConference)(t)}),{apiLevel:5}),(0,b.registerCommand)("cancelConference",(function(e,t){return e=e.options,!t&&e&&e.cgid&&(t=e.cgid),(0,_.cancelConference)(t)}),{apiLevel:5}),(0,b.registerCommand)("closeConference",(function(e,t,n){return e=e.options,!t&&e&&e.cgid&&(t=e.cgid),(n=void 0===n&&e&&e.confirm?e.confirm:n)?((e=null,v.isConferenceNumber)(t)||(e=T.default.getChat(t)),(0,b.executeCommand)("showConfirm",w.default.string(e&&e.isOne2One?"conference.hangupConfirmTitle":"conference.closeConfirmMessage"),{title:e&&e.isOne2One?null:w.default.string("conference.closeConfirmTitle")}).then((function(e){if(e)return(0,_.closeConference)(t)}))):(0,_.closeConference)(t)}),{apiLevel:5}),(0,b.registerCommand)("muteConference",function(){var e=K((function*(e,t){return e=e.options,!t&&e&&e.cgid&&(t=e.cgid||e.room),e=(0,g.getConference)(t)||(0,g.getConferenceByRoom)(t),"busy"===(t=yield(0,C.muteConference)(e.room))&&(0,b.executeCommand)("showMessager",w.default.string("common.busyTip"),{type:"info"}),t}));return function(t,n){return e.apply(this,arguments)}}(),{apiLevel:5}),(0,b.registerCommand)("unmuteConference",function(){var e=K((function*(e,t){return e=e.options,!t&&e&&(t=e.cgid||e.room),e=(0,g.getConference)(t)||(0,g.getConferenceByRoom)(t),"busy"===(t=yield(0,C.unmuteConference)(e.room))&&(0,b.executeCommand)("showMessager",w.default.string("common.busyTip"),{type:"info"}),t}));return function(t,n){return e.apply(this,arguments)}}(),{apiLevel:5}),(0,b.registerCommand)("publishConferenceVideo",function(){var e=K((function*(e,t){e=e.options,!t&&e&&(t=e.cgid||e.room),e=(0,g.getConference)(t)||(0,g.getConferenceByRoom)(t);try{var n=yield(0,C.publishVideo)(e.room);return"busy"===n?(0,b.executeCommand)("showMessager",w.default.string("common.busyTip"),{type:"info"}):"videoNotAllowedWithScreen"===n&&(0,b.executeCommand)("showMessager",w.default.string("conference.videoNotAllowedWithScreen"),{type:"info"}),n}catch(e){(0,b.executeCommand)("showMessager",w.default.format("conference.error.publishVideo",{error:e}),{type:"error"})}}));return function(t,n){return e.apply(this,arguments)}}(),{apiLevel:5}),(0,b.registerCommand)("unpublishConferenceVideo",function(){var e=K((function*(e,t){return e=e.options,!t&&e&&(t=e.cgid||e.room),e=(0,g.getConference)(t)||(0,g.getConferenceByRoom)(t),"busy"===(t=yield(0,C.unpublishVideo)(e.room))&&(0,b.executeCommand)("showMessager",w.default.string("common.busyTip"),{type:"info"}),t}));return function(t,n){return e.apply(this,arguments)}}(),{apiLevel:5}),(0,b.registerCommand)("publishConferenceScreencast",function(){var e=K((function*(e,t,n){var r;e=e.options,!t&&e&&(t=e.cgid||e.room),e=(0,g.getConference)(t)||(0,g.getConferenceByRoom)(t);try{if(!n&&A.default.env.isOSX&&A.default.has("displayMedia.isGrantedScreenAccess")&&!A.default.call("displayMedia.isGrantedScreenAccess","screen"))return r=[{label:w.default.string("common.systemPreferneces"),click:function(){A.default.call("os.openMacScreenCapturePreferences")}}],DEBUG&&r.push({label:"Skip Permission Check",click:function(){return(0,b.executeCommand)("publishConferenceScreencast",t,!0)}}),void(0,b.executeCommand)("showMessager",w.default.string("conference.shareScreen.noPermission"),{type:"danger",actions:r});var o=yield(0,C.publishScreencast)(e.room);return"busy"===o?(0,b.executeCommand)("showMessager",w.default.string("common.busyTip"),{type:"info"}):"othersAlreadyShareScreen"===o&&(0,b.executeCommand)("showMessager",w.default.string("conference.othersAlreadyShareScreen"),{type:"info"}),o}catch(e){e&&"USER_CANCELED"!==e.code&&(0,b.executeCommand)("showMessager",w.default.error(e),{type:"danger"})}}));return function(t,n,r){return e.apply(this,arguments)}}(),{apiLevel:5}),(0,b.registerCommand)("unpublishConferenceScreencast",function(){var e=K((function*(e,t){return e=e.options,!t&&e&&(t=e.cgid||e.room),e=(0,g.getConference)(t)||(0,g.getConferenceByRoom)(t),"busy"===(t=yield(0,C.unpublishScreencast)(e.room))&&(0,b.executeCommand)("showMessager",w.default.string("common.busyTip"),{type:"info"}),t}));return function(t,n){return e.apply(this,arguments)}}(),{apiLevel:5}),(0,b.registerCommand)("showConferenceCreateDialog",(function(e,t){return e=e.options,!t&&e&&(t=e.cgid),(0,D.showConferenceCreateDialog)(t)}),{apiLevel:5}),(0,b.registerCommand)("showConferenceInviteDialog",(function(e,t,n){return e=e.options,t=t||e.cgid,e=(0,g.getConference)(t),e=(0,O.getCurrentUser)().isEnableDetachedConference?e.participantsList:H(new Set([].concat(H(e.invitee),H(e.participants)))),(0,D.showConferenceInviteDialog)(t,e,n&&re?function(){var e=(0,g.getConference)(t);e.isClosing||e.isClosed?(0,u.showMessager)(w.default.string("conference.message.closed"),{type:"info"}):(0,I.openConferenceWindow)(t)}:null)})),(0,b.registerCommand)("showShareConferenceDialog",(function(e,t){return(0,D.showShareConferenceDialog)(t,re?function(){return(0,I.openConferenceWindow)(t)}:null)})),re&&(0,b.registerCommand)("openConferenceWindow",(function(e,t){(0,I.openConferenceWindow)(t)})),(0,b.registerCommand)("openMainWindow",(function(){A.default.call("ui.showAndFocusWindow")})),(0,y.addContextMenuCreator)("conference.app.card.actions",(function(e){var t=[];return e.conference.isClosed||t.push({id:"conference-share",label:w.default.string("ext.app.share"),click:function(){(0,D.showShareConferenceDialog)(e.conference.number)}}),e.conference.type===d.ConferenceType.scheduled&&e.conference.isNotStarted&&e.conference.openedBy===(0,O.getCurrentUserID)()&&(t.push({id:"conference-edit",label:w.default.string("menu.edit"),click:function(){(0,f.showConferenceAppointmentEditDialog)(e.conference),h.default.hide(p.CONFERENCE_DETAIL_DIALOG_ID)}}),t.push({id:"conference-cancel",label:w.default.string("common.cancel"),click:function(){(0,c.showConfirm)(w.default.string("conference.cancelConfirm.content"),{title:w.default.format("conference.cancelConfirm.title",e.conference.topic),actions:[{type:"submit",label:w.default.string("conference.cancelConfirm.submit")},{type:"cancel",label:w.default.string("conference.cancelConfirm.cancel")}]}).then((function(t){t&&((0,_.cancelScheduledConference)(e.conference.number).then((function(){return L.default.emit("conference.app.grid.update")})).catch(),h.default.hide(p.CONFERENCE_DETAIL_DIALOG_ID))})).catch()}})),e.conference.isClosed&&t.push({id:"conference-delete",label:w.default.string("common.delete"),click:function(){(0,c.showConfirm)(w.default.format("conference.deleteConfirm.content",e.conference.topic)).then((function(t){t&&((0,_.hideConference)(e.conference.number).then((function(){return L.default.emit("conference.app.grid.update")})).catch(),h.default.hide(p.CONFERENCE_DETAIL_DIALOG_ID))})).catch()}}),t})),(0,y.addContextMenuCreator)("conference.actions",(function(e){var t=e.conference,n=(e=e.independentMode,(0,O.getCurrentUserID)());if(t.isJoinedOnOtherDevice(n))return[];var r,o,a,l=[];return!e&&(0,C.isConferenceServerConnected)(t)&&((a=(0,C.getConferenceServer)(t.room)).isAudioPublished?l.push({id:"muteConference",label:w.default.string("conference.mute"),url:"xxc://muteConference/".concat(t.number||t.cgid),icon:"microphone"}):a.isAudioDisabled?l.push({id:"unmuteConference",disabled:!0,label:w.default.string("conference.muted"),icon:"microphone-off",hoverLabel:w.default.string("conference.audioDisabled"),color:"red",hint:w.default.string("conference.audioDisabledMessage")}):l.push({id:"unmuteConference",label:w.default.string("conference.muted"),url:"xxc://unmuteConference/".concat(t.number||t.cgid),icon:"microphone-off",hoverLabel:w.default.string("conference.unmute"),color:"red"}),r=a.isScreencastPublished,o=a.hasScreencast,a.isVideoPublished?l.push({id:"publishConferenceVideo",label:w.default.string("conference.videoPublishing"),url:"xxc://unpublishConferenceVideo/".concat(t.number||t.cgid),icon:"video",hoverLabel:w.default.string("conference.unpublishVideo")}):l.push({id:"publishConferenceVideo",label:w.default.string("conference.publishVideo"),url:"xxc://publishConferenceVideo/".concat(t.number||t.cgid),icon:"video-off",hoverLabel:w.default.string("conference.publishVideo")}),r?l.push({id:"publishConferenceScreencast",label:w.default.string("conference.screenSharing"),url:"xxc://unpublishConferenceScreencast/".concat(t.number||t.cgid),icon:"icon-svg-stop-screen-share",hoverLabel:w.default.string("conference.unpublishScreencast"),color:"yellow"}):o?l.push({id:"publishConferenceScreencast",disabled:!0,label:w.default.string("conference.shareScreen"),icon:"icon-svg-screen-share",url:"xxc://publishConferenceScreencast/".concat(t.number||t.cgid),hint:w.default.string("conference.othersAlreadyShareScreen")}):l.push({id:"publishConferenceScreencast",label:w.default.string("conference.shareScreen"),url:"xxc://publishConferenceScreencast/".concat(t.number||t.cgid),icon:"icon-svg-screen-share",hoverLabel:w.default.string("conference.shareScreen")})),t.canJoin(n)?l.push({id:"joinConference",label:w.default.string(t.haveJoinedBefore(n)?"conference.rejoin":"conference.join"),url:"xxc://joinConference/".concat(t.number||t.cgid),icon:"phone-return",primary:!0,color:"green"}):t.canLeave(n)&&(e?l.push({id:"openConferenceWindow",label:w.default.string("conference.switchToConferenceWindow"),url:"xxc://openConferenceWindow/".concat(t.number||t.cgid),icon:"phone-return",color:"primary",primary:!0,offlineEnable:!0}):l.push({id:"leaveConference",label:w.default.string("conference.leave"),url:"xxc://leaveConference/".concat(t.number||t.cgid),icon:"phone-hangup",color:t.canClose(n)?"primary":"red",primary:!0,offlineEnable:!0})),t.canIgnore(n)?l.push({id:"ignoreConference",label:w.default.string("conference.ignore"),url:"xxc://ignoreConference/".concat(t.number||t.cgid),icon:"phone-off",primary:!0,color:"primary"}):!(0,O.getCurrentUser)().isEnableDetachedConference&&t.isIgnored(n)&&l.push({id:"unignoreConference",label:w.default.string("conference.unignore"),url:"xxc://unignoreConference/".concat(t.number||t.cgid),icon:"phone-check",primary:!0,color:"primary"}),t.canClose(n)&&(e&&(0,I.isOpenedConferenceWindow)()?l.push({id:"openConferenceWindow",label:w.default.string("conference.switchToConferenceWindow"),url:"xxc://openConferenceWindow/".concat(t.number||t.cgid),icon:"phone-return",color:"primary",primary:!0,offlineEnable:!0}):l.push({id:"closeConference",label:w.default.string(t.isOne2One?"conference.hangup":"conference.close"),url:"xxc://closeConference/".concat(t.number||t.cgid,"/?confirm=true"),icon:"location-exit",primary:!0,color:"red",offlineEnable:!0})),t.canOpen(n)&&l.push(z({id:"createConference",label:t.isCreateFail?w.default.string("conference.retryCreate"):w.default.string("conference.create"),icon:"phone",primary:!0,color:"primary"},null!=(a=(0,O.getCurrentUser)())&&a.isEnableDetachedConference?{click:function(){return(0,i.createConferenceProcedures)()}}:{url:"xxc://createConference/".concat(t.cgid)})),t.canCancel(n)&&l.push({id:"cancelConference",label:w.default.string("conference.cancel"),url:"xxc://cancelConference/".concat(t.number||t.cgid),icon:"phone-cancel",color:"primary",primary:!0}),l}),{apiLevel:5}),(0,y.addContextMenuCreator)("chat.toolbar",(function(e){e=e.chat;var t=T.default.getChat(e);if(!(0,v.canUseConference)(e)||t.isArchived||t.isBot)return null;var n,r,o=(0,O.getCurrentUser)();if(o.isEnableDetachedConference)return n=(0,g.getConferenceByCgid)(e),(r={id:"createConference",order:1,icon:"phone".concat(n?"-incoming":""," text-blue"),click:function(e){e.preventDefault(),t.isOne2One&&!n?(0,i.createConferenceProcedures)(t):(s.isShowChatConferenceMenuItem.value=!0,(0,l.showContextMenu)({x:e.clientX,y:e.clientY,triggerElement:e.currentTarget,direction:"below-right"},(0,s.createChatToolbarConferenceMenuItem)(t),{id:s.CHAT_TOOLBAR_CONFERENCE_CONTEXT_MENU_ID,style:{maxWidth:"200px"},onHidden:function(){s.isShowChatConferenceMenuItem.value=!1}}))}})?[r]:null;var a=(0,g.getConference)(e);return r=(a=a||(0,g.createLocalConference)(e)).isClosed||a.isCreateFail?a.isOne2One?{label:w.default.string("conference.create"),url:"xxc://createConference/".concat(encodeURIComponent(e),"/_/false/audio")}:{label:w.default.string("conference.create"),url:"xxc://showContextMenu/conference.create/".concat(e)}:a.isIgnored(o.id)?{label:w.default.string("conference.unignore"),url:"xxc://unignoreConference/".concat(e)}:Q(a)?{url:"xxc://showConferenceInviteDialog/".concat(encodeURIComponent(a.cgid)),label:w.default.string("conference.status.open.invite"),icon:"phone-plus text-green"}:a.canJoin(o.id)?{url:"xxc://joinConference/".concat(a.cgid),label:w.default.string("conference.status.open")}:{label:w.default.string("conference.status.open"),disabled:!0},(r=z({id:"createConference",order:1,icon:"".concat(Z(a)," text-").concat(a.isCreating?"gray":X(a))},r))?[r]:null}),{skipAddDivider:!0}),(0,y.addContextMenuCreator)("member",(function(e){e="object"===U(e=e.member)?e.id:e;var t=(0,O.getCurrentUserID)();if(e===t)return null;var n=(0,P.getOne2OneChatGid)(e,t);return(0,v.canUseConference)(n)&&(!(e=(0,g.getConference)(n))||e.isClosed||e.isCreateFail)?["-",z({id:"createConference",order:1,label:w.default.string("conference.create")},null!=(t=(0,O.getCurrentUser)())&&t.isEnableDetachedConference?{click:function(){return(0,i.createConferenceProcedures)(T.default.getChat(n))}}:{url:"xxc://createConference/".concat(encodeURIComponent(n),"/_/false/audio")})]:null})),(0,y.addContextMenuCreator)("conference.create",(function(e){e=V(e.params,1)[0];var t=T.default.getChat(e),n=(0,g.getConference)(e);return t&&(!n||n.isClosed||n.isCreateFail)?(n=[],t.isOne2One||n.push({id:"startForAll",label:w.default.string("conference.createMenu.startForAll"),url:"xxc://createConference/".concat(encodeURIComponent(e),"/_/false/audio")},{id:"startWithSelections",label:w.default.string("conference.createMenu.startWithSelections"),url:"xxc://showConferenceCreateDialog/".concat(encodeURIComponent(e))}),n):null}),{apiLevel:5}),(0,m.onConferenceStatusChange)((function(e){var t;(0,M.updateConferenceServerConnection)(e),e.cgid&&(t=T.default.getChat(e.cgid))&&t.updateConferenceStatus(e.statusValue)&&T.default.store(t),e.isClosed&&(0,I.closeConferenceWindow)(e.number||e.cgid)})),(0,m.onConferenceServerPublicationChange)((function(e,t){(0,_.syncPublicationState)(e.number||e.cgid,{audio:!0===t.audio,video:!0===t.video,screen:!0===t.screen})})),(0,m.onConferenceAddActions)((function(e,t){var n,r=(0,O.getCurrentUserID)(),o=new Map,a=(t.forEach((function(e){e.user!==r&&e.type===R.ConferenceActionTypes.publish&&o.set(e.user,e)})),function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=G(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(o.values()));try{for(a.s();!(n=a.n()).done;){var i=n.value;(0,C.updateOthersPublicationState)(e.room,i.user,i.data)}}catch(e){a.e(e)}finally{a.f()}})),(0,m.onConferenceAddActions)((function(e,t){t.forEach((function(t){t.type===R.ConferenceActionTypes.join&&e.isParticipant((0,O.getCurrentUserID)())&&t.user===(0,O.getCurrentUserID)()&&(0,C.connectConferenceServer)(e)}))}));var e=!1;(0,m.onConferenceChange)((function(){var t,n=(0,g.haveJoinedConference)();n!==e&&(t=(0,O.getCurrentUser)(),(e=n)?(t.setStatusBeforeJoinconference(t.statusName),(0,j.changeUserStatus)("meeting")):t.isInMeeting&&t.statusBeforeJoinconference&&((0,j.changeUserStatus)(t.statusBeforeJoinconference.name),t.setStatusBeforeJoinconference(null))),(0,x.tryPlayRingSound)()})),(0,O.onSwapUser)((function(e,t){t&&(0,g.clearConferencesStore)((function(e){e.room&&(0,C.disconnectConferenceServer)(e.room,!0)}))})),(0,O.onUserLogout)((function(e,t,n,r){r||(0,g.getConferencesList)((function(e){return!e.isClosed})).forEach((function(e){e.room&&(0,C.disconnectConferenceServer)(e.room),(0,g.updateConferenceAction)({type:R.ConferenceActionTypes.close},e)}))})),(0,O.onUserLogin)((function(){(0,g.getConferencesList)((function(e){return!e.isClosed})).forEach((function(e){(0,_.updateOngoingConference)(e.number||e.cgid)}))})),(0,S.onMemberLogout)((function(e){e=(0,P.getOne2OneChatGid)(e.id);var t=(0,g.getConference)(e);t&&t.room&&((0,C.isConferenceServerConnected)(t)||(0,v.isConferenceIncoming)(t))&&(0,_.closeConference)(e)})),re&&(A.default.call("nwc.registerCommandInvokeTarget","conference",{Lang:w.default,Config:N.default,commander:{executeCommand:b.executeCommand},membersStore:E.default,profile:{getCurrentUser:O.getCurrentUser,getCurrentUserID:O.getCurrentUserID},events:L.default,conference:{getMemberStatusInConference:v.getMemberStatusInConference,getConferenceColor:X,getConferenceIcon:Z,getConferenceStatusName:J,getConference:g.getConference,getConferenceStatusText:ne,getConferenceStatusMessage:oe,getConferenceServer:C.getConferenceServer,getConferenceActions:function(e){return(0,y.getMenuItemsForContext)("conference.actions",{conference:(0,g.getConference)(e),independentMode:!1})}}}),(0,m.onConferenceServerStatusChange)((function(e,t,n,r){(r.isConnected||r.isConnecting)&&(0,I.openConferenceWindow)(e.number||e.cgid,r.room,w.default.format("conference.window.title",null!=(r=e.topic)?r:e.name))})))}},83047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConferenceType=void 0;var r,o=p(n(74101)),a=p(n(84431)),i=p(n(61862)),l=n(81595),s=p(n(27945)),u=n(48389),c=p(n(56614)),f=n(15973),d=p(n(89174));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function O(e,t,n){if((t=C(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function M(e,t){return(t=C(e,t,"get")).get?t.get.call(e):t.value}function C(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function k(e){return"string"==typeof e&&""!==e&&(e=e.split(",").filter((function(e){return Boolean(e)}))),Array.isArray(e)?e.map((function(e){return"number"!=typeof e?Number.parseInt(e,10):e})).filter((function(e){return!Number.isNaN(e)})):[]}t.ConferenceType=r,(n=r||(t.ConferenceType=r={})).default="default",n.periodic="periodic",n.scheduled="scheduled";var E=new WeakMap,P=new WeakMap,T=new WeakMap,j=new WeakMap;n=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);var n,s=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(n=t?(n=_(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===y(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return v(r)}}(u);function u(e){var t,n=this;if(n instanceof u)return S(v(t=s.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:u.NAME)),"statusKeeper",void 0),S(v(t),"ignored",void 0),w(v(t),E,{writable:!0,value:void 0}),w(v(t),P,{writable:!0,value:[]}),w(v(t),T,{writable:!0,value:void 0}),w(v(t),j,{writable:!0,value:void 0}),S(v(t),"isStored",void 0),t.statusKeeper=c.default.create(t.$.status),t.statusKeeper.onChange=function(e,n){M(v(t),E)&&M(v(t),E).call(v(t),t.statusKeeper.proxy,c.default.create(n).proxy,v(t))},t.$.actions&&Array.isArray(t.$.actions)&&t.addActions(t.$.actions),t.number&&(n="DATASTORE::".concat((0,f.getCurrentUser)().identify,"::Conference::IGNORED_CONFERENCE"),(0,l.getStoreItem)(n,[]).includes(t.number)&&(t.ignored=!0)),t;throw new TypeError("Cannot call a class as a function")}return t=u,e=[{key:"create",value:function(e){return e instanceof u?e:new u(e)}}],(n=[{key:"onStatusChange",set:function(e){O(this,E,e)}},{key:"onAddActions",set:function(e){O(this,T,e)}},{key:"proxyHandler",get:function(){return u.PROXY_HANDLER}},{key:"name",get:function(){return this.$get("name")||this.topic}},{key:"isOne2One",get:function(){if(!(0,f.getCurrentUser)().isEnableDetachedConference)return this.$get("isOne2One",!1);if(!this.cgid)return!1;var e=o.default.getChat(this.cgid);return!(e&&!e.isOne2One)&&this.participants.size<=2}},{key:"schema",get:function(){return u.SCHEMA}},{key:"status",get:function(){return this.statusKeeper.value},set:function(e){try{this.statusKeeper.change(e),this.$set("status",this.statusKeeper.name)}catch(e){DEBUG&&console.error("Change conference status failed: ",e)}}},{key:"statusValue",get:function(){return this.statusKeeper.value}},{key:"statusName",get:function(){return this.statusKeeper.name}},{key:"isOpen",get:function(){return this.statusKeeper.$.isOpen}},{key:"isNotStarted",get:function(){return this.statusKeeper.$.isNotStarted}},{key:"isClosed",get:function(){return this.statusKeeper.$.isClosed}},{key:"isCreating",get:function(){return this.statusKeeper.$.isCreating}},{key:"isCreateFail",get:function(){return this.statusKeeper.$.isCreateFail}},{key:"isClosing",get:function(){return this.statusKeeper.$.isClosing}},{key:"participants",get:function(){return this.$get("participants")}},{key:"subscribers",get:function(){return this.$get("subscribers")}},{key:"participantsList",get:function(){return Array.from(this.participants)}},{key:"room",get:function(){return this.$get("room")}},{key:"isInLocal",get:function(){return!this.room}},{key:"cgid",get:function(){return this.$get("cgid")}},{key:"openedBy",get:function(){return this.$get("openedBy")}},{key:"openedDate",get:function(){return this.$get("openedDate")}},{key:"actions",get:function(){return M(this,P)}},{key:"latestAction",get:function(){return M(this,P)[M(this,P).length-1]}},{key:"topic",get:function(){return this.$get("topic")||i.default.format("conference.defaultTopic",a.default.getMemberOrTemp(this.openedBy).displayName)}},{key:"startTime",get:function(){return this.$get("startTime")}},{key:"endTime",get:function(){return this.$get("endTime")}},{key:"password",get:function(){return this.$get("password")},set:function(e){this.$set("password",e)}},{key:"type",get:function(){var e;return null!=(e=this.$get("type"))?e:r.default}},{key:"number",get:function(){return this.$get("number")}},{key:"note",get:function(){return this.$get("note")}},{key:"reminderTime",get:function(){return this.$get("reminderTime")}},{key:"participantCount",get:function(){return this.participants.size}},{key:"invitee",get:function(){return this.$get("invitee")}},{key:"isInvited",get:function(){return!!(0,f.getCurrentUser)().isEnableDetachedConference||0!==this.invitee.size}},{key:"isCurrentUserInvited",get:function(){var e;return!!this.isOne2One||!!((0,f.getCurrentUser)().isEnableDetachedConference&&null!=(e=this.cgid)&&e.includes("&")&&this.cgid.split("&").includes((0,f.getCurrentUserID)().toString()))||!(0,f.getCurrentUser)().isEnableDetachedConference&&0===this.invitee.size||this.invitee.has((0,f.getCurrentUserID)())}},{key:"publishOptions",get:function(){return M(this,j)},set:function(e){"string"==typeof e&&("audio"===e?e={audio:!0,video:!1,screen:!1}:"video"===e?e={audio:!0,video:!0,screen:!1}:"screen"===e&&(e={audio:!0,video:!1,screen:!0})),"object"===y(e)&&O(this,j,e)}},{key:"isDetached",get:function(){return Boolean(this.number)}},{key:"isParticipant",value:function(e){return this.participants.has(e)}},{key:"canJoin",value:function(e){return(this.isOpen||this.type!==r.default)&&!this.participants.has(e)}},{key:"canLeave",value:function(e){return(this.isOpen||this.isNotStarted)&&this.participants.has(e)&&!this.isOne2One}},{key:"canOpen",value:function(){return this.isClosed||this.isCreateFail}},{key:"canCancel",value:function(e){return this.isCreateFail&&this.openedBy===e}},{key:"canClose",value:function(e){return!(!(0,f.getCurrentUser)().isEnableDetachedConference||this.type===r.default||this.openedBy!==e)||this.isOpen&&(this.isOne2One||this.openedBy===e&&1<this.participantCount)}},{key:"canIgnore",value:function(e){return!this.isOne2One&&this.canJoin(e)&&!this.ignored&&this.isCurrentUserInvited}},{key:"haveJoinedBefore",value:function(e){return M(this,P).some((function(t){return t.user===e&&t.isLeave}))}},{key:"haveJoinedOrIgnoredBefore",value:function(e){return M(this,P).some((function(t){return t.user===e&&(t.isJoin||t.isLeave||t.isIgnore)}))}},{key:"isWaiting",value:function(e){return this.openedBy===e&&1===this.participantCount&&this.isParticipant(e)&&!M(this,P).some((function(e){return e.isJoin}))}},{key:"isIgnored",value:function(e){return this.canJoin(e)&&this.ignored}},{key:"ignore",value:function(e){var t;return!!this.canIgnore(e)&&(this.ignored=!0,this.number&&e===(0,f.getCurrentUserID)()&&(e="DATASTORE::".concat((0,f.getCurrentUser)().identify,"::Conference::IGNORED_CONFERENCE"),(t=(0,l.getStoreItem)(e,[])).push(this.number),(0,l.setStoreItem)(e,t)),!0)}},{key:"unignore",value:function(e){var t,n=this;return!!this.isIgnored(e)&&(this.ignored=!1,this.number&&e===(0,f.getCurrentUserID)()&&(e="DATASTORE::".concat((0,f.getCurrentUser)().identify,"::Conference::IGNORED_CONFERENCE"),t=(0,l.getStoreItem)(e,[]),(0,l.setStoreItem)(e,t.filter((function(e){return e!==n.number})))),!0)}},{key:"isOpenedBy",value:function(e){return this.openedBy===e}},{key:"isJoinedOnOtherDevice",value:function(e){if(!this.isParticipant(e))return!1;for(var t=this.actions,n=t.length-1;0<=n;--n){var r=t[n];if(r.user===e){if(r.isLeave)break;if(!r.isCurrentDevice&&(r.isJoin||r.isCreate))return!0}}return!1}},{key:"addActions",value:function(e){var t,n=this;if(0===(e=Array.isArray(e)?e:[e]).length)return[];var r=(0,f.getCurrentUser)(),o=(e=e.map((function(e){return e instanceof d.default||(null==e.user&&(e.user=r.id),null==e.date&&(e.date=r.serverNowTime)),d.default.create(e,n.room)})).sort((function(e,t){return e.date-t.date})),this.participants),a=this.latestAction,i=this.invitee,l=this.subscribers,s=this.statusValue;return e.forEach((function(e){if(e.isCreate)a&&a.isCreating||(n.ignored=!1,M(n,P).length=0),n.$set("openedBy",e.user),n.$set("openedDate",e.date),o.clear(),o.add(e.user),s=c.default.$.open,l.add(e.user);else if(e.isCreating)n.ignored=!1,M(n,P).length=0,n.$set("openedBy",e.user),n.$set("openedDate",e.date),o.clear(),o.add(e.user),s=c.default.$.creating;else if(e.isInvite){var t,r=h(k(e.invitee));try{for(r.s();!(t=r.n()).done;){var u=t.value;i.add(u),u===(0,f.getCurrentUserID)()&&n.unignore(u)}}catch(e){r.e(e)}finally{r.f()}}else e.isJoin?(o.add(e.user),l.add(e.user)):e.isLeave?(o.delete(e.user),n.isNotStarted||n.ignore(e.user),o.size||n.number||(s=c.default.$.closed)):e.isClose?(n.ignored=!1,s=c.default.$.closed,o.clear()):e.isError?s=c.default.$.createFail:e.isClosing?(s=c.default.$.closing,o.clear()):e.isIgnore?n.ignore(e.user):e.isUnignore&&n.unignore(e.user);if(e.participants){o.clear();var d,p=h(k(e.participants));try{for(p.s();!(d=p.n()).done;){var m=d.value;o.add(m)}}catch(e){p.e(e)}finally{p.f()}}e.status&&(s=e.status),M(n,P).push(e)})),this.$set("participants",o),this.$set("invitee",i),this.status=s,null!=(t=M(this,T))&&t.call(this,e,this),e}},{key:"update",value:function(e){var t=e.room,n=e.openedBy,r=e.openedDate,o=e.participants,a=e.subscribers,i=e.actions,l=e.status,s=e.invitee,u=e.type,c=e.topic,d=e.password,p=e.startTime,h=e.endTime,m=e.number,y=e.note;e=e.reminderTime,void 0!==t&&this.$set("room",t),void 0!==n&&this.$set("openedBy",+n),void 0!==r&&this.$set("openedDate",r),o&&this.$set("participants",new Set(k(o))),a&&this.$set("subscribers",new Set(k(a))),i&&this.addActions(i),void 0!==l&&(this.status=l),void 0!==s&&(this.$set("invitee",s),this.isCurrentUserInvited||this.ignore((0,f.getCurrentUserID)())),u&&this.$set("type",u),c&&this.$set("topic",c),d&&this.$set("password",d),p&&this.$set("startTime",p),h&&this.$set("endTime",h),m&&this.$set("number",m),y&&this.$set("note",y),e&&this.$set("reminderTime",e)}}])&&g(t.prototype,n),e&&g(t,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(s.default),S(t.default=n,"NAME","Conference"),S(n,"STATUS",c.default),S(n,"SCHEMA",s.default.SCHEMA.extend({room:{type:"string",unique:!0},cgid:{type:"string",indexed:!0},status:{type:"string"},openedBy:{type:"any"},isOne2One:{type:"boolean"},openedDate:{type:"timestamp"},participants:{type:"set",setter:function(e){return e instanceof Set?e:new Set(k(e))}},invitee:{type:"set",setter:function(e){return e instanceof Set?e:new Set(k(e))}},subscribers:{type:"set",setter:function(e){return e instanceof Set?e:new Set(k(e))}},actions:{type:"json"},topic:{type:"string"},startTime:{type:"timestamp"},endTime:{type:"timestamp"},password:{type:"string"},type:{type:"string"},number:{type:"string"},note:{type:"string"},reminderTime:{type:"int"}})),S(n,"PROXY_PROPERTIES",(0,u.createProxyPropertiesMap)(["room","cgid","status","openedBy","openedDate","participants","invitee","subscribers","actions","topic","startTime","endTime","password","type","number","note","reminderTime"],s.default.PROXY_PROPERTIES)),S(n,"PROXY_HANDLER",(0,u.createProxyHandler)(n.PROXY_PROPERTIES))},43717:(e,t,n)=>{"use strict";function r(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function o(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.unmixOwtStream=t.mixOwtStream=t.createOwtRoomToken=void 0;var a=((n=n(94128))&&n.__esModule?n:{default:n}).default.access("net.request"),i=function(){e=function*(e,t,n,o){return yield(yield a(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({method:e,headers:{"Content-Type":"application/json"},body:void 0!==n?JSON.stringify(n):""},o))).text()};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){o(i,r,a,l,s,"next",e)}function s(e){o(i,r,a,l,s,"throw",e)}l(void 0)}))};return function(e,n,r,o){return t.apply(this,arguments)}}();t.createOwtRoomToken=function(e,t,n){return i("POST","".concat(n,"/tokens/"),{room:e,user:t,role:"presenter"})},t.mixOwtStream=function(e,t,n,r){return i("PATCH","".concat(r,"/rooms/").concat(e,"/streams/").concat(t),[{op:"add",path:"/info/inViews",value:n}])},t.unmixOwtStream=function(e,t,n,r){return i("PATCH","".concat(r,"/rooms/").concat(e,"/streams/").concat(t),[{op:"remove",path:"/info/inViews",value:n}])}},16836:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.OWTConferenceServer=void 0;var o=n(10088),a=n(5958),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(36666)),l=n(43717),s=h(n(94128)),u=h(n(74160)),c=h(n(11803)),f=n(15973),d=n(89848),p=n(91731);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function b(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(n=t?(n=M(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return O(o)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n){if((t=T(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function P(e,t){return(t=T(e,t,"get")).get?t.get.call(e):t.value}function T(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function j(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){j(a,r,o,i,l,"next",e)}function l(e){j(a,r,o,i,l,"throw",e)}i(void 0)}))}}var D="common";function A(){return(A=x((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.MEDIA_TYPES.audio,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e===d.MEDIA_TYPES.audio)try{return yield a.Owt.Base.MediaStreamFactory.createMediaStream(new a.Owt.Base.StreamConstraints(new a.Owt.Base.AudioTrackConstraints(a.Owt.Base.AudioSourceInfo.MIC)))}catch(e){return console.error("Get user Media error",e),new MediaStream([(0,d.createSilenceAudioTrack)()])}return e===d.MEDIA_TYPES.video?a.Owt.Base.MediaStreamFactory.createMediaStream(new a.Owt.Base.StreamConstraints(void 0,new a.Owt.Base.VideoTrackConstraints(a.Owt.Base.VideoSourceInfo.CAMERA))):e===d.MEDIA_TYPES.screen?s.default.has("displayMedia.getDisplayMediaStream")?s.default.call("displayMedia.getDisplayMediaStream",{displaySelector:null!=(e=null==t?void 0:t.displaySelector)?e:d.displaySelector}):a.Owt.Base.MediaStreamFactory.createMediaStream(new a.Owt.Base.StreamConstraints(new a.Owt.Base.AudioTrackConstraints(a.Owt.Base.VideoSourceInfo.SCREENCAST),new a.Owt.Base.VideoTrackConstraints(a.Owt.Base.VideoSourceInfo.SCREENCAST))):null}))).apply(this,arguments)}var I=new WeakMap,L=new WeakMap,N=new WeakMap,R=new WeakMap,F=new WeakMap,Y=new WeakMap,B=new WeakMap,U=new WeakMap,W=new WeakMap,z=new WeakMap,H=new WeakMap,V=new WeakMap,G=new WeakMap,q=new WeakMap;n=function(e){var t=J;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n,r,s,h,m,b,v,T,j,$,K=S(J);function J(e){var t;if(this instanceof J)return k(O(t=K.call(this,e)),"backend","owt"),k(O(t),"mode","mcu"),C(O(t),I,{writable:!0,value:new a.Owt.Conference.ConferenceClient}),C(O(t),L,{writable:!0,value:{}}),C(O(t),N,{writable:!0,value:{}}),C(O(t),R,{writable:!0,value:null}),k(O(t),"token",void 0),k(O(t),"mixResult",void 0),k(O(t),"waitingStreams",void 0),k(O(t),"self",void 0),C(O(t),F,{writable:!0,value:function(e){var n,r=e.stream;r&&(r.attributes&&(r.attributes.ended=!0),P(O(t),R)&&P(O(t),R)[r.id]&&((0,d.destroyAudio)(r.id),delete P(O(t),R)[r.id],P(O(t),U).call(O(t),r,"remove")),(n=t.getParticipant(r.origin))&&n.userId&&t.updateParticipant(n),DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","EVENT: Stream ended","tealPale",r?"".concat(r.origin,"<").concat(r.id,">"):"Unknown stream",""),console.log("participant",n),console.log("event",e),console.log("ConferenceServer",O(t)),console.groupEnd()))}}),C(O(t),Y,{writable:!0,value:function(e){var n=e.stream;n&&(DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","EVENT: Stream updated","tealPale",n?"".concat(n.origin,"<").concat(n.id,">"):"Unknown stream",""),console.log("event",e),console.log("ConferenceServer",O(t)),console.groupEnd()),t._subscribeStream(n),n.origin&&(e=t.getParticipant(n.origin))&&e.userId&&t.updateParticipant(e))}}),C(O(t),B,{writable:!0,value:function(e){var n=e.stream;n&&(DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","EVENT: Stream added","tealPale",n?"".concat(n.origin,"<").concat(n.id,">"):"Unknown stream",""),console.log("event",e),console.log("ConferenceServer",O(t)),console.groupEnd()),"boolean"!=typeof t.mixResult?t.waitingStreams.push(n):(t._subscribeStream(n),n.origin&&(e=t.getParticipant(n.origin))&&e.userId&&t.updateParticipant(e)))}}),C(O(t),U,{writable:!0,value:function(e){t.onRemoteStreamChange&&t.onRemoteStreamChange(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"update")}}),C(O(t),W,{writable:!0,value:function(e){DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","EVENT: Server disconnected","redPale"),console.log("event",e),console.log("ConferenceServer",O(t)),console.groupEnd()),t.tryDisconnect()}}),C(O(t),z,{writable:!0,value:function(e){var n=e.participant,r=(DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","EVENT: Participant joined","tealPale",n.userId,""),console.log("event",e),console.log("ConferenceServer",O(t)),console.groupEnd()),n.addEventListener("left",(function(e){DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","EVENT: Participant left","tealPale",n.userId,""),console.log("event",e),console.log("ConferenceServer",O(t)),console.groupEnd()),(e=+n.userId)!==(0,f.getCurrentUserID)()&&t.removeParticipant(e)})),e=n.userId,n.role);e=+e,t.addParticipant(new p.ConferenceParticipant({id:e,role:r,self:e===(0,f.getCurrentUserID)()}))}}),C(O(t),H,{writable:!0,value:function(e,n){var r=t.getPublication(e);DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'EVENT: Publication "'.concat(e,'" Mute'),"tealPale"),console.log("type",e),console.log("event",n),console.log("publication",r),console.log("ConferenceServer",O(t)),console.groupEnd()),r&&t.updatePublishState(k({},e,i.MEDIA_PUBLISH_TYPES.muted))}}),C(O(t),V,{writable:!0,value:function(e,n){var r=t.getPublication(e);DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'EVENT: Publication "'.concat(e,'" Unmute'),"tealPale"),console.log("event",n),console.log("publication",r),console.log("ConferenceServer",O(t)),console.groupEnd()),r&&t.updatePublishState(k({},e,i.MEDIA_PUBLISH_TYPES.published))}}),C(O(t),G,{writable:!0,value:function(e,n){var r=t.getPublication(e);DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'EVENT: Publication "'.concat(e,'" Error'),"redPale"),console.log("event",n),console.log("publication",r),console.log("ConferenceServer",O(t)),console.groupEnd())}}),C(O(t),q,{writable:!0,value:function(e,n){var r=t.getPublication(e);DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'EVENT: Publication "'.concat(e,'" ended'),"tealPale"),console.log("event",n),console.log("publication",r),console.log("ConferenceServer",O(t)),console.groupEnd()),r&&t.unpublish(e)}}),t;throw new TypeError("Cannot call a class as a function")}return t=J,(e=[{key:"conferenceClient",get:function(){return P(this,I)}},{key:"remoteStreams",get:function(){return P(this,I)&&P(this,I).info&&P(this,I).info.remoteStreams||[]}},{key:"isParticipant",value:function(e){var t=this.getParticipant(e);return!!t&&(this.mixResult||Object.values(P(this,R)).some((function(e){return e.origin===t.id})))}},{key:"isParticipantMuted",value:function(e){if(e===this.user)return!this.isAudioPublished;var t=this.getParticipant(e);return!t||!Object.values(P(this,R)).some((function(e){return e.origin===t.id}))}},{key:"getPublication",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.MEDIA_TYPES.audio;return P(this,N)&&P(this,N)[e]}},{key:"mute",value:($=x((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.MEDIA_TYPES.audio,t=this.getPublication(e);if(!t)return DEBUG&&console.color("Owt.ConferenceServer","tealBg",'Error: Mute "'.concat(e,'" failed'),"redPale","Cannot found publication object.","red"),this.updatePublishState(k({},e,i.MEDIA_PUBLISH_TYPES.stopped)),!1;yield t.mute(e===d.MEDIA_TYPES.screen?"av":e),this.updatePublishState(k({},e,i.MEDIA_PUBLISH_TYPES.muted))})),function(){return $.apply(this,arguments)})},{key:"unmute",value:(j=x((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.MEDIA_TYPES.audio,t=this.getPublication(e);if(!t)return DEBUG&&console.color("Owt.ConferenceServer","tealBg",'Error: Mute "'.concat(e,'" failed'),"redPale","Cannot found publication object.","red"),this.updatePublishState(k({},e,i.MEDIA_PUBLISH_TYPES.stopped)),!1;yield t.unmute(e===d.MEDIA_TYPES.screen?"av":e),this.updatePublishState(k({},e,i.MEDIA_PUBLISH_TYPES.published))})),function(){return j.apply(this,arguments)})},{key:"publish",value:(T=x((function*(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.MEDIA_TYPES.audio,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this.getPublication(t);if(r)return DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'" skippped'),"redPale",'Media stream "'.concat(t,'" is already published.'),"red"),console.log("publication",r),console.log("ConferenceServer",this),console.groupEnd()),!1;try{s=yield function(){return A.apply(this,arguments)}(t,n),P(this,L)[t]=s,DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'"'),"tealPale","Media stream created",""),console.log("medialStream",s),console.log("ConferenceServer",this),console.groupEnd())}catch(e){throw k(n={},d.MEDIA_TYPES.audio,"MIC"),k(n,d.MEDIA_TYPES.video,"CAMERA"),k(n,d.MEDIA_TYPES.screen,"SCREENCAST"),(n=c.default.create(e,"CONFERENCE_NO_".concat(n[t]))).detail="Publish ".concat(t," error"),DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'" Error'),"redPale",String(e),"red"),console.error("error",e),console.log("ConferenceServer",this),console.groupEnd()),"USER_CANCELED"!==n.code&&(this.updatePublishState(k({},t,i.MEDIA_PUBLISH_TYPES.disabled)),this.emitError(n.code)),n}try{e=yield function(e,t,n){return t=1<arguments.length&&void 0!==t?t:d.MEDIA_TYPES.audio,n=2<arguments.length&&void 0!==n?n:null,t===d.MEDIA_TYPES.audio?new a.Owt.Base.LocalStream(e,new a.Owt.Base.StreamSourceInfo("mic"),n):t===d.MEDIA_TYPES.video?new a.Owt.Base.LocalStream(e,new a.Owt.Base.StreamSourceInfo(void 0,"camera"),n):t===d.MEDIA_TYPES.screen?new a.Owt.Base.LocalStream(e,new a.Owt.Base.StreamSourceInfo("mic","screen-cast"),n):null}(s,t,{type:t,user:this.user,device:u.default.system.device}),DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'"'),"tealPale","Local stream created",""),console.log("medialStream",s),console.log("localStream",e),console.log("ConferenceServer",this),console.groupEnd())}catch(e){throw n=new Error("Publish error: ".concat(String(e))),DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'" Error'),"redPale",String(e),"red"),console.error("error",e),console.log("ConferenceServer",this),console.groupEnd()),n}try{r=yield this.conferenceClient.publish(e,{}),this.updatePublishState(k({},t,i.MEDIA_PUBLISH_TYPES.published)),DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'" success'),"tealPale",r.id,""),console.log("publication",r),console.log("localStream",e),console.log("ConferenceServer",this),console.groupEnd())}catch(n){var s=new Error("Publish error: ".concat(String(n)));throw DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'" Error'),"redPale",String(n),"red"),console.error("error",n),console.log("publication",r),console.log("localStream",e),console.log("ConferenceServer",this),console.groupEnd()),s}r.addEventListener("pcState",(function(e){(0,o.emitConferencePeerConnectionStatusChange)(e.error.message.replace("pcState-",""))})),(0,o.emitConferencePeerConnectionStatusChange)("connected"),t!==d.MEDIA_TYPES.audio&&t!==d.MEDIA_TYPES.video||(n=yield(0,l.mixOwtStream)(this.room,r.id,D,this.api),this.mixResult=!n.includes("Invalid"),DEBUG&&(this.mixResult?console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'" Mix'),"tealPale","Stream mixed ".concat(this.mixResult?"success":"failed"),this.mixResult?"":"red"):console.collapse("Owt.ConferenceServer","tealBg",'Publish "'.concat(t,'" Mix Error'),"redPale",n,"red"),console.log("mixResult",n),console.log("ConferenceServer",this),console.groupEnd())),r.addEventListener("error",P(this,G).bind(this,t)),r.addEventListener("ended",P(this,q).bind(this,t)),r.addEventListener("mute",P(this,H).bind(this,t)),r.addEventListener("unmute",P(this,V).bind(this,t)),P(this,N)[t]=r})),function(){return T.apply(this,arguments)})},{key:"unpublish",value:(v=x((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.MEDIA_TYPES.audio,t=this.getPublication(e);if(!t)return DEBUG&&console.color("Owt.ConferenceServer","tealBg",'Error: Unpublish "'.concat(e,'" failed'),"redPale","Cannot found publication object.","red"),this.updatePublishState(k({},e,i.MEDIA_PUBLISH_TYPES.stopped)),!1;if(e===d.MEDIA_TYPES.audio||e===d.MEDIA_TYPES.video)try{yield(0,l.unmixOwtStream)(this.room,t.id,D,this.api),(0,d.destroyMediaStream)(P(this,L)[e])}catch(n){DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Unpublish "'.concat(e,'" warning on unmix stream'),"yelowPale",String(n),"yelow"),console.error("error",n),console.log("publication",t),console.log("ConferenceServer",this),console.groupEnd())}t.clearEventListener("error"),t.clearEventListener("ended"),t.clearEventListener("mute"),t.clearEventListener("unmute"),t.clearEventListener("pcState"),t.stop(),delete P(this,N)[e],this.updatePublishState(k({},e,i.MEDIA_PUBLISH_TYPES.stopped)),DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg",'Unpublish "'.concat(e,'" success'),"tealPale",t.id,""),console.log("publication",t),console.log("ConferenceServer",this),console.groupEnd())})),function(){return v.apply(this,arguments)})},{key:"_publishStreams",value:(b=x((function*(){this.needPublishAudio&&(yield this.publishAudio()),this.needPublishScreencast?yield this.publishScreencast():this.needPublishVideo&&(yield this.publishVideo())})),function(){return b.apply(this,arguments)})},{key:"hasMediaStream",value:function(e){var t=this;if(e===d.MEDIA_TYPES.audio)return Object.values(P(this,R)).some((function(e){return e.id.endsWith("-common")}));var n,r=this.remoteStreams;return!!r.length&&(n=new Set(Array.isArray(e)?e:e.split(",")),r.some((function(e){return!(!e.attributes||!e.attributes.user||e.attributes.ended||!n.has(e.attributes.type)||e.attributes.user===t.user&&!t.isMediaPublished(e.attributes.type))})))}},{key:"getMediaStream",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.MEDIA_TYPES.video;if(P(this,R)){var n=Object.values(P(this,R));if(t===d.MEDIA_TYPES.screen)return(r=n.find((function(t){return t.source&&"screen-cast"===t.source.video&&t.origin!==e.self.id&&t.mediaStream&&t.mediaStream.active&&t.mediaStream.getVideoTracks().some((function(e){return"live"===e.readyState}))})))?r.mediaStream:this.isScreencastPublished&&P(this,L)&&P(this,L)[t]?P(this,L)[t]:void 0;if(t===d.MEDIA_TYPES.video&&this.hasMediaStream(d.MEDIA_TYPES.video)||t===d.MEDIA_TYPES.audio){var r=n.find((function(e){return e.id.endsWith("-common")}));if(r&&r.mediaStream)return r.mediaStream}}}},{key:"getLocalMediaStream",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.MEDIA_TYPES.audio;if(!this.isMediaPublished(e))return null;switch(e){case d.MEDIA_TYPES.audio:return P(this,L).audio;case d.MEDIA_TYPES.screen:return P(this,L).screen;case d.MEDIA_TYPES.video:return P(this,L).video}}},{key:"initOptions",value:function(){if(_(M(J.prototype),"initOptions",this).call(this),!this.options.api)throw new Error('Property "options.api" is required in constructer of ConferenceServer.')}},{key:"disconnectServer",value:(m=x((function*(){var e=this;this.self=null,yield Promise.all(Object.keys(P(this,N)).map((function(t){return e.unpublish(t)}))),Object.values(P(this,R)).forEach((function(e){var t=e.id,n=e.mediaStream;(e=e.subscription)&&e.stop(),n&&(0,d.destroyMediaStream)(n),(0,d.destroyAudio)(t)})),E(this,R,null),Object.keys(P(this,L)).forEach((function(t){var n=P(e,L)[t];n&&(0,d.destroyMediaStream)(n),delete P(e,L)[t]})),P(this,I).clearEventListener("streamadded"),P(this,I).clearEventListener("participantjoined"),P(this,I).clearEventListener("serverdisconnected"),yield P(this,I).leave()})),function(){return m.apply(this,arguments)})},{key:"connectServer",value:(h=x((function*(){if(this.self)try{yield this.disconnectServer()}catch(e){}if(E(this,R,{}),this.waitingStreams=[],this.mixResult=null,this.self=null,this.token=null,E(this,N,{}),E(this,L,{}),yield this.createToken(),yield this.joinConference(),P(this,I).addEventListener("streamadded",P(this,B)),P(this,I).addEventListener("participantjoined",P(this,z)),P(this,I).addEventListener("serverdisconnected",P(this,W)),yield this._publishStreams(),this.waitingStreams){DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","Step 6-begin: Subscripting ".concat(this.waitingStreams.length," streams"),"tealPale"),console.log("streams",this.waitingStreams),console.groupEnd());var e,t=g(this.waitingStreams);try{for(t.s();!(e=t.n()).done;){var n=e.value;yield this._subscribeStream(n)}}catch(e){t.e(e)}finally{t.f()}this.waitingStreams.length=0,DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","Step 6-end: Subscripting ".concat(this.waitingStreams.length," streams"),"tealPale"),console.log("streams",this.waitingStreams),console.groupEnd()),this.waitingStreams.length=0}})),function(){return h.apply(this,arguments)})},{key:"_subscribeStream",value:(s=x((function*(e){if(e.clearEventListener("ended"),e.clearEventListener("updated"),e.addEventListener("ended",P(this,F).bind(this,{stream:e,type:"ended"})),e.addEventListener("updated",P(this,Y).bind(this,{stream:e,type:"updated"})),!e.source.audio&&"screen-cast"!==e.source.video)return DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","Subscription skipped","tealPale","stream ".concat(e.origin,"<").concat(e.id,"> has no audio."),"gray"),console.log("stream",e),console.log("ConferenceServer",this),console.groupEnd()),!1;if(e.origin===this.self.id)return DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","Subscription skipped","tealPale","stream ".concat(e.origin,"<").concat(e.id,"> is local."),"gray"),console.log("stream",e),console.log("ConferenceServer",this),console.groupEnd()),!1;if(P(this,R)[e.id]=e,P(this,U).call(this,e),e.source&&"screen-cast"===e.source.video){var t=yield this.conferenceClient.subscribe(e,{audio:!1,video:!0});e.subscription=t}else{if(e.origin||!e.id.includes(D))return DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","Subscription skipped","tealPale","stream ".concat(e.origin,"<").concat(e.id,"> is not mixed."),"gray"),console.log("stream",e),console.log("ConferenceServer",this),console.groupEnd()),!1;t=yield this.conferenceClient.subscribe(e,{audio:!0,video:!0}),e.subscription=t,(0,d.playAudioStream)(e,!0)}DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","Subscribed stream","tealPale","".concat(e.origin,"<").concat(e.id,">"),""),console.log("stream",e),console.log("ConferenceServer",this),console.groupEnd()),(t=this.getParticipant(e.origin))&&t.userId&&this.updateParticipant(t)})),function(e){return s.apply(this,arguments)})},{key:"joinConference",value:(r=x((function*(){var e=yield this.conferenceClient.join(this.token),t=(this.self=e.self,n=this.self).userId,n=n.role;if(t=+t,n=new p.ConferenceParticipant({id:t,role:n,self:t===(0,f.getCurrentUserID)()}),this.addParticipant(n),e.participants){var r,o=g(e.participants);try{for(o.s();!(r=o.n()).done;){var a=r.value;P(this,z).call(this,{participant:a})}}catch(e){o.e(e)}finally{o.f()}}e.remoteStreams&&(t=this.waitingStreams).push.apply(t,y(e.remoteStreams)),DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","Step 2: Joined conference","tealPale","".concat(e.participants?e.participants.length:0," participants, ").concat(e.remoteStreams?e.remoteStreams.length:0," remote streams"),""),console.log("joinResponse",e),console.log("ConferenceServer",this),console.groupEnd())})),function(){return r.apply(this,arguments)})},{key:"createToken",value:(n=x((function*(){try{var e=yield(0,l.createOwtRoomToken)(this.room,this.user.toString(),this.api);this.token=e}catch(e){throw new Error("OWTConferenceServer: Create token failed with error ".concat(e.message,".(room: ").concat(this.room,", user: ").concat(this.user,", role: ").concat(this.role,", failuresCount: ").concat(this.failuresCount+1,")"))}return DEBUG&&(console.collapse("Owt.ConferenceServer","tealBg","Step 1: Got token","tealPale","room: ".concat(this.room,", user: ").concat(this.user,", role: ").concat(this.role),""),console.log("Token",this.token),console.groupEnd()),this.token})),function(){return n.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),J}(i.default),t.OWTConferenceServer=n},5958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Owt=void 0,n(15007);var r,o=n(99838);n=n(64393),"browser"===(0,o.getPlatformType)()&&((0,n.appendScript)("assets/owt-sdk.js","owt-sdk"),r=window.Owt),n=new Proxy({},{get:function(e,t){return r=r||("browser"===(0,o.getPlatformType)()?window.Owt:(n=process.env.HOT?"".concat(process.env.APP_ROOT,"/assets/owt-sdk.js"):"./assets/owt-sdk.js",require(n))),"string"==typeof t?r[t]:r;var n}}),t.Owt=n},15007:(e,t,n)=>{"use strict";var r=n(64393);n=(n=n(94128))&&n.__esModule?n:{default:n},(0,r.appendScript)("assets/socket.io.js","import-socket-io"),"browser"===n.default.type&&(0,r.appendScript)("assets/webrtc-adapter.js","import-webrtc-adapter")},77898:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=i(e);if(n=t?(n=i(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SrsConferenceParticipant=void 0,n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);var n=a(r);function r(){if(this instanceof r)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"publishing",get:function(){return this.getData("publishing")}},{key:"display",get:function(){return"user-".concat(this.id)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(n(91731).ConferenceParticipant),t.SrsConferenceParticipant=n},47580:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SRSConferenceServer=void 0;var o=n(59726),a=n(73630),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(36666)),l=n(77898),s=n(87111),u=n(17781),c=n(27599),f=n(89848),d=n(15973),p=n(78717),h=g(n(61862)),m=g(n(84431)),y=n(10088);function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=S(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=P(e);if(n=t?(n=P(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return E(o)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){j(a,r,o,i,l,"next",e)}function l(e){j(a,r,o,i,l,"throw",e)}i(void 0)}))}}function D(e){e.includes("&")?(0,p.executeCommand)("closeConference",e):(0,p.executeCommand)("leaveConference",e)}function A(e,t){"closed"===e.connectionState?D(t):(0,y.emitConferencePeerConnectionStatusChange)(e.connectionState)}function I(){return(I=x((function*(){var e,t=void 0===(t=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).audio)||t,n=void 0!==(n=r.video)&&n,r=r.displaySelector,o="screen"===n;return n=n&&!o,(t||n)&&(n=t&&n?"av":t?f.MEDIA_TYPES.audio:f.MEDIA_TYPES.video,e=yield(0,f.createMediaStream)(n)),t=o?yield(0,f.createMediaStream)(f.MEDIA_TYPES.screen,{displaySelector:r}):null,e&&t?new MediaStream([].concat(v(e.getAudioTracks()),v(t.getVideoTracks()))):e||t}))).apply(this,arguments)}n=function(e){var t=L;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e);var n,r,y,g,b,v,S,O,j=k(L);function L(){var e;if(!(this instanceof L))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(E(e=j.call.apply(j,[this].concat(n))),"backend","srs"),T(E(e),"mode","sfu"),T(E(e),"publisher",null),T(E(e),"signaling",null),T(E(e),"self",null),T(E(e),"players",new Map),T(E(e),"disposeListenAudioInputChange",void 0),T(E(e),"handleSignalingMessage",(function(t){var n;if(DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","signaling message","tealPale",null==t?void 0:t.event,""),console.log("message:",t),console.log("ConferenceServer",E(e)),console.groupEnd()),null!=t&&t.event)return"join"===(n=t.event)?e.handleParticipantJoined(t):"publish"===n?e.handleParticipantPublishing(t):"leave"===n?e.handleParticipantLeaved(t):"control"===n?e.handleParticipantControl(t):void(DEBUG&&console.error('Cannot handle the message type "'.concat(t.event,'".'),t))})),T(E(e),"handlePublisherTrackChange",(function(t){DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","publisher track change","tealPale","".concat(t.type," mediaType=").concat(t.mediaType," muted=").concat(t.track.muted),""),console.log("event",t),console.log("ConferenceServer",E(e)),console.log("publisher",e.publisher),console.groupEnd());var n=t.stream,r=t.oldTrack;t=t.track,r&&r.stop(),n?e.self.updateStream(n,t.kind)&&e.updateParticipant(e.self):e.self.removeStream(n,t.kind)&&e.updateParticipant(e.self)})),T(E(e),"handlePublisherStateChange",(function(t){e.self.updatePublicationState(t)&&e.updateParticipant(e.self),e.updatePublishState({audio:t.audio?i.MEDIA_PUBLISH_TYPES.published:i.MEDIA_PUBLISH_TYPES.muted,video:t.video?i.MEDIA_PUBLISH_TYPES.published:i.MEDIA_PUBLISH_TYPES.stopped,screen:t.screen?i.MEDIA_PUBLISH_TYPES.published:i.MEDIA_PUBLISH_TYPES.stopped})})),T(E(e),"handlePlayerTrackChange",(function(t){var n,r=e.getParticipant(t.id);r&&("remove"===t.type?r.removeStream(t.stream)&&e.updateParticipant(r):(n=!1,t.stream&&(n=r.updateStream(t.stream)),"mute"===t.type?n=r.updatePublicationState(T({},t.mediaType,!1))||n:"unmute"===t.type&&(n=r.updatePublicationState(T({},t.mediaType,!0))||n),n&&e.updateParticipant(r)))})),T(E(e),"handleStreamChange",(function(t){var n,r;null!=(n=(r=e).onRemoteStreamChange)&&n.call(r,t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"update")})),T(E(e),"handleParticipantStreamChange",(function(t){var n;DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","EVENT: Participant stream change","tealPale",t.id,"",t.type,"",t.mediaType,""),console.log("event",t),console.log("ConferenceServer",E(e)),console.groupEnd()),"audio"===t.mediaType&&t.id!==e.user&&(n="".concat(e.room,"-").concat(t.id),"stop"===t.type?(0,f.destroyAudio)(n):(0,f.playAudio)(n,t.stream,!0))})),T(E(e),"handleParticipantChange",(function(t){var n=+t.display.split("-")[1],r=e.getParticipant(n);return r?r.setData({publishing:t.publishing}):((r=new l.SrsConferenceParticipant({id:n,self:e.user===n,role:e.role,data:{publishing:t.publishing}})).onStreamChange=e.handleParticipantStreamChange,e.addParticipant(r)),r.self||(r.publishing?e.subscribeStream(r):e.unsubscribeStream(r)),r})),T(E(e),"handleParticipantJoined",(function(t){DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","EVENT: Participant joined","tealPale",t.peer.display,""),console.log("event",t),console.log("ConferenceServer",E(e)),console.groupEnd()),e.handleParticipantChange(t.peer),e.publisher.hasSendTrack("screen")&&e.nofityVideoType("screen")})),T(E(e),"handleParticipantPublishing",(function(t){DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","EVENT: Participant publish","tealPale",t.peer.display,""),console.log("event",t),console.log("ConferenceServer",E(e)),console.groupEnd()),t.self.display!==t.peer.display&&e.handleParticipantChange(t.peer)})),T(E(e),"handleParticipantLeaved",(function(t){DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","EVENT: Participant leave","tealPale",t.peer.display,""),console.log("event",t),console.log("ConferenceServer",E(e)),console.groupEnd());var n=+t.peer.display.split("-")[1];e.isParticipant(n)&&(t.peer.publishing&&(t.peer.publishing=!1),e.handleParticipantChange(t.peer),e.removeParticipant(n))})),T(E(e),"handleParticipantControl",(function(t){var n=JSON.parse(t.data);DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","EVENT: Participant control","tealPale",t.peer.display,"",null==n?void 0:n.action,""),console.log("event",t),console.log("data",n),console.log("ConferenceServer",E(e)),console.groupEnd()),"nofityVideoType"===n.action&&null!=(t=e.players.get(n.id))&&t.switchVideoType(n.videoType)})),e}return t=L,(e=[{key:"display",get:function(){return"user-".concat(this.user)}},{key:"initOptions",value:function(){if(M(P(L.prototype),"initOptions",this).call(this),!this.options.api)throw new Error('Property "options.api" is required in constructer of ConferenceServer.')}},{key:"connectServer",value:(O=x((function*(){var e=this;this.disconnectServer(),yield this.createSignaling(),yield this.joinConference(),yield this.publishStreams(),this.disposeListenAudioInputChange=(0,o.effect)((function(){a.audioInputDeviceId.value,e.mute(),e.unmute()}))})),function(){return O.apply(this,arguments)})},{key:"createSignaling",value:(S=x((function*(){this.signaling=new u.SrsRtcSignaling(this.handleSignalingMessage);var e=(t=w(this.rtc.split("://"),2))[0],t=t[1];e=yield this.signaling.connect(e,t,this.room||this.number||this.cgid,this.display),DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","signaling connected","tealPale","",""),console.log("message:",e),console.log("ConferenceServer",this),console.groupEnd())})),function(){return S.apply(this,arguments)})},{key:"sendSignalingAction",value:(v=x((function*(e,t){if(!["join","publish","control"].includes(e))throw new Error('SRSConferenceServer error: Cannot send action "'.concat(e,'", the type is not supported.'));t={action:e,room:this.room,display:this.display,data:t?JSON.stringify(t):void 0};try{var n=yield this.signaling.send(t);return DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","send signaling action","tealPale",e,""),console.log("res:",n),console.log("message:",t),console.log("ConferenceServer",this),console.groupEnd()),n}catch(n){DEBUG&&(console.collapse("SRS.ConferenceServer","redBg","send signaling action error","redPale",e,""),console.error("err:",n),console.log("message:",t),console.log("ConferenceServer",this),console.groupEnd())}})),function(e,t){return v.apply(this,arguments)})},{key:"nofityVideoType",value:function(e){return this.sendSignalingAction("control",{action:"nofityVideoType",videoType:e,id:this.user})}},{key:"joinConference",value:(b=x((function*(){var e=yield this.sendSignalingAction("join"),t=new l.SrsConferenceParticipant({self:!0,id:this.user,role:this.role});this.self=t,this.addParticipant(t),e.participants.forEach(this.handleParticipantChange),DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","joined!","tealPale",t.display,""),console.log("joinRes:",e),console.log("self:",t),console.log("ConferenceServer",this),console.groupEnd())})),function(){return b.apply(this,arguments)})},{key:"publishStreams",value:(g=x((function*(){var e=this,t=(this.publisher=new c.SrsRtcPublisher,this.publisher.onTrackChange=this.handlePublisherTrackChange,this.publisher.onStateChange=this.handlePublisherStateChange,"webrtc://".concat(this.hostname,"/").concat(this.room,"/").concat(this.display,"/")),n=yield function(){return I.apply(this,arguments)}({audio:this.needPublishAudio,video:this.needPublishScreencast?"screen":!!this.needPublishVideo&&"video"});try{var r=w(yield this.publisher.publish({url:t,stream:n,publishKind:"av"}),2),o=r[0],a=r[1];o.onconnectionstatechange=function(){return A(o,e.number||e.cgid)}}catch(e){return DEBUG&&console.trace(e),D(this.cgid),void((0,d.getCurrentUser)().config.useInitConference&&this.cgid==="".concat(this.user,"&").concat(this.user)||(0,p.executeCommand)("showMessager",h.default.string("conference.publish.fail"),{type:"danger"}))}this.updatePublishState(this.publisher.state),this.sendSignalingAction("publish"),DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","publish stream","tealPale","",""),console.log("session",a),console.log("ConferenceServer",this),console.groupEnd())})),function(){return g.apply(this,arguments)})},{key:"publish",value:(y=x((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.MEDIA_TYPES.audio,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.publisher.hasSendTrack(e)&&this.isMediaPublished(e))return DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg",'Publish "'.concat(e,'" skippped'),"redPale",'Media stream "'.concat(e,'" is already published.'),"red"),console.log("publisher",this.publisher),console.log("ConferenceServer",this),console.groupEnd()),!1;t=yield(0,f.createMediaStream)(e,t),this.publisher.sendTrackFromMediaStream(t,e),"audio"!==e&&(yield this.nofityVideoType(e)),DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","published","tealPale",e,""),console.log("mediaStream:",t),console.log("ConferenceServer",this),console.groupEnd())})),function(){return y.apply(this,arguments)})},{key:"disconnectServer",value:function(){null!=(e=this.publisher)&&e.close(),this.publisher=null,this.self=null;var e,t,n=_(this.participantsList);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.unsubscribeStream(r)}}catch(e){n.e(e)}finally{n.f()}this.clearParticipant();var o,a=_(this.players.values());try{for(a.s();!(o=a.n()).done;)o.value.close()}catch(e){a.e(e)}finally{a.f()}this.players.clear(),this.signaling&&(this.signaling.close(),this.signaling=null),null!=(e=this.disposeListenAudioInputChange)&&e.call(this)}},{key:"subscribeStream",value:(r=x((function*(e){var t=this;if(e.id!==this.user&&!1!==e.publishing){var n=new s.SrsRtcPlayer(e.id);n.onTrackChange=this.handlePlayerTrackChange,this.players.has(e.id)&&this.players.get(e.id).close(),this.players.set(e.id,n);try{var r=w(yield n.play("webrtc://".concat(this.hostname,"/").concat(this.room,"/").concat(e.display,"/")),1)[0];r.onconnectionstatechange=function(){return A(r,t.number||t.cgid)}}catch(t){DEBUG&&console.trace(t),D(this.number||this.cgid),(0,p.executeCommand)("showMessager",h.default.format("conference.play.fail",m.default.getMember(e.id).displayName),{type:"danger"})}DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","subscribe stream","tealPale",e.display,""),console.log("player",n),console.log("participant",e),console.log("ConferenceServer",this),console.groupEnd())}})),function(e){return r.apply(this,arguments)})},{key:"unsubscribeStream",value:function(e){var t,n=e.id;n!==this.user&&this.players.has(n)&&((t=this.players.get(n)).close(),this.players.delete(n),(0,f.destroyAudio)("".concat(this.room,"-").concat(n)),DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","unsubscribe stream","tealPale",e.display,""),console.log("player",t),console.log("participant",e),console.log("ConferenceServer",this),console.groupEnd()))}},{key:"mute",value:function(){return this.unpublish(f.MEDIA_TYPES.audio)}},{key:"unmute",value:function(){return this.publish(f.MEDIA_TYPES.audio)}},{key:"unpublish",value:(n=x((function*(e){if(!this.publisher)return DEBUG&&console.color("SRS.ConferenceServer","tealBg",'Unpublish "'.concat(e,'" failed'),"redPale","Cannot found publisher object.","red"),void this.updatePublishState(T({},e,i.MEDIA_PUBLISH_TYPES.stopped));this.publisher.hasSendTrack(e)?(this.publisher.cancelTrack(e),DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg","unpublished","tealPale",e,""),console.log("ConferenceServer",this),console.groupEnd())):DEBUG&&(console.collapse("SRS.ConferenceServer","tealBg",'Unpublish "'.concat(e,'" failed'),"redPale",'Cannot found any stream "'.concat(e,'" .'),"red"),console.log("publisher",this.publisher),console.log("ConferenceServer",this),console.groupEnd())})),function(e){return n.apply(this,arguments)})},{key:"hasMediaStream",value:function(e){var t=this;return Array.isArray(e)?e.some((function(e){return t.hasMediaStream(e)})):this.participantsList.some((function(t){return t.isPublished(e)}))}},{key:"getMediaStream",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.MEDIA_TYPES.video;return this.getMediaStreams(e)}},{key:"getMediaStreams",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.MEDIA_TYPES.video;return this.participantsList.reduce((function(t,n){return n.isPublished(e)?((n="audio"===e?n.audioStream:n.videoStream)&&t.push(n),t):t}),[])}},{key:"getLocalMediaStream",value:function(e){if(!this.publisher)return null;if(!this.isMediaPublished(e))return null;switch(e){case f.MEDIA_TYPES.audio:return this.publisher.audioStream;case f.MEDIA_TYPES.screen:case f.MEDIA_TYPES.video:return this.publisher.videoStream}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),L}(i.default),t.SRSConferenceServer=n},87111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SrsRtcPlayer=void 0;var r=n(89848);function o(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function a(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function l(e,t,n){if((t=u(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function s(e,t){return(t=u(e,t,"get")).get?t.get.call(e):t.value}function u(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var c=new WeakMap,f=new WeakMap,d=new WeakMap;n=function(){function e(t){var n=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i(this,"pc",void 0),i(this,"streams",new Map),i(this,"id",void 0),a(this,c,{writable:!0,value:void 0}),a(this,f,{writable:!0,value:"video"}),a(this,d,{writable:!0,value:void 0}),i(this,"handleOnTrack",(function(e){var t,r=e.track,o=r.kind,a=(r.onended=function(){var t,a=n.streams.get(o),i="audio"===o?"audio":s(n,f);a.removeTrack(r),null!=(t=s(n,d))&&t.call(n,{id:n.id,type:"remove",track:r,mediaType:i,player:n,stream:a}),DEBUG&&(r.onmute=null,r.onunmute=null,console.collapse("SRS.RtcPlayer","tealBg","user-".concat(n.id,": remove track"),"tealPale","".concat(i,"-").concat(r.id," muted=").concat(r.muted),""),console.log("event",e),console.log("RtcPlayer",n),console.groupEnd())},DEBUG&&(r.onmute=function(e){console.collapse("SRS.RtcPlayer","tealBg","user-".concat(n.id,": mute track"),"tealPale","".concat("audio"===o?"audio":s(n,f),"-").concat(r.id," muted=").concat(r.muted),""),console.log("event",e),console.log("RtcPlayer",n),console.groupEnd()},r.onunmute=function(e){console.collapse("SRS.RtcPlayer","tealBg","user-".concat(n.id,": unmute track"),"tealPale","".concat("audio"===o?"audio":s(n,f),"-").concat(r.id," muted=").concat(r.muted),""),console.log("event",e),console.log("RtcPlayer",n),console.groupEnd()}),n.streams.get(o)),i="audio"===o?"audio":n.videoTrackType;a.addTrack(r),null!=(t=s(n,d))&&t.call(n,{id:n.id,type:"add",track:r,mediaType:i,player:n,stream:a}),DEBUG&&(console.collapse("SRS.RtcPlayer","tealBg","user-".concat(n.id,": add track"),"tealPale","".concat(i,"-").concat(r.id," muted=").concat(r.muted),""),console.log("event",e),console.log("RtcPlayer",n),console.groupEnd())})),this.id=t}var t,n,u,p;return t=e,(n=[{key:"pulled",get:function(){return s(this,c)}},{key:"audioStream",get:function(){return this.streams.get("audio")}},{key:"videoStream",get:function(){return this.streams.get("video")}},{key:"videoTrackType",get:function(){return s(this,f)}},{key:"onTrackChange",set:function(e){l(this,d,e)}},{key:"play",value:(u=function*(e){if(s(this,c))throw new Error("Player can only play once.");this.streams.set("audio",new MediaStream),this.streams.set("video",new MediaStream),this.pc=new RTCPeerConnection,this.pc.ontrack=this.handleOnTrack,this.pc.addTransceiver("audio",{direction:"recvonly"}),this.pc.addTransceiver("video",{direction:"recvonly"});var t=yield this.pc.createOffer(),n=(yield this.pc.setLocalDescription(t),function(e){var t=function(e){var t=document.createElement("a"),n=(t.href=e.replace("rtmp://","http://").replace("webrtc://","http://").replace("rtc://","http://"),t.hostname),r=t.pathname.substr(1,t.pathname.lastIndexOf("/")-1),o=t.pathname.substr(t.pathname.lastIndexOf("/")+1);0<=(r=r.replace("...vhost...","?vhost=")).indexOf("?")&&(a=r.substr(r.indexOf("?")),r=r.substr(0,r.indexOf("?")),0<a.indexOf("vhost=")&&0<(n=a.substr(a.indexOf("vhost=")+"vhost=".length)).indexOf("&")&&(n=n.substr(0,n.indexOf("&")))),t.hostname===n&&/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test(t.hostname)&&(n="__defaultVhost__");var a="rtmp";0<e.indexOf("://")&&(a=e.substr(0,e.indexOf("://")));var i=t.port;return i||("http"===a?i="80":"https"===a?i="443":"rtmp"===a&&(i="1935")),e={url:e,schema:a,server:t.hostname,port:i,vhost:n,app:r,stream:o,user_query:{}},function(e,t){if(0!==e.length)for(var n=(e=0<=e.indexOf("?")?e.split("?")[1]:e).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");t.user_query[o[0]]=o[1]}}(t.search,e),e.port||"webrtc"!==a&&"rtc"!==a||("https"===e.user_query.schema||0===window.location.href.indexOf("https://")?e.port="443":e.port="1985"),e}(e),n=(e=(e=t.user_query.schema)?"".concat(e,":"):"http:",t.port||"1985");"https:"===e&&(n=t.port||"443");var r=t.user_query.play||"/rtc/v1/play/";r.lastIndexOf("/")!==r.length-1&&(r+="/");for(var o="".concat(e,"//").concat(t.server,":").concat(n).concat(r),a=0,i=Object.keys(t.user_query);a<i.length;a++){var l=i[a];"api"!==l&&"play"!==l&&(o+="&".concat(l,"=").concat(t.user_query[l]))}return{apiUrl:o=o.replace("".concat(r,"&"),"".concat(r,"?")),streamUrl:r=t.url,schema:e,urlObject:t,port:n,tid:(Date.now()*Math.random()*100).toString(16).substring(0,7)}}(e)),r=(t={api:n.apiUrl,tid:n.tid,streamurl:n.streamUrl,clientip:null,sdp:t.sdp},yield(yield fetch(n.apiUrl,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json());return DEBUG&&(console.collapse("SRS.RtcPlayer","tealBg","user-".concat(this.id,": got answer"),"tealPale","",""),console.log("session",r),console.log("url",e),console.log("data",t),console.log("RtcPlayer",this),console.groupEnd()),yield this.pc.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:r.sdp})),r.simulator="".concat(n.schema,"//").concat(n.urlObject.server,":").concat(n.port,"/rtc/v1/nack/"),l(this,c,!0),[this.pc,r]},p=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=u.apply(e,t);function i(e){o(a,n,r,i,l,"next",e)}function l(e){o(a,n,r,i,l,"throw",e)}i(void 0)}))},function(e){return p.apply(this,arguments)})},{key:"switchVideoType",value:function(e){s(this,f)!==e&&l(this,f,e)}},{key:"close",value:function(){var e;null!=(e=this.pc)&&e.close(),this.pc=null,this.streams&&(this.streams.has("audio")&&(0,r.destroyMediaStream)(this.streams.get("audio")),this.streams.has("video")&&(0,r.destroyMediaStream)(this.streams.get("video")),this.streams.clear()),l(this,c,!1)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.SrsRtcPlayer=n},27599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SrsRtcPublisher=void 0;var r=n(89848);function o(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function a(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){if((t=u(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function s(e,t){return(t=u(e,t,"get")).get?t.get.call(e):t.value}function u(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var c=new WeakMap,f=new WeakMap,d=new WeakMap;n=function(){function e(){var t=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i(this,"pc",void 0),i(this,"sender",new Map),a(this,c,{writable:!0,value:"video"}),a(this,f,{writable:!0,value:void 0}),a(this,d,{writable:!0,value:void 0}),i(this,"warmUpTracks",new Map),i(this,"streams",new Map),i(this,"sendTrack",(function(e,n){var r=e.kind;if(!r||!n)throw new Error("SrsRtcPublisher error: Track kind or mediaType is not setted.",{cause:e});var o=t.state,a=t.sender.get(r),u=e.id===t.warmUpTracks.get(r).id,p=("screen"===n&&(e.contentHint="detail"),"audio"===n&&(e.contentHint="speech"),a?a.replaceTrack(e):t.sender.set(r,t.pc.addTrack(e)),"audio"!==n&&l(t,c,n),t.streams.get(r)),h=p.getTracks().find((function(e){return e.kind===r})),m=(h&&p.removeTrack(h),p.addTrack(e),null!=(m=s(t,f))&&m.call(t,{track:e,oldTrack:h,type:u?"unpublish":"publish",mediaType:n,stream:p}),Object.assign(t.state,i({},n,!u)));return!s(t,d)||m.audio===o.audio&&m.video===o.video&&m.screen===o.screen||s(t,d).call(t,m,o,t),DEBUG&&(e.onended=function(n){console.collapse("SRS.RtcPublisher","tealBg","track.ended","tealPale","".concat("audio"===r?"audio":s(t,c)," (").concat(u?"warmUp, ":"").concat(e.label||e.id,")"),""),console.log("event",n),console.groupEnd(),e.onmute=null,e.onunmute=null},e.onmute=function(n){console.collapse("SRS.RtcPublisher","tealBg","track.mute","tealPale","".concat("audio"===r?"audio":s(t,c)," (").concat(e.muted?"muted, ":"").concat(u?"warmUp, ":"").concat(e.label||e.id,")"),""),console.trace("event",n),console.groupEnd()},e.onunmute=function(n){console.collapse("SRS.RtcPublisher","tealBg","track.unmute","tealPale","".concat("audio"===r?"audio":s(t,c)," (").concat(e.muted?"muted, ":"").concat(u?"warmUp, ":"").concat(e.label||e.id,")"),""),console.trace("event",n),console.groupEnd()},console.collapse("SRS.RtcPublisher","tealBg","send track","tealPale","".concat(n," (").concat(u?"warmUp, ":"").concat(e.label||e.id,")"),""),console.log("state",t.state),console.log("newState",m),console.log("oldState",o),console.log("track",e),console.log("sender",a),console.log("RtcPublisher",t),console.groupEnd()),e}))}var t,n,u,p;return t=e,(n=[{key:"audioSender",get:function(){return this.sender.get("audio")}},{key:"videoSender",get:function(){return this.sender.get("video")}},{key:"videoTrackType",get:function(){return s(this,c)}},{key:"published",get:function(){return!!this.pc}},{key:"audioStream",get:function(){return this.streams.get("audio")}},{key:"videoStream",get:function(){return this.streams.get("video")}},{key:"state",get:function(){return{audio:this.hasSendTrack("audio"),video:this.hasSendTrack("video"),screen:this.hasSendTrack("screen")}}},{key:"onTrackChange",set:function(e){l(this,f,e)}},{key:"onStateChange",set:function(e){l(this,d,e)}},{key:"publish",value:(u=function*(e){if(this.pc)throw new Error("Publisher already published.");this.pc=new RTCPeerConnection,this.streams.set("audio",new MediaStream),this.streams.set("video",new MediaStream);var t=e.url,n=e.stream,o=void 0===(o=e.publishKind)?"av":o,a=(e=void 0===(e=e.videoTrackType)?"video":e,"audio"!==o&&"av"!==o||(this.pc.addTransceiver("audio",{direction:"sendonly"}),this.warmUpTracks.set("audio",(0,r.createSilenceAudioTrack)()),this.sendTrack(null!=(a=null==n?void 0:n.getAudioTracks()[0])?a:this.warmUpTracks.get("audio"),"audio")),"video"!==o&&"av"!==o||(this.pc.addTransceiver("video",{direction:"sendonly"}),this.warmUpTracks.set("video",(0,r.createBlackVideoTrack)()),this.sendTrack(null!=(a=null==n?void 0:n.getVideoTracks()[0])?a:this.warmUpTracks.get("video"),e)),o=yield this.pc.createOffer(),yield this.pc.setLocalDescription(o),n=function(e){var t=function(e){var t=document.createElement("a"),n=(t.href=e.replace("rtmp://","http://").replace("webrtc://","http://").replace("rtc://","http://"),t.hostname),r=t.pathname.substr(1,t.pathname.lastIndexOf("/")-1),o=t.pathname.substr(t.pathname.lastIndexOf("/")+1);0<=(r=r.replace("...vhost...","?vhost=")).indexOf("?")&&(a=r.substr(r.indexOf("?")),r=r.substr(0,r.indexOf("?")),0<a.indexOf("vhost=")&&0<(n=a.substr(a.indexOf("vhost=")+"vhost=".length)).indexOf("&")&&(n=n.substr(0,n.indexOf("&")))),t.hostname===n&&/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test(t.hostname)&&(n="__defaultVhost__");var a="rtmp";0<e.indexOf("://")&&(a=e.substr(0,e.indexOf("://")));var i=t.port;return i||("http"===a?i="80":"https"===a?i="443":"rtmp"===a&&(i="1935")),e={url:e,schema:a,server:t.hostname,port:i,vhost:n,app:r,stream:o,user_query:{}},function(e,t){if(0!==e.length)for(var n=(e=0<=e.indexOf("?")?e.split("?")[1]:e).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");t.user_query[o[0]]=o[1]}}(t.search,e),e.port||"webrtc"!==a&&"rtc"!==a||("https"===e.user_query.schema||0===window.location.href.indexOf("https://")?e.port="443":e.port="1985"),e}(e),n=(e=(e=t.user_query.schema)?"".concat(e,":"):"http:",t.port||"1985");"https:"===e&&(n=t.port||"443");var r=t.user_query.play||"/rtc/v1/publish/";r.lastIndexOf("/")!==r.length-1&&(r+="/");for(var o="".concat(e,"//").concat(t.server,":").concat(n).concat(r),a=0,i=Object.keys(t.user_query);a<i.length;a++){var l=i[a];"api"!==l&&"play"!==l&&(o+="&".concat(l,"=").concat(t.user_query[l]))}return{apiUrl:o=o.replace("".concat(r,"&"),"".concat(r,"?")),streamUrl:r=t.url,schema:e,urlObject:t,port:n,tid:(Date.now()*Math.random()*100).toString(16).substr(0,7)}}(t),{api:n.apiUrl,tid:n.tid,streamurl:n.streamUrl,clientip:null,sdp:o.sdp});if(e=yield(yield fetch(n.apiUrl,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}})).json(),DEBUG&&(console.collapse("SRS.RtcPublisher","tealBg","publish","tealPale","answer",""),console.log("url",t),console.log("data",a),console.log("session",e),console.log("RtcPublisher",this),console.groupEnd()),e.code&&400===e.code)throw new Error("SDPCODE400");return yield this.pc.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:e.sdp})),e.simulator="".concat(n.schema,"//").concat(n.urlObject.server,":").concat(n.port,"/rtc/v1/nack/"),[this.pc,e]},p=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=u.apply(e,t);function i(e){o(a,n,r,i,l,"next",e)}function l(e){o(a,n,r,i,l,"throw",e)}i(void 0)}))},function(e){return p.apply(this,arguments)})},{key:"close",value:function(){var e;null!=(e=this.pc)&&e.close(),this.pc=null,this.sender&&(this.sender.forEach((function(e){null!=e&&e.track&&e.track.stop()})),this.sender.clear()),this.warmUpTracks&&(this.warmUpTracks.forEach((function(e){null!=e&&e.stop()})),this.warmUpTracks.clear()),this.streams&&(this.streams.has("audio")&&(0,r.destroyMediaStream)(this.streams.get("audio")),this.streams.has("video")&&(0,r.destroyMediaStream)(this.streams.get("video")),this.streams.clear())}},{key:"getSendingTrack",value:function(e){var t="audio"===e?"audio":"video",n=this.sender.get(t);return null==n||!n.track||"audio"!==e&&s(this,c)!==e||n.track.id===this.warmUpTracks.get(t).id?null:n.track}},{key:"hasSendTrack",value:function(e){return!!this.getSendingTrack(e)}},{key:"sendTrackFromMediaStream",value:function(e,t){return"audio"===t?this.sendTrack(e.getAudioTracks()[0],t):this.sendTrack(e.getVideoTracks()[0],t)}},{key:"cancelTrack",value:function(e){return!!this.hasSendTrack(e)&&("audio"===e?this.sendTrack(this.warmUpTracks.get("audio"),e):this.sendTrack(this.warmUpTracks.get("video"),e),!0)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.SrsRtcPublisher=n},17781:(e,t)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function o(e,t){return(t=i(e,t,"get")).get?t.get.call(e):t.value}function a(e,t,n){if((t=i(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function i(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.SrsRtcSignaling=void 0;var l=new WeakMap,s=new WeakMap,u=new WeakMap,c=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(r(this,l,{writable:!0,value:null}),r(this,s,{writable:!0,value:new Map}),r(this,u,{writable:!0,value:null}),!t)throw new Error("onmessage is required");a(this,u,t)}var t,i;return t=e,(i=[{key:"connect",value:function(e,t,n,r){var i=this;return e="".concat(e,"://").concat(t,"/sig/v1/rtc"),a(this,l,new WebSocket("".concat(e,"?room=").concat(n,"&display=").concat(r))),o(this,l).onmessage=function(e){e=JSON.parse(e.data);var t=o(i,s).get(e.tid);t?(t.resolve(e.msg),o(i,s).delete(e.tid)):null!=(t=o(i,u))&&t.call(i,e.msg)},new Promise((function(e,t){o(i,l).onopen=function(t){return e(t)},o(i,l).onerror=function(e){return t(e)}}))}},{key:"send",value:function(e){var t=this;return new Promise((function(n,r){var a={tid:(Date.now()*Math.random()*100).toString(16).substring(0,7),msg:e};o(t,s).set(a.tid,{resolve:n,reject:r}),o(t,l).send(JSON.stringify(a))}))}},{key:"close",value:function(){var e;if(null!=(e=o(this,l))&&e.close(),a(this,l,null),0<o(this,s).size){var t,r=function(e,t){var r,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw a}}}}(o(this,s).values());try{for(r.s();!(t=r.n()).done;)t.value.reject("close")}catch(e){r.e(e)}finally{r.f()}}o(this,s).clear()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.SrsRtcSignaling=c},73692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showContextMenuWithItems=void 0;var r=(n=n(28350))&&n.__esModule?n:{default:n};function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.showContextMenuWithItems=function(e,t,n){var o=n.event,i=n.options,l=(n=n.callback,{x:o.clientX,y:o.clientY});i&&i.position&&Object.assign(l,i.position),!t.length||(o&&(!o.preventDefault||i&&!1===i.preventDefault||o.preventDefault(),!o.stopPropagation||i&&!1===i.stopPropagation||o.stopPropagation()),i&&(delete i.copySelect,delete i.preventDefault,delete i.stopPropagation,delete i.linkTarget,delete i.position),o="contextmenu-".concat(e.replace(/[.,]/g,"_")),r.default.show(l,t,a({id:o,className:o},i),n))}},98649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryRemoveLastDivider=t.tryAddDividerItem=t.showContextMenu=t.removeContextMenuCreator=t.isDividerItem=t.isCreatorMatch=t.getMenuItemsForContext=t.getContextMenuItems=t.formatContextMenuItems=t.displayContextMenu=t.addContextMenuCreator=t.addContextMenuAlias=void 0;var r=u(n(28350)),o=u(n(61997)),a=u(n(61862)),i=n(64393),l=u(n(94128)),s=n(48389);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return e&&(["divider","-","separator"].includes(e)||"divider"===e.type)}function b(e){return e.length&&g(e[e.length-1])&&e.pop(),e}function v(e,t){var n=[],r=(Object.keys(P).forEach((function(t){t=P[t],D(t,e)&&n.push({order:void 0!==t.order?t.order:n.length,creator:t})})),Number.MAX_SAFE_INTEGER/2),o=(n.sort((function(e,t){return(e.creator.extension?r+e.order:e.order)-(t.creator.extension?r+t.order:t.order)})),[]);return n.forEach((function(e){var n=A(e.creator,t);n.length&&(e.skipAddDivider||x(o),o.push.apply(o,h(n)))})),o}function _(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(e))return e.map((function(e){return _(e)}));if("string"==typeof e&&"@"===e[0])return I(e,t);if(("string"==typeof e||e instanceof Set)&&(e={match:e}),"function"==typeof t?e.create=t:Array.isArray(t)&&(e.items=t),e.id||(e.id=(0,o.default)()),"string"==typeof e.match&&(e.match=e.match.split(",")),Array.isArray(e.match)&&(e.match=new Set(e.match)),"object"===p(r)&&r&&Object.assign(e,r),n.g.ExtsRuntime&&void 0!==e.apiLevel){var a,i=d(e.match);try{for(i.s();!(a=i.n()).done;){var l=a.value;try{n.g.ExtsRuntime.registerExtensionAPI({name:"contextmenu.addContextMenuCreator.".concat(l),type:"host",level:e.apiLevel})}catch(e){DEBUG&&console.error(e)}}}catch(e){i.e(e)}finally{i.f()}}return(P[e.id]=e).id}function w(e){return!!P[e]&&(delete P[e],!0)}function S(e,t){var n=[],r={};return e.forEach((function(e){if(g(e))return x(n);var o,i;null!==e&&"object"===p(e)&&(o=e.labels,(o="object"===p(i=e.label)?i:o)&&(e.label=o[a.default.name]||o.$default||i,delete e.labels),(o=(e=t?t(e):e).id)?"number"==typeof(i=r[o])?n[i]=e:(r[o]=n.length,n.push(e)):n.push(e))})),b(n.map((function(e,t){return t="number"==typeof e.order?e.order:t+1e-4,delete e.order,{item:e,order:t}})).sort((function(e,t){return e.order-t.order})).map((function(e){return e.item})))}function O(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=("string"==typeof(e="string"==typeof e&&"@"===e[0]?T[e]:e)&&e.includes(",")&&(e=e.split(",")),r.event),u=void 0===(u=r.options)?{}:u,c=[];if(Array.isArray(e))return t=r.contexts,n=u.linkTarget,e.forEach((function(e){e=e.trim();var o,a=f(f({},r),t&&t[e]);n&&null!=(o=a.options)&&o.linkTarget?n=!1:a.options&&(a.options.linkTarget=!1),c.push.apply(c,h(O(e,a,!1,c)))})),o?S(c):c;var d,p,m=0;s&&u.linkTarget&&"link"!==e&&(p=r.url,(s=(u.url||p||s.target.href||(null==(p=s.target.parentElement)?void 0:p.href)||"").trim())&&(0,i.isWebUrl)(s)&&(p=v("link",f(f({},r),{},{url:s})))&&p.length&&(m=p.length,c.push.apply(c,h(p)))),(s=v(e,r))&&s.length&&(p=x(c)).push.apply(p,h(s)),!u.copySelect||!E.copySelectText||l&&l.find((function(e){return"copy-selected-text"===e.id}))||c.find((function(e){return"copy-selected-text"===e.id}))||(e=u.selectedText||document.getSelection().toString().trim())&&(20<(e=-1<(p=e.indexOf("\n"))?e.substr(0,p):e).length&&(e="".concat(e.substr(0,20),"...")),m<3&&(d={id:"copy-selected-text",label:a.default.format("menu.copy.select",e),icon:"mdi-clipboard-text",click:E.copySelectText})),d&&("first"===u.copySelect?c.unshift(d):x(c).push(d));var y=u.exclude;return s=c,y&&("string"==typeof y&&(y=y.split(",")),(y=Array.isArray(y)?new Set(y):y).size&&(s=s.filter((function(e){return e&&!y.has(null==e?void 0:e.id)})))),o?S(s):s}function M(e,t){if(-1===["ext.apps.navbar","ext.apps.navbarZentao"].indexOf(e)||(o=window.document.getElementsByClassName("collapse-menu-items"))[0]&&(o[0].style.cssText="display:block !important"),!t)throw new Error("Context must be set.");var n=(o=t=t instanceof Event?{event:t}:t).event,r=o.options,o=o.callback;if(!n)throw new Error("Context and context.event must be set.");var i="string"==typeof e&&"@"===e[0]?T[e]:e,l=O(i,t)||[];return DEBUG&&(console.collapse("ContextMenu","greenBgLight",i,"greenPale"),e!==i&&console.log("alias",e),console.log("context",t),console.log("items",l),console.groupEnd()),e={x:n.clientX,y:n.clientY},r&&r.position&&Object.assign(e,r.position),(t=!!l.length)||l.push({label:a.default.string("common.noAvailableActions"),disabled:!0}),n&&(!n.preventDefault||r&&!1===r.preventDefault||n.preventDefault(),!n.stopPropagation||r&&!1===r.stopPropagation||n.stopPropagation()),r&&(delete r.copySelect,delete r.preventDefault,delete r.stopPropagation,delete r.linkTarget,delete r.position),n="contextmenu-".concat(i.replace(/[.,]/g,"_")),j(e,l,f({id:n,className:n},r),o),t}var C,k=l.default.access("clipboard"),E=l.default.access("ui"),P={},T={},j=(t.isDividerItem=g,r.default.show),x=(t.displayContextMenu=j,t.tryRemoveLastDivider=b,function(e){return e.length&&!g(e[e.length-1])&&e.push({type:"divider"}),e}),D=(t.tryAddDividerItem=x,function(e,t){return"string"==typeof e.match&&(e.match=e.match.split(",")),Array.isArray(e.match)&&(e.match=new Set(e.match)),e.match&&e.match.has(t)}),A=(t.isCreatorMatch=D,function(e,t){if(e.extension&&!n.g.ExtsRuntime.checkExtensionAPIPermission(e.extension,"ext.getExtension"))return DEBUG&&console.warn('Cannot get menu items from creator, because the extension of creator "'.concat(e.extension,'" is not available.')),[];var r=e.items||[];return e.create&&(t=e.create(t))&&t.length&&r.push.apply(r,h(t)),e.formatter?r.map(e.formatter):r}),I=(t.addContextMenuCreator=_,function(e,t){T["@"===e[0]?e:"@".concat(e)]=t.split(",")});t.addContextMenuAlias=I,t.removeContextMenuCreator=w,t.formatContextMenuItems=S,t.getMenuItemsForContext=O,t.showContextMenu=M,t.getContextMenuItems=function(e,t){if(-1===["ext.apps.navbar","ext.apps.navbarZentao"].indexOf(e)||(n=window.document.getElementsByClassName("collapse-menu-items"))[0]&&(n[0].style.cssText="display:block !important"),!t)throw new Error("Context must be set.");if(!(t=t instanceof Event?{event:t}:t).event)throw new Error("Context and context.event must be set.");var n="string"==typeof e&&"@"===e[0]?T[e]:e,r=O(n,t)||[];return DEBUG&&(console.collapse("ContextMenu","greenBgLight",n,"greenPale"),e!==n&&console.log("alias",e),console.log("context",t),console.log("items",r),console.groupEnd()),r},_("link",(function(e){var t,n=e.event,r=e.options,o=(e=e.url,((r&&r.url?r.url:e||n.target.href)||"").trim());if((0,i.isWebUrl)(o))return t=document.getSelection().toString().trim(),n&&""===t&&(t=n.target.innerText||(n.target.attributes.title?n.target.attributes.title.value:"")),r=[{id:"open-link",label:a.default.string("common.openLink"),click:function(){E.openExternal(o)},icon:"mdi-open-in-new"}],k&&k.writeText&&(r.push({id:"copy-link",label:a.default.string("common.copyLink"),click:function(){k.writeText(o)},icon:"mdi-link"}),t&&t!==o&&"".concat(t,"/")!==o?r.unshift({id:"copy-selected-text",label:a.default.format("common.copyFormat",25<t.length?"".concat(t.substr(0,25),""):t),click:function(){k.writeText(t)},icon:"mdi-content-copy"}):r.unshift({id:"copy-selected-text",hidden:!0})),r})),k&&k.writeText&&_("emoji",(function(e){var t=e.emoji;return e=[],t&&e.push({id:"copy-emoticon",icon:"mdi-emoticon-outline",label:a.default.string("common.copy"),click:function(){k.writeText(t)}}),e})),n.g.ExtsRuntime&&(C=n.g.ExtsRuntime.registerExtensionAPI,[{name:"contextmenu.addContextMenuCreator",level:5,func:function(e,t){var r,o=n.g.ExtsRuntime.exts.getExt(this.name);if("string"!=typeof e)throw r=new TypeError('Param "contextNamesOrAliasName" must be a string.'),DEBUG&&(console.collapse("Extension","greenBg",o.name,"redPale",r.message,"red"),console.log("contextNamesOrAliasName",e),console.log("createFunc",t),console.log("extension",o),console.error("error",r),console.groupEnd()),r;if("@"!==e[0]){var a,i=d(e=e.split(","));try{for(i.s();!(a=i.n()).done;){var l,u=a.value;if(!n.g.ExtsRuntime.checkExtensionAPIPermission(o.name,"contextmenu.addContextMenuCreator.".concat(u)))throw l=new Error('Call extension api "contextmenu.addContextMenuCreator.'.concat(u,'" failed, because the extension "').concat(o.name,'" has not permission to access the api.')),DEBUG&&(console.collapse("Extension","greenBg",o.name,"redPale",l.message,"red"),console.log("contextNamesOrAliasName",e),console.log("createFunc",t),console.log("extension",o),console.error("error",l),console.groupEnd()),l}}catch(e){i.e(e)}finally{i.f()}}return 1===e.length&&(e=e[0]),_(e,t,{formatter:function(e){return(e=o.formatContextMenuItem?o.formatContextMenuItem(e):e).click&&!n.g.ExtsRuntime.checkExtensionAPIPermission(o.name,"window.document")&&(e._originalClick=e.click,e.click=function(t,n,r){return r?e._originalClick(t,n,(0,s.createEventProxy)(r)):e._originalClick(t,n)}),e},extension:o.name})}},{name:"contextmenu.showContextMenu",level:4,func:M},{name:"contextmenu.removeContextMenuCreator",level:0,func:function(e){var t=P[e];return!(!t||t.extension!==this.name)&&w(e)}}].forEach((function(e){return C(e)}))),DEBUG&&(n.g.$contextMenuCreators=P)},63785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonDataItem=function(e,t){return a.apply(this,arguments)},t.putCommonDataItem=function(e,t,n){return r.default.database.common.put({type:e,key:t,value:n})};var r=(t=n(33594))&&t.__esModule?t:{default:t};function o(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function a(){var e;return e=function*(e,t){if(e=yield r.default.database.common.get({type:e,key:t}))return e.value},(a=function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){o(i,r,a,l,s,"next",e)}function s(e){o(i,r,a,l,s,"throw",e)}l(void 0)}))}).apply(this,arguments)}},89515:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DataChannel=void 0;var o=n(84401);function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(n=t?(n=d(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return f(o)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n=c(r);function r(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this,a=r;if(o instanceof a)return e=void 0,"key"in(a=f(o=n.call(this,t)))?Object.defineProperty(a,"key",{value:e,enumerable:!0,configurable:!0,writable:!0}):a.key=e,o.key=null!=(a=t.key)?a:"id",o;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"publish",value:function(e){if(Array.isArray(e)){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.publications.set(r[this.key],r)}}catch(e){n.e(e)}finally{n.f()}}else this.publications.set(e[this.key],e);this.tryNotifySubscribers()}},{key:"notifySubscribers",value:function(){if(this.publications.size){var e,t=[],n=this.getSubscription(o.EVENT_ANY),r=(null!=n&&n.size&&t.push.apply(t,a(n)),i(this.publications.keys()));try{for(r.s();!(e=r.n()).done;){var l=e.value,s=this.getSubscription(l);s&&t.push.apply(t,a(s))}}catch(e){r.e(e)}finally{r.f()}if(t.length){var u,c=i(new Set(t));try{for(c.s();!(u=c.n()).done;){var f,d=u.value,p=this.getSubscriber(d);p&&(f=null,p.event===o.EVENT_ANY||p.events&&p.events[0]===o.EVENT_ANY?f=Array.from(this.publications.values()):p.event?f=this.publications.get(p.event):p.events?f=p.events.map(this.publications.get.bind(this.publications)):console.error("DataChannel error: subscriber has not any events.",{subscriber:p,$this:this,subscriberID:d}),p.listener(f))}}catch(e){c.e(e)}finally{c.f()}}this.timerID=null,this.publications.clear()}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.EventChannel),t.DataChannel=n},39341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createDatabase=t.createAndOpenDatabase=void 0;var r=l(n(49520)),o=l(n(92691)),a=l(n(75738)),i=l(n(58851));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,l,"next",e)}function l(e){c(a,r,o,i,l,"throw",e)}i(void 0)}))}}function d(e){return p?p.identify!==e&&(p.destroy(),p=new b(e)):p=new b(e),p}var p=null;t.createDatabase=d,n=function(){var e=f((function*(e){var t=d(e);return yield t.open(),DEBUG&&(console.collapse("Database opened","tealBg",e,"tealPale"),console.log("db",t),console.groupEnd()),t}));return function(t){return e.apply(this,arguments)}}(),t.createAndOpenDatabase=n;var h="RecentChats",m="&gid,lastSummary,timeText",y="common",g="++id,*type,*key,[type+key],value",b=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");u(this,"identify",void 0),u(this,"options",void 0),u(this,"db",void 0),this.identify=t,this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({autoOpen:!1},n),this.init()}var t,n,l;return t=e,(n=[{key:"init",value:function(){var e;this.db=new r.default(this.identify,this.options),this.db.version(1).stores(u({},o.default.NAME,o.default.SCHEMA.dexieFormat)),this.db.version(2).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,h,m),e)),this.db.version(3).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,h,m),u(e,a.default.NAME,a.default.SCHEMA.dexieFormat),e)),this.db.version(4).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,i.default.NAME,i.default.SCHEMA.dexieFormat),u(e,h,m),u(e,a.default.NAME,a.default.SCHEMA.dexieFormat),e)),this.db.version(5).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,i.default.name,i.default.SCHEMA.dexieFormat),u(e,h,null),u(e,a.default.NAME,a.default.SCHEMA.dexieFormat),e)),this.db.version(6).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,i.default.name,null),u(e,i.default.NAME,i.default.SCHEMA.dexieFormat),u(e,a.default.NAME,a.default.SCHEMA.dexieFormat),e)),this.db.version(7).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,i.default.name,null),u(e,i.default.NAME,i.default.SCHEMA.dexieFormat),u(e,a.default.NAME,a.default.SCHEMA.dexieFormat),e)),this.db.version(8).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,i.default.name,null),u(e,i.default.NAME,i.default.SCHEMA.dexieFormat),u(e,a.default.NAME,a.default.SCHEMA.dexieFormat),u(e,y,g),e)),this.db.version(9).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,i.default.name,null),u(e,i.default.NAME,i.default.SCHEMA.dexieFormat),u(e,a.default.NAME,a.default.SCHEMA.dexieFormat),u(e,y,g),e)),this.db.version(10).stores((u(e={},o.default.NAME,o.default.SCHEMA.dexieFormat),u(e,i.default.name,null),u(e,i.default.NAME,i.default.SCHEMA.dexieFormat),u(e,a.default.NAME,a.default.SCHEMA.dexieFormat),u(e,y,g),e)).upgrade((function(e){e.table(i.default.NAME).where("gid").equalsIgnoreCase("notification").delete(),e.table(o.default.NAME).where("cgid").equalsIgnoreCase("notification").delete()}))}},{key:"open",value:(l=f((function*(){if(!this.db.isOpen())try{yield this.db.open()}catch(e){yield this.db.delete(),this.init(),yield this.open()}return this.db})),function(){return l.apply(this,arguments)})},{key:"isOpen",get:function(){return!!this.db&&this.db.isOpen()}},{key:"chatMessages",get:function(){return this.isOpen?this.db.table(o.default.NAME):null}},{key:"members",get:function(){return this.isOpen?this.db.table(a.default.NAME):null}},{key:"chats",get:function(){return this.isOpen?this.db.table(i.default.NAME):null}},{key:"common",get:function(){return this.isOpen?this.db.table(y):null}},{key:"all",get:function(){return this.isOpen?this.db.tables:null}},{key:"getTable",value:function(e){return this.db.table(e)}},{key:"destroy",value:function(){this.db.close()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();u(t.default=b,"VERSION",10)},55292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataStore=void 0;var r=(f=n(84836))&&f.__esModule?f:{default:f},o=n(81595),a=n(89515);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var f=function(){function e(t,n){var o=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l=this,s=e;if(!(l instanceof s))throw new TypeError("Cannot call a class as a function");c(this,"_name",void 0),c(this,"_identify",void 0),c(this,"_key",void 0),c(this,"_cache",void 0),c(this,"_channel",void 0),c(this,"_recentAccessLimit",void 0),c(this,"_recentAccessList",void 0),c(this,"_recentAccessSaveTask",void 0),c(this,"beforeSubscribe",void 0),c(this,"afterSubscribe",void 0),c(this,"afterUnsubscribe",void 0),c(this,"getItemFromCache",(function(e){var t=o._cache.get(e);return t&&o.recordRecentAccess(e),t})),s=void 0===(l=i.key)?"id":l,l=void 0===(l=i.channelDelayTime)?500:l,i=void 0===(i=i.recordRecentAccess)?0:i,this._name=t,this._identify=n,this._key=s,this._cache=new Map,this._channel=new a.DataChannel({key:s,delayTime:l}),(this._recentAccessLimit=i)&&(this._recentAccessList=[],this._recentAccessSaveTask=new r.default(this.saveRecentAccessList.bind(this),3e3))}var t,n,s;function u(e){return s.apply(this,arguments)}return t=e,(n=[{key:"channel",get:function(){return this._channel}},{key:"size",get:function(){return this._cache.size}},{key:"identify",get:function(){return this._identify}},{key:"all",get:function(){return Array.from(this._cache.values())}},{key:"allKeys",get:function(){return Array.from(this._cache.keys())}},{key:"recentAccessList",get:function(){return this._recentAccessList}},{key:"recordRecentAccess",value:function(e){if(!this._recentAccessLimit)return!1;var t,n=l(e=Array.isArray(e)?e:[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this._recentAccessList.indexOf(r);-1<o&&this._recentAccessList.splice(o,1),this._recentAccessList.unshift(r)}}catch(e){n.e(e)}finally{n.f()}this._recentAccessList.length>this._recentAccessLimit&&this._recentAccessList.splice(this._recentAccessLimit-1,this._recentAccessLimit-this._recentAccessList.length),this._recentAccessSaveTask.do()}},{key:"saveRecentAccessList",value:function(){this._recentAccessList&&(0,o.setStoreItem)("DATASTORE::".concat(this._identify,"::").concat(this._name),this._recentAccessList)}},{key:"reset",value:function(e){if(this._identify!==e)return this._identify=e,this._cache.clear(),this._channel.clearPublications(),this._recentAccessLimit&&(this._recentAccessSaveTask.cancel(),this._recentAccessList.length&&this.saveRecentAccessList(),this._recentAccessList=(0,o.getStoreItem)("DATASTORE::".concat(this._identify,"::").concat(this._name),[])),!0;var t,n=l(this._cache.values());try{for(n.s();!(t=n.n()).done;)t.value.expired=!0}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"hasCacheItem",value:function(e){return this._cache.has(e)}},{key:"deleteCacheItem",value:function(e){return this._cache.delete(e)}},{key:"getItemsFromCache",value:function(e){var t=this;return e.map((function(e){var n=t._cache.get(e);return n&&t.recordRecentAccess(e),n}))}},{key:"store",value:(s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.normalizeFunc;if(e){if(Array.isArray(e)){if(!e.length)return}else e=[e];if(n){var r,o=[],a=l(e);try{for(a.s();!(r=a.n()).done;){var i=n(r.value,this);this._cache.set(i[this._key],i),o.push(i)}}catch(e){a.e(e)}finally{a.f()}return t.skipPublish||this._channel.publish(o),o}var s,u=l(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;this._cache.set(c[this._key],c)}}catch(e){u.e(e)}finally{u.f()}return t.skipPublish||this._channel.publish(e),e}},u.toString=function(){return s.toString()},u)},{key:"subscribe",value:function(e,t){return this.beforeSubscribe&&this.beforeSubscribe(e,t),t=Array.isArray(e)?this._channel.subscribeSome(e,t):this._channel.subscribe(e,t),this.afterSubscribe&&this.afterSubscribe(e,t),t}},{key:"unsubscribe",value:function(e){Array.isArray(e);var t=this._channel.unsubscribe(e);return this.afterUnsubscribe&&this.afterUnsubscribe(e,t),t}},{key:"subscribeAny",value:function(e){return this._channel.subscribeAny(e)}},{key:"filter",value:function(e){var t,n=[],r=l(this._cache);try{for(r.s();!(t=r.n()).done;){var o=i(t.value,2),a=o[0],s=o[1];e(s,a)&&n.push(s)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"forEach",value:function(e){var t,n=l(this._cache);try{for(n.s();!(t=n.n()).done;){var r=i(t.value,2),o=r[0];if(!1===e(r[1],o))break}}catch(e){n.e(e)}finally{n.f()}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.DataStore=f},27945:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(21614),o=(o=n(6511))&&o.__esModule?o:{default:o};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function l(e,t){return(t=s(e,t,"get")).get?t.get.call(e):t.value}function s(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}n=n(48389);var u=new WeakMap,c=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i(this,"$",{}),i(this,"entityType",void 0),function(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,{writable:!0,value:void 0})}(this,u),"object"===a(t)&&this.$set(t),this.ensureGid(),this.entityType=null!=n?n:e.name}var t,n;return t=e,(n=[{key:"proxyHandler",get:function(){return e.PROXY_HANDLER}},{key:"proxy",get:function(){return l(this,u)||function(e,t,n){if((t=s(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(this,u,new Proxy(this,this.proxyHandler)),l(this,u)}},{key:"ensureGid",value:function(){var e;null==(e=this.$).gid&&(e.gid=(0,r.v4)())}},{key:"plain",value:function(){return this.ensureGid(),this.$}},{key:"gid",get:function(){return this.$get("gid")}},{key:"id",get:function(){return this.$get("id",0)},set:function(e){this.$set("id",e)}},{key:"schema",get:function(){return e.SCHEMA}},{key:"$set",value:function(e,t){var n,r=this;return"object"===a(e)?Object.keys(e).forEach((function(t){r.$set(t,e[t])})):((n=this.schema)&&(t=n.convertSetterValue(e,t,this)),this.$[e]=t),this}},{key:"$get",value:function(e,t){var n=this.$[e],r=this.schema;return void 0===(n=r?r.convertGetterValue(e,n,this):n)?t:n}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(t.default=c,"NAME","Entity"),i(c,"SCHEMA",new o.default({gid:{type:"string",primaryKey:!0},id:{type:"int",indexed:!0}})),i(c,"PROXY_PROPERTIES",(0,n.createProxyPropertiesMap)(["gid","id"])),i(c,"PROXY_HANDLER",(0,n.createProxyHandler)(c.PROXY_PROPERTIES))},33594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initUserDatabase=t.endDBBusyTask=t.default=t.beginDBBusyTask=void 0,t.isDBBusy=function(){return 0<u},t.onceDBBusyStatusChanged=d,t.setCallbackOnInitedDatabase=void 0,t.waitDBNotBusy=p;var r=n(39341);function o(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function a(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=null,s=[],u=0,c=[];function f(e){var t=0<u,n=(0<arguments.length&&void 0!==e&&e?u=Math.max(0,u-1):u+=1,0<u);if(t!=n&&c.length){var r,o=a(c);try{for(o.s();!(r=o.n()).done;)(0,r.value)(n)}catch(e){o.e(e)}finally{o.f()}c.length=0}}function d(e){c.includes(e)||c.push(e)}function p(){return 0<u?new Promise((function(e){d((function(){return e()}))})):Promise.resolve()}t.beginDBBusyTask=function(){return f()},t.endDBBusyTask=function(){return f(!0)};var h=function(){e=function*(e){PERF_MARK("databaseInitBegin"),yield p(),l=yield(0,r.createAndOpenDatabase)(e);var t,n=a(s);try{for(n.s();!(t=n.n()).done;)yield(0,t.value)(e)}catch(e){n.e(e)}finally{n.f()}return PERF_MARK("databaseInitEnd","databaseInitBegin","databaseInitTime"),l};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){o(i,r,a,l,s,"next",e)}function s(e){o(i,r,a,l,s,"throw",e)}l(void 0)}))};return function(e){return t.apply(this,arguments)}}();t.initUserDatabase=h,t.setCallbackOnInitedDatabase=function(e){return!s.includes(e)&&(s.push(e),!0)},h={get database(){return l}},t.default=h,DEBUG&&(n.g.$getDatabaseTable=function(){return l})},6511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(16986);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(n=r=r||{}).int="int",n.float="float",n.string="string",n.boolean="boolean",n.object="object",n.array="array",n.set="set",n.timestamp="timestamp",n.datetime="datetime",n.json="json",n.any="any";var c={int:function(e){return"number"!=typeof e&&(e=Number.parseInt(e,10)),Number.isNaN(e)?0:e},float:function(e){return"number"!=typeof e?Number.parseFloat(e):e},string:function(e){return null!=e&&"string"!=typeof e?"".concat(e):e},boolean:function(e){return"string"==typeof e?"1"===e||"true"===e||"yes"===e:!!e},array:function(e){return Array.isArray(e)?e:"string"==typeof e?e.split(","):null!=e?[e]:[]},set:function(e){return e instanceof Set?e:Array.isArray(e)||"string"!=typeof e?new Set(e):(t=new Set,e.split(",").forEach((function(e){""!==e&&t.add(e)})),t);var t},timestamp:function(e){return(e="string"==typeof e?new Date(e).getTime():e)<1e10&&(e*=1e3),e},datetime:function(e){return e instanceof Date?e:new Date(e)},json:function(e){if("string"!=typeof e)return e;if((0,o.isNotEmptyString)(e))try{return JSON.parse(e)}catch(e){return null}return null}};n=function(){function e(t){var n=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");u(this,"primaryKey",void 0),u(this,"schema",void 0);var o=0;if(Object.keys(t).forEach((function(e){var a=t[e];if(a.type&&!(a.type in r))throw new Error("Cannot create schema, because the type(".concat(a.type,") is not a valid type."));DEBUG&&"boolean"===a.type&&(a.indexed||a.primaryKey)&&console.warn("Cannot use boolean type as index, see https://dexie.org/docs/Indexable-Type"),a.primaryKey&&(o+=1,n.primaryKey=e)})),1!==o)throw DEBUG&&console.trace("schema",t),new Error("Cannot create schema, because there has ".concat(o," primary key(s)."));this.schema=t}var t,n,o;return t=e,o=[{key:"extend",value:function(t,n){return new e(l(l({},t.schema),n))}}],(n=[{key:"of",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.schema[e]?l({type:r.any,indexed:!1},this.schema[e]):t?"object"===a(t)?t:{type:r.any,indexed:!1}:null}},{key:"convertValue",value:function(e,t){if(e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.of(e)){if(e.type&&"object"!==e.type&&"any"!==e.type)return c[e.type](t);void 0===t&&void 0!==e.defaultValue&&(t=e.defaultValue)}return t}},{key:"convertGetterValue",value:function(e,t,n){var r=this.of(e);if(r){if(r.getter)return r.getter.call(n,e);if(r.type&&"object"!==r.type&&"any"!==r.type)return c[r.type](t);void 0===t&&void 0!==r.defaultValue&&(t=r.defaultValue)}return t}},{key:"convertSetterValue",value:function(e,t,n){if(e=this.of(e)){if(e.setter)return e.setter.call(n,t,n);if(e.type&&"object"!==e.type&&"any"!==e.type)return c[e.type](t);void 0===t&&void 0!==e.defaultValue&&(t=e.defaultValue)}return t}},{key:"extend",value:function(t){return e.extend(this,t)}},{key:"dexieFormat",get:function(){var e=this,t=[this.primaryKey];return Object.keys(this.schema).forEach((function(n){var r;n!==e.primaryKey&&!1!==(r=e.schema[n]).indexed&&(r.unique?t.push("&".concat(n)):r.indexed&&t.push(n))})),t.join(",")}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},65286:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Events=void 0;var l=((n=n(94128))&&n.__esModule?n:{default:n}).default.access("EventEmitter");n=function(){var e=s,t=l;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=i(e);if(n=t?(n=i(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(s);function s(){var e;if(this instanceof s)return(e=n.call(this))._eventsMap=new Map,e._isMainProcess=!process.browser&&"renderer"!==process.type,e.setMaxListeners&&e.setMaxListeners(0),e;throw new TypeError("Cannot call a class as a function")}return e=s,(t=[{key:"on",value:function(e,t){o(i(s.prototype),"on",this).call(this,e,t);var n=Symbol(e);return t={id:n,listener:t,name:e},this._eventsMap.set(n,t),DEBUG_V&&(console.collapse("EVENT","orangeBg","on","orangePale",e,""),console.trace("event",t),console.groupEnd()),n}},{key:"once",value:function(e,t){var n=this,r=Symbol(e),a={id:r,name:e,listener:function(){n.off(r),t.apply(void 0,arguments)}};return o(i(s.prototype),"once",this).call(this,e,a.listener),this._eventsMap.set(r,a),DEBUG_V&&(console.collapse("EVENT","orangeBg","once","orangePale",e,""),console.trace("event",a),console.groupEnd()),r}},{key:"off",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var a,i=o[r];i&&this._eventsMap.has(i)&&(a=this._eventsMap.get(i),this.removeListener(a.name,a.listener),this._eventsMap.delete(i),DEBUG_V&&(console.collapse("EVENT","orangeBg","off","orangePale",a.name,""),console.trace("event",a),console.groupEnd()))}}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=o(i(s.prototype),"emit",this)).call.apply(t,[this,e].concat(r)),DEBUG_I&&(console.collapse("EVENT","orangeBg","emit","orangePale",e,""),console.log("args: ",r),console.trace("stacktrace"),console.groupEnd())}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),s}(),n=new(t.Events=n),t.default=n},12482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PREVIEW_TYPES=t.MATCH_SCORE_MAP=t.CATEGORIES=void 0;var r=y(n(2568)),o=n(71782),a=n(64393),i=n(15973),l=n(39642),s=n(18876),u=y(n(94128)),c=n(7066),f=y(n(74160)),d=n(16986),p=["base64"],h=["blob"],m=["file"];function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=u.default.has("fs.pathExists"),P=[{name:"name",equal:100,include:50},{name:"category",equal:100,prefix:":"},{name:"cgid",equal:100,prefix:"#"},{name:"senderId",equal:100,prefix:"@"},{name:"extName",equal:100,prefix:"."}],T=(t.MATCH_SCORE_MAP=P,[{name:"doc",like:new Set(["doc","docx","ppt","pptx","xls","xlsx","key","page","number","pdf","txt","md","rtf","wps","html","htm","chtml","epub",""])},{name:"image",like:new Set(["jpg","jpeg","sketch","psd","png","apng","webp","gif","tiff","ico","icns","svg","bmp"])},{name:"media",like:new Set(["mp4","webm","ogm","ogv","avi","mp3","avm","ogg","opus"])},{name:"program",like:new Set(["js","exe","app","dmg","msi","bat","sh"])}]),j=(t.CATEGORIES=T,{image:new Set(["jpg","jpeg","png","apng","webp","gif","ico","icns","svg","bmp"]),video:new Set(["mp4","webm","ogm","ogv","avi"]),audio:new Set(["mp3","avm","ogg","opus"]),pdf:new Set(["pdf"]),doc:new Set(["doc","docx"]),ppt:new Set(["ppt","pptx"]),xls:new Set(["xls","xlsx"]),text:new Set(["txt"]),markdown:new Set(["md"]),html:new Set(["html","htm"]),code:new Set(["js","jsx","css","html","php","go","ini","java","py","json","cpp","c","cs","swift","sh","xml","yaml","ts","tsx","less","scss","dart","scss","rb","sql","kt","diff"]),mindMap:new Set(["mm"])});t.PREVIEW_TYPES=j,n=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");(t=M({},t)).time&&(t.time=(0,c.createDate)(t.time).getTime()),this._data=t,this._onChange=null}var t,n,y,S,O;return t=e,n=[{key:"id",get:function(){return this._data.id}},{key:"gid",get:function(){return this._data.gid}},{key:"name",get:function(){return this._data.name}},{key:"time",get:function(){return this._data.time}},{key:"hasThumb",get:function(){return this._data.hasThumb}},{key:"thumbnailWidth",get:function(){return this._data.thumbnailWidth}},{key:"thumbnailHeight",get:function(){return this._data.thumbnailHeight}},{key:"messageID",get:function(){return this._data.messageID}},{key:"messageType",get:function(){return this._data.messageType}},{key:"cgid",get:function(){return this._data.cgid}},{key:"storageType",get:function(){return this._data.storageType||("image"===this.mediaType?"image":this.isMedia?"media":"other")}},{key:"storageName",get:function(){return"".concat(this.gid,".").concat(this.extName)}},{key:"storageThumbnailName",get:function(){return this.hasThumb?"".concat(this.gid,"_thumb.").concat(this.extName):this.storageName}},{key:"send",get:function(){return this._data.send}},{key:"isOK",get:function(){return!0===this._data.send}},{key:"cachePath",get:function(){return E?this._data.cachePath:null}},{key:"cacheThumbnailPath",get:function(){return E?this.hasThumb?this._data.cacheThumbnailPath:this.cachePath:null}},{key:"exceedAutoDownloadSize",get:function(){var e=f.default.ui["chat.image.autoDownloadSize"];return this.size>(0,d.convertBytes)(e)}},{key:"needAutoLoadOriginImage",get:function(){return this.hasThumb&&!(null!=this&&this.cachePath)&&!this.exceedAutoDownloadSize}},{key:"needLoadIamgeBtn",get:function(){return"image"===this.previewType&&this.hasThumb&&this.exceedAutoDownloadSize&&!(null!=this&&this.cachePath)}},{key:"networking",get:function(){return this._data.networking||(this._data.networking=new l.FileNetworking(this)),this._data.networking}},{key:"senderId",get:function(){return this._data.senderId}},{key:"size",get:function(){return this._data.size}},{key:"sendMethod",get:function(){return this._data.sendMethod},set:function(e){this._data.sendMethod=e}},{key:"originFile",get:function(){return this._data.originFile}},{key:"mimeType",get:function(){return this._data.type||""}},{key:"mediaType",get:function(){var e=this._data.mediaType;return e||("image"===(e=this.previewType)||"audio"===e||"video"===e?e:"")}},{key:"mediaWidth",get:function(){return this._data.width||0}},{key:"mediaHeight",get:function(){return this._data.height||0}},{key:"isMedia",get:function(){return!!this.mediaType}},{key:"isBase64",get:function(){return"base64"===this.mimeType}},{key:"mediaInfo",get:function(){var e=this.mediaType;return e?{type:e,width:this.mediaWidth,height:this.mediaHeight}:null}},{key:"originFileType",get:function(){var e=this.originFile;return e instanceof File?"file":e instanceof Blob?"blob":"string"==typeof e?"base64":""}},{key:"originFileUrl",get:function(){var e,t=this.originFile;return t?"string"==typeof t?(e=(0,s.dataURItoBlob)(t),URL.createObjectURL(e)):null!=t&&t.path?(0,s.convertLocalPathToUrl)(t.path):t instanceof Blob||t instanceof File?URL.createObjectURL(t):null:null}},{key:"remoteUrl",get:function(){return this.getRemoteUrl()}},{key:"thumbnailRemoteUrl",get:function(){return this.getRemoteUrl({isThumbnail:this.hasThumb})}},{key:"getRemoteUrl",value:function(e){if(this._data.url)return this._data.url;if(!this.id)return null;var t=(0,i.getCurrentUser)(),n=void 0===(n=(e=e||{}).preview)?!!this.previewType:n,o=e.isThumbnail,l=(e=void 0!==(e=e.withSid)&&e,{fileName:o?"thumb_".concat(this.name):this.name,time:Math.floor(this.time/1e3),id:this.id,gid:t.id});return t.serverName&&(l.ServerName=t.serverName),t.isVersionSupport("sidCookie")&&!u.default.isType("browser")&&!e||(l.sid=(0,r.default)(t.sessionID+(o?"thumb_".concat(this.name):this.name))),n&&(l.preview=1),t.makeServerUrl("fileDownload?".concat((0,a.stringifySearchParams)(l)))}},{key:"thumbnailViewUrl",get:function(){if(!this.hasThumb)return this.viewUrl;if(E){var e=this.cacheThumbnailPath;return e?(0,s.convertLocalPathToUrl)(e):(e=this.originFileUrl)||null}return this.thumbnailRemoteUrl}},{key:"viewUrl",get:function(){if(this._viewUrl)return this._viewUrl;var e=this.originFileUrl;return e?this._viewUrl=e:(this._viewUrl=null,E?(e=this.cachePath)?(this._viewUrl=(0,s.convertLocalPathToUrl)(e),this._viewUrl):null:this.remoteUrl)}},{key:"extName",get:function(){if(void 0===this._extName){var e=this.name;if("string"!=typeof e||!e.length)return"";var t=e.lastIndexOf(".");this._extName=-1<t?e.substr(t+1):""}return this._extName}},{key:"category",get:function(){if(!this._category){this._category="other";var e=this.extName;if(e){var t,n=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(T);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.like.has(e)){this._category=r.name;break}}}catch(e){n.e(e)}finally{n.f()}}}return this._category}},{key:"previewType",get:function(){if(void 0===this._previewType){this._previewType="";var e=this.extName;if(e)for(var t=0,n=Object.entries(j);t<n.length;t++){var r=_(n[t],2),o=r[0];if(r[1].has(e.toLowerCase())){this._previewType=o;break}}}return this._previewType}},{key:"isInLocal",get:function(){return!this.id&&!this.messageID}},{key:"isInRemote",get:function(){return!!this.id}},{key:"isSendByMe",get:function(){return this.senderId===(0,i.getCurrentUserID)()}},{key:"editable",get:function(){return!!this._data.editable},set:function(e){this._data.editable=!!e}},{key:"onChange",set:function(e){this._onChange=e}},{key:"change",value:function(e,t){var n=this;return"string"==typeof e?this.change(C({},e,t)):(t=Object.keys(e).reduce((function(t,r){var o=n._data[r],a=e[r];return o!==a&&(t[r]=a,"cachePath"===r&&delete n._viewUrl),t}),{}),this.forceChange(t))}},{key:"forceChange",value:function(t){var n,r;return!!Object.keys(t).length&&(Object.assign(this._data,t),r=new e(M({},this._data)),null!=(n=this._onChange)&&n.call(this,this,r,t),!0)}},{key:"setOriginFile",value:function(e){var t;null!=(t=e)&&t.base64?e=e.base64:null!=(t=e)&&t.blob&&(e=e.blob),this.change({originFile:e})}},{key:"setCachePath",value:function(e){E&&(this.hasThumb&&1<arguments.length&&void 0!==arguments[1]&&arguments[1]?this.change({cacheThumbnailPath:e}):this.change({cachePath:e}))}},{key:"checkCachePath",value:(S=function*(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!E)return!1;var t,n=this.cachePath,r=this.cacheThumbnailPath;if(!(r=(e=this.hasThumb&&e)?r:n))return!1;try{t=r;var o=yield E?u.default.call("fs.pathExists",t):Promise.resolve(!1);return o||this.change(C({},e?"cacheThumbnailPath":"cachePath","")),o}catch(e){return!1}},O=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=S.apply(e,t);function a(e){v(o,n,r,a,i,"next",e)}function i(e){v(o,n,r,a,i,"throw",e)}a(void 0)}))},function(){return O.apply(this,arguments)})},{key:"plain",value:function(){var e,t=this,n=["gid","id","name","isImage","senderId","send","height","width","size","time","type","hasThumb","thumbnailWidth","thumbnailHeight","editable"].reduce((function(e,n){var r=t._data[n];return void 0!==r&&(e[n]=r),e}),{});return void 0===n.send&&((e=this.networking).isNetworking?n.send=e.loaded:e.isFinished&&(n.send=!e.error)),n}},{key:"getMatchScore",value:function(e){return(0,o.matchScore)(P,this,e)}}],y=[{key:"fromFile",value:function(t,n){return new e(M({originFile:t,cachePath:t.path,name:t.name,size:t.size,send:0,type:t.type,time:Date.now()},n))}},{key:"fromBlob",value:function(t,n){return new e(M({originFile:t,name:"",size:t.size,send:0,type:t.type,time:Date.now()},n))}},{key:"fromBase64",value:function(t,n){if(!t)return null;var r=t.split(";")[0].split(":")[0];return t=(0,s.dataURItoBlob)(t),e.fromBlob(t,M(M({},n),{},{type:r}))}},{key:"fromMessage",value:function(t){var n=null!=(n=t.fileContent)?n:t.imageContent;return"base64"===(n=n||M(M({},JSON.parse(t.content)),{},{senderId:t.senderId,originFile:t.attachFile,time:t.sendTime,cachePath:t.cacheFilePath,messageID:t.id,messageType:"image"===t.contentType?"image":"file",cgid:t.cgid})).type?e.fromBase64(null!=(t=n.content)?t:n.originFile,n):new e(n)}},{key:"create",value:function(t){if(t&&"object"===b(t))return t instanceof e?t:t instanceof File?e.fromFile(t):t instanceof Blob?e.fromBlob(t):t.base64?(n=t.base64,r=g(t,p),e.fromBase64(n,r)):t.blob?(n=t.blob,r=g(t,h),e.fromBlob(n,r)):t.file?(n=t.file,r=g(t,m),e.fromFile(n,r)):"ChatMessage"===t.entityType?e.fromMessage(t):new e(t);throw new Error('Cannot create FileData, the "data" param is not an object');var n,r}}],n&&k(t.prototype,n),y&&k(t,y),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},39642:(e,t)=>{"use strict";function n(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){var n,o;n=e,o=r[t],t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.FileNetworking=void 0;var o=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!((o=this)instanceof(a=e)))throw new TypeError("Cannot call a class as a function");var o="",a=0,i=null,l=(this._fileData=t).send;!0===l?a=t.size:!1!==l&&"number"!=typeof l||(a=!1,o="uploading",i=new Error("UPLOAD_FILE_FAILED")),this._info=r({type:o,loaded:a,error:i},n)}var t,n;return t=e,(n=[{key:"fileData",get:function(){return this._fileData}},{key:"info",get:function(){return this._info}},{key:"loaded",get:function(){return this._info.loaded}},{key:"total",get:function(){var e;return null!=(e=this._info.total)?e:this._fileData.size}},{key:"type",get:function(){return this._info.type}},{key:"error",get:function(){return this.isNetworking?this._info.error:null}},{key:"isNetworking",get:function(){return!!this._info.type}},{key:"progress",get:function(){var e=this._fileData.size;if(!e)return 0;var t=this._info.loaded;return Math.max(0,Math.min(100,t/e*100))}},{key:"isInProgress",get:function(){return this.isNetworking&&this.progress<100&&!this.error}},{key:"isDownloading",get:function(){return"downloading"===this.type&&this.progress<100&&!this.error}},{key:"isUploading",get:function(){return"uploading"===this.type&&this.progress<100&&!this.error}},{key:"isFinished",get:function(){return this.isNetworking&&(100===this.progress||this.error)}},{key:"isFail",get:function(){return this.isNetworking&&!!this.error}},{key:"isDownloadFail",get:function(){return"downloading"===this.type&&this.error}},{key:"isUploadFail",get:function(){return"uploading"===this.type&&this.error}},{key:"update",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this._info=r(r({},this._info),e),this._fileData.forceChange(r({networking:this.clone()},t))}},{key:"_start",value:function(e){if(!e||this.isInProgress)throw new Error("Start file ".concat(e," failed, current type is ").concat(this._info.type,"."));this.update({type:e,loaded:0,error:null})}},{key:"_updateLoaded",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!e||this._info.type!==e)throw new Error("Update ".concat(e," progress failed, current type is ").concat(this._info.type,"."));if(n=Math.max(n,this.total),(e=Math.min(this.total,Math.max(this._info.loaded||0,t,0)))===this._info.loaded)return!1;this.update({loaded:e,total:n})}},{key:"_finish",value:function(e,t,n){if(!e||this._info.type!==e)throw new Error("Finish file ".concat(e," failed, current type is ").concat(this._info.type,"."));e=t?{error:t}:{loaded:this.total},this.update(e,n)}},{key:"startDownload",value:function(){return this._start("downloading")}},{key:"updateDownloadLoaded",value:function(e,t){return this._updateLoaded("downloading",e,t)}},{key:"finishDownloadFail",value:function(e){return this._finish("downloading",e)}},{key:"finishDownloadSuccess",value:function(e){return this._finish("downloading",null,e?{cachePath:e}:null)}},{key:"startUpload",value:function(){return this._start("uploading")}},{key:"updateUploadLoaded",value:function(e,t){return this._updateLoaded("uploading",e,t)}},{key:"finishUploadFail",value:function(e){return this._finish("uploading",e)}},{key:"finishUploadSuccess",value:function(e){return this._finish("uploading",null,r(r({},e),{},{send:!0}))}},{key:"reset",value:function(){this.update({type:"",loaded:0,error:null})}},{key:"clone",value:function(){return new e(this._fileData,this._info)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.FileNetworking=o},20354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FILE_BROAD_MESSAGE_TYPES=void 0;var r=n(15973),o=(n=n(24260))&&n.__esModule?n:{default:n};function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}t.FILE_BROAD_MESSAGE_TYPES={readyToReceive:"readToReceive",cancelSend:"cancelSend",terminalSend:"terminalSend",rejctReceive:"rejctReceive",cancelReceive:"cancelReceive",reciveDone:"reciveDone",exception:"exception"},n=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");l(this,"cgid",void 0),l(this,"config",void 0),l(this,"theOtherID",void 0),l(this,"speedMap",new Map),l(this,"offsetMap",new Map),l(this,"remainingTimeMap",new Map),l(this,"peerConn",null),l(this,"dataChannelMap",new Map),this.cgid=t,this.theOtherID=n,n=(t=(0,r.getCurrentUser)()).server;var o=t.stunPort;t=(t=t.iceServers)?t.split(",").filter((function(e){return!!e})):[],this.config=Object.freeze({iceServers:[{urls:["stun:".concat(n.hostname,":").concat(o)].concat(a(t))}]})}var t,n;return t=e,(n=[{key:"getOffset",value:function(e){return this.offsetMap.get(e)}},{key:"setOffset",value:function(e,t){this.offsetMap.set(e,t)}},{key:"delOffset",value:function(e){this.offsetMap.delete(e)}},{key:"getSpeed",value:function(e){return this.speedMap.get(e)}},{key:"setSpeed",value:function(e,t){this.speedMap.set(e,t)}},{key:"delSpeed",value:function(e){this.speedMap.delete(e)}},{key:"getRemainingTime",value:function(e){return this.remainingTimeMap.get(e)}},{key:"dataChannelSize",get:function(){return this.dataChannelMap.size}},{key:"getDataChannel",value:function(e){return this.dataChannelMap.get(e)}},{key:"getAllDataChannel",value:function(){return Array.from(this.dataChannelMap.values())}},{key:"setDataChannel",value:function(e,t){this.dataChannelMap.set(e,t)}},{key:"delDataChannel",value:function(e){this.dataChannelMap.delete(e)}},{key:"clearDataChannel",value:function(){this.dataChannelMap.clear()}},{key:"closeConnection",value:function(){var e;null!=(e=this.peerConn)&&e.close(),this.peerConn=null}},{key:"sendWsMessage",value:function(e){return o.default.send({method:"datatransfer",params:{cgid:this.cgid,user:this.theOtherID,data:JSON.stringify(e),userID:(0,r.getCurrentUserID)()}})}},{key:"onGetCandidate",value:function(e){this.peerConn.addIceCandidate(new RTCIceCandidate({candidate:e.candidate,sdpMLineIndex:e.label,sdpMid:e.id}))}},{key:"logError",value:function(e){e&&("string"!=typeof e&&(e=e.toString()),DEBUG&&(console.collapse("RTC-File","indigoBg","Error","indigoPale"),console.log("error",e),console.groupEnd()))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},71060:(e,t,n)=>{"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");a(this,"receivingFileMap",new Map),a(this,"receivingFilesListenerMap",new Map),a(this,"receiverMap",new Map)}var t,n;return t=e,(n=[{key:"getReceivingFile",value:function(e,t){return null==(e=this.receivingFileMap.get(e))?void 0:e.get(t)}},{key:"getReceivingFiles",value:function(e){return this.receivingFileMap.get(e)}},{key:"emitReceivingFilesChange",value:function(e,t){null!=(e=this.receivingFilesListenerMap.get(e))&&e(t)}},{key:"setReceivingFiles",value:function(e,t){t&&(this.receivingFileMap.set(e,t),this.emitReceivingFilesChange(e,Array.from(t.values())))}},{key:"removeReceivingFile",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=this.receivingFileMap.get(e);r&&(r.delete(t),0===r.size&&this.receivingFileMap.delete(e),r=Array.from(null!=(r=null==(r=this.getReceivingFiles(e))?void 0:r.values())?r:[]),this.emitReceivingFilesChange(e,r),n&&null!=(r=this.getRTCReceiver(e))&&r.closeDataChannel(t))}},{key:"acceptReceivingFile",value:function(e,t){(t=this.getReceivingFile(e,t))&&(t.status="accepted",t=Array.from(null!=(t=null==(t=this.getReceivingFiles(e))?void 0:t.values())?t:[]),this.emitReceivingFilesChange(e,t))}},{key:"addReceivingFilesListener",value:function(e,t){this.receivingFilesListenerMap.set(e,t)}},{key:"removeReceivingFilesListener",value:function(e){this.receivingFilesListenerMap.delete(e)}},{key:"getRTCReceiver",value:function(e){return this.receiverMap.get(e)}},{key:"getRTCAllReceiver",value:function(){return r(this.receiverMap.values())}},{key:"storeRTCReceiver",value:function(e,t){this.receiverMap.set(e,t)}},{key:"removeRTCReceiver",value:function(e){var t;1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||null==(t=this.getRTCReceiver(e))||t.destroy(),this.receivingFileMap.delete(e),this.receiverMap.delete(e)}},{key:"clearRTCReceiver",value:function(){var e=this;r(this.receiverMap.keys()).forEach((function(t){return e.removeRTCReceiver(t)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());n=n.g.$fileRTCReceiveManager=i,t.default=n},73642:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RESPONDER_CHANNEL_STATUS_CHANGE_EVENT=void 0;var o=d(n(94128)),a=d(n(65286)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(20354)),l=d(n(71060)),s=n(78717),u=d(n(74101)),c=n(94592);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(n=t?(n=v(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(o)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){S(e,t),t.add(e)}function w(e,t,n){S(e,t),t.set(e,n)}function S(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}function M(e,t){return t=function(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to get private field on non-instance")}(e,t),t.get?t.get.call(e):t.value}var C=o.default.access("fs"),k=o.default.isType("browser"),E="rtc.receiver.dataChannel.status.change",P=(t.RESPONDER_CHANNEL_STATUS_CHANGE_EVENT=E,new WeakMap),T=new WeakMap,j=new WeakSet,x=new WeakSet,D=new WeakSet,A=new WeakSet;function I(e,t){var n=this;e.onopen=function(r){n.setDataChannel(t,e),a.default.emit("".concat(E,".").concat(n.cgid)),DEBUG&&(console.collapse("RTC-File","indigoBg","Channel opened","indigoPale"),console.log("event",r),console.groupEnd())}}function L(e){e.onerror=function(t){DEBUG&&(console.collapse("RTC-File","indigoBg","Channel error","indigoPale"),console.log("error",t),console.groupEnd()),e.close()}}function N(e,t){var n=this;e.onclose=function(e){l.default.removeReceivingFile(n.cgid,t,!1),n.delDataChannel(t),a.default.emit("".concat(E,".").concat(n.cgid)),0===n.dataChannelSize&&l.default.removeRTCReceiver(n.cgid),DEBUG&&(console.collapse("RTC-File","indigoBg","Channel closed","indigoPale"),console.log("event",e),console.groupEnd())}}function R(e,t){var n,r,o,a,f,d=this,p=l.default.getReceivingFile(this.cgid,t);p&&(o=[],a=0,f=function(e){try{C.outputFileSync("".concat(e,".tmp"),Buffer.concat(o),{flag:"a"})}catch(t){DEBUG&&(console.collapse("fs outputFileSync","redBg",e,"redPale"),console.log("err",t),console.groupEnd())}o=[],a=0},e.onmessage=function(e){var l,h,m,y,g,b,v,_,w=(null!=(w=d.getOffset(t))?w:0)+e.data.byteLength,S=(d.setOffset(t,w),p.size),O=p.savedPath,E=(k?(l=e.data,(h=M(d,P).get(t))?h.push(l):M(d,P).set(t,[l])):O&&(h=e.data,l=O,a+=h.byteLength,o.push(Buffer.from(h)),26214400<a&&f(l)),e=+(w/S).toFixed(4),M(d,T).get(t));E&&(m=E,y=e,g=w,_=S,v=Date.now(),n?1e3<v-n&&(b=1e3*(g-r)/1e3,d.setSpeed(t,b),d.remainingTimeMap.set(t,Math.ceil((_-g)/b)),m(y),n=v,r=g):(m(y),n=v,r=g)),S<=w&&(null!=E&&E(e),_=O,r=n=null,d.delSpeed(t),d.remainingTimeMap.delete(t),d.delOffset(t),console.log("A file has been received, savePath at ",_),k?d.saveFile(t):(o.length&&f(_),C.rename("".concat(_,".tmp"),_)),(0,c.setP2pFilePath)(t,_),(0,s.executeCommand)("sendFileBroadcastChatMessage",{type:i.FILE_BROAD_MESSAGE_TYPES.reciveDone,chat:u.default.getChat(d.cgid),fileName:p.name,fileSize:p.size,gid:t}),d.getDataChannel(t).close())})}n=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e);var n,r,o=g(u);function u(){var e=this;if(!(e instanceof u))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(b(e=o.call.apply(o,[this].concat(n))),A),_(b(e),D),_(b(e),x),_(b(e),j),w(b(e),P,{writable:!0,value:new Map}),w(b(e),T,{writable:!0,value:new Map}),e}return t=u,(e=[{key:"addReceiveProgressListener",value:function(e,t){M(this,T).set(e,t)}},{key:"removeReceiveProgressListener",value:function(e){M(this,T).delete(e)}},{key:"clearReceivedFile",value:function(e){M(this,P).delete(e)}},{key:"closeDataChannel",value:function(e){var t=this.getDataChannel(e);t&&(t.onmessage=null,t.close(),this.delDataChannel(e),this.clearReceivedFile(e)),0===this.dataChannelSize&&(this.closeConnection(),l.default.removeRTCReceiver(this.cgid,!1))}},{key:"destroy",value:function(){var e=this;0!==this.dataChannelSize&&(this.getAllDataChannel().forEach((function(t){t&&(t.onmessage=null,t.close(),e.clearReceivedFile(t.label))})),this.clearDataChannel()),this.closeConnection(),l.default.removeRTCReceiver(this.cgid,!1)}},{key:"createPeerConnection",value:function(){var e=this;this.peerConn=new RTCPeerConnection(this.config),this.peerConn.onicecandidate=function(t){DEBUG&&(console.collapse("RTC-File","indigoBg","Icecandidate","indigoPale"),console.log("candidate",t.candidate),console.groupEnd()),t.candidate?e.sendWsMessage({type:"candidate",label:t.candidate.sdpMLineIndex,id:t.candidate.sdpMid,candidate:t.candidate.candidate,from:"responder"}):DEBUG&&console.log("End of candidates.")},this.peerConn.ondatachannel=function(t){e.createDataChannel(t.channel),DEBUG&&(console.collapse("RTC-File","indigoBg","Channel","indigoPale"),console.log("channel:",t.channel,t),console.groupEnd())},this.setConnectionStateListener()}},{key:"setConnectionStateListener",value:function(){var e=this;this.peerConn.onconnectionstatechange=function(t){["closed","disconnected","failed"].includes(e.peerConn.connectionState)&&(e.peerConn.onconnectionstatechange=null,setTimeout((function(){var n=h(null!=(n=null==(n=l.default.getReceivingFiles(e.cgid))?void 0:n.keys())?n:[]);0!==n.length&&n.forEach((function(n){var r=l.default.getReceivingFile(e.cgid,n);l.default.removeReceivingFile(e.cgid,n,!0),e.delDataChannel(n),a.default.emit("".concat(E,".").concat(e.cgid)),(0,s.executeCommand)("sendFileBroadcastChatMessage",{type:i.FILE_BROAD_MESSAGE_TYPES.exception,chat:e.cgid,fileName:null==r?void 0:r.name,fileSize:null==r?void 0:r.size,sender:null==r?void 0:r.sender}),0===e.dataChannelSize&&l.default.removeRTCReceiver(e.cgid),DEBUG&&(console.collapse("RTC-File","indigoBg","Channel closed","indigoPale"),console.log("event",t),console.groupEnd())}))}),2e3))}}},{key:"createDataChannel",value:function(e){e.binaryType="arraybuffer";var t=e.label;O(this,j,I).call(this,e,t),O(this,x,L).call(this,e),O(this,D,N).call(this,e,t),O(this,A,R).call(this,e,t)}},{key:"onGetOffer",value:(n=function*(e){try{yield this.peerConn.setRemoteDescription(new RTCSessionDescription(e));var t=yield this.peerConn.createAnswer();yield this.peerConn.setLocalDescription(t),this.sendWsMessage(this.peerConn.localDescription),DEBUG&&(console.collapse("RTC-File","indigoBg","Createing answer","indigoPale"),console.log("local desc",this.peerConn.localDescription),console.groupEnd())}catch(e){this.logError(e)}},r=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){p(a,r,o,i,l,"next",e)}function l(e){p(a,r,o,i,l,"throw",e)}i(void 0)}))},function(e){return r.apply(this,arguments)})},{key:"saveFile",value:function(e){var t=new Blob(M(this,P).get(e)),n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.download=l.default.getReceivingFile(this.cgid,e).name,n.click(),n.remove(),window.URL.revokeObjectURL(n.href),n=null,M(this,P).delete(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.default),t.default=n},79358:(e,t,n)=>{"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");a(this,"sendingFileMap",new Map),a(this,"sendFailedFileMap",new Map),a(this,"sendingFilesListenerMap",new Map),a(this,"sendFailedListenerMap",new Map),a(this,"senderMap",new Map)}var t,n;return t=e,(n=[{key:"getSendingFiles",value:function(e){return this.sendingFileMap.get(e)}},{key:"getSendingFile",value:function(e,t){return null==(e=this.getSendingFiles(e))?void 0:e.get(t)}},{key:"setSendingFiles",value:function(e,t){t&&(this.sendingFileMap.set(e,t),this.emitSendingFilesChange(e,Array.from(t.values())))}},{key:"removeSendingFile",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=this.getSendingFiles(e);r&&(r.delete(t),0===r.size&&this.sendingFileMap.delete(e),r=Array.from(null!=(r=null==(r=this.getSendingFiles(e))?void 0:r.values())?r:[]),this.emitSendingFilesChange(e,r),n&&null!=(r=this.getRTCSender(e))&&r.closeDataChannel(t))}},{key:"removeSendingFiles",value:function(e){var t,n=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=this.getSendingFiles(e);o&&(t=new Map,o.forEach((function(o){var a=o.id,i=o.name,l=o.size;o=o.originFile,t.set(a,{id:a,name:i,size:l,originFile:o}),r&&null!=(i=n.getRTCSender(e))&&i.closeDataChannel(a)})),o.clear(),this.sendingFileMap.delete(e),this.emitSendingFilesChange(e,[]),this.sendFailedFileMap.set(e,t),this.emitSendFailedFilesChange(e,t))}},{key:"delSendFailedFile",value:function(e,t){var n=this.sendFailedFileMap.get(e);n&&(n.delete(t),0===n.size&&this.sendFailedFileMap.delete(e),this.emitSendFailedFilesChange(e,n))}},{key:"acceptSendingFile",value:function(e,t){(t=this.getSendingFile(e,t))&&(t.status="accepted",t=Array.from(null!=(t=null==(t=this.getSendingFiles(e))?void 0:t.values())?t:[]),this.emitSendingFilesChange(e,t))}},{key:"emitSendingFilesChange",value:function(e,t){null!=(e=this.sendingFilesListenerMap.get(e))&&e(t)}},{key:"addSendingFilesListener",value:function(e,t){this.sendingFilesListenerMap.set(e,t)}},{key:"removeSendingFilesListener",value:function(e){this.sendingFilesListenerMap.delete(e)}},{key:"emitSendFailedFilesChange",value:function(e,t){null!=(e=this.sendFailedListenerMap.get(e))&&e(t)}},{key:"setSendFailedFilesListener",value:function(e,t){this.sendFailedListenerMap.set(e,t)}},{key:"delSendFailedFilesListener",value:function(e){this.sendFailedListenerMap.delete(e)}},{key:"getRTCSender",value:function(e){return this.senderMap.get(e)}},{key:"getRTCAllSender",value:function(){return r(this.senderMap.values())}},{key:"storeRTCSender",value:function(e,t){this.senderMap.set(e,t)}},{key:"removeRTCSender",value:function(e){var t;1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||null==(t=this.getRTCSender(e))||t.destroy(),this.sendingFileMap.delete(e),this.senderMap.delete(e)}},{key:"clearRTCSender",value:function(){var e=this;r(this.senderMap.keys()).forEach((function(t){return e.removeRTCSender(t)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());n=n.g.$fileRTCSendManager=i,t.default=n},3042:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.INITIATOR_CHANNEL_STATUS_CHANGE_EVENT=void 0;var o=n(78717),a=c(n(65286)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(20354)),l=c(n(79358)),s=n(24317);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(n=t?(n=g(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return y(o)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var v="rtc.sender.dataChannel.status.change";t.INITIATOR_CHANNEL_STATUS_CHANGE_EVENT=v,n=function(e){var t=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n,r,u=m(c);function c(){var e=this;if(!(e instanceof c))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=u.call.apply(u,[this].concat(n))),"readerMap",new Map),b(y(e),"onSendProgressMap",new Map),e}return t=c,(e=[{key:"getReader",value:function(e){return this.readerMap.get(e)}},{key:"setReader",value:function(e,t){this.readerMap.set(e,t)}},{key:"delReader",value:function(e){this.readerMap.delete(e)}},{key:"getSendProgressListener",value:function(e){return this.onSendProgressMap.get(e)}},{key:"setSendProgressListener",value:function(e,t){this.onSendProgressMap.set(e,t)}},{key:"delSendProgressListener",value:function(e){this.onSendProgressMap.delete(e)}},{key:"closeDataChannel",value:function(e){var t=this.getDataChannel(e);t&&(this.abortFileRead(e),t.close(),this.delDataChannel(e)),0===this.dataChannelSize&&(this.closeConnection(),l.default.removeRTCSender(this.cgid,!1))}},{key:"destroy",value:function(){var e=this;0!==this.dataChannelSize&&(this.getAllDataChannel().forEach((function(t){e.abortFileRead(t.label),null!=t&&t.close()})),this.clearDataChannel()),this.closeConnection(),l.default.removeRTCSender(this.cgid,!1)}},{key:"createFileReader",value:function(e){var t,n,r=this,o=(this.setOffset(e,163840),new FileReader),a=l.default.getSendingFile(this.cgid,e).size;o.onload=function(){if(!(s=r.getDataChannel(e)))return o.onload=null,void console.warn("Datachannel has been closed.");s.send(o.result);var i,l,s,u=+((s=r.getOffset(e))/a).toFixed(4),c=r.getSendProgressListener(e);c&&(i=Date.now(),t?1e3<i-t&&(l=1e3*(s-n)/1e3,r.setSpeed(e,l),r.remainingTimeMap.set(e,Math.ceil((a-s)/l)),c(u),t=i,n=s):(c(u),t=i,n=r.getOffset(e))),a<=s&&(null!=c&&c(u),n=t=null,r.delSpeed(e),r.remainingTimeMap.delete(e),r.delOffset(e),r.delReader(e))},this.setReader(e,o)}},{key:"abortFileRead",value:function(e){var t=this.getReader(e);t&&(t.abort(),t.onload=null,this.delReader(e))}},{key:"createPeerConnection",value:function(){var e,t=this;this.peerConn=new RTCPeerConnection(this.config),this.peerConn.onicecandidate=function(e){DEBUG&&(console.collapse("RTC-File","indigoBg","Icecandidate","indigoPale"),console.log("candidate",e.candidate),console.groupEnd()),e.candidate?t.sendWsMessage({type:"candidate",label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate,from:"initiator"}):console.log("End of candidates.")},d(null!=(e=null==(e=l.default.getSendingFiles(this.cgid))?void 0:e.keys())?e:[]).forEach((function(e){t.createFileReader(e),t.createDataChannel(e)})),this.createOffer(),this.setConnectionStateListener()}},{key:"setConnectionStateListener",value:function(){var e=this;this.peerConn.onconnectionstatechange=function(t){["closed","disconnected","failed"].includes(e.peerConn.connectionState)&&(e.peerConn.onconnectionstatechange=null,setTimeout((function(){var n=d(null!=(n=null==(n=l.default.getSendingFiles(e.cgid))?void 0:n.keys())?n:[]);0!==n.length&&(n.forEach((function(t){t=l.default.getSendingFile(e.cgid,t),(0,o.executeCommand)("sendFileBroadcastChatMessage",{type:i.FILE_BROAD_MESSAGE_TYPES.exception,chat:e.cgid,fileName:null==t?void 0:t.name,fileSize:null==t?void 0:t.size,sender:null==t?void 0:t.sender})})),l.default.removeSendingFiles(e.cgid),n.forEach((function(n){e.delDataChannel(n),a.default.emit("".concat(v,".").concat(e.cgid)),0===e.dataChannelSize&&l.default.removeRTCSender(e.cgid),DEBUG&&(console.collapse("RTC-File","indigoBg","Channel closed","indigoPale"),console.log("event",t),console.groupEnd())})))}),2e3))}}},{key:"createDataChannel",value:function(e){var t=this,n=this.peerConn.createDataChannel(e),r=l.default.getSendingFile(this.cgid,e);n.binaryType="arraybuffer",n.onopen=function(o){t.setDataChannel(e,n),a.default.emit("".concat(v,".").concat(t.cgid)),r.status===s.RTC_FILE_STATUS.accepted&&t.sendFile(e),DEBUG&&(console.collapse("RTC-File","indigoBg","Channel opened","indigoPale"),console.log("event",o),console.groupEnd())},n.onerror=function(e){DEBUG&&(console.collapse("RTC-File","indigoBg","Channel error","indigoPale"),console.log("error",e),console.groupEnd()),n.close()},n.onclose=function(n){l.default.removeSendingFile(t.cgid,e,!1),t.delDataChannel(e),a.default.emit("".concat(v,".").concat(t.cgid)),0===t.dataChannelSize&&l.default.removeRTCSender(t.cgid),DEBUG&&(console.collapse("RTC-File","indigoBg","Channel closed","indigoPale"),console.log("event",n),console.groupEnd())},n.bufferedAmountLowThreshold=32768,n.onbufferedamountlow=function(){t.getOffset(e)<r.size&&t.readSlice(e)}}},{key:"createOffer",value:(n=function*(){try{var e=yield this.peerConn.createOffer();yield this.peerConn.setLocalDescription(e),this.sendWsMessage(this.peerConn.localDescription),DEBUG&&(console.collapse("RTC-File","indigoBg","Createing offer","indigoPale"),console.log("local desc",this.peerConn.localDescription),console.groupEnd())}catch(e){this.logError(e)}},r=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){f(a,r,o,i,l,"next",e)}function l(e){f(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)})},{key:"readSlice",value:function(e){var t,n=null==(n=l.default.getSendingFile(this.cgid,e))?void 0:n.originFile;n&&(t=this.getOffset(e),n=n.slice(t,t+81920),this.getReader(e).readAsArrayBuffer(n),this.setOffset(e,t+81920))}},{key:"onGetAnswer",value:function(e){this.peerConn.setRemoteDescription(new RTCSessionDescription(e)),DEBUG&&(console.collapse("RTC-File","indigoBg","Got answer","indigoPale"),console.log("remote desc",e),console.groupEnd())}},{key:"sendFile",value:function(e){var t=l.default.getSendingFile(this.cgid,e).originFile,n=this.getOffset(e);e=this.getReader(e),t=t.slice(0,n),e.readAsArrayBuffer(t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.default),t.default=n},24317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RTC_TRANSFER_EVENT=t.RTC_FILE_STATUS=void 0,t.RTC_FILE_STATUS={pending:"pending",refused:"refused",accepted:"accepted"},t.RTC_TRANSFER_EVENT={sendFilesRequest:"send-files-request",sendFilesCancel:"send-files-cancel",receiveFilesCancel:"receive-files-cancel",receiveFilesConfirm:"receive-files-confirm"}},18876:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blobToDataURI=function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)}))},t.convertLocalPathToUrl=function(e){return e.startsWith("file://")?e:"file://".concat(e,"?t=").concat(Date.now())},t.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=(e=e.split(",")[0].split(":")[1].split(";")[0],new ArrayBuffer(t.length)),r=new Uint8Array(n),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([n],{type:e})}},17531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkFileCache=t.abortUploadFile=t.abortDownloadFile=void 0,t.checkUploadFileSize=h,t.default=void 0,t.dismissUploadFailedFile=function(e){(e=(0,i.getFileData)(e)).networking.isUploadFail&&(e.networking.reset(),i.default.deleteCacheItem(e.gid))},t.uploadImageFile=t.uploadFile=t.reuploadFile=t.downloadFileNoThrows=t.downloadFile=void 0;var r=n(15973),o=u(n(12482)),a=u(n(94128)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(94592)),l=n(7066);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,l,"next",e)}function l(e){c(a,r,o,i,l,"throw",e)}i(void 0)}))}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=a.default.access("net");function h(e){if(!(e="object"===d(e)?e.size:e)||e<=0)return!1;var t=(0,r.getCurrentUser)().uploadFileSize;return t&&e<=t}function m(e){return b(e)}function y(e,t){return b(e,t,!0)}function g(e){(e=(0,i.getFileData)(e)).networking.isUploading&&p.abortUploadFile(e.gid)}var b=function(){var e=f((function*(e,t,n,a){if(!(e=o.default.create(e)).gid)throw new Error("Upload file failed, because gid has not set.");var s=i.default.getFile(e.gid);if(null!=s&&s.networking.isUploading)return s;e.networking.startUpload(),i.default.store(e);try{var u=0,c=0,f=yield p.uploadFile((0,r.getCurrentUser)(),e,(function(n,r,o){var a=Date.now();n!==c&&1e3<a-u&&(u=a,c=n,t&&t(n,e,r),e.networking.updateUploadLoaded(r,o))}),n,a),d=f.id,h=f.time,m=f.hasThumb,y=f.thumbnailWidth,g=f.thumbnailHeight;e.networking.finishUploadSuccess({id:d,time:(0,l.createDate)(h).getTime(),hasThumb:m,thumbnailWidth:y,thumbnailHeight:g})}catch(n){throw e.networking.finishUploadFail(n),n}return e}));return function(t,n,r,o){return e.apply(this,arguments)}}(),v=(t.uploadFile=b,t.reuploadFile=m,t.uploadImageFile=y,function(){var e=f((function*(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!(e=o.default.create(e)).gid||!e.id)throw new Error("Download file failed, because gid or id has not set.");var l=i.default.getFile(e.gid);if(null!=l&&l.networking.isDownloading)return l;e.networking.startDownload(),i.default.store(e);try{var s=0,u=0;yield p.downloadFile((0,r.getCurrentUser)(),e,(function(n,r,o){var a=Date.now();n!==u&&1e3<a-s&&(s=a,u=n,t&&t(n,e,r),e.networking.updateDownloadLoaded(r,o))}),n,a),e.networking.finishDownloadSuccess()}catch(n){e.networking.finishDownloadFail(n)}return e}));return function(t,n){return e.apply(this,arguments)}}());function _(e){return!!p.checkFileCache&&p.checkFileCache(e,(0,r.getCurrentUser)())}t.downloadFile=v,n=function(){var e=f((function*(e){var t=e.cachePath;try{if(!t)return yield v(e);if(!(yield e.checkCachePath()))return yield v(e)}catch(e){DEBUG&&console.warn("DownloadFile error",e)}}));return function(t){return e.apply(this,arguments)}}(),t.downloadFileNoThrows=n,t.abortUploadFile=g,a=p.abortDownloadFile,t.abortDownloadFile=a,t.checkFileCache=_,n={downloadFile:v,uploadFile:b,uploadImageFile:y,checkUploadFileSize:h,checkCache:_,abortUploadFile:g,abortDownloadFile:a,reuploadFile:m},t.default=n},94592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getFileData=function(e){return e?"string"==typeof e?g.getFile(e):"object"!==c(e)?null:e instanceof i.default&&g.hasCacheItem(e.gid)?e:(e._data&&(e=e._data),g.store(e)[0]):null},t.getP2pFilePath=function(e){return(0,s.getCommonDataItem)("P2pFilePath",e)},t.setP2pFilePath=function(e,t){(0,s.putCommonDataItem)("P2pFilePath",e,t)};var r,o=n(55292),a=n(33594),i=(r=n(12482))&&r.__esModule?r:{default:r},l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(73052)),s=n(63785);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=new(function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n,r,o=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(r)}}(a);function a(e){var t,n,r;if(this instanceof a)return r=function(e){e=i.default.create(e);var n=t.getFile(e.gid);return n?(n.change(e._data),n):(e.onChange=t._handleFileDataChange,e)},(n="normalizeItem")in(e=m(t=o.call(this,"File",e,{channelDelayTime:50,key:"gid"})))?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,l.default.subscribeAny(t._handleMessagesStore.bind(m(t))),t._handleFileDataChange=t._handleFileDataChange.bind(m(t)),t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"reset",value:function(e){var t=p(y(a.prototype),"reset",this).call(this,e);DEBUG_I&&(console.collapse("STORE.File","pinkBg","reset","pinkPale",t,""),console.log("identify",e),console.groupEnd())}},{key:"getFile",value:function(e){return this.hasCacheItem(e)?this.getItemFromCache(e):(this._cache.set(e,null),null)}},{key:"getFiles",value:function(e){return e.map(this.getFile.bind(this))}},{key:"getMessageFile",value:function(e){return(e="number"==typeof e?l.default.getMessage(e):e)?(e=i.default.fromMessage(e),this.getFile(e.gid)||this.store(e)[0]):(DEBUG&&console.error('Cannot get message file from message "'.concat(e,'".')),null)}},{key:"getChatFiles",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"file";return this.filter((function(n){return n.cgid===e&&n.isInRemote&&(!t||t===n.messageType)})).sort((function(e,t){return t.id-e.id}))}},{key:"getChatUploadingFiles",value:function(e){return this.filter((function(t){return t.cgid===e&&"uploading"===t.networking.type&&t.isInLocal})).sort((function(e,t){return t.time-e.time}))}},{key:"store",value:function(e){var t;return e=p(y(a.prototype),"store",this).call(this,e,{normalizeFunc:this.normalizeItem}),DEBUG_I&&(console.collapse("STORE.File","pinkBg","store","pinkPale",null==(t=e)?void 0:t.length,""),console.trace("files",e),console.log("store",this),console.groupEnd()),e}},{key:"loadChatFiles",value:(n=function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:"file",s=!!(s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"")&&s.toLowerCase(),u=new Set(a.split(","));if(a=yield(0,l.queryMessagesFromDatabase)(e,(function(e){return u.has(e.contentType)&&!e.deleted}),{limit:t,offset:n,reverse:r,returnType:"message"}),null!=(e=a=a.filter((function(e){return!e.isEmotionContent})))&&e.length){var c=new Set;if(t=a.map(i.default.fromMessage).filter((function(e){return!(!e||c.has(e.gid)||s&&e.category!==s||!o&&e.isInLocal||(c.add(e.gid),0))})),null!=t&&t.length)return this.store(t)}return[]},r=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)})},{key:"loadChatImages",value:function(){return this.loadChatFiles(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,"",1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4],"image")}},{key:"searchFiles",value:function(e){return this.loadChatFiles(null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",0,0,!0,!1,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"file,image").then((function(t){return null!=t&&t.length?(e=e?e.trim().toLowerCase().split(" "):null)&&e.length?(n=[],t.forEach((function(t){var r=t.getMatchScore(e);r&&n.push({score:r,file:t})})),n.sort((function(e,t){return t.score-e.score})),Promise.resolve(n.map((function(e){return e.file})))):Promise.resolve(t):Promise.resolve([]);var n}))}},{key:"searchImages",value:function(e){return this.searchFiles(e,"","image")}},{key:"_handleMessagesStore",value:function(e){var t,n=this,r=[],o=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(e);try{for(o.s();!(t=o.n()).done;)!function(){var e=t.value;if(!e.isInLocal){if(e.deleted&&"file"===e.contentType)return(o=null!=(o=n.getItemFromCache(e.fileContent[n._key]))?o:n.getChatFiles(e.cgid).filter((function(t){return e.id===t.messageID}))[0])&&(delete o._data.id,r.push(o));var o=null!=(o=e.fileContent)?o:e.imageContent;o&&r.push(o)}}()}catch(e){o.e(e)}finally{o.f()}r.length&&this.store(r)}},{key:"_handleFileDataChange",value:function(e){var t=e.messageID;t&&(t=l.default.getMessage(t))&&t.cacheFilePath!==e.cachePath&&(t.cacheFilePath=e.cachePath,l.default.store(t)),this.hasCacheItem(e.gid)&&this.store(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.DataStore));(0,a.setCallbackOnInitedDatabase)(g.reset.bind(g)),DEBUG&&(n.g.$filesStore=g),t.default=g},90534:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.downloadFileToCache=function(e,t){return x.apply(this,arguments)},t.editOfficeFile=$,t.getFileMenuItems=ee,t.getFileNetworkErrorMessage=P,t.getImageMenuItems=te,t.onFileSaved=function(e){return d.default.on(k,e)},t.openFile=D,t.previewCodeFile=W,t.previewFile=Z,t.previewHtmlFile=V,t.previewImageFile=K,t.previewMarkdownFile=U,t.previewMediaFile=F,t.previewMindMapFile=J,t.previewOfficeFile=q,t.previewPdfFile=z,t.previewTextFile=B,t.saveFile=T,t.showFileInExplorer=N,t.showFileInFolder=I;var o=w(n(70182)),a=n(20882),i=w(n(94128)),l=(t=n(98649),n(78717)),s=w(n(61862)),u=n(18876),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=_(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(94592)),f=n(17531),d=w(n(65286)),p=n(95126),h=n(15973),m=w(n(74160)),y=n(20491),g=w(n(74101)),b=["file"],v=["file"];function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function O(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function M(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){M(a,r,o,i,l,"next",e)}function l(e){M(a,r,o,i,l,"throw",e)}i(void 0)}))}}var k="file.saved",E=i.default.has("fs.pathExists");function P(e){var t=e.networking.error;return t?(s.default.string("file.downloadFailed"),"HTTP_ABORT"===t.code?s.default.string("file.abortNetwork"):e.networking.isDownloadFail?"HTTP_STATUS_ERROR"===t.code&&404===(null==t?void 0:t.getExtras("status"))?s.default.string("file.notFoundInServer"):"EBUSY"===t.code?s.default.string("file.error.busy"):s.default.error(t):s.default.string("file.uploadFailed")):null}function T(e,t){return j.apply(this,arguments)}function j(){return(j=C((function*(e,t){if(!i.default.has("dialog.showSaveDialog"))return i.default.isType("browser")&&((n=document.createElement("a")).style.display="none",n.href=e.remoteUrl,n.download=e.name,document.body.appendChild(n),n.click(),n.remove()),null;var n=(0,c.getFileData)(e);if(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:s.default.string("dialog.fileSaveTo"),filename:n.name,fileUrl:n.remoteUrl,filters:[{name:n.mimeType,extensions:[n.extName]}]},t),n.userSavePath&&(e.defaultPath=n.userSavePath),!(t=yield i.default.call("dialog.showSaveDialog",e)))return null;try{n.userSavePath=t,yield(0,f.downloadFile)(n,null,!1,n.editable),d.default.emit(k,t,n)}catch(e){(0,l.executeCommand)("showMessager",P(n),{type:"danger"})}}))).apply(this,arguments)}function x(){return(x=C((function*(e,t){(e=(0,c.getFileData)(e)).userSavePath=null;try{return yield(0,f.downloadFile)(e,null,null==t?void 0:t.isThumb),!0}catch(n){if(null!=t&&t.showError&&(0,l.executeCommand)("showMessager",P(e)||s.default.error(n),{type:"danger"}),null!=t&&t.throwError)throw n;return!1}}))).apply(this,arguments)}function D(e){return A.apply(this,arguments)}function A(){return(A=C((function*(e){return!(!i.default.has("ui.openFileItem")||!(e=(0,c.getFileData)(e)).cachePath||((yield e.checkCachePath())?(e=yield i.default.call("ui.openFileItem",e.cachePath))&&((0,l.executeCommand)("showMessager",e,{type:"danger"}),1):((0,l.executeCommand)("showMessager",s.default.string("file.error.remove"),{type:"warning"}),1)))}))).apply(this,arguments)}function I(e){return L.apply(this,arguments)}function L(){return(L=C((function*(e){if(!i.default.has("ui.showItemInFolder"))return!1;var t=(e=(0,c.getFileData)(e)).cachePath;return!!t&&((yield e.checkCachePath())?(i.default.call("ui.showItemInFolder",t),!0):((0,l.executeCommand)("showMessager",s.default.string("file.error.remove"),{type:"warning"}),!1))}))).apply(this,arguments)}function N(e){return R.apply(this,arguments)}function R(){return(R=C((function*(e){return(e=yield(0,c.getP2pFilePath)(e))&&(yield i.default.call("fs.pathExists",e))?(i.default.call("ui.showItemInFolder",e),!0):((0,l.executeCommand)("showMessager",s.default.string("file.rtc.notFound"),{type:"warning"}),!1)}))).apply(this,arguments)}function F(e){var t=(e=(0,c.getFileData)(e)).previewType,n=e.getRemoteUrl({preview:!0,withSid:!0});if(!n)return{title:e.name,mediaType:t,errorMessage:"cant't get file url"};(0,l.executeCommand)("viewMedia",{current:{src:n,mediaType:t,title:e.name}},{id:"mediaFile-".concat(e.gid)})}var Y=function(e,t){return new Promise((function(n,r){var o=new FileReader;o.onload=function(){n(o.result)},o.onerror=function(e){r(e)},o.readAsText(e,t)}))};function B(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",r=(0,c.getFileData)(e);if(e={type:n,title:r.name,text:(t=C((function*(){if(!(e=r.getRemoteUrl({preview:!1,withSid:!0})))throw new Error("can't get file url");var e=yield(yield fetch(e,{credentials:"same-origin"})).blob(),t=(yield(0,o.default)(e)).encoding;return e=yield Y(e,null!=t?t:"gbk"),t||(0,l.executeCommand)("showMessager",s.default.string("file.preview.warning"),{type:"warning"}),e})),function(){return t.apply(this,arguments)})},!i.default.isType("electron"))return(0,l.executeCommand)("showMessager",s.default.string("file.preview.unsupported"),{type:"warning"});(0,l.executeCommand)("openTextEditor",e,{id:"textFile-".concat(r.gid)})}function U(e){return B(e,"markdown")}function W(e){return B(e,"code")}function z(e){return H.apply(this,arguments)}function H(){return(H=C((function*(e){var t=(0,c.getFileData)(e),n=(e={id:"pdfFile-".concat(t.gid),title:t.name,favicon:"mdi-file-pdf-box-outline text-red",theme:"dark",titleBarStyle:{boxShadow:"none",border:"none",background:"#323639"},source:function(){var e=t.getRemoteUrl({preview:!0,withSid:!0});if(e)return e;null!=(e=n)&&e.close()},webviewOptions:{backgroundColor:"#323639",loadingContent:s.default.string("file.downloading")},windowOptions:{maximizeAfterShow:!0}},yield(0,l.executeCommand)("openWebviewWindow",e))}))).apply(this,arguments)}function V(e){return G.apply(this,arguments)}function G(){return(G=C((function*(e){var t=(0,c.getFileData)(e),n=(e={id:"htmlFile-".concat(t.gid),title:t.name,favicon:"mdi-web text-blue",source:function(){var e=t.getRemoteUrl({preview:!0,withSid:!0});if(e)return e;null!=n&&n.close()},webviewOptions:{loadingContent:s.default.string("file.downloading")},windowOptions:{maximizeAfterShow:!0}},yield(0,l.executeCommand)("openWebviewWindow",e))}))).apply(this,arguments)}function q(e){return(0,p.openInCollabora)(e)}function $(e){return(0,p.openInCollabora)(e,!0)}function K(e){return e=(0,c.getFileData)(e),(0,l.executeCommand)("viewChatMessageImage",e.cgid,e.messageID,{id:"imageFile-".concat(e.gid)})}function J(e){if(!i.default.isType("electron"))return(0,l.executeCommand)("showMessager",s.default.string("file.preview.unsupported"),{type:"warning"});var t,n=(0,c.getFileData)(e);e={fileExt:n.extName,fileName:n.name,fileContent:(t=C((function*(){var e=n.getRemoteUrl({preview:!1,withSid:!0});if(e)return(yield fetch(e,{credentials:"same-origin"})).text();throw new Error("can't get file url")})),function(){return t.apply(this,arguments)})},(0,a.openMindMapWindow)(e)}var X={image:K,video:F,audio:F,code:W,text:B,markdown:U,pdf:z,html:V,doc:q,ppt:q,xls:q,mindMap:J};function Z(e){return Q.apply(this,arguments)}function Q(){return(Q=C((function*(e){var t=(e=(0,c.getFileData)(e)).previewType;return!!t&&((t=X[t])?(yield t(e),!0):((0,l.executeCommand)("showMessager",s.default.string("file.preview.unsupported"),{type:"warning"}),!1))}))).apply(this,arguments)}function ee(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(0,c.getFileData)(e);if(n.isSendByMe&&n.isInLocal){if(n.networking.isUploading)return[{key:"cancel",label:s.default.string("common.cancel"),click:function(){return(0,f.abortUploadFile)(n.gid)},icon:"mdi-close-circle text-danger"}];if(n.networking.isUploadFail)return[{key:"reupload",label:s.default.string("file.reupload"),click:function(){c.default.deleteCacheItem(e.gid),("sendImageMessage"===e.sendMethod?y.sendImageMessage:y.sendFileMessage)(e,g.default.getChat(e.cgid))},icon:"mdi-reload"},{key:"dismiss",label:s.default.string("file.abort"),click:function(){return(0,f.dismissUploadFailedFile)(n.gid)},icon:"mdi-close-circle text-warning"}]}if(!n.isOK)return[];var r,o,a=[],i=void 0===(i=t.canPreview)||i,l=(0,h.getCurrentUser)();return"function"==typeof i?i=i(n):!0===i&&(i=!!n.previewType),i&&["doc","ppt","xls"].includes(n.previewType)&&(r=l.permissions,o=l.backendType,l.isServerSideIntegrated("collaboraOffice")&&("zentaoclient"===m.default.pkg.name&&"zentao"===o||r.includes("integration/office"))||(i=!1)),i&&(l=n.editable,a.push(l?{key:"edit",label:s.default.string("file.edit"),icon:"mdi-pencil",click:function(){$(n)}}:{key:"preview",label:s.default.string("file.preview"),icon:"mdi-magnify",click:function(){t.onRequestPreview&&"default"!==t.onRequestPreview(n)||Z(n)}})),t.canViewMessageContext&&a.push({key:"view-context",label:s.default.string("chat.view.context"),url:"!showChatHistoryDialog/".concat(n.cgid,"/").concat(n.messageID),icon:"mdi-comment-eye-outline"}),t.canViewMessage&&a.push({key:"view-message",label:s.default.string("chat.view.context"),url:"!showChatMessage/".concat(n.cgid,"/").concat(n.messageID),icon:"mdi-comment-arrow-right-outline"}),n.isInRemote&&(n.cachePath&&a.push({key:"open",label:s.default.string("file.open"),url:"!openFile/".concat(e.gid),icon:"open-in-app"},{key:"open-folder",label:s.default.string("file.openFolder"),url:"!showFileInFolder/".concat(e.gid),icon:"folder-outline"}),a.push({key:"download",label:s.default.string("common.download"),url:"!saveFile/".concat(e.gid),icon:"mdi-arrow-down-bold-circle-outline"})),a}function te(e,t){var n,r,o,a,d,p,h,m=(0,c.getFileData)(e),y=(e=[],m.cachePath),g=m.viewUrl,b=m.isBase64,v=m.originFile,_=m.extName,w=m.name,S=m.mimeType,O=((0,l.isRegisteredCommand)("viewMedia")&&e.push({id:"view-image",label:s.default.string("menu.image.view"),click:(n=C((function*(){m.isBase64||(yield(0,f.downloadFileNoThrows)(m)),(0,l.executeCommand)("viewMedia",m.viewUrl,t)})),function(){return n.apply(this,arguments)})}),b||!E||y||e.push({id:"download-image",label:s.default.string("menu.image.download"),click:(r=C((function*(){console.log(m),yield(0,f.downloadFileNoThrows)(m)})),function(){return r.apply(this,arguments)})}),E&&y||!E||b);return"base64"===S&&"string"==typeof v&&(o=null==(o=v.split(";"))?void 0:o[0])&&(o.includes("svg")?S="image/svg":o.includes("bmp")?S="image/bmp":o.includes("tiff")?S="image/tiff":o.includes("gif")&&(S="image/gif")),"image/bmp"!==S&&"image/tiff"!==S&&"image/gif"!==S&&"image/svg"!==S||!i.default.has("clipboard.writeBmpTiffImageFromFile")?i.default.has("clipboard.writeImageFromUrl")&&(a=i.default.access("clipboard.writeImageFromUrl"),e.push({id:"copy-image",label:s.default.string("menu.image.copy"),disabled:!O,click:(p=C((function*(){var e;if("string"!=typeof v)return v instanceof File||v instanceof Blob?(e=yield(0,u.blobToDataURI)(v),void a(e,"base64")):void(y?a(y,"path"):(console.error("The image that cannot be copied is",m),(0,l.executeCommand)("showMessager",s.default.error("CANNOT_HANDLE_IMAGE"))));a(v,"base64")})),function(){return p.apply(this,arguments)})})):(d=i.default.access("clipboard.writeBmpTiffImageFromFile"),e.push({id:"copy-image",label:s.default.string("menu.image.copy"),disabled:!O,click:function(){d(m)}})),i.default.has("dialog.saveAsImageFromUrl")&&e.push({id:"save-image",label:s.default.string("menu.image.saveAs"),disabled:!g,click:(h=C((function*(){try{var e=yield i.default.call("dialog.saveAsImageFromUrl",g.split("?")[0],"",_,w);if(!e)return;var t=i.default.has("ui.openFileItem")?[{label:s.default.string("file.open"),click:function(){return i.default.call("ui.openFileItem",e)}},{label:s.default.string("file.openFolder"),click:function(){return i.default.call("ui.showItemInFolder",e)}}]:null,n=Array.from(document.getElementsByClassName("app-chat-body")).find((function(e){return e.offsetParent})),r=null==n?void 0:n.getBoundingClientRect();if(!r)return void(0,l.executeCommand)("showMessager",s.default.format("file.fileSavedAt.format",e),{actions:t,closeButton:!1,autoHide:2e3});var o=r.top,a=r.height,u=(r.left,{top:o+a-80||20,position:"absolute",left:r.width/2});(0,l.executeCommand)("showMessager",s.default.format("file.fileSavedAt.format",e),{actions:t,closeButton:!1,autoHide:2e3,style:u})}catch(e){return(0,l.executeCommand)("showMessager",s.default.error(e))}})),function(){return h.apply(this,arguments)})}),!b&&i.default.has("ui.openFileItem")&&e.push({id:"open-image",disabled:!y,label:s.default.string("menu.image.open"),click:function(){return i.default.call("ui.openFileItem",y)}}),e}(0,l.registerCommand)("previewFile",(function(e,t){return Z(t)})),(0,l.registerCommand)("openFile",(function(e,t){return D(t)})),(0,l.registerCommand)("saveFile",(function(e,t){return T(t)})),(0,l.registerCommand)("showFileInFolder",(function(e,t){return I(t)})),(0,l.registerCommand)("showFileInExplorer",(function(e,t){return N(t)})),(0,t.addContextMenuCreator)("file",(function(e){return ee(e.file,O(e,b))}),{apiLevel:4}),(0,t.addContextMenuCreator)("image",(function(e){return te(e.file,O(e,v))}),{apiLevel:4})},68271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setActiveChat=t.onActiveChat=t.isOpenedActiveChat=t.isChatsAppActive=t.isActiveChat=t.getChatMenuType=t.getActiveChatGid=t.activeNextChatOnMenu=void 0;var r=n(40910),o=i(n(65286)),a=i(n(94128));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return(0,r.isRoutePathMatch)("chats","*",e)}function c(e){return f===e||u(e)}var f=null,d=null,p=null,h="chat.active";function m(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),3!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,3);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,3):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.getRoutePathArray)()),t=e[0],n=e[1];e=e[2],"chats"===t&&n&&e&&(d=n,p===t&&f===e||(f!==e&&(f=e),o.default.emit(h,f,d))),p=t}t.isChatsAppActive=function(){return"chats"===p},t.isOpenedActiveChat=u,t.isActiveChat=c,t.onActiveChat=function(e){return o.default.on(h,e)},t.setActiveChat=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=void 0===(n=("object"===s(e)&&(e=e.gid),t=t="string"==typeof t?{menu:t}:t).menu)?d||"recents":n;return t=t.autoScrollBehavior,a.default.call("ui.showAndFocusWindow"),!(0,r.isRoutePathMatch)("chats",n,e)&&((0,r.setRoutePath)("chats",n,e,t?{autoScrollBehavior:t}:null),!0)},t.activeNextChatOnMenu=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.onlyLastChatIsActive,n=e.lastChatGid;if((void 0===t||t)&&n&&!c(n))return!1;if(t=e.menu||d||"recents",!(0,r.isRoutePathMatch)("chats")){if(!e.openChatsIfNeed)return!1;(0,r.setRoutePath)("chats",t,n)}if(!(e=document.getElementById("appChatsMenuList")))return!1;var o=null;return(o=(o=(n=n||f)&&(o=(n=e.querySelector('.app-menu-chat-item[data-gid="'.concat(n,'"]')))?(o=n.previousElementSibling)||n.nextElementSibling:o)&&!o.classList.contains("app-menu-chat-item")?null:o)||e.querySelector(".app-menu-chat-item"))?((0,r.setRoutePath)("chats",t,o.getAttribute("data-gid")),!0):void 0},t.getActiveChatGid=function(){return f},t.getChatMenuType=function(){return d},(0,r.onRoutePathChange)(m),m()},70562:(e,t)=>{"use strict";function n(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function r(e,t,n){if((t=a(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function o(e,t){return(t=a(e,t,"get")).get?t.get.call(e):t.value}function a(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_CACHE_LIFE_TIME=void 0,t.DEFAULT_CACHE_LIFE_TIME=18e5;var i=new WeakMap,l=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Date.now();if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");n(this,"cgid",void 0),function(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,{writable:!0,value:void 0})}(this,i),n(this,"state",void 0),this.cgid=t,r(this,i,o)}var t,a;return t=e,(a=[{key:"activeTime",get:function(){return o(this,i)}},{key:"active",value:function(){r(this,i,Date.now())}},{key:"isExpired",value:function(e){var t=this.activeTime;return t&&(1<arguments.length&&void 0!==arguments[1]?arguments[1]:18e5)<=e-t}},{key:"clean",value:function(){r(this,i,null)}},{key:"isCleaned",get:function(){return!o(this,i)}},{key:"keepState",value:function(e){this.state||(this.state={}),Object.assign(this.state,e)}},{key:"takeOutState",value:function(e){var t,n=this.state;if(n){switch(e){case"draft":t=n.draft,delete n.draft;break;case"scrollPos":t=n.scrollPos,delete n.scrollPos}return t}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=l},33417:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.sortChats=t.isOne2OneChatOnline=t.getOtherMemberInOne2OneChat=t.getOne2OneChatGid=t.getChatPinYinName=t.getChatMembers=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(58851)),a=n(15973),i=n(16986),l=c(n(52324)),s=c(n(84431)),u=n(44374);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return(e=e.theOtherMemberID)?s.default.getMemberOrTemp(e):null}function m(e){return!(!(e=h(e))||!e.isOnline)}function y(e){var t;return e.pinyin||(t=e.name,e.pinyin=(0,i.isNotEmptyString)(t)?(0,l.default)(t):""),e.pinyin}t.getOne2OneChatGid=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,a.getCurrentUserID)();return(0,o.createOne2OneChatGid)(e,t)},t.getOtherMemberInOne2OneChat=h,t.getChatMembers=function(e){return e?e.type===o.default.TYPES.system?(DEBUG&&console.warn("Avoid getting the list of system session members after 4.0."),s.default.filter((function(e){return!e.isDeleted}))):(e=e.members).size?Array.from(e).map(s.default.getMemberOrTemp).filter((function(e){return!e.isDeleted})):[]:[]},t.isOne2OneChatOnline=m,t.getChatPinYinName=y,t.sortChats=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";return e.length<2?e:"function"==typeof n?e.sort(n):("default"===n?t=["deleted","systemFirst","conferenceFirst","star","notice","hide","lastMessageId","mute","online","createDate","name","id"]:"onlineFirst"===n?t=["deleted","conferenceFirst","star","notice","hide","online","lastMessageId","mute","createDate","name","id"]:"recentFirst"===n?t=["deleted","systemFirst","conferenceFirst","star","draft","lastMessageId","notice","hide","online","mute","createDate","name","id"]:"string"==typeof n&&(t=[n]),e.sort((function(e,n){var r,o,i,l,s,c=0,f=d(t);try{for(f.s();!(s=f.n()).done;){var p=s.value;if(0!==c)break;var h=void 0,g=void 0;switch(p){case"conferenceFirst":var b=(0,u.getConference)(n.gid),v=(0,u.getConference)(e.gid),_=(0,a.getCurrentUserID)(),w=(null==b?void 0:b.isParticipant(_))||(null==b?void 0:b.isCurrentUserInvited),S=(null==v?void 0:v.isParticipant(_))||(null==v?void 0:v.isCurrentUserInvited);c=(w?n.conferenceStatusValue:0)-(S?e.conferenceStatusValue:0);break;case"systemFirst":c=(n.isSystem&&!n.isRobot?1:0)-(e.isSystem&&!e.isRobot?1:0);break;case"deleted":c=(n.isDeleted?0:1)-(e.isDeleted?0:1);break;case"notice":c=(n.unreadMessagesCount?1:0)-(e.unreadMessagesCount?1:0);break;case"hide":case"mute":c=(n[p]?0:1)-(e[p]?0:1);break;case"isSystem":case"star":c=(n[p]?1:0)-(e[p]?1:0);break;case"online":c=(m(n)?1:0)-(m(e)?1:0);break;case"name":c=(n.name||"").localeCompare(e.name||"");break;case"lastMessageId":c=(null!=(r=null==(o=n.lastMessageInfo)?void 0:o.id)?r:0)-(null!=(i=null==(l=e.lastMessageInfo)?void 0:l.id)?i:0);break;case"draft":c=n.draft&&e.draft?n.lastAccessTime>e.lastAccessTime?1:-1:n.draft||e.draft?(n.draft?1:0)-(e.draft?1:0):0;break;default:g="namePinyin"===p?(h=y(n),y(e)):(h=n[p],e[p]),c=(h=null==h?0:h)===(g=null==g?0:g)?0:g<h?1:-1}}}catch(e){f.e(e)}finally{f.f()}return c})))}},20116:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getChatMessageMentionType=function(e){var t=e instanceof c.default,n=(0,f.getCurrentUser)();if(t){if(void 0!==e._mentionType)return e._mentionType;if(!e.isTextContent||n.id!==e.senderId)return e._mentionType=!1}t=t?e.content:e;try{if(RegExp("(@".concat((0,i.escapeRegExp)(n.account),"|@").concat((0,i.escapeRegExp)(n.realname),"|@#").concat(n.id,")"),"mgui").test(t))return"me";if(RegExp("(@all|@".concat(u.default.string("chat.message.atAll"),")"),"mgui").test(t))return"all"}catch(e){}return!1},t.linkMentionsInText=t.getChatMessageSummaryText=t.getChatMessageSender=void 0,t.normalizeMentionsInMessage=function(e){return e.replace(new RegExp("(\\[|\\()?".concat(i.REGEXP_AT_USER,"(\\)|\\])?"),"g"),(function(e,t,n,r){return"("===t&&")"===r||"["===t&&"]"===r?e:(n=d.default.guessMemberInCache(n))?"".concat(null!=t?t:"","[@").concat(n.displayName,"](@#").concat(n.id,")").concat(null!=r?r:""):e}))},t.renderChatMessageContent=t.onRenderChatMessageContent=void 0;var o=h(n(15219)),a=n(64393),i=n(16986),l=n(74933),s=h(n(74160)),u=h(n(61862)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(92691)),f=n(15973),d=h(n(84431));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function m(e){var t,n,r,o,a,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return e&&e.length&&e.includes("@")&&(t=u.default.string("chat.message.atAll"),n=(0,f.getCurrentUser)(),r=n.displayName,o=n.account,a=n.id,e=(e=e.replace(new RegExp("@all|@".concat(t),"gi"),'<span class="at-all">@'.concat(t,"</span>"))).replace(/\[@(#?[^\s[\]@]{1,20})]\(@(#\d+)\)/gi,(function(e,t,n){var l=n==="#".concat(a)||n===o||n===r;return i?"@".concat(t):"<a".concat(l?' class="at-me"':"",' href="@').concat(n,'">@').concat(t,"</a>")}))),e}var y=null;function g(e){var t,n;void 0===e._renderedTextContent&&("string"==typeof(n=e.content)&&n.length?(n=e.isBroadcast||!e.isPlainTextContent?(s.default.ui["chat.markdown.html"]&&(n=m(n,s.default.ui["chat.denyShowMemberProfile"])),t=s.default.ui["chat.markdown.html"]?null:{sanitize:null},(0,o.default)(n,t)):m(n=(0,a.linkify)((0,a.escape)(n).replace(/<br>/g,"\n")),s.default.ui["chat.denyShowMemberProfile"]),n=(0,l.emojiToImage)(n),y&&(n=y(n)),e._renderedTextContent=n,e._isBlockContent=n&&(n.includes("<h1>")||n.includes("<h2>")||n.includes("<h3>"))):(e._renderedTextContent="",e._isBlockContent=!1));for(var r,i=arguments.length,u=new Array(1<i?i-1:0),c=1;c<i;c++)u[c-1]=arguments[c];return u&&u.length?(r=e._renderedTextContent,u.forEach((function(t){t&&(r=t(r,e))})),r):e._renderedTextContent}t.onRenderChatMessageContent=function(e){y=e},t.linkMentionsInText=m,t.renderChatMessageContent=g,t.getChatMessageSender=function(e){return d.default.getMemberOrTemp(e.senderId)},t.getChatMessageSummaryText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(e.deleted)return"[".concat(u.default.string("chat.message.deleted"),"]");var r,o=e.summary;return void 0===o&&(o=e.isNotification?"".concat(e.senderName,": ").concat(e.notification.title||e.notification.content):e.isEmotionContent?"[".concat(u.default.string("chat.message.type.emoji"),"]"):e.isFileContent?e.fileContent.name:e.isImageContent?"[".concat(u.default.string("chat.message.type.image"),"]"):e.isTextContent?(o=g(e),o=(o=b(o)).trim().replace(/[\r\n]/g," ").replace(/\n[\s| | ]*\r/g,"\n"),o=(0,a.strip)(o),v(o)):e.isObjectContent?e.objectContentType===c.OBJECT_TYPES.url?(r=e.objectContent,"[".concat(u.default.string("chat.message.type.url"),"] ").concat(r.url)):e.objectContentType===c.OBJECT_TYPES.conferenceInvite?(null==(r=e.data)?void 0:r.title)||e.objectContent.topic||"[".concat(u.default.string("conference.inviteTip").trim(),"]"):"[".concat(u.default.string("chat.message.type.object"),"]"):e.isCodeContent?e.codeContent.name||"[".concat(u.default.string("chat.message.type.code"),"]"):e.content,e._summary=o),(o=n?n(o,e):o).length>t?(0,i.limitStringLength)(o,t):o};var b=function(e){return e.replace(/<img class="joypixels".*?.png"\/> ?/gm,(function(e){return/alt="(.*?)"/.exec(e)[1]}))},v=function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}},41363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatMessageImageObtainer=void 0;var r=c(n(84431)),o=c(n(73052)),a=c(n(29795)),i=n(17531),l=c(n(94592)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(61862));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))}}function h(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(){function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");y(this,"current",void 0),y(this,"cgid",void 0),this.current=m({data:{messageID:n}},r),this.cgid=t,a.default.getPrevAndNextImageMessage(n,!0)}var t,n,u,c,d;return t=e,(n=[{key:"obtain",value:(d=p((function*(e){var t=e.data.messageID;if(!e||!t)return null;try{var n,u,c,f,d=(d=e.data.message)||(yield o.default.asyncGetMessage(this.cgid,t)),p=yield r.default.asyncGetMember(d.senderId),h=(0,s.getShortTextOfDate)(d.sendTime),y=s.default.format("chat.message.userSendAt",{user:p.displayName,time:h}),g=(d.retracted&&!d.data.forwardFrom?u=s.default.string("file.retracted"):"base64"===(null==(n=d.imageContent)?void 0:n.type)?c=d.imageContent.content:(f=l.default.getMessageFile(d),yield(0,i.downloadFileNoThrows)(f),f.networking.isDownloadFail?u=s.default.string("file.downloadFailed"):c=f.viewUrl),e.prev),b=e.next,v=a.default.getPrevAndNextImageMessage(t);return void 0===g&&(g=!(null==v||!v.prev)),void 0===b&&(b=!(null==v||!v.next)),Object.assign(e,{src:c,title:y,prev:g,next:b,errorMessage:u,data:m(m({},e.data),{},{prevMessage:null==v?void 0:v.prev,nextMessage:null==v?void 0:v.next})})}catch(e){return DEBUG&&console.error("Error when obtain message image",e),null}})),function(e){return d.apply(this,arguments)})},{key:"obtainCurrent",value:function(){var e=this.current;return e.src&&e.title&&void 0!==e.prev&&void 0!==e.next?Promise.resolve(e):this.obtain(e)}},{key:"obtainPrev",value:(c=p((function*(e){if(!1===e.prev)return null;if("object"===f(e.prev))return e.prev;var t=e.data.prevMessage;return(t=t||a.default.getPrevAndNextImageMessage(e.data.messageID).prev)?(e.prev=yield this.obtain({next:e,data:{message:t,messageID:t.id}}),e.prev):null})),function(e){return c.apply(this,arguments)})},{key:"obtainNext",value:(u=p((function*(e){if(!1===e.next)return null;if("object"===f(e.next))return e.next;var t=e.data.nextMessage;return(t=t||a.default.getPrevAndNextImageMessage(e.data.messageID).next)?(e.next=yield this.obtain({prev:e,data:{message:t,messageID:t.id}}),e.next):null})),function(e){return u.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.ChatMessageImageObtainer=n},37907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emitReceiveNewMessages=function(e){r.immediateChannel.publish(o,e)},t.emitUnreadMessagesChange=l,t.subscribeReceiveNewMessages=function(e){return r.immediateChannel.subscribe(o,e)},t.subscribeUnreadMessagesChange=function(e){return r.immediateChannel.subscribe(a,e)},t.tryEmitUnreadMessagesChange=function(e){e!==i&&(l(e),DEBUG&&console.warn("TryEmitUnreadMessagesChange works."))},t.unsubscribeMessagesChange=function(e){return Array.isArray(e),r.immediateChannel.unsubscribe(e)};var r=n(84401),o=Symbol("event-receive-new-messsages"),a=Symbol("event-unread-messsages-change"),i=0;function l(e){r.immediateChannel.publish(a,e),i=e}},92691:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES=t.TEXT_CONTENT_TYPE=t.OBJECT_TYPES=t.EXPIRATION_TIME=t.DELETE_MESSAGE_TIME=t.CONTENT_TYPES=t.BULLETIN_TYPES=void 0,t.createChatMessage=L,t.isLocalMessageID=t.default=void 0,t.sortChatMessages=I;var r=f(n(27945)),o=f(n(6511)),a=f(n(75738)),i=n(16986),l=f(n(12482)),s=n(48389),u=n(86273),c=n(15973);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n){if((t=S(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function w(e,t){return(t=S(e,t,"get")).get?t.get.call(e):t.value}function S(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}t.DELETE_MESSAGE_TIME=12e4,t.EXPIRATION_TIME=2e4,t.isLocalMessageID=function(e){return(0,u.isLocalID)(e)},t.TYPES=O,(T=O||(t.TYPES=O={})).broadcast="broadcast",T.normal="normal",T.notification="notification",T.notify="notify",T.bulletin="bulletin",T.botcommand="botcommand",t.BULLETIN_TYPES=M,(T=M||(t.BULLETIN_TYPES=M={})).bulletin="bulletin",T.notice="notice",t.CONTENT_TYPES=C,(T=C||(t.CONTENT_TYPES=C={})).file="file",T.image="image",T.text="text",T.plain="plain",T.emotion="emotion",T.code="code",T.object="object",t.OBJECT_TYPES=k,(T=k||(t.OBJECT_TYPES=k={})).default="default",T.url="url",T.conferenceInvite="conferenceInvite",t.TEXT_CONTENT_TYPE=void 0,t.TEXT_CONTENT_TYPE={notification:"notification",announcement:"announcement"};var O,M,C,k,E="ChatMessage",P=new o.default({id:{type:"int",indexed:!0,primaryKey:!0},index:{type:"int",indexed:!0},unionId:{type:"string",indexed:!0},gid:{type:"string",indexed:!0},cgid:{type:"string",indexed:!0},user:{type:"int",indexed:!0},date:{type:"timestamp",indexed:!0},type:{type:"string",indexed:!0,defaultValue:O.normal},contentType:{type:"string",indexed:!0,defaultValue:C.plain},content:{type:"string",defaultValue:null},keys:{type:"string",defaultValue:""},deleted:{type:"boolean"},noticeEndTime:{type:"timestamp"},bulletinExpiration:{type:"timestamp",indexed:!0},data:{type:"json"},cacheFilePath:{type:"string"}}),T=(0,s.createProxyPropertiesMap)(["id","index","cgid","user","date","type","contentType","content","deleted","data","codeContent","fileContent","imageContent","objectContentType","objectContent","isBroadcast"],r.default.PROXY_PROPERTIES),j=(0,s.createProxyHandler)(T),x=new WeakMap,D=new WeakMap,A=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(n=t?(n=g(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===h(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return y(r)}}(r);function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E,o=this,a=r;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");if(v(y(o=n.call(this,e,t)),"summary",void 0),b(y(o),x,{writable:!0,value:void 0}),v(y(o),"contentBackup",void 0),b(y(o),D,{writable:!0,value:void 0}),v(y(o),"_reminders",void 0),v(y(o),"_sender",void 0),v(y(o),"_emotionContent",void 0),v(y(o),"_codeContent",void 0),v(y(o),"_objectContent",void 0),v(y(o),"_imageContent",void 0),v(y(o),"_fileContent",void 0),v(y(o),"_renderedTextContent",void 0),v(y(o),"_isBlockContent",void 0),v(y(o),"user",void 0),v(y(o),"attachFile",void 0),e.contentBackup&&(o.contentBackup=e.contentBackup),e.replyTo&&o.setDataValue("replyTo",e.replyTo),e.data){if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(e){DEBUG&&console.log(e)}"object"===h(e.data)&&e.data.reminders&&Array.isArray(e.data.reminders)&&(o._reminders=new Set(e.data.reminders.map((function(e){var t;return"number"!=typeof e?(t=Number.parseInt(e,10),Number.isNaN(t)?0:t):e})).filter((function(e){return 0<e}))))}return o.$.contentType||(o.$.contentType=C.plain),o.$.type||(o.$.type=O.normal),o.$.date||(o.$.date=Date.now()),o.$.id||(o.$.id=(0,u.createLocalID)(),o.$.index=o.$.id),o.isBulletin&&!o.$.bulletinExpiration&&(o.$.bulletinExpiration=o.bulletin.expiration),null!==o.$.keys&&void 0!==o.$.keys||(o.isFileContent?o.$.keys=o.fileContent.name:o.isCodeContent?(a=y(o).codeContent,o.$.keys=[a.name,a.code].join(" ")):o.isObjectContent?(t=y(o).objectContent,o.$.keys=["[url]",t.url].join(" ")):o.$.keys=""),o}return t=r,(e=[{key:"proxyHandler",get:function(){return j}},{key:"unionId",get:function(){return"".concat(this.cgid,"@").concat(this.index)}},{key:"plainServer",value:function(){var e={gid:this.gid,cgid:this.cgid,type:this.type,contentType:this.contentType,content:this.content,user:this.senderId,data:this.data,deleted:!1};return"string"!=typeof this.data&&(e.data=JSON.stringify(this.data),"{}"===e.data&&(e.data="")),this.deleted&&(e.deleted=!0),e}},{key:"schema",get:function(){return P}},{key:"isOK",get:function(){return!this.isInLocal}},{key:"isSending",get:function(){return this.isInLocal&&!w(this,x)&&Date.now()-this.date<2e4}},{key:"beginSend",value:function(){this.$set("date",Date.now()),_(this,x,!1)}},{key:"cgid",get:function(){return this.$get("cgid")},set:function(e){this.$set("cgid",e)}},{key:"index",get:function(){return this.$get("index")},set:function(e){this.$set("index",e)}},{key:"deleted",get:function(){return this.$get("deleted")}},{key:"localDeleted",get:function(){return this.deleted&&this.isInLocal}},{key:"markLocalDeleted",value:function(){return!!this.isInLocal&&(this.$set("deleted",!0),!0)}},{key:"retracted",get:function(){return this.deleted&&!this.isInLocal}},{key:"canDelete",value:function(e){return!this.isInLocal&&e.id===this.senderId&&e.serverNowTime.getTime()-this.sendTime<=12e4}},{key:"canReedit",value:function(e){return!this.isInLocal&&e===this.senderId&&!this.getDataValue("deletedBy")&&this.deleted&&(this.isTextContent||this.isCodeContent||this.isUrlObject)&&(0,i.isNotEmptyString)(this.content||this.contentBackup)}},{key:"doReedit",value:function(){var e=this.content||this.contentBackup;return delete this.contentBackup,this.replyTo&&(0,c.getCurrentUser)().config.setChatReplyTo(this.cgid,this.replyTo),this.isUrlObject?this.objectContent.url:e}},{key:"data",get:function(){return void 0===w(this,D)&&_(this,D,this.$get("data")||{}),w(this,D)}},{key:"setBackup",value:function(e){this.contentBackup=e}},{key:"getDataValue",value:function(e,t){var n=this.data;return n?void 0===(n=n[e])?t:n:t}},{key:"setDataValue",value:function(e,t){t="object"!==h(e)?v({},e,t):e,_(this,D,p(p({},this.data),t)),this.$set("data",w(this,D))}},{key:"replyTo",get:function(){return this.getDataValue("replyTo")},set:function(e){this.setDataValue("replyTo",e)}},{key:"reminders",get:function(){var e;return this._reminders||((e=this.$get("reminders"))&&("string"==typeof e&&(e=e.split(",")),Array.isArray(e)?(e=e.map((function(e){return"string"==typeof e?Number.parseInt(e,10):e})).filter((function(e){return"number"==typeof e&&!Number.isNaN(e)})),this._reminders=new Set(e)):e=null),this._reminders=e),this._reminders}},{key:"isReminder",value:function(e){var t=this.reminders;return!t||t.has(e)}},{key:"date",get:function(){return this.$get("date")},set:function(e){this.$set("date",e)}},{key:"sendTime",get:function(){return this.date}},{key:"senderId",get:function(){return this.$get("user")}},{key:"isSender",value:function(e){return this.senderId===e}},{key:"sender",get:function(){return DEBUG&&console.log('The sender getter is deprecated, use "membersStore.getMember(chatMessage.senderID)" instead'),this._sender||new a.default({id:this.senderId})},set:function(e){DEBUG&&console.log("The sender setter is deprecated"),e&&(this._sender=e,this.$set("user",e.id))}},{key:"contentType",get:function(){return this.$get("contentType",C.text)},set:function(e){this.$set("contentType",e)}},{key:"isFileContent",get:function(){return this.contentType===C.file}},{key:"isTextContent",get:function(){return this.contentType===C.text||this.contentType===C.plain}},{key:"isMarkdownTextContent",get:function(){return this.contentType===C.text}},{key:"isPlainTextContent",get:function(){return this.contentType===C.plain}},{key:"isEmotionContent",get:function(){return this.contentType===C.emotion||this.isImageContent&&"emoji"===this.imageContent.type}},{key:"emotionContent",get:function(){var e=this._emotionContent;return e||(this.contentType===C.emotion?e=this.parseContent():this.isImageContent&&"emoji"===this.imageContent.type&&(e=this.imageContent),this._emotionContent=e),e}},{key:"isUrlObject",get:function(){return this.isObjectContent&&this.objectContentType===k.url}},{key:"noticeEndTime",get:function(){return this.$get("noticeEndTime",0)}},{key:"isImageContent",get:function(){return this.contentType===C.image}},{key:"isCodeContent",get:function(){return this.contentType===C.code}},{key:"codeContent",get:function(){if(!this.isCodeContent)return null;var e=this._codeContent;return void 0===e&&((e=this.parseContent())&&(e.lot=e.code&&10<e.code.split("\n").length),this._codeContent=e),e}},{key:"isObjectContent",get:function(){return this.contentType===C.object}},{key:"objectContentType",get:function(){return this.isObjectContent?this.objectContent.type:null}},{key:"objectContent",get:function(){if(!this.isObjectContent)return null;var e,t=this._objectContent;return t||(null!=(e=t=this.parseContent())&&e.path&&delete t.path,this._objectContent=t),t}},{key:"type",get:function(){return this.$get("type",O.normal)},set:function(e){this.$set("type",e)}},{key:"isBroadcast",get:function(){return this.type===O.broadcast}},{key:"isBulletin",get:function(){return this.type===O.bulletin}},{key:"content",get:function(){return this.$get("content")},set:function(e){this.$set("content",e),this._imageContent&&delete this._imageContent,this._fileContent&&delete this._fileContent,this._objectContent&&delete this._objectContent,this._renderedTextContent&&(delete this._renderedTextContent,delete this._isBlockContent),this.contentBackup&&delete this.contentBackup,this._codeContent&&delete this._codeContent}},{key:"isBlockContent",get:function(){return this._renderedTextContent&&this._isBlockContent}},{key:"imageContent",get:function(){if(!this.isImageContent)return null;var e=this._imageContent;return e||((e=this.parseContent()).path&&delete e.path,this._imageContent=e),e&&(e.user=this.user,e.senderId=this.senderId,e.messageID=this.id,e.cgid=this.cgid,e.messageType="image","base64"===e.type?e.originFile=e.content:this.attachFile&&(e.originFile=this.attachFile),e.gid||(e.gid="file-".concat(e.id||this.gid)),this.cacheFilePath&&(e.cachePath=this.cacheFilePath)),e},set:function(e){this.contentType=C.image;var t=e instanceof l.default?e.plain():{name:e.name||e.title,size:e.size,send:e.send,type:e.type,id:e.id,time:e.time,gid:e.gid,error:e.error,content:e.content,hasThumb:e.hasThumb,thumbnailWidth:e.thumbnailWidth,thumbnailHeight:e.thumbnailHeight};t.isImage=t.type&&(t.type.startsWith("image")||"base64"===t.type),t.isImage&&(t.width=e.width,t.height=e.height,t.mediaType="image"),delete t.path,this.content=JSON.stringify(t),e instanceof l.default&&(this.attachFile=e.originFile),this._imageContent=t}},{key:"updateImageContent",value:function(e){this.imageContent=p(p({},this.imageContent),e)}},{key:"fileContent",get:function(){if(!this.isFileContent)return null;var e=this._fileContent;return e||((e=this.parseContent({name:""})).path&&delete e.path,this._fileContent=e),e&&(e.user=this.user,e.senderId=this.senderId,e.messageID=this.id,e.cgid=this.cgid,e.messageType="file","base64"===e.type?e.originFile=e.content:this.attachFile&&(e.originFile=this.attachFile),this.cacheFilePath&&(e.cachePath=this.cacheFilePath),e.gid||(e.gid="file-".concat(e.id))),e},set:function(e){this.contentType=C.file;var t=e instanceof l.default?e.plain():{name:e.name||e.title,size:e.size,send:e.send,type:e.type,id:e.id,time:e.time,gid:e.gid,error:e.error,content:e.content,loaded:e.loaded};e.editable&&(t.editable=e.editable),t.isImage=t.type&&t.type.startsWith("image"),t.isImage&&(t.width=e.width,t.height=e.height,t.mediaType="image"),delete t.path,delete t.error,delete t.attachFile,this.content=JSON.stringify(t),e instanceof l.default&&(this.attachFile=e.originFile),this._fileContent=t}},{key:"cacheFilePath",get:function(){return this.$get("cacheFilePath")},set:function(e){this._fileContent=null,this._imageContent=null,this.$set("cacheFilePath",e)}},{key:"updateFileContent",value:function(e){this.fileContent=p(p({},this.fileContent),e)}},{key:"getCommand",value:function(){if(this.isTextContent){var e=this.content.trim();if("$$version"===e)return{action:"version"};if("$$dataPath"===e)return{action:"dataPath"}}return null}},{key:"isInLocal",get:function(){return(0,u.isLocalID)(this.id)}},{key:"isSendFailed",get:function(){return this.isInLocal&&(w(this,x)||2e4<=Date.now()-this.date)}},{key:"markSendFailed",value:function(){this.isInLocal&&_(this,x,!0)}},{key:"parseContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.content||this.contentBackup;if(!t)return e;try{return"object"===h(t)?t:JSON.parse(t)||t}catch(t){return DEBUG&&console.error("Cannot parse content data for chat message",this),e}}},{key:"bulletin",get:function(){if(!this.isBulletin)return null;var e=this.data;return{id:this.id,expiration:!this.deleted&&e.expiration||0,type:e.type||M.bulletin}}},{key:"isBulletinInValidity",get:function(){if(!this.isBulletin)return!1;var e=this.bulletin.expiration;return e&&Date.now()<=e}},{key:"canPin",value:function(){return!this.isBroadcast&&(this.isTextContent||this.isImageContent||this.isFileContent)}},{key:"plain",value:function(){var e=this.cgid,t=this.content,n=this.contentType,r=this.data,o=this.date,a=this.deleted,i=this.gid,l=this.id,s=this.index,u=this.type,c=this.senderId,f=this.unionId;return{cgid:e,content:t,contentType:n,data:r,date:o,deleted:a,gid:i,id:l,index:s,type:u,keys:this.$get("keys"),user:c,unionId:f}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(r.default);function I(e){return e.sort((function(e,t){return(e.id||Number.MAX_SAFE_INTEGER)-(t.id||Number.MAX_SAFE_INTEGER)}))}function L(e){return e instanceof A?e:new A(e)}v(t.default=A,"NAME",E),v(A,"TYPES",O),v(A,"CONTENT_TYPES",C),v(A,"OBJECT_TYPES",k),v(A,"SCHEMA",P),v(A,"PROXY_PROPERTIES",T),v(A,"PROXY_HANDLER",j),v(A,"create",L),v(A,"sort",I),DEBUG&&(n.g.$ChatMessage=A)},79429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHistory=m,t.getFetchingTask=void 0;var r=n(7066),o=n(78717),a=s(n(74101)),i=s(n(73052)),l=n(23405);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))}}var h=null;function m(){return y.apply(this,arguments)}function y(){return(y=p((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.getFetchingChannel)();if(h)throw new Error("BUSY");"string"==typeof e?e={chats:e}:("number"==typeof e||e instanceof Date)&&(e={startDate:e});var n,o=(i=e).chats,i=void 0===(i=i.startDate)?0:i;if(o?"contacts"===o?o=a.default.getPrivateChats({sortRules:!1,excludeLocal:!0}):"groups"===o?o=a.default.getGroupsChats("default",!1,!0):"string"==typeof o&&(o=a.default.getChats([o])):o=a.default.getAllChats(!1),o.length)return o=(o=o.reduce((function(e,t){return"string"==typeof t&&(t=a.default.getChat(t)),[].concat(c(e),[t.gid],c(t.mergedChats))}),[])).map((function(e){return"object"===u(e)?e.gid:e})),i=i?(0,r.createDate)(i).getTime():0,n=e.recPerPage,o={chats:o,startDate:i,progress:0,isFetching:!1,channel:t,recPerPage:void 0===n?50:n,onProgress:function(n,r){var o,a;null!=(o=(a=e).onProgress)&&o.call(a,n,r),t.publish(l.EVENT_HISTORY_PROGRESS,n,r)}},h=o,null!=(n=(i=e).onStart)&&n.call(i,o),t.publish(l.EVENT_HISTORY_START,o),yield function(){return g.apply(this,arguments)}(o),(h=null,l.resetAbortSyncSignal)(),null!=(i=(n=e).onFinish)&&i.call(n,o),t.publish(l.EVENT_HISTORY_FINISH,o),o}))).apply(this,arguments)}function g(){return(g=p((function*(e){if(e.isFetching)return e;e.isFetching=!0,e.progress=0;for(var t=e.chats,n=e.recPerPage,r=e.startDate,o=e.onProgress,a=100/t.length,i=function(t){var n=null===(n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)?t:n*a+a*(t/100);e.progress!==n&&(e.progress=n,null!=o&&o(n,e))},s=(i(0),function*(e){if((0,l.getAbortSyncSignal)())return{v:void 0};var o=t[e];i(0,e),yield function(){return b.apply(this,arguments)}(o,{recPerPage:n,startDate:r,onProgress:function(t){i(t,e)}}),i(100,e)}),c=0;c<t.length;++c){var f=yield*s(c);if("object"===u(f))return f.v}return i(100),e.isFetching=!1,e}))).apply(this,arguments)}function b(){return(b=p((function*(e,t){for(var n=void 0===(r=t.startDate)?0:r,r=t.recPerPage,o=t.onProgress,a=void 0===r?50:r,s=0;a;){if((0,l.getAbortSyncSignal)())return;var u=(c=yield i.default.fetchChatMessagesByPage(e,{pager:a,reverse:!0,putToCache:!1,skipChatFilter:!0})).prevPager,c=c.list;a=!u||c.some((function(e){return e.date<n}))?null:u,s+=Math.min(10,(100-s)/3),null!=o&&o(s)}o(100)}))).apply(this,arguments)}t.getFetchingTask=function(){return h},(0,o.registerCommand)("fetchChatsHistory",(function(e,t){return m(t)}),null,{apiLevel:1})},29795:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.loadMessages=j;var o=n(51572),a=m(n(20213)),i=n(33594),l=n(55292),s=m(n(74101)),u=m(n(73052)),c=n(7491),f=n(81595),d=n(15973),p=n(58851),h=n(68271);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=k(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(n=t?(n=w(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _(o)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,l,"next",e)}function l(e){O(a,r,o,i,l,"throw",e)}i(void 0)}))}}function C(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){t=1<arguments.length&&void 0!==t&&t;var n=s.default.getChat(e);if(!n||n.isLocal&&!n.isNotification)return{cgid:e,list:[],canLoadMore:!1,loading:!1};var r=!n.isNotification&&!n.latestMessageIndexes.includes(1)&&0!==n.lastMessageIndex;return{cgid:e,list:C(n.latestMessageIndexes),canLoadMore:r,loading:r&&t}}var T=!1;function j(e,t){return x.apply(this,arguments)}function x(){return(x=M((function*(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=void 0===(n=r.length)?20:n,i=void 0===(n=r.reverse)||n;if(yield new Promise((function(e){var t=Date.now();!function n(){Date.now()-1e4>t&&e(!1),T?setTimeout(n,500):e(!0)}()}))){if(!(t<=0))return r=[],null!=(n=(0,d.getCurrentUser)())&&n.isVersionSupport(o.VersionSupport.xuanbot)&&e===(0,p.getXuanbotGid)((0,d.getCurrentUserID)())&&(r=(0,f.getStoreItem)("DATASTORE::".concat(u.default.identify,"::").concat(u.default._name,"::LOCAL_NOTIFICATION"),[]).filter((function(e){return i?e<t&&t-a-1<e:t<e&&e<t+a+1}))),n=i?(0,c.generateContinuousList)(t,Math.max(1,t-(a-1)),!1):(0,c.generateContinuousList)(t,Math.max(1,t+a-1),!0),n=[].concat(C(n),C(r)).sort((function(e,t){return i?t-e:e-t})).slice(0,a),r=yield u.default.asyncGetMessages(e,n,!0,"index"),T=!1,r;console.error("fromIndex <= 0, fromIndex: ",t)}}))).apply(this,arguments)}var D=new(function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);var n,r=v(o);function o(e){var t;if(this instanceof o)return S(_(t=r.call(this,"ChatMessagesList",e,{channelDelayTime:50,key:"cgid"})),"idleTasks",new a.default),S(_(t),"needFetchListOnChatsReady",new Set),S(_(t),"imageMessageMap",new Map),u.default.afterStoreChatMessages(t.handleStoreChatMessages.bind(_(t))),s.default.subscribeChatsReadyEvent(t.handleChatsReady.bind(_(t))),s.default.subscribeAny((function(e){var n,r=[],o=y(e);try{for(o.s();!(n=o.n()).done;){var a,i=n.value,l=t.getItemFromCache(i.gid);l&&(a=i.lastMessageIndex&&!i.latestMessageIndexes.includes(1),l.canLoadMore&&!a&&r.push(l))}}catch(e){o.e(e)}finally{o.f()}r.length&&t.update(r.map((function(e){return e.cgid})))})),t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"handleChatsReady",value:function(){var e;this.needFetchListOnChatsReady.size&&(e=C(this.needFetchListOnChatsReady),this.needFetchListOnChatsReady.clear(),this.update(e))}},{key:"handleStoreChatMessages",value:function(e,t){var n,r;!e.isDeleted&&e.isVisible&&(r=t.lastReadChanged,n=t.newUnread,t=t.newMessages,(r||null!=n&&n.length||null!=t&&t.length)&&this.update(e.gid),r=this.getList(e.gid).list,e.latestMessageIndexes.length===r.length&&e.latestMessageIndexes[0]===r[0]||this.update(e.gid))}},{key:"reset",value:function(e){var t=g(w(o.prototype),"reset",this).call(this,e);return this.needFetchListOnChatsReady.clear(),this.idleTasks.cancelAll(),DEBUG_I&&(console.collapse("STORE.ChatMessagesList","pinkBg","reset","pinkPale",t,""),console.log("identify",e),console.groupEnd()),!0}},{key:"update",value:function(e,t){e=e||this.allKeys;var n,r,o,a=[],i=[],l=[],s=y(e=Array.isArray(e)?e:[e]);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=this.getItemFromCache(u),f=P(u,"boolean"==typeof t?t:!!c&&c.loading);c&&((r=f)===(o=c)||r&&o&&r.cgid===o.cgid&&r.list===o.list&&r.canLoadMore===o.canLoadMore&&r.loading===o.loading||function(e,t){return e&&t&&t.list.every((function(t){return e.list.includes(t)}))}(c,f))?i.push(c):(a.push(f),i.push(f)),null!=c&&c.expired&&l.push(u)}}catch(e){s.e(e)}finally{s.f()}return a.length&&(this.store(a),DEBUG_I&&(console.collapse("STORE.ChatMessagesList","pinkBg","store","pinkPale",a.length,""),console.log("recordsNeedStore",a),console.log("allRecords",i),console.groupEnd())),i}},{key:"getList",value:function(e){if(n=this.getItemFromCache(e))return n;var t,n=P(e,!0);return this.store(n,{skipPublish:!0}),s.default.isReady?(t=s.default.getChat(e,!1)).lastMessageIndex&&j(e,t.lastMessageIndex+1):this.needFetchListOnChatsReady.add(e),n}},{key:"setImageMessageMap",value:function(e){var t;return(t=null==(t=this.getList(e))?void 0:t.list)&&null!=(t=u.default.getMessages(t,e,"index"))&&t.length?(t=t.filter((function(e){return null==e?void 0:e.isImageContent})),t.length&&this.imageMessageMap.set(e,t),t):null}},{key:"getPrevAndNextImageMessage",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(null==(o=u.default.getMessage(e))||!o.isImageContent)return null;var n,r,o=o.cgid,a=!this.imageMessageMap.has(o)||t?this.setImageMessageMap(o):this.imageMessageMap.get(o);if(!a)return null;if(-1===(t=a.findIndex((function(t){return t.id===e}))))return null;for(var i=t,l=t;(n=a[--i])&&n.retracted;);for(;(r=a[++l])&&r.retracted;);return{prev:n,next:r}}},{key:"loadMoreList",value:(n=M((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;if(!s.default.isReady)return DEBUG&&(console.collapse("STORE.ChatMessagesList","pinkBg","Load more list for chat ".concat(e," failed"),"pinkPale","chatsStore is not ready","pink"),console.trace("store",this),console.groupEnd()),!1;var n=s.default.getChat(e);if(!n)return DEBUG&&(console.collapse("STORE.ChatMessagesList","pinkBg","Load more list for chat ".concat(e," error"),"redPale","Cannot found the chat","red"),console.trace("store",this),console.groupEnd()),!1;if(n.isLocal)return!1;var r=n.latestMessageIndexes;if(this.update(e,!0),(r=(null!=(r=r[0])?r:n.lastMessageIndex)-1)<1)return!1;try{var o=yield j(e,r,{length:t});o&&n.setLatestMessages(o,{isFocusedActiveChat:(0,h.isOpenedActiveChat)(n.gid)}),s.default.store(n)}catch(t){DEBUG&&(console.collapse("STORE.ChatMessagesList","pinkBg","load more Error","redPale",String(t),"red"),console.error("error",t),console.log("cgid",e),console.groupEnd())}return this.update(e,!1),!0})),function(e){return n.apply(this,arguments)})},{key:"shrinkList",value:function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,o=this.getItemFromCache(e);!o||(t=o.list).length>r&&((n=s.default.getChat(e)).shrinkMessageIndexList(),s.default.store(n),n=t.slice(-r,t.length),o.list=n,this.store(S({},e,o)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(l.DataStore));(0,i.setCallbackOnInitedDatabase)(D.reset.bind(D)),n.g.ExtsRuntime&&n.g.ExtsRuntime.registerExtensionAPI([{name:"im.getChatMessageList",level:3,func:function(e){return D.getList(e)}},{name:"im.subscribeChatMessageList",level:3,func:function(e,t){return D.subscribe(e,t)}},{name:"im.subscribeAnyChatMessageList",level:3,func:function(e){return D.subscribeAny(e)}},{name:"im.unsubscribeChatMessageList",level:3,func:function(e){return D.unsubscribe(e)}}]),DEBUG&&(n.g.$chatMessagesListStore=D),t.default=D},938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSearchConditions=void 0,t.searchChatMessagesInDatabase=w,t.searchChatsMessagesInDatabase=function(e,t){return O.apply(this,arguments)};var r=n(92691),o=n(58851),a=s(n(84431)),i=n(73052),l=s(n(74101));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)}))}}function y(){return g.apply(this,arguments)}function g(){return(g=m((function*(e){var t={type:"content",match:e,ignoreCase:!(1<arguments.length&&void 0!==arguments[1])||arguments[1]};if(e.includes("|")){var n,o=e.split("|"),i=(t.type="anyOf",t.match=[],f(o));try{for(i.s();!(n=i.n()).done;){var l,s=n.value;s&&"object"===c(s)&&s.type?t.match.push(s):"string"==typeof s&&s.length&&(l=yield y(s),t.match.push(l))}}catch(e){i.e(e)}finally{i.f()}}else"@"===e[0]?(o=a.default.guessMemberInCache(e))?(t.type="user",t.match=o.id):/^@\d+$/.test(e)?(t.type="user",t.match=Number.parseInt(e.substr(1),10)):(o=yield a.default.asyncGetMember(e.substr(1)))&&(t.type="user",t.match=o.id):"["===e[0]&&"]"===e[e.length-1]?(o=e.substr(1,e.length-2),r.TYPES[o]?(t.type="type",t.match=o):r.CONTENT_TYPES[o]&&(t.type="contentType",t.match=o)):"#"===e[0]&&(37===e.length?(t.type="gid",t.match=e.substring(1)):/^#\d+$/.test(e)&&(t.type="id",t.match=Number.parseInt(e.substr(1),10)));return t}))).apply(this,arguments)}function b(e,t){if("anyOf"===t.type)return t.match.length&&t.match.some(b.bind(null,e));if("content"!==t.type)return e[t.type]===t.match;if(e.contentType===r.CONTENT_TYPES.text||e.contentType===r.CONTENT_TYPES.plain){if("string"!=typeof e.content)return!1;var n=t.ignoreCase?e.content.toLocaleLowerCase():e.content;return n.length&&n.includes(t.match)}return"string"==typeof e.keys&&(n=t.ignoreCase?e.keys.toLocaleLowerCase():e.keys).length&&n.includes(t.match)}var v=function(){function e(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._keys=Array.isArray(t)?t:t.split(" "),this._ignoreCase=n}var t,n,o;return t=e,(n=[{key:"buildConditions",value:(o=m((function*(){if(this._conditions)return this._conditions;var e,t=[],n=f(this._keys);try{for(n.s();!(e=n.n()).done;){var o,a=e.value;a&&"object"===c(a)&&a.type?t.push(a):"string"==typeof a&&a.length&&(o=yield y(this._ignoreCase?a.toLowerCase():a,this._ignoreCase),t.push(o))}}catch(e){n.e(e)}finally{n.f()}return this._conditions=t,this._includeBroadcast=t.some((function(e){return"type"===e.type&&e.match===r.TYPES.broadcast||"anyOf"===e.type&&e.match.length&&e.match.some((function(e){return"type"===e.type&&e.match===r.TYPES.broadcast}))})),t})),function(){return o.apply(this,arguments)})},{key:"match",value:function(e){return!(e.type===r.TYPES.broadcast&&!this._includeBroadcast)&&this._conditions.length&&this._conditions.every(b.bind(null,e))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return e instanceof v?e:new v(e)}function w(e,t){return S.apply(this,arguments)}function S(){return(S=m((function*(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=("string"==typeof t&&(t=t.toLowerCase().split(" ")),n.returnType),o=n.minDate,a=(n=void 0===(n=n.limit)?0:n,_(t));return yield a.buildConditions(),(0,i.queryMessagesFromDatabase)(e,(function(e){return!(!e.id||e.deleted||o&&e.date<o)&&a.match(e)}),{limit:n,offset:0,reverse:!0,returnType:r})}))).apply(this,arguments)}function O(){return(O=m((function*(e,t){var n,r,a,i,s,f,d,p,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(t?"contacts"===t?t=l.default.getPrivateChats({sortRules:!1,excludeLocal:!0}):"groups"===t?t=M(t=l.default.getGroupsChats("default",!1,!0)):"string"==typeof t?t=[t].concat(u(l.default.getChat(t).mergedChats)):Array.isArray(t)&&(n=[],t.forEach((function(e){var t=l.default.getChat(e);n.push(e),n=n.concat(t.mergedChats)})),t=n):t=M(t=l.default.getAllChats(!1)),t.length)return t=t.map((function(e){return e&&"object"===c(e)?e.gid:e})).filter((function(e){return e!==o.NOTIFICATION_CHAT_GID})),r=h.returnType,a=h.minDate,i=h.beforeSearchChat,s=h.afterSearchChat,f=h.abortHandler,d=h.limit,p=_(e),yield p.buildConditions(),h.beforeSearch&&h.beforeSearch(t,p),Promise.all(t.map(function(){var e=m((function*(e,n){if(f.aborted)return null;i&&i(e,n,t);var o=yield w(e,p,{minDate:a,returnType:r,limit:d});return o=Array.isArray(o)?{cgid:e,count:o.length,list:o}:o,s&&s(e,o,n,t),o}));return function(t,n){return e.apply(this,arguments)}}()))}))).apply(this,arguments)}function M(e){var t=new Set;return e.forEach((function(e){if("object"===c(e)){if(t.add(e.gid),!e.isOne2One&&Array.isArray(e.mergedChats)&&0<e.mergedChats.length){var n,r=f(e.mergedChats);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.add(o)}}catch(e){r.e(e)}finally{r.f()}}}else if("string"==typeof e){t.add(e);var a=l.default.getChat(e);if(Array.isArray(a.mergedChats)&&0<a.mergedChats.length){var i,s=f(e.mergedChats);try{for(s.s();!(i=s.n()).done;){var u=i.value;t.add(u)}}catch(e){s.e(e)}finally{s.f()}}}})),u(t)}t.MessageSearchConditions=v},73052:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createMessage=void 0,t.fetchChatMessageInfoFromRemote=K,t.isMessagePinnedInChat=function(e,t){return!!(t=y.default.getChat(t))&&t.isPinnedMessage(e)},t.queryMessagesFromDatabase=G,t.reindexNotifications=H,t.syncMessagesFromRemote=Z;var o=k(n(23848)),a=n(51572),i=k(n(20213)),l=n(84401),s=k(n(84836)),u=C(n(92691)),c=n(62411),f=C(n(33594)),d=n(55292),p=k(n(24260)),h=n(15973),m=n(58851),y=k(n(74101)),g=n(68271),b=n(37907),v=n(14915),_=k(n(94128)),w=n(23405),S=n(86273),O=n(81595);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=M(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function k(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=D(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function D(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=F(e);if(n=t?(n=F(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return R(o)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function B(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){B(a,r,o,i,l,"next",e)}function l(e){B(a,r,o,i,l,"throw",e)}i(void 0)}))}}var W=Symbol("saved-messages"),z=Symbol("chat-messages-ready");function H(){return V.apply(this,arguments)}function V(){return(V=U((function*(){var e=yield G("notification",null,{returnType:"message"});return(0,u.sortChatMessages)(e),e.forEach((function(e,t){e.index=t+1})),e}))).apply(this,arguments)}function G(e,t){return q.apply(this,arguments)}function q(){return(q=U((function*(e,t){var n=void 0===(n=(a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).limit)?0:n,r=void 0===(r=a.offset)?0:r,o=void 0===(o=a.reverse)||o,a=void 0===(a=a.returnType)?"raw":a,i=f.default.database.chatMessages;return e&&(i=i.where("cgid").equals(e)),"function"==typeof t&&(i=i.filter(t)),o&&(i=i.reverse()),r&&(i=i.offset(r)),n&&(i=i.limit(n)),"count"===a?{gid:e,count:yield i.count()}:(i=yield i.toArray(),"raw"===a?i:i.map($))}))).apply(this,arguments)}var $=function(e,t){return e instanceof u.default||e instanceof c.NotificationMessage?e:(t&&!(0,S.isLocalID)(e.id)&&e.deleted&&e.user===(0,h.getCurrentUserID)()&&(t=t.getItemFromCache(e.id))&&e!==t&&(e.contentBackup=t.content,e.replyTo=t.replyTo),(e.type===u.TYPES.notification||e.type===u.TYPES.notify?c.createNotificationMessage:u.createChatMessage)(e))};function K(e){return J.apply(this,arguments)}function J(){return(J=U((function*(e){if(e===m.NOTIFICATION_CHAT_GID)return null;var t=y.default.getChat(e);return t&&(t.isLocal||t.isRobot)?{lastMessage:0,messageCount:0}:(e=(t=j(yield(0,o.default)(p.default.sendAndListen({method:"chatGetMessageInfo",params:[e]})),2))[0],t=t[1],e&&DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","fetch chat message info Error","redPale",String(e),"red"),console.error("error",e),console.groupEnd()),t?(DEBUG_I&&(console.collapse("STORE.ChatMessage","pinkBg","fetch chat message info","pinkPale","last message ID ".concat(t.lastMessage,", count ").concat(t.messageCount),""),console.log("messageInfo",t),console.groupEnd()),t):null)}))).apply(this,arguments)}function X(){return(X=U((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=0,o=0,a=0;return(e=yield K(e))&&(r=e.messageCount,o=Math.ceil(r/t),a=e.lastMessage),{recPerPage:t,pageID:n?o:1,recTotal:r,pageTotal:o,range:[0,a]}}))).apply(this,arguments)}function Z(e,t){return Q.apply(this,arguments)}function Q(){return(Q=U((function*(e,t){var n=void 0!==(n=(a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).reverse)&&n,r=void 0===(r=a.limit)?50:r,a=void 0!==(a=a.returnID)&&a,i=(l=j(yield(0,o.default)(p.default.sendAndListen({method:"messageSync",params:[e,t,n,r,a]})),2))[0],l=l[1];return i?(DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","sync messages Error","redPale",String(i),"red"),console.error("error",i),console.log("params:",{cgid:e,fromID:t,reverse:n,limit:r,returnID:a}),console.groupEnd()),[]):(DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","sync messages","pinkPale",l?l.length:0,""),console.log("messages:",l),console.log("params:",{cgid:e,fromID:t,reverse:n,limit:r,returnID:a}),console.groupEnd()),l)}))).apply(this,arguments)}t.createMessage=$;var ee=new(function(e){var t=K;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e);var n,r,c,d,M,C,k,E,D,A,B,V,q=N(K);function K(e){var t;if(this instanceof K)return Y(R(t=q.call(this,"ChatMessage",e,{channelDelayTime:120})),"unionIdMap",new Map),Y(R(t),"_idleTasks",new i.default),Y(R(t),"_commonChannel",l.delayChannel),Y(R(t),"_databaseSaveTask",new s.default(t.saveMessagesToDatabase.bind(R(t)),200)),Y(R(t),"_messagesNeedSave",new Set),Y(R(t),"messagesNeedLoad",new Map),Y(R(t),"messagesNeedLoadByIndex",new Map),Y(R(t),"_messagesLoadTask",new s.default(t.tryLoadMessages.bind(R(t)),200)),Y(R(t),"_ready",!1),Y(R(t),"_synchronizing",!1),Y(R(t),"maxNotificationIndex",0),Y(R(t),"normalizeItem",$),Y(R(t),"getItemFromCacheByUnionId",(function(e){return(e=t.unionIdMap.get(e))?t.getItemFromCache(e):null})),y.default.subscribeChatsReadyEvent(t.handleChatsReady.bind(R(t))),(0,w.onStartFetchingHistory)((function(){t._synchronizing=!0})),(0,w.onFinishFetchingHistory)((function(){setTimeout((function(){t._synchronizing=!1}),2e3)})),t;throw new TypeError("Cannot call a class as a function")}return t=K,(e=[{key:"isReady",get:function(){return this._ready}},{key:"handleChatsReady",value:(V=U((function*(){yield this.fetchMissedMessages(),yield this.fetchOfflineMessagesFromRemote(),this._ready=!0,this._commonChannel.publishNow(z),this.maxNotificationIndex=0;var e=yield H();this.maxNotificationIndex=e.length,this.store(e)})),function(){return V.apply(this,arguments)})},{key:"reset",value:function(e){var t=I(F(K.prototype),"reset",this).call(this,e);this._ready=!1,t&&this._databaseSaveTask.cancel(),this._idleTasks.cancelAll(),DEBUG_I&&(console.collapse("STORE.ChatMessage","pinkBg","reset","pinkPale",t,""),console.log("identify",e),console.groupEnd())}},{key:"store",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e){Array.isArray(e)||(e=[e]);var r=(void 0!==(l=n.skipChatFilter)&&l||(e=e.filter((function(e){return!!e&&(e=y.default.getChat(e.cgid))&&!e.isDeleted}))),(0,h.getCurrentUserID)()),o=(0,m.getXuanbotGid)(r),i=null==(l=y.default.getChat(o))?void 0:l.lastMessageIndex,l="DATASTORE::".concat(this._identify,"::").concat(this._name,"::LOCAL_NOTIFICATION"),s="DATASTORE::".concat(this._identify,"::").concat(this._name,"::LAST_LOCAL_NOTIFICATION"),c=(0,O.getStoreItem)(l,[]);if(e=(e=e.map((function(e){if(!(0,h.getCurrentUser)().isVersionSupport(a.VersionSupport.xuanbot)||"notification"!==e.type||e.cgid!==o&&e.cgid!==m.NOTIFICATION_CHAT_GID||e.index&&e.index%1!=0)return e;var t=Number.parseInt(e.id,10)/Math.pow(10,10);return c.some((function(e){return(e-t)%1==0}))?null:(e.index=Math.floor(i)+t,e.date=Date.now(),e.cgid=o,c.push(e.index),(0,O.setStoreItem)(s,e),e)}))).filter((function(e){return e})),(0,O.setStoreItem)(l,c),e.length){l=void 0===(l=n.putToDatabase)||l,e=I(F(K.prototype),"store",this).call(this,e,{normalizeFunc:$}),l&&this.planToSaveMessagesToDatabase(e),DEBUG_I&&(console.collapse("STORE.ChatMessage","pinkBg","store","pinkPale",e.length,""),console.trace("chatMessages",e),console.log("options",n),console.log("store",this),console.groupEnd()),l=e.reduce((function(e,t){var n=t.cgid;return e.has(n)?e.get(n).push(t):e.set(n,[t]),e}),new Map);var f,d=(DEBUG_I&&console.collapse("STORE.ChatMessage","pinkBg","set latest messages","pinkPale",l.size,""),[]),p=[],w=[],S=[],M=[],C=[],k=_.default.call("ui.isWindowOpenAndFocus"),E=[],P=x(l);try{for(P.s();!(f=P.n()).done;){var D=j(f.value,2),A=D[0],L=D[1],N=y.default.getChat(A,!1);if(N){if(this.isReady&&N.isNotification){(0,u.sortChatMessages)(L);for(var R=0;R<L.length;R++){var Y=L[R];0===Y.index&&(Y.index=++this.maxNotificationIndex)}this.planToSaveMessagesToDatabase(L)}var B=N.setLatestMessages(L,{currentUserID:r,isFocusedActiveChat:k&&(0,g.isOpenedActiveChat)(N.gid)});B.updated&&d.push(N),B.newMessages.length&&p.push.apply(p,T(B.newMessages)),B.newUnread.length&&w.push.apply(w,T(B.newUnread)),B.deletedUnread.length&&S.push.apply(S,T(B.deletedUnread)),B.lastReadChanged&&M.push(A),B.frozenCanceled&&C.push(A),B.localDeletedMessages.length&&E.push.apply(E,T(B.localDeletedMessages)),this._afterStoreChatMessages&&this._afterStoreChatMessages(N,B),DEBUG_I&&(console.collapse(N.name||N.gid,B.updated?"green":"","count:".concat(N.latestMessageIndexes.length),"","unread:".concat(N.unreadMessagesCount),N.unreadMessagesCount?"orange":"","newUnread:".concat(B.newUnread.length),B.newUnread.length?"orange":"","lastRead:".concat(N.lastReadMessageIndex),B.lastReadChanged?"orange":"",""),console.log(B),console.groupEnd())}}}catch(e){P.e(e)}finally{P.f()}if(e.forEach((function(e){e.id&&e.unionId&&t.unionIdMap.set(e.unionId,e.id)})),DEBUG_I&&(console.trace("chatsMap",l),console.groupEnd()),d.length&&y.default.store(d),p.length&&(0,b.emitReceiveNewMessages)(p),(w.length||S.length?b.emitUnreadMessagesChange:b.tryEmitUnreadMessagesChange)(y.default.getUnreadMessageCount()),M.length){var U,W=x(M);try{for(W.s();!(U=W.n()).done;){var z=U.value;(0,v.syncLastReadMessageForChat)(y.default.getChat(z,!1))}}catch(e){W.e(e)}finally{W.f()}}if(C.length){var H,V=x(C);try{for(V.s();!(H=V.n()).done;){var G=H.value;(0,v.toggleFreezeChat)(y.default.getChat(G),!1)}}catch(e){V.e(e)}finally{V.f()}}if(E.length){var q,J=x(E);try{for(J.s();!(q=J.n()).done;){var X=q.value;this.deleteCacheItem(X)}}catch(e){J.e(e)}finally{J.f()}}return e}}}},{key:"afterStoreChatMessages",value:function(e){this._afterStoreChatMessages&&DEBUG&&console.error("this._afterStoreChatMessages is not empty, it's may be an error."),this._afterStoreChatMessages=e}},{key:"getMessagesFromDatabase",value:(B=U((function*(e,t){var n,r,o=this,a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=this._identify;if(t="id"===(3<arguments.length&&void 0!==arguments[3]?arguments[3]:"id")?yield f.default.database.chatMessages.bulkGet(t):yield f.default.database.chatMessages.where("unionId").anyOf(t.map((function(t){return"".concat(e,"@").concat(t)}))).toArray(),i===this._identify)return n=[],r=[],t.forEach((function(t){var a;t&&e!==m.NOTIFICATION_CHAT_GID&&((a=o._cache.get(t.id))?r.push(a):((t=$(t,o)).expired=!0,n.push(t),r.push(t)))})),n.length&&this.store(n,{putToDatabase:!1,putToCache:a,unread:!1}),r})),function(e,t){return B.apply(this,arguments)})},{key:"planToSaveMessagesToDatabase",value:function(e){var t,n=x(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.id;(0,u.isLocalMessageID)(o)||this._messagesNeedSave.add(r)}}catch(e){n.e(e)}finally{n.f()}this._databaseSaveTask.do()}},{key:"saveMessagesToDatabase",value:(A=U((function*(){if(this._messagesNeedSave.size){var e,t=[],n=x(this._messagesNeedSave);try{for(n.s();!(e=n.n()).done;){var r=e.value;r&&t.push(r.plain())}}catch(e){n.e(e)}finally{n.f()}if(this._messagesNeedSave.clear(),t.length){(0,f.beginDBBusyTask)();try{var o=f.default.database.chatMessages;t.length&&(yield o.bulkPut(t)),this._commonChannel.publishNow(W,t),DEBUG_I&&(console.collapse("STORE.ChatMessage","pinkBg","save chat message to database","pinkPale",t.length,""),console.log("messagesNeedSave",t),console.log("store",this),console.groupEnd())}catch(e){DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","save chat message to database Error","redPale",String(e),"red"),console.error("error",e),console.log("messagesNeedSave",t),console.log("store",this),console.groupEnd())}(0,f.endDBBusyTask)()}}})),function(){return A.apply(this,arguments)})},{key:"subscribeMessagesSaved",value:function(e){return this._commonChannel.subscribe(W,e)}},{key:"unsubscribeMessagesSaved",value:function(e){return this._commonChannel.unsubscribe(e)}},{key:"subscribeChatMessagesReadyEvent",value:function(e){return this._commonChannel.subscribe(z,e)}},{key:"unsubscribeChatMessagesReadyEvent",value:function(e){return this._commonChannel.unsubscribe(e)}},{key:"getMessage",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"id",r="id"===n?this.getItemFromCache(e):this.getItemFromCacheByUnionId("".concat(t,"@").concat(e));return r?r.lastAccessTime=Date.now():this._synchronizing||this.getMessagesFromDatabase(t,[e],!0,n),r}},{key:"getMessages",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"id";if(!e||!e.length)return[];var o=[];return e="id"===r?e.map((function(e){var t=e?n.getItemFromCache(e):null;return!e||t||n._synchronizing||o.push(e),t})):e.map((function(e){var r=e?n.getItemFromCacheByUnionId("".concat(t,"@").concat(e)):null;return!e||r||n._synchronizing||o.push(e),r})),o.length&&this.planToLoadMessages(t,o,r),e}},{key:"asyncGetMessage",value:(D=U((function*(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"id";if(!t)return null;var o,a="id"===r?this.getItemFromCache(t):this.getItemFromCacheByUnionId("".concat(e,"@").concat(t));return(a=a||(null==(o=yield this.getMessagesFromDatabase(e,[t],n,r))?void 0:o[0]))?a:null==(o=yield this.getMessagesFromRemote(e,[t],{putToCache:n,keyBy:r}))?void 0:o[0]})),function(e,t){return D.apply(this,arguments)})},{key:"asyncGetMessages",value:(E=U((function*(e,t){for(var n=this,r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"id",a=new Set,i=[],l=new Map,s="id"===o?this.getItemFromCache:function(t){return n.getItemFromCacheByUnionId("".concat(e,"@").concat(t))},u=0;u<t.length;++u){var c=t[u],f=(l.set(c,u),s(c));f?i[u]=f:a.add(c)}if(a.size){var d=yield this.getMessagesFromDatabase(e,T(a),r,o);if(d&&d.length){var p,h=x(d);try{for(h.s();!(p=h.n()).done;){var m,g=p.value;g&&(m="id"===o?g.id:g.index,i[l.get(m)]=g,a.delete(m))}}catch(t){h.e(t)}finally{h.f()}}Array.from(a).forEach((function(e){(0,S.isLocalID)(e)&&a.delete(e)}))}if(e&&a.size&&(d=yield this.getMessagesFromRemote(e,T(a),{putToCache:r,keyBy:o}))&&d.length){var b,v=x(d);try{for(v.s();!(b=v.n()).done;){var _,w=b.value;w&&(_="id"===o?w.id:w.index,i[l.get(_)]=w,a.delete(_))}}catch(t){v.e(t)}finally{v.f()}}return DEBUG&&(a.size?(console.collapse("STORE.ChatMessage","pinkBg","Cannot load ".concat(a.size," messages for chat"),"redPale",(null==(r=y.default.getChat(e))?void 0:r.name)||e,"red"),console.error("messagesNeedLookup",a)):console.collapse("STORE.ChatMessage","pinkBg","Load ".concat(i.length," messages for chat"),"pinkPale",e,""),console.log("messages",i),console.log("cgid",e),console.log("ids",t),console.groupEnd()),i})),function(e,t){return E.apply(this,arguments)})},{key:"planToLoadMessages",value:function(e,t){var n="id"===(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"id")?this.messagesNeedLoad:this.messagesNeedLoadByIndex;if(n.has(e)){var r,o=x(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.get(e).add(a)}}catch(e){o.e(e)}finally{o.f()}}else n.set(e,new Set(T(t)));this._messagesLoadTask.do()}},{key:"tryLoadMessages",value:(k=U((function*(){if(this.messagesNeedLoad.size){var e,t=T(this.messagesNeedLoad.entries()),n=(this.messagesNeedLoad.clear(),x(t));try{for(n.s();!(e=n.n()).done;){var r=j(e.value,2),o=r[0],a=r[1];yield this.asyncGetMessages(o,T(a))}}catch(e){n.e(e)}finally{n.f()}}if(this.messagesNeedLoadByIndex.size){t=T(this.messagesNeedLoadByIndex.entries());var i,l=(this.messagesNeedLoadByIndex.clear(),x(t));try{for(l.s();!(i=l.n()).done;){var s=j(i.value,2),u=s[0],c=s[1];yield this.asyncGetMessages(u,T(c),!0,"index")}}catch(e){l.e(e)}finally{l.f()}}})),function(){return k.apply(this,arguments)})},{key:"fetchOfflineMessagesFromRemote",value:(C=U((function*(){var e=this;try{var t=yield this._idleTasks.requestAndWait(U((function*(){var t=yield p.default.sendAndListen({method:"messageSyncSinceOffline",params:[!1]});if(null!=t&&t.length)return e.store(t,{putToDatabase:!0,putToCache:!0,unread:!0})})),{timeout:3e3,name:"fetchOfflineMessagesFromRemote"});DEBUG_I&&(console.collapse("STORE.ChatMessage","pinkBg","fetch offline messages","pinkPale",t?t.length:0,""),console.log("offlineMessages",t),console.groupEnd())}catch(t){DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","fetch offline messages Error","redPale",String(t),"red"),console.error("error",t),console.log("store",this),console.groupEnd())}})),function(){return C.apply(this,arguments)})},{key:"fetchMissedMessages",value:(M=U((function*(){var e=this;try{var t=yield this._idleTasks.requestAndWait(U((function*(){if((0,h.getCurrentUser)().isVersionSupport("messageSyncMissed")){var t=yield f.default.database.chatMessages.orderBy("id").last();if(t)return null!=(t=yield p.default.sendAndListen({method:"messageSyncMissed",params:[null==t?void 0:t.id]}))&&t.length?e.store(t,{putToDatabase:!0,putToCache:!0,unread:!1}):void 0}})),{timeout:3e3,name:"fetchMissedMessage"});DEBUG_I&&(console.collapse("STORE.ChatMessage","pinkBg","fetch missed messages","pinkPale",t?t.length:0,""),console.log("missedMessages",t),console.groupEnd())}catch(t){DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","fetch missed messages Error","redPale",String(t),"red"),console.error("error",t),console.log("store",this),console.groupEnd())}})),function(){return M.apply(this,arguments)})},{key:"fetchLastMessageOfChatsFromRemote",value:function(e){var t=this;return this._idleTasks.requestAndWait(U((function*(){var n=(r=j(yield(0,o.default)(p.default.sendAndListen({method:"chatGetLastMessage",params:[e]})),2))[0],r=r[1];if(!n)return DEBUG_I&&(console.collapse("STORE.ChatMessage","pinkBg","fetch latest messages of recents","pinkPale",r?r.length:0,""),console.log("cgids",e),console.log("lastMessages",r),console.groupEnd()),r&&r.length?t.store(r,{putToDatabase:!0,putToCache:!0}):r;DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","fetch latest messages of recents Error","redPale",String(n),"red"),console.error("error",n),console.log("cgids",e),console.groupEnd())})),{name:"fetchLastMessageOfChatsFromRemote",timeout:3e3})}},{key:"fetchLastMessageForChats",value:(d=U((function*(){var e,t=[],n=[],r=x(y.default.getAllChats());try{for(r.s();!(e=r.n()).done;){var o=e.value,a=o.lastMessageInfo,i=o.lastMessage,l=o.gid;o.isDeleted||o.isDismissed||o.isOne2One&&o.isLocal||!i||(null==a?void 0:a.id)===i||o.isMerged||(o.isRobot&&o.isLocal||o.historyEnd===i||o.latestMessages.includes(i)?t.push(i):n.push(l))}}catch(e){r.e(e)}finally{r.f()}var s=[];t.length&&s.push(this.getMessagesFromDatabase(t)),n.length&&s.push(this.fetchLastMessageOfChatsFromRemote(n)),s.length&&(yield Promise.all(s))})),function(){return d.apply(this,arguments)})},{key:"getMessagesFromRemote",value:(c=U((function*(e,t,n){return e===m.NOTIFICATION_CHAT_GID&&"index"===n.keyBy?[]:(r=void 0===(r=n.putToCache)||r,a=void 0!==(a=n.skipChatFilter)&&a,n=n.keyBy,t=(n=j(yield(0,o.default)(p.default.sendAndListen({method:"id"===(void 0===n?"id":n)?"messageGetList":"messageGetListByIndexes",params:(0,h.getCurrentUser)().isVersionSupport("messageGetListWithGid")?[e,t]:[t]})),2))[0],n=n[1],t?void(DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","fetch messages Error","redPale",String(t),"red"),console.error("error",t),console.groupEnd())):(DEBUG&&(console.collapse("STORE.ChatMessage","pinkBg","fetch messages","pinkPale",n?n.length:0,""),console.log("messages:",n),console.groupEnd()),y.default.getChat(e)?this.store(n,{putToDatabase:!0,putToCache:r,skipChatFilter:a}):n.map((function(e){return(0,u.createChatMessage)(e)}))));var r,a})),function(e,t,n){return c.apply(this,arguments)})},{key:"loadNotificationsByPage",value:(r=U((function*(e,t){var n,r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=(e&&"number"!=typeof e||(o="number"==typeof e?e:20,n=(a=(yield G(m.NOTIFICATION_CHAT_GID,null,{limit:0,offset:0,reverse:!1,returnType:"count"})).count)?Math.ceil(a/o):0,e={recPerPage:o,recTotal:a,pageID:t?n:1,totalPage:n,offset:0}),e.recPerPage=Math.max(1,e.recPerPage),e.pageTotal=Math.ceil(e.recTotal/e.recPerPage),e.pageID=Math.max(1,Math.min(e.pageTotal,e.pageID)),yield G(m.NOTIFICATION_CHAT_GID,null,{limit:e.recPerPage,offset:e.offset,reverse:t,returnType:"raw"})),a=this.store(o,{putToDatabase:!1,putToCache:r,unread:!1})||[];return{ids:a.map((function(e){return e.id})),list:a,prevPager:1<e.pageID?P(P({},e),{},{pageID:e.pageID-1,offset:Math.max(0,e.offset-e.recPerPage)}):null,pager:P(P({},e),{},{recCount:a.length}),nextPager:e.pageID<e.pageTotal?P(P({},e),{},{pageID:e.pageID+1,offset:e.offset+a.length}):null}})),function(e,t){return r.apply(this,arguments)})},{key:"fetchChatMessagesByPage",value:(n=U((function*(e,t){var n=this,r=void 0===(r=t.reverse)||r,o=void 0===(o=t.putToCache)||o,a=void 0!==(a=t.skipChatFilter)&&a;if(t=t.pager,e===m.NOTIFICATION_CHAT_GID)return yield this.loadNotificationsByPage(t,r,o);if((t=t&&"number"!=typeof t?t:yield function(){return X.apply(this,arguments)}(e,"number"==typeof t?t:void 0,r)).recPerPage=Math.max(1,t.recPerPage),t.pageTotal||(t.pageTotal=Math.ceil(t.recTotal/t.recPerPage)),t.pageID=Math.max(1,Math.min(t.pageTotal||1,t.pageID)),!t.recTotal)return{list:[],pager:t,nextPager:null,prevPager:null};var i=yield Z(e,t.range[r?1:0],{reverse:r,limit:t.recPerPage,returnID:!0}),l=new Map(i.map((function(e,t){return[e,t]}))),s=[],u=new Set,c=null;if(i.forEach((function(e,t){var r=n.getItemFromCache(e);r?s[t]=r:u.add(e)})),u.size){var f,d=x(yield this.getMessagesFromDatabase(T(u),o));try{for(d.s();!(f=d.n()).done;){var p=f.value;u.delete(p.id),s[l.get(p.id)]=p}}catch(e){d.e(e)}finally{d.f()}u.size&&(c=T(u))}if(c&&c.length&&(e=yield this.getMessagesFromRemote(e,c,{putToCache:o,skipChatFilter:a}))&&e.length){var h,y=x(e);try{for(y.s();!(h=y.n()).done;){var g=h.value;s[l.get(g.id)]=g}}catch(e){y.e(e)}finally{y.f()}}return c=r?[i[i.length-1],i[0]]:[i[0],i[i.length-1]],{ids:i,list:s,range:c,prevPager:1<t.pageID?P(P({},t),{},{pageID:t.pageID-1,range:[0,c[0]-1]}):null,pager:P(P({},t),{},{range:c}),nextPager:t.pageID<t.pageTotal?P(P({},t),{},{pageID:t.pageID+1,range:[c[1]+1,Number.MAX_SAFE_INTEGER]}):null}})),function(e,t){return n.apply(this,arguments)})},{key:"deleteLocalMessage",value:function(e){return!!(e=this.getItemFromCache(e))&&!!e.markLocalDeleted()&&(this.store(e),!0)}},{key:"subscribeByIndices",value:function(e,t,n){return this.subscribeAny((function(r){var o;Array.isArray(r)?(o=r.filter((function(n){return n.cgid===t&&e.includes(n.index)})),n(o.map((function(e){return null==e?void 0:e.proxy})))):r.cgid===t&&e.includes(r.index)&&n(r.proxy)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),K}(d.DataStore));ee.queryMessagesFromDatabase=G,(0,f.setCallbackOnInitedDatabase)(ee.reset.bind(ee)),(0,h.onUserLogout)((function(){ee.saveMessagesToDatabase()})),n.g.ExtsRuntime&&n.g.ExtsRuntime.registerExtensionAPI([{name:"im.getMessage",level:3,func:function(e){return null==(e=ee.getMessage(e))?void 0:e.proxy}},{name:"im.getMessages",level:3,func:function(e,t){return ee.getMessages(e,t).map((function(e){return null==e?void 0:e.proxy}))}},{name:"im.subscribeMessages",level:3,func:function(e,t){return ee.subscribe(e,(function(e){Array.isArray(e)?t(e.map((function(e){return null==e?void 0:e.proxy}))):t(e.proxy)}))}},{name:"im.subscribeAnyMessages",level:3,func:function(e){return ee.subscribeAny((function(t){Array.isArray(t)?e(t.map((function(e){return null==e?void 0:e.proxy}))):e(t.proxy)}))}},{name:"im.unsubscribeMessages",level:3,func:function(e){return ee.unsubscribe(e)}}]),DEBUG&&(n.g.$chatMessagesStore=ee),t.default=ee},58851:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES=t.NOTIFICATION_CHAT_GID=t.DEFAULT_LATEST_MESSAGES_COUNT=void 0,t.createOne2OneChatGid=T,t.default=void 0,t.getXuanbotGid=function(e){return"".concat(e,"&xuanbot")};var o=n(92691),a=(a=n(27945))&&a.__esModule?a:{default:a},i=n(48389),l=n(7066),s=n(7491),u=n(81595),c=n(15973);function f(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function h(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n,r){return(b="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var o;if(e=_(e,t)){if((o=Object.getOwnPropertyDescriptor(e,t)).set)return o.set.call(r,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,t)){if(!o.writable)return!1;o.value=n,Object.defineProperty(r,t,o)}else C(r,t,n);return!0})(e,t,n,r)}function v(){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function k(e,t){return(t=P(e,t,"get")).get?t.get.call(e):t.value}function E(e,t,n){if((t=P(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function P(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function T(e,t){return[e,t].sort().join("&")}var j="notification";t.NOTIFICATION_CHAT_GID=j,t.DEFAULT_LATEST_MESSAGES_COUNT=30,t.TYPES=x,(I=x||(t.TYPES=x={})).one2one="one2one",I.group="group",I.system="system",I.robot="robot",I.bot="bot",(I=D=D||{}).admins="admins",I.whitelist="whitelist",I.all="all";var x,D,A=a.default.SCHEMA.extend({type:{type:"string",indexed:!0},name:{type:"string",indexed:!0},createdDate:{type:"timestamp"},createdBy:{type:"string"},ownedBy:{type:"string"},editedDate:{type:"timestamp"},lastActiveTime:{type:"timestamp",indexed:!0},dismissDate:{type:"timestamp"},mergedDate:{type:"timestamp"},star:{type:"boolean"},mute:{type:"boolean"},public:{type:"boolean"},archiveDate:{type:"timestamp"},hide:{type:"boolean"},admins:{type:"set"},members:{type:"set"},pinnedMessages:{type:"array"},mergedChats:{type:"array"},committers:{type:"string"},category:{type:"string"},freeze:{type:"boolean"},deleted:{type:"boolean"},lastMessageInfo:{type:"json"},lastAccessTime:{type:"timestamp",indexed:!0},lastReadMessageIndex:{type:"int",default:0},bulletins:{type:"array"},theOtherMemberID:{type:"int"},localMessages:{type:"json"},adminInvite:{type:"boolean"},avatar:{type:"object"}}),I=(0,i.createProxyPropertiesMap)(["type","name","createdDate","ownedBy","createdBy","editedDate","lastActiveTime","dismissDate","star","mute","public","archiveDate","admins","members","pinnedMessages","committers","category","freeze","noticeCount","adminInvite","avatar"],a.default.PROXY_PROPERTIES),L=(0,i.createProxyHandler)(I),N=new WeakMap,R=new WeakMap;i=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=O(e);if(n=t?(n=O(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return S(o)}}(i);function i(e){var t=this;if(t instanceof i)return C(S(t=a.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Chat")),"fileSavedNoticeCount",0),M(S(t),N,{writable:!0,value:0}),C(S(t),"pinyin",void 0),M(S(t),R,{writable:!0,value:[]}),C(S(t),"unreadAndDeletedMsgIdxSet",new Set),C(S(t),"ignoreMessageIndexes",new Set),C(S(t),"unreadMessageSet",new Set),C(S(t),"draft",void 0),e.latestMessageIndexes&&E(S(t),R,e.latestMessageIndexes),0===k(S(t),R).length&&t.lastMessageIndex&&k(S(t),R).push(t.lastMessageIndex),t.updateUnreadMessages(),t;throw new TypeError("Cannot call a class as a function")}return t=i,e=[{key:"plainAvatar",value:function(e){return JSON.stringify(e)}}],(n=[{key:"proxyHandler",get:function(){return L}},{key:"ensureGid",value:function(){if(this.isOne2One){var e=this.members;if(2===e.size)this.$.gid||(this.$.gid=T.apply(void 0,h(e)));else{if(!this.$.gid)throw new Error("One2One chat gid error.");this.$.members=this.$.gid.split("&").map((function(e){return Number.parseInt(e,10)}))}}else v(O(i.prototype),"ensureGid",this).call(this)}},{key:"schema",get:function(){return A}},{key:"id",get:function(){return this.$get("id")},set:function(e){var t=O(i.prototype);if(!b(t,"id",e,this||t))throw new Error("failed to set property")}},{key:"isDeleted",get:function(){return this.$get("deleted")},set:function(e){this.$set("deleted",e)}},{key:"isDeletedOne2One",get:function(){return this.isOne2One&&this.isDeleted}},{key:"isNotInGroup",get:function(){return!this.isOne2One&&this.isDeleted}},{key:"type",get:function(){var e=this.$get("type");return e||((e=this.members)&&2===e.size?x.one2one:x.group)},set:function(e){this.$set("type",e)}},{key:"isRobot",get:function(){return this.type===x.robot}},{key:"isBot",get:function(){return this.type===x.bot}},{key:"isNotification",get:function(){return this.isRobot&&this.gid===j}},{key:"isOne2One",get:function(){return this.type===x.one2one}},{key:"isGroup",get:function(){return this.type===x.group}},{key:"isSystem",get:function(){return this.type===x.system}},{key:"isGroupOrSystem",get:function(){return this.isGroup||this.isSystem}},{key:"isPrivate",get:function(){return this.isOne2One&&1===new Set(this.gid.split("&")).size}},{key:"category",get:function(){return this.$get("category")},set:function(e){this.$set("category",e)}},{key:"name",get:function(){return this.$get("name")},set:function(e){this.$set("name",e)}},{key:"star",get:function(){return!(!this.isSystem||this.isRobot)||this.$get("star")},set:function(e){this.$set("star",e)}},{key:"mute",get:function(){return this.$get("mute")},set:function(e){this.$set("mute",e)}},{key:"hidden",get:function(){return this.hide},set:function(e){this.hide=e}},{key:"hide",get:function(){return this.$get("hide")},set:function(e){this.$set("hide",e)}},{key:"public",get:function(){return this.$get("public")},set:function(e){this.$set("public",e)}},{key:"archiveDate",get:function(){return this.$get("archiveDate")},set:function(e){this.$set("archiveDate",e)}},{key:"isArchived",get:function(){return!!this.archiveDate}},{key:"adminInvite",get:function(){return this.$get("adminInvite")},set:function(e){this.$set("adminInvite",e)}},{key:"avatar",get:function(){return this.$get("avatar")},set:function(e){this.$set("avatar",e)}},{key:"createdBy",get:function(){return this.$get("createdBy")},set:function(e){this.$set("createdBy",e)}},{key:"ownedBy",get:function(){return this.$get("ownedBy")},set:function(e){this.$set("ownedBy",e)}},{key:"createdDate",get:function(){return this.$get("createdDate")},set:function(e){this.$set("createdDate",e)}},{key:"editedDate",get:function(){return this.$get("editedDate",0)},set:function(e){this.$set("editedDate",e)}},{key:"dismissDate",get:function(){return this.$get("dismissDate")},set:function(e){this.$set("dismissDate",e)}},{key:"isDismissed",get:function(){return!!this.dismissDate}},{key:"canDismiss",value:function(e){return!this.isDismissed&&this.isGroup&&this.isOwner(e)}},{key:"admins",get:function(){return this.$get("admins")},set:function(e){this.$set("admins",e)}},{key:"isAdmin",value:function(e){if(this.isOne2One)return!1;if(this.isSystem&&e.isSuperAdmin)return!0;if(this.isOwner(e))return!0;var t=this.admins;return!(null==t||!t.size)&&t.has(e.id)}},{key:"canSetAdmins",value:function(e){return!(!this.isSystem||!e.isSuperAdmin)||this.isOwner(e)}},{key:"setAdmins",value:function(e){"number"==typeof e&&(e=[e]),this.admins=new Set(e)}},{key:"pinnedMessages",get:function(){return this.$get("pinnedMessages",[])},set:function(e){this.$set("pinnedMessages",e)}},{key:"isPinnedMessage",value:function(e){var t=this.pinnedMessages;return!(!t||!t.length)&&t.includes(e)}},{key:"committers",get:function(){var e=this.$get("committers");return e&&"$ADMINS"!==e?new Set(e.split(",")):new Set}},{key:"setCommitters",value:function(e){this.$set("committers",e)}},{key:"committersType",get:function(){var e=this.$get("committers");return(this.isSystem||this.isGroup)&&e&&"$ALL"!==e?"$ADMINS"===e?D.admins:D.whitelist:D.all}},{key:"isCommitter",value:function(e){switch(this.committersType){case D.admins:return this.isAdmin(e);case D.whitelist:return this.isInWhitelist(e.id);default:return!0}}},{key:"canRename",value:function(e){return!this.isRobot&&!this.isBot&&!this.isDismissed&&this.isAdmin(e)&&(!this.isOne2One||this.isPrivate)}},{key:"canInvite",value:function(e){return!this.isRobot&&!this.isBot&&!this.isDismissed&&!this.isSystem&&this.members.has(e.id)&&(this.isAdmin(e)||this.isCommitter(e)&&(!this.adminInvite||this.public))}},{key:"canKickOff",value:function(e,t){return!this.isRobot&&!this.isBot&&this.isGroup&&!this.isSystem&&(!t||t.id!==e.id)&&this.isOwner(e)}},{key:"canMakePublic",value:function(e){return!this.isRobot&&!this.isBot&&!this.isDismissed&&this.isAdmin(e)&&this.isGroup}},{key:"canSetCommitters",value:function(e){return!this.isRobot&&!this.isBot&&!this.isDismissed&&this.isAdmin(e)&&!this.isOne2One}},{key:"canSetGroupSettings",value:function(e){return this.isGroupOrSystem&&!this.isDismissed&&this.isAdmin(e)}},{key:"isReadonly",value:function(e){return this.isRobot||this.isArchived||this.isDeleted||this.isDismissed||!this.isCommitter(e)}},{key:"isVisible",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:90,t=this.dismissDate;return!t||(new Date).getTime()<=t+e*l.TIME_DAY}},{key:"getFinalVisibleDate",value:function(e){var t=this.dismissDate;return t?t+e*l.TIME_DAY:0}},{key:"hasWhitelist",get:function(){return this.committersType===D.whitelist}},{key:"whitelist",get:function(){if(!this.hasWhitelist)return null;var e=new Set;return this.committers.forEach((function(t){t=Number.parseInt(t,10),Number.isNaN(t)||e.add(t)})),e},set:function(e){this.isGroupOrSystem||this.$set("committers",""),this.$set("committers",Array.from(e).join(","))}},{key:"isInWhitelist",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.whitelist;return!(!t||!t.size)&&t.has(e)}},{key:"addToWhitelist",value:function(e){var t=this.whitelist;return!(!t||t.has(e)||(t.add(e),this.whitelist=t,0))}},{key:"removeFromWhitelist",value:function(e){var t=this.whitelist;return!(!t||!t.has(e)||(t.delete(e),this.whitelist=t,0))}},{key:"members",get:function(){return this.$get("members")}},{key:"setMembers",value:function(e){e=e instanceof Set?e:new Set(e),this.$set("members",e)}},{key:"isMember",value:function(e){return!!this.isSystem||this.members.has(e)}},{key:"isOwner",value:function(e){return this.ownedBy?e.account===this.ownedBy:e.account===this.createdBy}},{key:"mergedChats",get:function(){return this.$get("mergedChats")}},{key:"mergedDate",get:function(){return this.$get("mergedDate")},set:function(e){this.$set("mergedDate",e)}},{key:"isMerged",get:function(){return!!this.mergedDate}},{key:"canArchive",value:function(e){return!this.isSystem&&!this.isRobot&&!this.isBot&&this.isGroup&&this.isOwner(e)&&!this.isDismissed}},{key:"canMerge",value:function(e){return!this.isMerged&&!this.isBot&&this.isGroup&&this.isOwner(e)&&!this.isDismissed}},{key:"canJoin",get:function(){return!this.isDismissed&&this.public&&this.isGroup&&!this.adminInvite}},{key:"canExit",value:function(){return this.isGroup}},{key:"canHide",get:function(){return this.isGroup}},{key:"isMuteOrHidden",get:function(){return this.mute||this.hidden}},{key:"lastActiveTime",get:function(){var e=this.$get("lastActiveTime",0)||this.editedDate||this.createdDate,t=this.lastMessageInfo;return t&&t.date>e?t.date:e},set:function(e){this.$set("lastActiveTime",e)}},{key:"lastAccessTime",get:function(){return this.$get("lastAccessTime")||this.lastActiveTime||0},set:function(e){this.$set("lastAccessTime",e)}},{key:"latestMessageIndexes",get:function(){return k(this,R)}},{key:"checkLatestMessageIndexes",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,t=this.latestMessageIndexes.length;if(!(t<2||this.latestMessageIndexes.some((function(e){return e%1!=0})))){var n=this.latestMessageIndexes[0],r=this.lastMessageIndex;if(r-n+1!==t){for(var o=r,a=t-2;0<=a;a--){var i=this.latestMessageIndexes[a];if(o-i!=1)break;o=i}E(this,R,(0,s.generateContinuousList)(Math.max(o-e,1),Math.max(r,1),!0))}}}},{key:"shrinkMessageIndexList",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,t=this.latestMessageIndexes;t.length>e&&E(this,R,t.slice(t.length-e))}},{key:"lastMessageInfo",get:function(){var e=this.$get("lastMessageInfo");if(this.isBot){var t=(0,c.getCurrentUser)();if(t="DATASTORE::".concat(t.identify,"::ChatMessage::LAST_LOCAL_NOTIFICATION"),(t=(0,u.getStoreItem)(t))&&(!e||t.id>e.id))return t}return e}},{key:"lastMessageIndex",get:function(){var e;return(null==(e=this.lastMessageInfo)?void 0:e.index)||0}},{key:"lastReadMessageIndex",get:function(){return this.$get("lastReadMessageIndex",0)}},{key:"unreadMessagesCount",get:function(){var e;return(null==(e=this.unreadMessageIndexes)?void 0:e.size)||0}},{key:"hasUnreadMessages",get:function(){return 0<this.unreadMessagesCount}},{key:"unreadMessageIndexes",get:function(){return this.unreadMessageSet}},{key:"updateUnreadMessages",value:function(){var e=this;if(!this.lastMessageInfo||this.lastMessageIndex<=this.lastReadMessageIndex||this.lastReadMessageIndex%1!=0||this.lastMessageIndex%1!=0)return this.unreadMessageSet=new Set,void(this.isBot&&(this.unreadMessageSet=new Set(this.latestMessageIndexes.filter((function(t){return t>e.lastReadMessageIndex})))));var t=new Set((0,s.generateContinuousList)(this.lastMessageIndex,this.lastReadMessageIndex+1,!1));h(this.unreadAndDeletedMsgIdxSet).forEach((function(n){e.lastReadMessageIndex>n?e.unreadAndDeletedMsgIdxSet.delete(n):t.has(n)&&t.delete(n)})),Array.from(t).forEach((function(n){e.ignoreMessageIndexes.has(n)&&t.delete(n)})),this.unreadMessageSet=t}},{key:"isUnreadMessage",value:function(e){return this.unreadMessageIndexes.has(e)}},{key:"setLastReadMessageIndex",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this.lastReadMessageIndex,o=this.lastMessageIndex,a=n;return(n||r<e&&e<=o)&&(this.$set("lastReadMessageIndex",e),a=!0,h(this.unreadMessageSet).forEach((function(n){n<=e&&t.unreadMessageSet.delete(n)}))),a}},{key:"muteUnreadMessages",value:function(){return this.fileSavedNoticeCount=0,this.setLastReadMessageIndex(this.lastMessageIndex)}},{key:"localMessages",get:function(){return this.$get("localMessages",{})}},{key:"localMessagesList",get:function(){return Object.values(this.localMessages).sort((function(e,t){return e-t}))}},{key:"setLatestMessages",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.currentUserID,a=void 0!==(a=n.isFocusedActiveChat)&&a,i=this.latestMessageIndexes,l=this.localMessages,s=this.mute,u=this.lastMessageInfo,c=this.lastMessageIndex,f=this.lastReadMessageIndex,m=this.isDismissed,y=this.isDeleted,g=!1,b=!1,v=f,_=c,w=[],S=[],O=[],M=null,C=[],k=new Set(i),P=[],T=a||m||y,j=p(e);try{for(j.s();!(t=j.n()).done;){var x,D,A,I=t.value,L=I.id,N=I.gid,F=I.index,Y=I.deleted;I.isInLocal?Y?(P.push(L),l[N]&&(delete l[N],b=!0)):(l[N]=L,b=!0):(l[N]&&(x=l[N],delete l[N],b=!0,k.has(x)&&(k.delete(x),g=!0)),k.has(F)||(k.add(F),g=!0),_<=F&&(_=F,M=I.plain()),Y&&(this.unreadAndDeletedMsgIdxSet.add(F),S.push(L)),D=r&&I.isSender(r),(A=!r||I.isReminder(r))||this.ignoreMessageIndexes.add(F),v<F&&(T||D)&&(v=F),!D&&A&&!Y&&v<F&&w.push(L),!D&&!Y&&!s&&v<F&&O.push(L),I.isBulletin&&C.push(I.bulletin))}}catch(e){j.e(e)}finally{j.f()}if(i=new Set,b&&(this.$set("localMessages",l),i.add("localMessages")),M&&(!u||u.index<M.index||u.deleted!==M.deleted)){if((null==(a=M)?void 0:a.type)!==o.TYPES.notification&&(null==(m=M)?void 0:m.type)!==o.TYPES.notify||"string"!=typeof(null==(y=M)?void 0:y.data))this.$set("lastMessageInfo",M);else try{this.$set("lastMessageInfo",d(d({},M),{},{data:JSON.parse(M.data)}))}catch(e){this.$set("lastMessageInfo",M)}i.add("lastMessageInfo")}return v!==f&&this.setLastReadMessageIndex(v),a=!1,c<_&&this.frozen&&(a=!(this.frozen=!1)),g&&(E(this,R,h(k).sort((function(e,t){return e-t}))),this.checkLatestMessageIndexes()),C.length&&this.addBulletins(C)&&i.add("bulletins"),this.updateUnreadMessages(),m={updated:!!i.size&&h(i),newUnread:w,deletedUnread:S,newMessages:O,bulletins:C,frozenCanceled:a,localMessages:l,localMessagesChanged:b,localDeletedMessages:P,latestMessagesUpdated:g,lastReadChanged:f<v},DEBUG&&Object.assign(m,{messages:e,options:n,lastMessageInfoOld:u,lastMessageInfoUpdated:!(!M||u&&!(u.index<_)),lastMessageInfo:u}),m}},{key:"isLocal",get:function(){return!this.id}},{key:"frozen",get:function(){return this.$get("freeze")},set:function(e){this.$set("freeze",e)}},{key:"theOtherMemberID",get:function(){return this.isOne2One?this.$get("theOtherMemberID"):0},set:function(e){this.$set("theOtherMemberID",e)}},{key:"conferenceStatusValue",get:function(){return k(this,N)}},{key:"updateConferenceStatus",value:function(e){return k(this,N)!==e&&(E(this,N,e),!0)}},{key:"bulletins",get:function(){return this.$get("bulletins",[])}},{key:"lastBulletinInfo",get:function(){var e=this.bulletins;if(!e)return null;var t,n=Date.now(),r=null,o=[],a=p(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.expiration>=n&&(o.push(i),(!r||i.id>r.id)&&(r=i))}}catch(e){a.e(e)}finally{a.f()}return o.length!==e.length&&this.$set("bulletins",o),r}},{key:"addBulletins",value:function(e){var t,n=void 0===(n=this.bulletins)?[]:n,r=(Array.isArray(e)||(e=[e]),Date.now()),o=n.filter((function(e){return e.expiration>r})),a=o.reduce((function(e,t,n){return e.set(t.id,n)}),new Map),i=0,l=p(e);try{for(l.s();!(t=l.n()).done;){var s,u=t.value;a.has(u.id)?o[s=a.get(u.id)].expiration!==u.expiration&&(o[s]=u,i++):u.expiration>=r&&(o.push(u),a.set(u.id,o.length-1),i++)}}catch(e){l.e(e)}finally{l.f()}return this.$set("bulletins",o),i}},{key:"plain",value:function(){var e=this.id,t=this.gid,n=this.type,r=this.name,o=this.createdDate,a=this.createdBy,l=this.ownedBy,s=this.editedDate,u=this.lastActiveTime,c=this.lastAccessTime,f=this.dismissDate,d=this.star,p=this.mute,h=this.public,m=this.archiveDate,y=this.admins,g=this.members,b=this.pinnedMessages,v=this.category,_=this.lastMessageInfo,w=this.lastReadMessageIndex,S=this.theOtherMemberID,O=this.bulletins,M=this.localMessages,C=this.adminInvite;return{id:e,gid:t,type:n,name:r,createdDate:o,createdBy:a,ownedBy:l,editedDate:s,lastActiveTime:u,lastAccessTime:c,dismissDate:f,star:d,mute:p,public:h,archiveDate:m,admins:y,members:g,pinnedMessages:b,committers:this.$get("committers"),category:v,freeze:this.$get("freeze"),delete:this.$get("delete"),lastMessageInfo:_,lastReadMessageIndex:w,theOtherMemberID:S,bulletins:O,localMessages:M,adminInvite:C,avatar:i.plainAvatar(this.$get("avatar"))}}}])&&g(t.prototype,n),e&&g(t,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.default),C(t.default=i,"NAME","Chat"),C(i,"TYPES",x),C(i,"COMMITTERS_TYPES",D),C(i,"SCHEMA",A),C(i,"PROXY_PROPERTIES",I),C(i,"PROXY_HANDLER",L),DEBUG&&(n.g.$Chat=i)},14915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChat=void 0,t.syncLastReadMessageForChat=function(e){return d.apply(this,arguments)},t.toggleFreezeChat=function(e,t){return f.apply(this,arguments)};var r,o=l(n(24260)),a=l(n(65286)),i=n(15973);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)}))}}(n=r=r||{}).message_send="im.server.message.send",n.message_receive="im.server.message.receive",n.chat_action_changed="im.server.chat.action";var c=function(e){return o.default.sendAndListen({method:"chatCreate",params:[e.gid,e.name||"",e.type,Array.from(e.members),0,e.public||!1]})};function f(){return(f=u((function*(e,t){return e.id||(yield c(e)),!!(t=yield o.default.sendAndListen({method:"chatFreeze",params:["boolean"==typeof t?t:!e.frozen,e.gid]}))&&(a.default.emit(r.chat_action_changed,t,"freeze",e.frozen),!0)}))).apply(this,arguments)}function d(){return(d=u((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e.lastReadMessageIndex,n=(0,i.getCurrentUser)();return!(!n||!n.isVersionSupport("chatSetLastReadMessage")||!e.id||(yield o.default.sendAndListen({method:"chatSetLastReadMessageByIndex",params:[e.gid,t]}),0))}))).apply(this,arguments)}t.createChat=c},74101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChat=q,t.default=void 0,t.fetchChatFromRemote=J,t.fetchChatListFromRemote=function(){return Z.apply(this,arguments)},t.fetchChatMembersFromRemote=$;var r=n(92691),o=n(51572),a=k(n(20213)),i=n(84401),l=n(16986),s=n(7066),u=C(n(58851)),c=C(n(33594)),f=n(55292),d=n(15973),p=n(33417),h=k(n(84431)),m=k(n(24260)),y=k(n(74160)),g=k(n(61862)),b=k(n(84836)),v=n(78717),_=k(n(94128)),w=n(37907),S=n(68271),O=n(14915);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==T(e)&&"function"!=typeof e)return{default:e};if((t=M(t))&&t.has(e))return t.get(e);var n,r,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=a?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function k(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n){return(E=Y()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),t=new(Function.bind.apply(e,r)),n&&R(t,n.prototype),t}).apply(null,arguments)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=D(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function D(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function W(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){W(a,r,o,i,l,"next",e)}function l(e){W(a,r,o,i,l,"throw",e)}i(void 0)}))}}var H=Symbol("chats-ready"),V=7*s.TIME_DAY;function G(){return(G=z((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set;if(""===e)return[];var n=Array.isArray(e);if(n&&0===e.length)return[];var r=n?e.join(" "):e;if(""===r)return[];t.add((0,d.getCurrentUserID)());try{var o=yield h.default.searchFromRemote(r),a=(o=0<t.size?o.filter((function(e){return!t.has(e.id)})):o).map((function(e){var t=(0,d.getCurrentUser)();return new u.default({members:new Set([t.id,e.id]),createdBy:t.account,type:u.default.TYPES.one2one,name:e.displayName})}));return a.forEach((function(t){t.score=0,n?e.forEach((function(e){t.score+=(0,l.caculateScore)(e,t.name)})):t.score+=(0,l.caculateScore)(e,t.name)})),a}catch(e){return console.error("Search members form server error",e),[]}}))).apply(this,arguments)}function q(e){e instanceof u.default||(e=new u.default(e));var t,n,r,o=(0,l.isEmptyString)(e.name);return e.isOne2One?(t=(0,d.getCurrentUser)(),e.theOtherMemberID||(n=t.id,e.theOtherMemberID=e.isPrivate?n:Array.from(e.members).find((function(e){return e!==n}))),(r=h.default.getItemFromCache(e.theOtherMemberID))&&(o&&(e.name=e.isPrivate?g.default.format("chat.privateChat.name",t.displayName):r.displayName),r.isDeleted&&(e.isDeleted=!0))):o&&(e.isSystem?e.name=g.default.string("chat.systemGroup.name"):e.isRobot?e.name=g.default.string("common.notification"):e.name=g.default.format("chat.group.tempName",e.id)),e}function $(e){return K.apply(this,arguments)}function K(){return(K=z((function*(e){try{return(yield m.default.sendAndListen({method:"chatgetmembers",params:[e]})).members}catch(e){return new Set}}))).apply(this,arguments)}function J(e){return X.apply(this,arguments)}function X(){return(X=z((function*(e){try{return yield m.default.sendAndListen({method:"chatgetbygid",params:[e]})}catch(e){return{}}}))).apply(this,arguments)}function Z(){return(Z=z((function*(){if("super"===(0,d.getCurrentUser)().admin)try{return yield m.default.sendAndListen({method:"chatsearch",params:["",null,"",!0]})}catch(e){return{}}return{}}))).apply(this,arguments)}var Q=new(function(e){var t=A;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e);var n,f,v,M,C,k,D=function(e){var t=Y();return function(){var n,r=B(e);if(n=t?(n=B(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===T(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return F(r)}}(A);function A(e){var t;if(this instanceof A)return U(F(t=D.call(this,"Chat",e,{key:"gid",channelDelayTime:100})),"_idleTasks",new a.default),U(F(t),"_noticeChannel",new i.EventChannel),U(F(t),"_databaseSaveTask",new b.default(t.saveChatsToDatabase.bind(F(t)),200)),U(F(t),"_chatsNeedSave",new Set),U(F(t),"_ready",!1),U(F(t),"normalizeItem",(function(e){e=q(e);var n=t.getItemFromCache(e.gid);if(n){e.members.size||e.editedDate!==n.editedDate||e.setMembers(n.members),e.isOne2One&&!e.name&&n.name&&(e.name=n.name),e.lastActiveTime=Math.max(e.lastActiveTime,n.lastActiveTime),e.lastAccessTime=Math.max(e.lastAccessTime,n.lastAccessTime),e.setLastReadMessageIndex(Math.max(e.lastReadMessageIndex,n.lastReadMessageIndex));var o=n.$get("lastMessageInfo");if((null==o?void 0:o.type)!==r.TYPES.notification&&(null==o?void 0:o.type)!==r.TYPES.notify||"string"!=typeof(null==o?void 0:o.data))e.$set("lastMessageInfo",o);else try{e.$set("lastMessageInfo",L(L({},o),{},{data:JSON.parse(o.data)}))}catch(t){e.$set("lastMessageInfo",o)}["bulletins","localMessages","theOtherMemberID"].forEach((function(t){e.$set(t,n.$get(t))}))}return e})),h.default.subscribeAny(t.handleMemberChange.bind(F(t))),t;throw new TypeError("Cannot call a class as a function")}return t=A,(e=[{key:"isReady",get:function(){return this._ready}},{key:"reset",value:function(e){var t=N(B(A.prototype),"reset",this).call(this,e);t&&(this._idleTasks.cancelAll(),this._databaseSaveTask.cancel()),this._ready=!1,DEBUG_I&&(console.collapse("STORE.Chats","pinkBg","reset","pinkPale",t,""),console.log("identify",e),console.groupEnd())}},{key:"handleMemberChange",value:function(e){var t,n=[],r=x(e);try{for(r.s();!(t=r.n()).done;){var o,a,i,l=t.value,s=l.cgid,u=this.getItemFromCache(s);u&&(o=!1,a=l.displayName,i=l.isDeleted,u.name!==a&&(u.name=a,o=!0),i&&!u.isDeleted&&(o=u.isDeleted=!0,this.muteChatUnreadMessages(s)),o&&n.push(u))}}catch(e){r.e(e)}finally{r.f()}n.length&&this.store(n)}},{key:"tryFetchChatMembers",value:(k=z((function*(e){var t=this,n=this.getChat(e);return n?n.members.size?n.members:(n.isSystem&&n.setMembers(h.default.allKeys()),this._fetchingMembersTasks||(this._fetchingMembersTasks=new Map),this._fetchingMembersTasks.has(e)?new Promise((function(n){t._fetchingMembersTasks.get(e).push(n)})):(this._fetchingMembersTasks.set(e,[]),yield this._idleTasks.requestAndWait(z((function*(){if(yield $(e),t._fetchingMembersTasks&&t._fetchingMembersTasks.has(e)){var r=t._fetchingMembersTasks.get(e);if(r.length){var o,a=x(r);try{for(a.s();!(o=a.n()).done;)(0,o.value)(n.members)}catch(r){a.e(r)}finally{a.f()}}t._fetchingMembersTasks.delete(e)}})),{name:"fetchChatMembers",timeout:3e3}),this._fetchingMembersTasks&&!this._fetchingMembersTasks.size&&(this._fetchingMembersTasks=null),n.members)):null})),function(e){return k.apply(this,arguments)})},{key:"store",value:function(e){var t;return"reset"===(t=void 0===(t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).putToDatabase)||t)&&this._cache.clear(),(e=N(B(A.prototype),"store",this).call(this,e,{normalizeFunc:this.normalizeItem}))&&t&&this.planToSaveChatsToDatabase(e,"reset"===t),DEBUG_I&&(console.collapse("STORE.Chat","pinkBg","store","pinkPale",e?e.length:0,""),console.trace("chats",e?j(e):null),console.log("store",this),console.groupEnd()),e||[]}},{key:"getUnreadMessageCount",value:function(e){if(!this._ready)return 0;var t=0,n=_.default.call("ui.isWindowFocus");return e?this.forEach((function(n){!1!==(n=e(n))&&"number"==typeof n&&(t+=n)})):this.forEach((function(e){var r=e.unreadMessagesCount;!r||e.isDeleted||e.mute||e.isDismissed||n&&(0,S.isOpenedActiveChat)(e.gid)||e.isMerged||(t+=r)})),t}},{key:"muteChatUnreadMessages",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.getChat(e);if(!n)return!1;var r=t.mustActive;return t=t.windowMustFocus,r&&!(0,S.isOpenedActiveChat)(e)||t&&!_.default.call("ui.isWindowFocus")?void 0:n.muteUnreadMessages()?(this.store(n),(0,w.emitUnreadMessagesChange)(this.getUnreadMessageCount()),(0,O.syncLastReadMessageForChat)(n),!0):((0,w.tryEmitUnreadMessagesChange)(this.getUnreadMessageCount()),!1)}},{key:"subscribeChatsReadyEvent",value:function(e){return this._noticeChannel.subscribe(H,e)}},{key:"unsubscribeChatsReadyEvent",value:function(e){return this._noticeChannel.unsubscribe(e)}},{key:"planToSaveChatsToDatabase",value:function(e){1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._chatsNeedSave.clear(),this._chatsNeedSave.add("clear"));var t,n=x(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._chatsNeedSave.add("object"===T(r)?r.gid:r)}}catch(e){n.e(e)}finally{n.f()}this._databaseSaveTask.do()}},{key:"saveChatsToDatabase",value:(C=z((function*(){if(this._chatsNeedSave.size){var e,t=[],n=[],r=!1,o=x(this._chatsNeedSave);try{for(o.s();!(e=o.n()).done;){var a,i=e.value;"clear"===i?r=!0:(a=this.getChat(i))&&(a.isDeleted?t.push(a.gid):n.push(a.plain()))}}catch(e){o.e(e)}finally{o.f()}this._chatsNeedSave.clear(),(0,c.beginDBBusyTask)();try{var l=c.default.database.chats;r&&(yield l.clear()),n.length&&(yield l.bulkPut(n)),t.length&&(yield l.bulkDelete(t)),DEBUG_I&&(console.collapse("STORE.Chat","pinkBg","save chat to chatTable","pinkPale",t.length+n.length,""),console.log("needClear",r),console.log("chatsNeedDelete",t),console.log("chatsNeedSave",n),console.log("store",this),console.groupEnd())}catch(e){DEBUG&&(console.collapse("STORE.Chat","pinkBg","save chat to chatTable Error","redPale",String(e),"red"),console.error("error",e),console.log("needClear",r),console.log("chatsNeedDelete",t),console.log("chatsNeedSave",n),console.log("store",this),console.groupEnd())}(0,c.endDBBusyTask)()}})),function(){return C.apply(this,arguments)})},{key:"mergeChatsFromDatabase",value:(M=z((function*(e){var t=c.default.database.chats,n=this._identify,r=yield t.toArray();if(n===this._identify){if(null==r||!r.length)return e;var o,a=e.reduce((function(e,t){return e.set(t.gid,t)}),new Map),i=new Set,l=x(r);try{for(l.s();!(o=l.n()).done;){var f,d,p=o.value,h=p.gid;if(a.has(h)){var m,y=a.get(h),g=(1e3*y.editedDate>p.editedDate&&delete p.members,new Set(Object.keys(p))),b=(g.has("name")&&(y.name||y.type!==u.TYPES.one2one||(y.name=p.name),g.delete("name")),g.has("lastActiveTime")&&(y.lastActiveTime=Math.max(p.lastActiveTime,(0,s.createDate)(y.lastActiveTime).getTime()),g.delete("lastActiveTime")),g.has("lastMessageInfo")&&(null==(f=p.lastMessageInfo)?void 0:f.index)>(null==(d=y.lastMessageInfo)?void 0:d.index)&&(y.lastMessageInfo=p.lastMessageInfo),g.has("lastReadMessageIndex")&&p.lastReadMessageIndex>y.lastReadMessageIndex&&(y.lastReadMessageIndex=p.lastReadMessageIndex),x(g));try{for(b.s();!(m=b.n()).done;){var v=m.value,_=p[v];void 0===y[v]&&void 0!==_&&(y[v]=_)}}catch(e){b.e(e)}finally{b.f()}}else i.add(h)}}catch(e){l.e(e)}finally{l.f()}return i.size&&(yield t.bulkDelete(j(i))),DEBUG_I&&(console.collapse("STORE.Chat","pinkBg","merge chats from chatTable","pinkPale",r.length,""),console.log("chatsMap",a),console.log("chatsInDb",r),console.log("remoteChats",e),console.log("chatsNeedDelete",i),console.log("store",this),console.groupEnd()),j(a.values())}})),function(e){return M.apply(this,arguments)})},{key:"storeChatsFromRemote",value:(v=z((function*(e){var t=this,n=(0,d.getCurrentUser)(),r=n.id,a=new Set(e.map((function(e){return e.gid})));if(y.default.system["notification.enable"]&&!a.has(u.NOTIFICATION_CHAT_GID)&&e.push({gid:u.NOTIFICATION_CHAT_GID,type:u.TYPES.robot,lastActiveTime:Date.now()-1296e5,members:[r],name:g.default.string("common.notification"),deleted:!0}),n.isVersionSupport(o.VersionSupport.privateChat)&&!a.has("".concat(r,"&").concat(r))&&e.push({gid:"".concat(r,"&").concat(r),type:u.TYPES.one2one,lastActiveTime:Date.now()-1296e5,members:[r],name:g.default.format("chat.privateChat.name",n.displayName)}),n.isVersionSupport(o.VersionSupport.xuanbot)&&!a.has((0,u.getXuanbotGid)(r))&&e.push({gid:(0,u.getXuanbotGid)(r),type:u.TYPES.bot,lastActiveTime:Date.now()-1296e5,members:[r],name:g.default.string("common.xuanbot"),avatar:{type:"image",data:{imgUrl:"".concat(n.backendURL,"data/image/xuanbot.png")}}}),DEBUG_I&&(console.collapse("STORE.Chat","pinkBg","store chats from remote","pinkPale",e.length,""),console.log("chats",j(e)),console.log("store",this),console.groupEnd()),e.forEach((function(e){var n=t.getChat(e.gid);n&&(e.latestMessageIndexes=n.latestMessageIndexes)})),a=this._identify,e=yield this.mergeChatsFromDatabase(e),a===this._identify)return e=this.store(e,{putToDatabase:"reset"}),this._ready=!0,this._noticeChannel.publish(H),(0,w.emitUnreadMessagesChange)(this.getUnreadMessageCount()),e})),function(e){return v.apply(this,arguments)})},{key:"getChat",value:function(e){var t=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!(a=this.getItemFromCache(e))){var o=(0,d.getCurrentUser)();if(!o)return null;if(n&&/^\d+&\d+$/.test(e)){if(!(n=e.split("&").map((function(e){return Number.parseInt(e,10)}))).includes(o.id))return null;(a={gid:e,members:n,createdBy:o.account,type:u.default.TYPES.one2one}).theOtherMemberID=n.find((function(e){return e!==o.id}));var a=P(this.store(a,{putToDatabase:!1}),1)[0]}else r&&J(e).then((function(e){t.store(new u.default(e),{putToDatabase:!1})})).catch(console.error)}return a}},{key:"getContactChat",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=(0,d.getCurrentUserID)();return n===e?null:this.getChat((0,p.getOne2OneChatGid)(e,n),t)}},{key:"getChats",value:function(e){var t=this;return e.map((function(e){return t.getChat(e)}))}},{key:"getAllChats",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default",t=this.all.filter((function(e){return!e.isDeleted}));return e?(0,p.sortChats)(t,e):t}},{key:"queryChats",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.size)return[];var n,r=void 0===(r=t.sortRules)?"default":r,o=void 0===(o=t.limit)?0:o,a=void 0!==(n=t.includeDeleted)&&n,i=void 0!==(n=t.excludeLocal)&&n;return t=this.filter((function(t,n){return!(!a&&t.isDeleted)&&!(i&&t.isLocal&&!t.isPrivate)&&e(t,n)})),t.length&&(r&&(t=(0,p.sortChats)(t,r)),o&&t.length>o&&(t=t.slice(0,o))),t}},{key:"searchChats",value:(f=z((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((0,l.isEmptyString)(e))return[];if(!(e=e.trim().toLowerCase().split(" ")).length)return[];function n(e,t){return t.score-e.score}var r,o=void 0===(o=t.chatType)?"":o,a=void 0!==(r=t.excludeMemberIdList)&&r,i=void 0===(r=t.includeReadonly)||r,s=void 0!==(r=t.searchFromRemote)&&r,c=void 0!==(r=t.includeNotification)&&r,f="contacts"===o,m="groups"===o,y=f||m,g=(0,d.getCurrentUser)();return t=this.queryChats((function(t){var n=t.gid.toLowerCase();if(n!==u.NOTIFICATION_CHAT_GID||c){var r=t.isOne2One;if((!s||!r||t.isPrivate)&&(!y||!(f&&!r||m&&!t.isGroupOrSystem))){var o,d,b,v,_,w=t.theOtherMemberID;if(!(a&&r&&a.has(w))&&!(t.isDeleted||t.isDismissed||t.isMerged)&&(i||!t.isReadonly(g)))return o=t.name.toLowerCase(),d=(0,p.getChatPinYinName)(t),v=b="",r&&((w=h.default.getMember(w))?(b=w.account,v+=(w.email||"")+(w.mobile||"")):DEBUG&&console.warn("Cannot get the other one of chat",t)),_=0,e.forEach((function(e){(0,l.isEmptyString)(e)||(1<e.length&&("#"===e[0]?(e=e.substr(1),_+=2*(0,l.caculateScore)(e,n),(t.isSystem||t.isGroup)&&(_+=2*(0,l.caculateScore)(e,o),t.isSystem&&(_+=2*(0,l.caculateScore)(e,"system")))):"@"===e[0]&&(e=e.substr(1),r&&(_+=2*(0,l.caculateScore)(e,b)))),_=(_+=(0,l.caculateScore)(e,o))+(0,l.caculateScore)(e,d),v&&(_+=(0,l.caculateScore)(e,v)))})),0<(t.score=_)}}}),{sortRules:!s&&n}),s&&(r=yield function(){return G.apply(this,arguments)}(e,a?E(Set,j(a)):new Set),t=(0,p.sortChats)(t.concat(r),n)),t})),function(e){return f.apply(this,arguments)})},{key:"searchGroupChats",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((0,l.isEmptyString)(e))return[];if(!(e=e.trim().toLowerCase().split(" ")).length)return[];var n,r=void 0===(n=t.includeReadonly)||n,o=void 0===(n=t.excludeSystemChats)||n,a=(0,d.getCurrentUser)();return this.queryChats((function(t){var n,i,s,c;if(!t.isOne2One&&t.gid!==u.NOTIFICATION_CHAT_GID&&!t.isBot&&(!o||!t.isSystem)&&!(t.isDeleted||t.isDismissed||t.isMerged)&&(r||!t.isReadonly(a)))return n=t.name.toLowerCase(),i=t.gid.toLowerCase(),s=(0,p.getChatPinYinName)(t),c=0,e.forEach((function(e){(0,l.isEmptyString)(e)||(1<e.length&&"#"===e[0]&&(e=e.substr(1),c=(c+=2*(0,l.caculateScore)(e,i))+2*(0,l.caculateScore)(e,n),t.isSystem&&(c+=2*(0,l.caculateScore)(e,"system"))),c=(c+=(0,l.caculateScore)(e,n))+(0,l.caculateScore)(e,s))})),0<(t.score=c)}),{sortRules:function(e,t){return t.score-e.score}})}},{key:"removeChat",value:function(e){return!!(e=this.getChat(e,!1))&&(e.isDeleted=!0,this.store(e),!0)}},{key:"getSystemChats",value:function(){return this.queryChats((function(e){return e.isSystem}),{limit:0<arguments.length&&void 0!==arguments[0]?arguments[0]:0})}},{key:"getPrivateChats",value:function(){var e=(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).sortRules,t=t.excludeLocal;return this.queryChats((function(e){return e.isOne2One}),{sortRules:void 0===e?"recentFirst":e,excludeLocal:void 0!==t&&t})}},{key:"getBotChats",value:function(){return this.queryChats((function(e){return e.isNotification||e.isBot}),{sortRules:"recentFirst",excludeLocal:!1})}},{key:"getRecentChats",value:function(){var e,t=void 0===(n=(u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).includeStar)||n,n=void 0===(n=u.sortList)?"recentFirst":n,r=void 0!==(e=u.excludeSystemChats)&&e,o=void 0===(e=u.includeReadonly)||e,a=void 0===(e=u.maxRecentTime)?V:e,i=void 0!==(e=u.excludeBotChats)&&e,l=Date.now(),s=(0,d.getCurrentUser)(),u=this.queryChats((function(e){return(!r||!e.isSystem||e.isNotification||e.isBot)&&(!i||!e.isBot)&&(e.unreadMessagesCount||!e.hidden||!e.isArchived||e.isBot)&&!e.isDeleted&&!e.isDismissed&&!e.frozen&&(e.unreadMessagesCount||e.draft||t&&e.star||(!a||e.lastActiveTime&&l-e.lastActiveTime<=a)&&(e.lastMessageIndex||e.isPrivate||e.isNotification&&e.lastMessageInfo)||e.isBot)&&(o||!e.isReadonly(s))&&!e.isMerged}),{sortRules:n});return r||u.length?u:this.getSystemChats()}},{key:"getLastChatWithUnreadMessages",value:function(){return this.queryChats((function(e){return 0<e.unreadMessagesCount}),{sortRules:"lastMessageId",limit:1})[0]}},{key:"getGroupsChats",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"recentFirst",n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=(0,d.getCurrentUser)();if(!o)return[];var a=o.account,i=(new Date).getTime(),l=null==(e=(0,d.getCurrentUser)())?void 0:e.dismissedGroupLife;return this.queryChats((function(e){return e.isGroupOrSystem&&(!n||e.createdBy===a)&&(r||!e.isReadonly(o))&&(!e.isDismissed||e.dismissDate+l*s.TIME_DAY>i)&&!e.isMerged}),{sortRules:t,excludeLocal:!0})}},{key:"getRecentContactMembers",value:function(){function e(e,t){return e.size?(e=Array.from(e.values()).sort((function(e,t){var n=e.chat.lastMessageIndex<t.chat.lastMessageIndex?1:e.chat.lastMessageIndex===t.chat.lastMessageIndex?0:-1;return 0===(n=0===n?e.contact.lastAccessTime<t.contact.lastAccessTime?1:e.contact.lastAccessTime===t.contact.lastAccessTime?0:-1:n)?e.contact.id-t.contact.id:n})).map((function(e){return e.contact}))).length>t?e.slice(0,t):e:[]}var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,r=new Map,o=new Map,a=(this.forEach((function(e){var t;e.isOne2One&&e.lastMessageIndex&&e.id&&(t=h.default.getItemFromCache(e.theOtherMemberID))&&!t.isDeleted&&r.set(t.id,{chat:e,contact:t})})),e(r,Math.min(r.size,n)));if(a.length===n)return a;a.length<n&&(t=Date.now(),h.default.forEach((function(e){e.id!==(0,d.getCurrentUserID)()&&e.lastAccessTime&&!r.has(e.id)&&!o.has(e.id)&&t-e.lastAccessTime<=V&&o.set(e.id,{chat:{},contact:e})})));var i=e(o,Math.min(o.size,n));return(a=a.concat(i)).length>n?a.slice(0,n):a}},{key:"fetchPublicChat",value:(n=z((function*(e){return(yield this.fetchPublicChats()).find((function(t){return t.gid===e}))})),function(e){return n.apply(this,arguments)})},{key:"fetchPublicChats",value:function(){return this._idleTasks.requestAndWait(z((function*(){var e=yield m.default.sendAndListen("chatGetPublicList");return e&&e.length?e.map(q):[]})),{name:"fetchPublicChats",timeout:1e3})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),A}(f.DataStore));(0,c.setCallbackOnInitedDatabase)(Q.reset.bind(Q)),(0,d.onUserLogout)((function(){Q.saveChatsToDatabase()})),(0,v.registerCommand)("fetchPublicChats",(function(){return Q.fetchPublicChats()})),n.g.ExtsRuntime&&n.g.ExtsRuntime.registerExtensionAPI([{name:"im.getChats",level:3,func:function(e){return Q.getChats(e).map((function(e){return e&&e.proxy}))}},{name:"im.queryChats",level:3,func:function(e){return Q.queryChats(e).map((function(e){return e&&e.proxy}))}},{name:"im.fetchPublicChats",level:3,func:function(){return Q.fetchPublicChats().then((function(e){return Promise.resolve(e?e.map((function(e){return e.proxy})):[])}))}},{name:"im.getChat",level:3,func:function(e){return(e=Q.getChat(e))&&e.proxy}},{name:"im.subscribeChats",level:3,func:function(e,t){return Q.subscribe(e,(function(e){Array.isArray(e)?t(e.map((function(e){return e&&e.proxy}))):t(e.proxy)}))}},{name:"im.subscribeAnyChats",level:3,func:function(e){return Q.subscribeAny((function(t){Array.isArray(t)?e(t.map((function(e){return e&&e.proxy}))):e(t.proxy)}))}},{name:"im.unsubscribeChats",level:3,func:function(e){return Q.unsubscribe(e)}},{name:"im.subscribeNoticeChange",level:3,func:function(e){return(0,w.subscribeUnreadMessagesChange)(e)}},{name:"im.unsubscribeNotice",level:3,func:function(e){return(0,w.unsubscribeMessagesChange)(e)}}]),DEBUG&&(n.g.$chatsStore=Q),t.default=Q},23405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetAbortSyncSignal=t.onStartFetchingHistory=t.onFinishFetchingHistory=t.onFetchingHistoryProgress=t.onFetchingHistory=t.offFetchingHistoryEvent=t.getFetchingChannel=t.getAbortSyncSignal=t.abortSyncHistory=t.EVENT_HISTORY_START=t.EVENT_HISTORY_PROGRESS=t.EVENT_HISTORY_FINISH=void 0,n=n(84401);var r=Symbol("EVENT_HISTORY_PROGRESS"),o=(t.EVENT_HISTORY_PROGRESS=r,Symbol("EVENT_HISTORY_START")),a=(t.EVENT_HISTORY_START=o,Symbol("EVENT_HISTORY_FINISH")),i=(t.EVENT_HISTORY_FINISH=a,!1),l=(t.getAbortSyncSignal=function(){return i},t.abortSyncHistory=function(){i=!0},t.resetAbortSyncSignal=function(){i=!1},new n.EventChannel({delayTime:0}));t.getFetchingChannel=function(){return l},t.onStartFetchingHistory=function(e){return l.subscribe(o,e)},t.onFinishFetchingHistory=function(e){return l.subscribe(a,e)},t.onFetchingHistoryProgress=function(e){return l.subscribe(r,e)},t.onFetchingHistory=function(e){return l.subscribeAny(e)},t.offFetchingHistoryEvent=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.unsubscribe(t)}},5150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateChatTyping=t.updateChatSendboxStatus=t.sendChatTyping=t.msgSendInterval=t.chatTypingChannel=void 0;var r,o=n(84401),a=(r=n(24260))&&r.__esModule?r:{default:r},i=n(15973),l=n(33417);function s(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}t.msgSendInterval=3e3;var u=new Map,c=!1,f=new Map,d=new o.EventChannel({delayTime:0,dynamicParams:!1}),p=(t.chatTypingChannel=d,t.updateChatTyping=function(e,t,n){d.publish(e,t,n),f.has(e)&&clearTimeout(f.get(e)),t&&f.set(e,setTimeout((function(){d.publish(e,!1,n),f.delete(e)}),3e3))},function(){e=function*(e,t){var n,r;if(null!=(n=(0,i.getCurrentUser)())&&n.isOnline&&!e.isPrivate){c=!0;try{r=yield a.default.send({method:"chattyping",requestData:{cgid:e.gid,users:e.theOtherMemberID,typing:t}})}catch(e){}return c=!1,r}};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e,n){return t.apply(this,arguments)}}());t.sendChatTyping=p,t.updateChatSendboxStatus=function(e,t){var n,r,o;(0,l.isOne2OneChatOnline)(e)&&!c&&(n=(0,i.getCurrentUser)())&&n.config.sendTypingStatus&&(n=e.gid,r=u.get(n),o=Date.now(),(!r&&t||3e3<=o-r)&&(p(e,!0),u.set(n,o)))},(0,i.onSwapUser)((function(){return u.clear()}))},45498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupsChats=t.getChatCategories=void 0;var r=n(15973),o=n(61997),a=s(n(61862)),i=n(33417),l=s(n(74101));function s(e){return e&&e.__esModule?e:{default:e}}function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"recentFirst",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],u=(0,r.getCurrentUser)();if(!u)return[];if(n=l.default.getGroupsChats(e,n,s),"category"!==t)return n;var c={},f=(n.forEach((function(e){var t=e.isDismissed,n=e.isArchived,r=e.category||"",o=r||u.config.groupsDefaultCategoryName;t?(r="_dismissed",o=a.default.string("chats.menu.group.dismissed")):n&&(r="_archived",o=a.default.string("chat.group.archived")),c[r]?c[r].list.push(e):(c[r]={id:r,title:o||a.default.string("chats.menu.group.default"),list:[e]},(t||n)&&(c[r].system=!0))})),s=Object.keys(c),u.config.groupsCategories);if(1===s.length&&!s[0]&&1===Object.keys(f).length)return n;var d=!1,p=s.map((function(t){var n,r=c[t],a=f[t];return a||(n="_archived"===t?f._dismissed?f._dismissed.order-1:99999999999989:"_dismissed"===t?f._archived?f._archived.order+1:99999999999999:""===t?1:(0,o.timeSequence)(),f[t]=a={order:n,key:n},d=!0),Object.assign(r,a),e&&(0,i.sortChats)(r.list,e),r}));return Object.keys(f).forEach((function(e){var t;p.some((function(t){return t.id===e}))||("_dismissed"===(t=e)?t=a.default.string("chats.menu.group.dismissed"):"_archived"===e?t=a.default.string("chat.group.archived"):""===e&&(t=a.default.string("chats.menu.group.default")),p.push({id:e,key:f[e].key,list:[],order:f[e].order,title:t}))})),p.sort((function(e,t){var n=t.order-e.order;return-(n=0===n?e.id>t.id?1:-1:n)})),d&&(u.config.groupsCategories=f),p}t.getGroupsChats=u,t.getChatCategories=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"contact";return"contact"===e?l.default.getPrivateChats():"group"!==e||(e=u("default","category")).length&&"Chat"===e[0].entityType?[]:e}},29946:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.updateChatNotice=t.initIMNotice=void 0;var o=n(68271),a=v(n(84836)),i=n(727),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(61862)),s=n(15973),u=v(n(74160)),c=v(n(94128)),f=n(40910),d=n(58008),p=n(33417),h=v(n(74101)),m=n(20116),y=n(37907),g=v(n(73052));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function _(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){k.do.apply(k,arguments)}var M,C=0,k=new a.default((function(){var e,t,n,r,a,f,y,b,v,S,O,k,E=(0,s.getCurrentUser)();E&&E.isOnline&&(e=c.default.call("ui.isWindowFocus"),y=(t=E.config).safeWindowNotification,n=u.default.ui["chat.muteOnChatNotActive"],r=!y&&(0,i.isMatchWindowCondition)(u.default.ui["chat.bulletinNotificationCondition"]),a=0,f=null,y=h.default.getUnreadMessageCount((function(t){if(t.isDeleted||t.mute||t.isDismissed||e&&(0,o.isOpenedActiveChat)(t.gid))return!1;if(n&&!(0,o.isActiveChat)(t.gid))return!1;var i=t.unreadMessagesCount;if(0===i)return!1;var l=t.bulletins,s=t.unreadMessageIndexes,u=t.gid,c=new Map(_(g.default.unionIdMap).map((function(e){return e.reverse()})));if(t="".concat(u,"@").concat(Math.max.apply(Math,_(t.unreadMessageIndexes).concat([0]))),(t=g.default.unionIdMap.get(t))&&(a=t),!r||!l.length)return i;var d=_(s).map((function(e){return"".concat(u,"@").concat(e)}));if(null!=(t=l.filter((function(e){return d.includes(c.get(e.id))})))&&t.length){var p,h=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(t);try{for(h.s();!(p=h.n()).done;){var m=p.value;C>m.id||(!f||f.id<m.id)&&(f=m)}}catch(t){h.e(t)}finally{h.f()}}return i})),S=null,t.enableWindowNotification&&(c.default.isType("browser")||(0,i.isMatchWindowCondition)(t.windowNotificationCondition))&&(t.safeWindowNotification&&y?S={title:l.default.format("notification.receviedMessages.format",y),click:function(){c.default.call("ui.setFullScreen",!1),c.default.call("ui.showAndFocusWindow")}}:(v=null,!(v=!(v=f?g.default.getMessage(f.id):v)&&C<a?g.default.getMessage(a):v)||v.isInLocal||v.deleted||(b=h.default.getChat(v.cgid))&&(O=b.isOne2One,k=(0,m.getChatMessageSender)(v).displayName,S={title:b.isNotification?k:O?l.default.format("notification.memberSays.format",k):l.default.format("notification.memberSaysInGroup.format",k,b.name),body:(0,m.getChatMessageSummaryText)(v)},O&&(v=(k=(0,p.getOtherMemberInOne2OneChat)(b))&&(0,d.getMemberAvatar)(k.avatar))&&(S.icon=v),S.click=function(){(0,o.setActiveChat)(b.gid,"recents"),c.default.call("ui.setFullScreen",!1),c.default.call("ui.showAndFocusWindow")}))),C=Math.max(C,a),O={label:y?l.default.format("notification.receviedMessages.format",y):"",flash:y&&t.flashTrayIcon&&(0,i.isMatchWindowCondition)(t.flashTrayIconCondition)},k=E&&"".concat(E.displayName," [").concat(l.default.string("member.status.".concat(E.statusName)),"]"),M={count:y,notification:S,tray:O,userInfo:k},(0,i.updateNotice)(M))}),200);t.updateChatNotice=O,t.initIMNotice=function(){function e(){var e=(0,o.getActiveChatGid)();(e=e&&h.default.getChat(e,!1))&&e.hasUnreadMessages||(e=h.default.getLastChatWithUnreadMessages())&&(0,o.setActiveChat)(e.gid,"recents")}var t;(0,y.subscribeReceiveNewMessages)((function(){var e=(0,s.getCurrentUser)(),t=e.config;!t.enableSound||t.muteOnUserIsBusy&&(e.isBusy||e.isInMeeting)||!(0,i.isMatchWindowCondition)(t.playSoundCondition)||(0,i.playNoticeSound)(),c.default.call("ui.isWindowOpen")||(0,i.requestAttention)()})),(0,o.onActiveChat)((function(e){h.default.muteChatUnreadMessages(e)})),(0,l.onLangChange)(O),(0,y.subscribeUnreadMessagesChange)(O),c.default.has("ui.onWindowFocus")&&(t=new a.default((function(){var e;!(0,f.isRoutePathMatch)("chats")||(e=(e=(0,o.getActiveChatGid)())&&h.default.getChat(e,!1))&&(e.hasUnreadMessages||e.fileSavedNoticeCount)&&h.default.muteChatUnreadMessages(e.gid)}),200),c.default.call("ui.onWindowFocus",t.do.bind(t))),c.default.has("ui.onRequestOpenFromTray")?c.default.call("ui.onRequestOpenFromTray",e):c.default.has("ui.onWindowRestore ")&&c.default.call("ui.onWindowRestore",e)}},57018:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.imServerHandlers=t.GroupManagementEvent=void 0;var o=n(44374),a=n(92691),i=n(51572),l=_(n(65286)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(58851)),u=n(15973),c=_(n(74160)),f=n(5150),d=_(n(74101)),p=_(n(73052)),h=_(n(26774)),m=n(48516),y=n(78717),g=n(7066),b=n(57485);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){w(a,r,o,i,l,"next",e)}function l(e){w(a,r,o,i,l,"throw",e)}i(void 0)}))}}function O(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t,n;if(e.isSuccess)return l.default.emit(j.chatMemberChange),n=!0,(t=d.default.getChat(e.data.gid))?(t.archiveDate=e.data.archiveDate,t.isDeleted=!1,t.setMembers(e.data.members),t.setAdmins(e.data.admins),e.data.mergedChats&&t.$set("mergedChats",e.data.mergedChats)):((t=d.default.normalizeItem(e.data)).setLastReadMessageIndex(t.lastMessageIndex),(0,g.createDate)(t.createdDate+20)>Date.now()&&(n=!1)),t.isMember((0,u.getCurrentUserID)())?(d.default.store(t),n&&(0,b.canUseConference)()&&(0,y.executeCommand)("updateOngoingChatConference",t.gid)):(d.default.removeChat(t.gid),(0,y.executeCommand)("tryDisconnectConference",t.gid)),t}function k(e,t){var n;if(e.isSuccess)return l.default.emit(j.changeOwnership),(n=d.default.getChat(e.data.gid))&&(e.data=M(M({},e.data),{mute:n.mute,star:n.star,category:n.category,latestMessageIndexes:n.latestMessageIndexes,lastReadMessageIndex:n.lastReadMessageIndex})),n=new s.default(e.data),d.default.store(n),n}function E(e,t){if(e.isSuccess){var n=e.data;if(null!=(e=n=Array.isArray(n)?n:n.cgid&&n.content?[n]:Object.keys(n).map((function(e){return n[e]})))&&e.length)return p.default.store(n,{putToDatabase:!0,putToCache:!0,unread:!0}),!0}}function P(e,t){var n,r;e.isSuccess&&(n=(e=e.data).gids,r=e.category,n&&n.length&&(e=n.map((function(e){return(e=d.default.getChat(e)).category=r,e})),d.default.store(e)))}function T(e){var t=d.default.getChat(e.gid);t&&(t.setAdmins(e.admins),d.default.store(t))}var j={rename:"group.management.rename",chatMemberChange:"group.management.chatMemberChange",changeOwnership:"group.management.changeOwnership",setAdmin:"group.management.setAdmin",groupMerge:"group.management.groupMerge",chatArchive:"group.management.chatArchive"},x=(t.GroupManagementEvent=j,n=function(){var e=S((function*(e){return!!e.isSuccess&&(d.default.storeChatsFromRemote(e.data),e=e.data.map((function(e){return e.lastMessageInfo})).filter((function(e){return!!e})),p.default.store(e,{skipChatFilter:!0}),!0)}));return function(t){return e.apply(this,arguments)}}(),function(){var e=S((function*(e){var t;e.isSuccess&&((t=d.default.getChat(e.data.gid)).avatar=e.data.avatar,d.default.store(t))}));return function(t){return e.apply(this,arguments)}}());t.imServerHandlers={chatArchive:function(e){if(e.isSuccess){l.default.emit(j.chatArchive);var t,n=d.default.getChat(e.data.gid);if(n)return n.archiveDate=e.data.archiveDate,n.star=null!=(t=e.data.star)?t:n.star,n.mute=null!=(t=e.data.mute)?t:n.mute,n.freeze=null!=(t=e.data.freeze)?t:n.freeze,n.hide=null!=(t=e.data.hide)?t:n.hide,d.default.store(n),n}},chatRename:function(e,t){if(e.isSuccess){l.default.emit(j.rename);var n=d.default.getChat(e.data.gid);if(n)return n.name=e.data.name,d.default.store(n),n}else(0,y.executeCommand)("showMessager",e.message,{type:"info"})},chatSetCommitters:function(e,t){if(e.isSuccess){var n=d.default.getChat(e.data.gid);if(n)return n.setCommitters(e.data.committers),d.default.store(n)}},chatSetConfig:function(e,t){if(e.isSuccess){var n=d.default.getChat(e.data.gid);if(n)return n.setCommitters(e.data.committers),n.public=e.data.public,n.adminInvite=e.data.adminInvite,d.default.store(n)}},chatInvite:C,chatKick:C,chatLeave:C,chatJoin:C,chatChangeOwnership:k,chatCreate:k,chatGetMembers:function(e){var t;if(e.isSuccess&&e.data&&e.data.gid&&e.data.members)return(t=d.default.getChat(e.data.gid))&&(t.setMembers(e.data.members),d.default.store(t)),t},messageSend:E,messageRetract:E,messageUpdate:E,chatStar:function(e){if(e.isSuccess){var t=d.default.getChat(e.data.gid);if(t)return t.star=e.data.star,d.default.store(t),t}},chatMute:function(e){if(e.isSuccess){var t=d.default.getChat(e.data.gid);if(t)return t.mute=e.data.mute,d.default.store(t),t}},chatSetCategory:P,chatRenameCategory:P,chatDeleteCategory:P,chatHide:function(e,t){if(e.isSuccess){var n=d.default.getChat(e.data.gid);if(n)return n.hide=e.data.hide,d.default.store(n),n}},chatFreeze:function(e){if(e.isSuccess){var t=d.default.getChat(e.data.gid);if(t)return t.frozen=e.data.freeze,d.default.store(t),t}},chatDismiss:function(e){if(e.isSuccess){var t=d.default.getChat(e.data.gid);if(t)return t.dismissDate=e.data.dismissDate,d.default.store(t),l.default.emit("im.chats.dismissedChat",t.gid),(0,y.executeCommand)("tryDisconnectConference",t.gid),t}},chatSetVisibility:function(e){if(e.isSuccess){var t=d.default.getChat(e.data.gid);if(t)return t.public=e.data.public,d.default.store(t),t}},syncNotifications:function(e){var t,n;if(c.default.system["notification.enable"]&&e.isSuccess)return t=e.data,(t=Array.isArray(t)?t:t.cgid?[t]:Object.keys(t).map((function(e){return t[e]})))&&t.length&&(n=null!=(e=(0,u.getCurrentUser)())&&e.isVersionSupport(i.VersionSupport.xuanbot)?(0,s.getXuanbotGid)((0,u.getCurrentUserID)()):"",t.forEach((function(e){if(e.type="notification",e.cgid&&e.cgid!==s.NOTIFICATION_CHAT_GID||(e.cgid=n||s.NOTIFICATION_CHAT_GID),"object"===e.contentType)try{var t=JSON.parse(e.content);t&&t.type===a.OBJECT_TYPES.conferenceInvite&&t.conferenceNumber&&o.xuanbotConferenceSet.add(t.conferenceNumber)}catch(t){DEBUG&&(console.error(t),console.log(e.content))}})),p.default.store(t,{putToCache:!0,putToDatabase:!0,unread:!0})),!0},syncDepts:function(e){e.isSuccess&&(e=e.data)&&h.default.updateDeptsData(e)},chatTyping:function(e){e.isSuccess&&(e=e.data)&&(0,f.updateChatTyping)(e.cgid,e.typing,e.user)},chatAddAdmins:function(e){e.isSuccess&&(l.default.emit(j.setAdmin),T(e.data))},chatRemoveAdmins:function(e){e.isSuccess&&(l.default.emit(j.setAdmin),T(e.data))},chatPinMessages:function(e){var t,n;if(e.isSuccess)return n=e.data,(t=d.default.getChat(n.cgid))&&(t.pinnedMessages=n.allPinned),n.pinned&&(n=p.default.getMessages(n.pinned,n.cgid),p.default.store(n)),void d.default.store(t);(0,m.showAlert)(e.message)},chatUnpinMessages:function(e){var t;e.isSuccess&&(e=e.data,(t=d.default.getChat(e.cgid))&&(t.pinnedMessages=e.allPinned),e.unpinned&&(e=p.default.getMessages(e.unpinned,e.cgid),p.default.store(e)),d.default.store(t))},chatSetLastReadMessageByIndex:function(e){var t;e.isSuccess&&(t=d.default.getChat(e.data.gid))&&(t.setLastReadMessageIndex(e.data.id),d.default.store(t))},chatGetList:n,chatSetAvatar:x}},20491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpinMessage=t.toggleMuteChat=t.toggleHideChat=t.toggleFreezeChat=t.toggleChatStar=t.toggleChatPublic=t.toggleChatGroupPublic=t.toggleChatArchive=t.shareContentToChats=t.setChatGroupSettings=t.setChatCommitters=t.setChatCategory=t.sendTextMessage=t.sendImageMessage=t.sendFilesByRTC=t.sendFileMessage=t.sendFileBroadcastChatMessage=t.sendEmojiMessage=t.sendCodeMessage=t.sendChatMessage=t.sendBroadcastChatMessage=t.sendBotCommandMessage=t.renameChat=t.removeAdmins=t.pinMessage=t.onSendChatMessages=t.onChatActionChanged=t.mergeChat=t.kickOfMemberFromChat=t.joinOrExitChat=t.inviteMembersToChat=t.forwardMessage=t.fetchChatList=t.fetchChat=t.exitChat=t.dismissChat=t.deleteChatMessage=t.default=t.createTextChatMessage=t.createShareConferenceMessage=t.createEmojiChatMessage=t.createChatWithMembers=t.createChat=t.createBroadcastChatMessage=t.createBotCommandMessage=t.changeOwnership=t.batchKickMemberFromChat=t.addCategory=t.addAdmins=void 0;var r=n(21614),o=U(n(23848)),a=U(n(91230)),i=U(n(56579)),l=U(n(67294)),s=n(44374),u=n(74933),c=U(n(68788)),f=B(n(74160)),d=U(n(94128)),p=n(7066),h=n(64393),m=n(84035),y=n(16986),g=n(78717),b=U(n(65286)),v=U(n(12482)),_=n(20354),w=U(n(3042)),S=U(n(73642)),O=U(n(79358)),M=U(n(71060)),C=n(17531),k=U(n(61862)),E=U(n(84431)),P=B(n(15973)),T=U(n(24260)),j=U(n(58851)),x=B(n(92691)),D=n(20116),A=U(n(73052)),I=U(n(74101)),L=n(57018),N=n(94592),R=n(61997),F=n(24317);function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==X(e)&&"function"!=typeof e)return{default:e};if((t=Y(t))&&t.has(e))return t.get(e);var n,r,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=a?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function U(e){return e&&e.__esModule?e:{default:e}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=q(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function H(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){H(a,r,o,i,l,"next",e)}function l(e){H(a,r,o,i,l,"throw",e)}i(void 0)}))}}function G(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e){return T.default.sendAndListen({method:"chatCreate",params:[e.gid,e.name||"",e.type,Array.from(e.members),0,e.public||!1]})}function Q(e,t){return(e=function(e,t){Array.isArray(e)||(e=[e]);var n,r=P.default.user.id;return(e=e.map((function(e){return"object"===X(e)?e.id:e}))).find((function(e){return e===r}))||e.push(r),2===e.length?(n=e.sort().join("&"),I.default.getChat(n)||new j.default(J({members:e,createdBy:P.default.userAccount,type:j.default.TYPES.one2one},t))):new j.default(J({members:e,createdBy:P.default.user.account,type:j.default.TYPES.group},t))}(e,t)).id?Promise.resolve(e):Z(e)}function ee(e,t){return T.default.send({method:"chatSetCommitters",params:[e.gid,t]})}function te(e){return T.default.send({method:"chatSetVisibility",params:[e.gid,!e.public]})}function ne(e,t){return T.default.send({method:"chatSetVisibility",params:[e.gid,t]})}function re(e,t){var n=(0,P.getCurrentUser)(),r=t.committers;if(r instanceof Set&&(r=Array.from(r)),Array.isArray(r)&&(r=r.join(",")),n.isVersionSupport("chatSetConfig"))return n={public:t.public,adminInvite:!t.public&&t.adminInvite,committers:r},T.default.sendAndListen({method:"chatsetconfig",params:[e.gid,n]});ne(e,t.public),ee(e,r)}function oe(e,t){function n(){return T.default.send({method:"chatStar",params:[void 0===t?!e.star:!!t,e.gid]})}return e.id?n():Z(e).then(n)}function ae(e,t){function n(){return T.default.send({method:"chatMute",params:[void 0===t?!e.mute:!!t,e.gid]})}return e.id?n():Z(e).then(n)}function ie(e,t){function n(){return T.default.sendAndListen({method:"chatHide",params:[null!=t?t:!e.hide,e.gid]}).then((function(e){e&&b.default.emit(Ie,e,"hide",e.hide)}))}return e.id?n():Z(e).then(n)}function le(e,t){function n(){return T.default.sendAndListen({method:"chatFreeze",params:["boolean"==typeof t?t:!e.frozen,e.gid]}).then((function(t){t&&b.default.emit(Ie,t,"freeze",e.frozen)}))}return e.id?n():Z(e).then(n)}function se(e,t){function n(){return T.default.send({method:"chatSetCategory",params:[o,t]})}var r=Array.isArray(e),o=r?e.map((function(e){return e.gid})):[e.gid];return r||e.id?n():Z(e).then(n)}function ue(e,t){var n,r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=P.default.userConfig;a=null==o?f.default.ui["chat.sendMarkdown"]&&a&&a.sendMarkdown?x.CONTENT_TYPES.text:x.CONTENT_TYPES.plain:o?x.CONTENT_TYPES.text:x.CONTENT_TYPES.plain;try{r=RegExp("(?<!`)```(?!`)","g")}catch(e){console.log("codeBlockRegex /(?<!`)```(?!`)/g failed to construct: ",e)}if(a===x.CONTENT_TYPES.text&&null!=(o=r)&&o.test(e)){var i=G(e.matchAll(r)).map((function(e){return e.index})),l=[];l.push(e.slice(0,i[0]));for(var s=0;s<i.length;s++){var u=i[s],c=i[s+1];s%2==0&&void 0!==c?c+=3:s%2==1&&(u+=3),l.push(e.slice(u,c))}n="",l.forEach((function(e,t){t%2==0&&""!==e?n+=(0,D.normalizeMentionsInMessage)(e):t%2==1&&""!==e&&(n+=e)}))}else n=(0,D.normalizeMentionsInMessage)(e);return(0,x.createChatMessage)({content:n,user:P.default.userId,cgid:t.gid,contentType:a})}function ce(e,t){var n,r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Re(e&&(0,h.isWebUrl)(e.trim())?(n=e.trim(),r=t,(0,x.createChatMessage)({content:JSON.stringify({type:x.OBJECT_TYPES.url,url:n}),user:P.default.userId,cgid:r.gid,contentType:x.CONTENT_TYPES.object})):ue(e,t,o),t)}function fe(e,t){return(e="string"==typeof e?{code:e}:e).code=(0,u.encodeEmojiMessage)(e.code),(0,x.createChatMessage)({content:JSON.stringify(e),user:P.default.userId,cgid:t.gid,contentType:x.CONTENT_TYPES.code})}function de(e,t){return Re(fe(e,t),t)}function pe(e,t){return(0,x.createChatMessage)({contentType:x.CONTENT_TYPES.emotion,content:JSON.stringify({type:"emoji",content:e}),user:P.default.userId,cgid:t.gid})}function he(e,t){return Re(pe(e,t),t,!0)}function me(e,t){return(0,x.createChatMessage)({type:x.TYPES.botcommand,contentType:x.CONTENT_TYPES.text,content:e,user:P.default.userId,cgid:t.gid})}function ye(e,t){return Re(me(e,t),t)}function ge(e,t){return e&&(e.canRename(P.default.user)||"super"===(0,P.getCurrentUser)().admin)?e.id?T.default.send({method:"chatRename",params:[e.gid,t]}):Promise.reject(new Error("Cannot rename a local chat.")):Promise.reject(new Error("You have no permission to rename the chat."))}function be(e,t){return new x.default({content:e,user:P.default.userId,cgid:t.gid,type:x.default.TYPES.broadcast})}function ve(e,t){return Re(be(e,t),t,!0)}function _e(e,t,n){if("super"===(0,P.getCurrentUser)().admin||e.canInvite(P.default.user))return e.isOne2One?(t.push.apply(t,G(e.members)),Q(t,n)):T.default.sendAndListen({method:"chatInvite",params:[e.gid,t]})}function we(e,t){if(e.canKickOff(P.default.user,t)||"super"===(0,P.getCurrentUser)().admin)return T.default.sendAndListen({method:"chatKick",params:[e.gid,[t.id]]})}function Se(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return T.default.sendAndListen({method:t?"chatJoin":"chatLeave",params:[e.gid]}).then((function(n){n&&b.default.emit(Ie,e,"join",t)}))}function Oe(e){return e.canExit()?Se(e,!1):Promise.reject()}function Me(e){return e.canDismiss(P.default.user)?T.default.sendAndListen({method:"chatDismiss",params:[e.gid]}).then((function(t){t&&b.default.emit(Ie,e,"dismiss")})):Promise.reject()}function Ce(e,t){return e.isOwner(P.default.user)||"super"===(0,P.getCurrentUser)().admin?T.default.sendAndListen({method:"chatChangeOwnership",params:[e.gid,t]}):Promise.reject()}function ke(e,t){return e.isOwner(P.default.user)?T.default.send({method:"chatMerge",params:[e.gid,t.gid]}):"super"===(0,P.getCurrentUser)().admin?T.default.sendAndListen({method:"chatMerge",params:[e.gid,t.gid]}):Promise.reject()}function Ee(e){return b.default.on(Ae,e)}function Pe(){return T.default.sendAndListen({method:"chatGetList"})}function Te(e){return T.default.sendAndListen({method:"chatCreate",params:[e,"","","",0,!1]})}var je,xe=d.default.isType("browser"),De=d.default.access("fs"),Ae="im.server.message.send",Ie="im.server.chat.action",Le=(t.createChat=Z,t.createChatWithMembers=Q,t.setChatCommitters=ee,t.toggleChatPublic=te,t.toggleChatGroupPublic=ne,t.setChatGroupSettings=re,t.toggleChatArchive=function(e,t){function n(){return T.default.send({method:"chatarchive",params:[null!=t?t:!e.isArchived,e.gid]})}return e.id?n():Z(e).then(n)},t.toggleChatStar=oe,t.toggleMuteChat=ae,t.toggleHideChat=ie,t.toggleFreezeChat=le,t.setChatCategory=se,t.addCategory=function(e){var t=(0,P.getCurrentUser)(),n=t.config.groupsCategories,r=(0,R.timeSequence)();n[e]={order:r,key:r},t.config.groupsCategories=n,b.default.emit("menu.categories.changed")},t.createTextChatMessage=ue,t.createShareConferenceMessage=function(e,t){return(0,x.createChatMessage)({content:JSON.stringify({type:x.OBJECT_TYPES.conferenceInvite,conferenceNumber:e,topic:null==(e=(0,s.getConference)(e))?void 0:e.topic}),user:P.default.userId,cgid:t.gid,contentType:x.CONTENT_TYPES.object})},t.sendTextMessage=ce,t.sendCodeMessage=de,function(){var e=V((function*(e,t,n){Array.isArray(t)||(t=[t]);var r,o=(e=Array.isArray(e)?e:[e]).length,a=t.length,s=0,u=[],f=l.default.createRef(),d=(c.default.show(l.default.createElement(i.default,{langString:n,total:o*a,ref:f}),{id:"messager-chat-share-message",autoHide:!1,closeButton:!1,modal:!0,backdrop:!1}),z(e));try{for(d.s();!(r=d.n()).done;)if((g=r.value)&&""!==g){var p=!1;if("string"==typeof g){var h,m=z(t);try{for(m.s();!(h=m.n()).done;){var y=h.value,g=("string"==typeof y&&(y=I.default.getChat(y)),ue(g,y,!1));p=(yield Re(g,y)).isSuccess,f.current.setCurrent&&f.current.setCurrent(s++)}}catch(e){m.e(e)}finally{m.f()}}else g instanceof x.default&&(p=!!(yield Ne(g,t,(function(){f.current.setCurrent&&f.current.setCurrent(s++)}))).length);p&&u.push(g)}}catch(e){d.e(e)}finally{d.f()}return f.current.setCurrent&&f.current.setCurrent(s++),u}));return function(t,n,r){return e.apply(this,arguments)}}()),Ne=(t.shareContentToChats=Le,function(){var e=V((function*(e,t,n){function r(e){return e.isFileContent&&!!e.fileContent.editable}if(Array.isArray(e)||(e=[e]),e.some(r)&&(c.default.show(k.default.string("file.collabora.forwardWarning"),{type:"warning"}),!(e=e.filter((function(e){return!r(e)}))).length))return[];var o,a=z(t);try{for(a.s();!(o=a.n()).done;)yield*function*(){var t=o.value,r=e.map((function(e){return(0,x.createChatMessage)({user:P.default.userId,cgid:t.gid,type:e.type,content:e.content,contentType:e.contentType,data:{forwardFrom:{gid:e.gid,user:e.senderId,date:e.date}}})}));yield Re(r,t),null!=n&&n()}()}catch(t){a.e(t)}finally{a.f()}return e}));return function(t,n,r){return e.apply(this,arguments)}}()),Re=(t.forwardMessage=Ne,t.createEmojiChatMessage=pe,t.sendEmojiMessage=he,t.createBotCommandMessage=me,t.sendBotCommandMessage=ye,t.renameChat=ge,function(){var e=V((function*(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e)||(e=[e]),t)t instanceof j.default||(t=I.default.getChat(t.gid));else if(!(t=I.default.getChat(e[0].cgid)))return Promise.reject(new Error("Chat is not set before send messages."));if(!n&&t.isReadonly(P.default.user))return Promise.reject(k.default.string("chat.blockedCommitterTip"));var r=(0,P.isUserOnline)(),o=(0,P.getUserConfig)(),i=o.getChatBulletinSetting(t.gid),l=o.getChatReplyTo(t.gid);return i&&o.setChatBulletinSetting(t.gid,null),e.forEach((function(e){var n,s,u,c,h;i&&e.isTextContent?(e.type=x.TYPES.bulletin,e.setDataValue({type:i.type||x.BULLETIN_TYPES.bulletin,expiration:(0,p.calculateTimestamp)(i.duration,i.unit)||0})):l&&(e.setDataValue({replyTo:l}),e.isFileContent&&o.setChatReplyTo(t.gid,null)),e.date=Date.now(),r?(n=e.getCommand())&&(s=e.isMarkdownTextContent,"version"===n.action?(h=(h=(0,f.getSpecialVersionName)())?" for ".concat(h):"",u=process.env.HOT?"(HOT)":"",c=[],s&&c.push("```js:$$version"),c.push("version       = '".concat(a.default.name," ").concat(a.default.version).concat(a.default.buildVersion?".".concat(a.default.buildVersion):"").concat(h).concat(u,"';"),"serverVersion = '".concat(P.default.user.serverVersion,"';"),"buildTime     = '".concat(a.default.buildTime?(0,p.formatDate)(a.default.buildTime):"","';"),"commit        = '".concat(a.default.commit,"';"),"lang          = '".concat(k.default.name,"';"),"platform      = '".concat(d.default.displayName,"';"),"os            = '".concat(d.default.access("env.os"),"';")),d.default.has("env.arch")&&c.push("arch          = '".concat(d.default.access("env.arch"),"';")),s&&c.push("```"),e.content=c.join("\n")):"dataPath"===n.action&&d.default.has("os.createUserDataPath")&&(h=[],s&&h.push("```"),h.push("$$dataPath = '".concat(d.default.call("os.createUserDataPath",P.default.user.identify,"",""),"';")),s&&h.push("```"),e.content=h.join("\n"))):e.markSendFailed()})),A.default.store(e,{putToDatabase:!1,unread:!1}),n||b.default.emit(Ae,e,t),r?T.default.sendAndListen({method:"messagesend",params:[e.map((function(e){return e.plainServer()}))]},t).catch((function(){var t,n=z(e);try{for(n.s();!(t=n.n()).done;)t.value.markSendFailed()}catch(t){n.e(t)}finally{n.f()}A.default.store(e)})):Promise.resolve()}));return function(t,n){return e.apply(this,arguments)}}()),Fe=(t.sendChatMessage=Re,function(){var e=V((function*(e,t,n){if(0===(r=(e=v.default.create(e)).size))c.default.show(k.default.error("UPLOAD_FILE_IS_ZERO_SIZE"),{type:"warning"});else{if(r<10240)return function(e,t){return new Promise((function(n,r){function o(o){var a=(0,x.createChatMessage)({user:P.default.userId,cgid:t.gid,contentType:x.CONTENT_TYPES.image});(0,m.getImageInfo)(o).then((function(r){a.imageContent={content:o,time:(new Date).getTime(),name:e.name,size:e.size,send:!0,type:"base64",width:r.width,height:r.height},Re(a,t),n()})).catch((function(){c.default.show(k.default.error("CANNOT_HANDLE_IMAGE"),{type:"danger"}),DEBUG&&console.warn("Cannot get image information",e),r()}))}var a=e.base64||e.originFile&&e.originFile.base64;a?o(a):((a=new FileReader).onload=function(e){o(e.target.result)},a.readAsDataURL(e.blob||e.originFile||e))}))}(e,t);if((0,C.checkUploadFileSize)(r)){var r,a={gid:(r=(0,x.createChatMessage)({user:(0,P.getCurrentUserID)(),cgid:t.gid,contentType:x.CONTENT_TYPES.image})).gid,cgid:r.cgid,senderId:r.senderId};try{var i=yield(0,m.getImageInfo)(e.viewUrl);a.width=i.width,a.height=i.height}catch(l){return void c.default.show(k.default.error("CANNOT_HANDLE_IMAGE"),{type:"danger"})}e.change(a),(r.imageContent=e).sendMethod="sendImageMessage";var l=W(yield(0,o.default)((0,C.uploadFile)(e,n,!0)),1)[0];return l?(c.default.show("".concat(k.default.string("file.uploadFailed"),"(").concat(k.default.error(l),")"),{type:"danger"}),void(DEBUG&&console.error("Upload image file error",{error:l,imageFile:e}))):(r.updateImageContent(e.plain()),r.cacheFilePath=e.cachePath,Re(r,t))}c.default.show(k.default.format("error.UPLOAD_FILE_IS_TOO_LARGE",(0,y.formatBytes)(P.default.user.uploadFileSize)),{type:"warning",autoHide:!0})}}));return function(t,n,r){return e.apply(this,arguments)}}()),Ye=(t.sendImageMessage=Fe,t.sendFilesByRTC=function(e,t){var n,o,a,i,l=t.gid,s=t.theOtherMemberID,u=t.isOne2One;null!=(n=O.default.getRTCSender(t.gid))&&n.dataChannelSize||null!=(n=O.default.getSendingFiles(t.gid))&&n.size||null!=(n=M.default.getRTCReceiver(t.gid))&&n.dataChannelSize||null!=(n=M.default.getReceivingFiles(t.gid))&&n.size?(0,g.executeCommand)("showMessager",k.default.string("file.upload.p2p.exitHint.sendingFileOnlyOne"),{type:"warning"}):u?E.default.getMember(s).isOnline?(o=(0,P.getCurrentUserID)(),a=new Map,i=new Map,e.forEach((function(e){var n=(0,r.v4)(),l=((0,N.setP2pFilePath)(n,e.path),e.name),u=e.size;a.set(n,{id:n,name:l,size:u,sender:o,receiver:s,status:F.RTC_FILE_STATUS.pending,originFile:e}),i.set(n,{id:n,name:l,size:u,sender:o,receiver:s,status:F.RTC_FILE_STATUS.pending}),Ye({type:_.FILE_BROAD_MESSAGE_TYPES.readyToReceive,chat:t,fileName:e.name,fileSize:e.size})})),T.default.send({method:"datatransfer",params:{cgid:t.gid,user:t.theOtherMemberID,data:JSON.stringify({type:F.RTC_TRANSFER_EVENT.sendFilesRequest,files:G(i)}),userID:o}}),O.default.setSendingFiles(l,a)):(0,g.executeCommand)("showMessager",k.default.string("chat.sendbox.toolbar.file.online.offlinewarning"),{type:"warning"}):c.default.show(k.default.format("error.suggestion.RTC_ONLY_ONE2ONE"),{type:"warning",autoHide:!0})},t.createBroadcastChatMessage=be,t.sendBroadcastChatMessage=ve,function(){var e=V((function*(e){var t=e.type,n=e.fileName,r=e.fileSize,o=void 0===(o=e.gid)?"":o,a=e.sender,i=(e=e.chat,null);return n="`".concat(n,"(").concat((0,y.formatBytes)(r),")`"),r="[@".concat((0,P.getCurrentUser)().realname,"](@#").concat(P.default.userId,")"),"string"==typeof e&&(e=I.default.getChat(e)),t===_.FILE_BROAD_MESSAGE_TYPES.readyToReceive?i=k.default.format("chat.message.notification.file.readyToReceive",r,n):t===_.FILE_BROAD_MESSAGE_TYPES.cancelSend?i=k.default.format("chat.message.notification.file.cancelSend",r,n):t===_.FILE_BROAD_MESSAGE_TYPES.terminalSend?i=k.default.format("chat.message.notification.file.terminalSend",r,n):t===_.FILE_BROAD_MESSAGE_TYPES.rejctReceive?i=k.default.format("chat.message.notification.file.rejctReceive",r,n):t===_.FILE_BROAD_MESSAGE_TYPES.cancelReceive?i=k.default.format("chat.message.notification.file.cancelReceive",r,n):t===_.FILE_BROAD_MESSAGE_TYPES.reciveDone?i=o?k.default.format("chat.message.notification.file.reciveDone","[".concat(n,"](xxc://showFileInExplorer/").concat(o,")")):k.default.format("chat.message.notification.file.reciveDone",n):t===_.FILE_BROAD_MESSAGE_TYPES.exception&&(r=E.default.getMember(a),o="[@".concat(null==r?void 0:r.realname,"](@#").concat(a,")"),i=k.default.format("chat.message.notification.file.exception",n,o)),ve(i,e)}));return function(t){return e.apply(this,arguments)}}()),Be=(t.sendFileBroadcastChatMessage=Ye,function(){var e=V((function*(e,t,n){if(0===(r=(e=v.default.create(e)).size))c.default.show(k.default.error("UPLOAD_FILE_IS_ZERO_SIZE"),{type:"warning",autoHide:!0});else if((0,C.checkUploadFileSize)(r)){var r,a={gid:(r=(0,x.createChatMessage)({user:(0,P.getCurrentUserID)(),cgid:t.gid,contentType:x.CONTENT_TYPES.file})).gid,cgid:r.cgid,senderId:r.senderId};if(e.mimeType.includes("image"))try{var i=yield(0,m.getImageInfo)(e.viewUrl);a.width=i.width,a.height=i.height}catch(l){c.default.show(k.default.error("CANNOT_HANDLE_IMAGE"),{type:"danger"}),DEBUG&&console.warn("Cannot get image size info",e,l)}e.change(a),(r.fileContent=e).sendMethod="sendFileMessage";var l=W(yield(0,o.default)((0,C.uploadFile)(e,n)),1)[0];if(l)return"HTTP_ABORT"!==l.code&&c.default.show("".concat(k.default.string("file.uploadFailed"),"(").concat(k.default.error(l),")"),{type:"danger"}),void(DEBUG&&console.error("Upload file error",{error:l,file:e}));r.updateFileContent(e.plain()),r.cacheFilePath=e.cachePath,Re(r,t)}else c.default.show(k.default.format("error.UPLOAD_FILE_IS_TOO_LARGE",(0,y.formatBytes)(P.default.user.uploadFileSize)),{type:"warning",autoHide:!0})}));return function(t,n,r){return e.apply(this,arguments)}}());t.sendFileMessage=Be,t.inviteMembersToChat=_e,t.kickOfMemberFromChat=we,t.batchKickMemberFromChat=function(e,t){var n=!0;if(t.forEach((function(t){e.canKickOff(P.default.user,{id:t})||(n=!1)})),n)return T.default.sendAndListen({method:"chatKick",params:[e.gid,t]})},t.joinOrExitChat=Se,t.exitChat=Oe,t.dismissChat=Me,t.changeOwnership=Ce,t.mergeChat=ke,t.addAdmins=function(e,t){if(e.canSetAdmins(P.default.user)||"super"===(0,P.getCurrentUser)().admin)return T.default.sendAndListen({method:"chatAddAdmins",params:[e.gid,t="number"==typeof t?[t]:t,P.default.user.id]})},t.removeAdmins=function(e,t){if(e.canSetAdmins(P.default.user)||"super"===(0,P.getCurrentUser)().admin)return T.default.sendAndListen({method:"chatRemoveAdmins",params:[e.gid,t="number"==typeof t?[t]:t,P.default.user.id]})},t.pinMessage=function(e,t){if(e.isOne2One||e.isAdmin(P.default.user))return"number"==typeof t&&(t=[t]),d.default.call("ui.showAndFocusWindow"),T.default.sendAndListen({method:"chatPinMessages",params:[e.gid,t,P.default.user.id]})},t.unpinMessage=function(e,t){if(e.isOne2One||e.isAdmin(P.default.user))return"number"==typeof t&&(t=[t]),d.default.call("ui.showAndFocusWindow"),T.default.sendAndListen({method:"chatUnpinMessages",params:[e.gid,t,P.default.user.id]})},t.onSendChatMessages=Ee,t.onChatActionChanged=function(e){return b.default.on(Ie,e)},t.fetchChatList=Pe,t.fetchChat=Te,t.deleteChatMessage=function(e,t){return e.canDelete(P.default.user)||t.isAdmin(P.default.user)?((t=e.plainServer()).deleted=!0,d.default.call("ui.showAndFocusWindow"),T.default.sendAndListen({method:"messageretract",params:[[t]]})):Promise.reject(new Error("Current use can't delete the message."))},n.g.ExtsRuntime&&(je=n.g.ExtsRuntime.registerExtensionAPI,[{name:"im.shareContentToChat",level:4,func:function(e,t){return Le(e,{gid:t})}},{name:"im.sendTextMessage",level:4,func:function(e,t,n){return ce(e,{gid:t},n)}},{name:"im.sendCodeMessage",level:4,func:function(e,t){return de(e,{gid:t})}},{name:"im.sendEmojiMessage",level:4,func:function(e,t){return he(e,{gid:t})}},{name:"im.sendBotCommandMessage",level:4,func:function(e,t){return ye(e,{gid:t})}},{name:"im.sendImageMessage",level:4,func:function(e,t,n){return Fe(e,{gid:t},n)}},{name:"im.sendFileMessage",level:4,func:function(e,t,n){return Be(e,{gid:t},n)}},{name:"im.createGroupChat",level:4,func:function(e,t){return Q(e,{name:t})}},{name:"im.inviteMembersToChat",level:4,func:function(e,t){return _e({gid:e},t)}},{name:"im.renameChat",level:4,func:function(e,t){return ge({gid:e},t)}},{name:"im.toggleStarChat",level:4,func:function(e,t){return oe({gid:e},t)}},{name:"im.toggleMuteChat",level:4,func:function(e,t){return ae({gid:e},t)}},{name:"im.toggleFreezeChat",level:4,func:function(e,t){return le({gid:e},t)}},{name:"im.joinChat",level:4,func:function(e){return Se({gid:e})}},{name:"im.exitChat",level:4,func:function(e){return Se({gid:e},!1)}},{name:"im.dismissChat",level:4,func:function(e){return Me({gid:e})}},{name:"im.sendBroadcastChatMessage",level:4,func:function(e,t){return ve(e,{gid:t})}}].forEach((function(e){return je(e)}))),T.default.setHandlers(L.imServerHandlers),T.default.setHandler("datatransfer",(function(e){if(e.isSuccess){e=e.data;try{e.data=JSON.parse(e.data)}catch(e){console.error(e)}var t=e.data,n=e.cgid;if(e=e.userID,"offer"===t.type)return M.default.getRTCReceiver(n)&&M.default.removeRTCReceiver(n),(e=new S.default(n,e)).createPeerConnection(),e.onGetOffer(t),void M.default.storeRTCReceiver(n,e);if("answer"===t.type){if(e=O.default.getRTCSender(n))return void e.onGetAnswer(t);throw new Error("can't find RTC initiator.")}if("candidate"===t.type){if("initiator"===t.from){if(e=M.default.getRTCReceiver(n))return void e.onGetCandidate(t);throw new Error("can't find RTC responder.")}if("responder"!==t.from)return;if(e=O.default.getRTCSender(n))return void e.onGetCandidate(t);throw new Error("can't find RTC initiator.")}if(t.type===F.RTC_TRANSFER_EVENT.sendFilesRequest)M.default.setReceivingFiles(n,new Map(t.files));else{if(t.type===F.RTC_TRANSFER_EVENT.sendFilesCancel)return e="".concat(null==(e=M.default.getReceivingFile(n,t.file.id))?void 0:e.savedPath,".tmp"),!xe&&De.pathExistsSync(e)&&De.removeSync(e),void M.default.removeReceivingFile(n,t.file.id);t.type===F.RTC_TRANSFER_EVENT.receiveFilesCancel?O.default.removeSendingFile(n,t.file.id):t.type===F.RTC_TRANSFER_EVENT.receiveFilesConfirm&&(t.file.status===F.RTC_FILE_STATUS.accepted&&(O.default.acceptSendingFile(n,t.file.id),(e=O.default.getRTCSender(n))?e.sendFile(t.file.id):((e=new w.default(n,t.file.receiver)).createPeerConnection(),O.default.storeRTCSender(n,e))),t.file.status===F.RTC_FILE_STATUS.refused&&O.default.removeSendingFile(n,t.file.id))}}})),n={fetchChatList:Pe,fetchChat:Te,createChat:Z,createChatWithMembers:Q,setCommitters:ee,toggleChatPublic:te,toggleChatGroupPublic:ne,toggleChatStar:oe,toggleFreezeChat:le,toggleHideChat:ie,toggleMuteChat:ae,setChatGroupSettings:re,setChatCategory:se,renameChat:ge,sendChatMessage:Re,joinOrExitChat:Se,exitChat:Oe,dismissChat:Me,changeOwnership:Ce,mergeChat:ke,inviteMembersToChat:_e,shareContentToChats:Le,sendImageMessage:Fe,sendFileMessage:Be,createTextChatMessage:ue,createEmojiChatMessage:pe,sendTextMessage:ce,sendEmojiMessage:he,createBotCommandMessage:me,sendBotCommandMessage:ye,createCodeMessage:fe,sendCodeMessage:de,onSendChatMessages:Ee,kickOfMemberFromChat:we},t.default=n},15998:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getActivatedCacheChatsGID=t.emitChatSendboxFocus=t.default=t.createGroupChat=t.createFileServerContextMenuItems=t.createCatureScreenContextMenuItems=t.chatRenamePrompt=t.chatExitConfirm=t.chatDismissConfirm=t.captureAndCutScreenImage=void 0,t.getRecentMembersOfGroupChat=Se,t.renameChatCategory=t.onSuggestSendImage=t.onSendContentToChat=t.onChatSendboxFocus=t.mentionMemberInSendbox=t.isChatsCacheChanged=t.initImUI=void 0,t.searchMembersOfGroupChat=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5,r=j.default.getChat(e);if(!r)return[];if((r=r.members).size||(r=new Set(Se(e,100))),!r.size)return[];var o=[];return r.forEach((function(e){var n=x.default.getItemFromCache(e);!n||(n=n.getMatchScore(t))&&o.push({score:n,member:e})})),o.length&&(o.sort((function(e,t){return t.score-e.score})),o=o.map((function(e){return e.member})),n&&o.length>n)?o.slice(0,n):o},t.setChatCacheState=t.sendMessageToChat=t.sendFilesToChat=t.sendContentToChat=void 0,t.showChatMessage=Ce,t.showMessageInList=Oe,t.takeOutChatCacheState=void 0;var o=n(41629),a=(n(57485),n(81595),n(68232),n(22821),n(51943),n(73630),n(19397),n(51572),V(n(65286))),i=n(15973),l=V(n(61862)),s=n(20491),u=n(16986),c=(n(7066),n(4829)),f=n(69851),d=n(64393),p=V(n(62004)),h=n(32887),m=V(n(48516)),y=V(n(28350)),g=H(n(74933)),b=n(77325),v=n(98649),_=n(78717),w=V(n(74160)),S=V(n(94128)),O=V(n(70562)),M=n(17531),C=n(90534),k=V(n(12482)),E=n(18876),P=(H(n(92691)),n(40910)),T=n(20116),j=V(n(74101)),x=V(n(84431)),D=V(n(29795)),A=V(n(73052)),I=(n(79429),n(68271)),L=n(68788),N=(V(n(74689)),V(n(94592))),R=(n(74249),n(87434)),F=n(71255),Y=n(30010),B=(n(16002),void n(89904)),U=["type","cgid"],W=["message"];function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=z(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function V(e){return e&&e.__esModule?e:{default:e}}function G(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){q(a,r,o,i,l,"next",e)}function l(e){q(a,r,o,i,l,"throw",e)}i(void 0)}))}}function K(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ee(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(){var e,t=Date.now(),n=Q(he);try{for(n.s();!(e=n.n()).done;){var r=Z(e.value,2),o=r[0],a=r[1];if(!(0,I.isActiveChat)(o)&&a.isExpired(t,(0,u.convertTimes)(w.default.ui["chat.cacheLife"])))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}function re(e,t){(e=he.get(e))&&e.keepState(t)}function oe(e,t){if(e=he.get(e))return e.takeOutState(t)}function ae(e){e&&j.default.getChat(e)&&((t=he.get(e))?t.active():he.set(e,new O.default(e)));var t,n=Date.now();return Array.from(he.keys()).filter((function(e){if((0,I.isActiveChat)(e))return!0;var t=he.get(e);return!(t.isCleaned||t.isExpired(n,(0,u.convertTimes)(w.default.ui["chat.cacheLife"]))&&(t.clean(),null!=(e=j.default.getChat(e))&&e.shrinkMessageIndexList(20),DEBUG&&(e=j.default.getChat(t.cgid),console.collapse("Chat cache cleaned","tealBg",e?e.name:null,"tealPale"),console.log("cache",t),console.groupEnd()),1))}))}function ie(e){(0,_.executeCommand)("showChatSendDialog",{message:e})}function le(e,t){return a.default.on("".concat(me.sendContentToChat,".").concat(e),t)}function se(e){var t=e.name;return m.default.prompt(l.default.string("chat.rename.title"),e.name,{inputProps:{inputProps:{maxLength:16},placeholder:l.default.string("chat.rename.newTitle")}}).then((function(n){e.name!==n&&n!==t&&n.trim()!==t&&""!==String(n).trim()&&(0,s.renameChat)(e,String(n).trim())}))}function ue(e){return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&!e.isDismissed?(0,L.showMessager)(l.default.format("chat.group.exitTip"),{type:"warning"}):m.default.confirm(l.default.format("chat.group.exitConfirm",e.name)).then((function(t){t&&(0,s.exitChat)(e)}))}function ce(e){return m.default.prompt(l.default.string("chat.create.newChatNameTip"),"",{inputProps:{placeholder:l.default.string("chat.rename.newTitle")},onSubmit:function(e){if(!e)return m.default.alert(l.default.string("chat.rename.newTitleRequired")),!1}}).then((function(t){if(t)return(0,s.createChatWithMembers)(e,{name:t})}))}function fe(e){return a.default.on(me.suggestSendImage,e)}function de(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;a.default.emit(me.sendboxFocus,e,t),(0,i.getUserConfig)().listenClipboardImage&&(0,u.isEmptyString)(t)&&(0,_.executeCommandLine)("suggestClipboardImage")}function pe(e){return a.default.on(me.sendboxFocus,e)}var he=new Map,me={sendContentToChat:"im.chats.sendContentToChat",suggestSendImage:"im.chats.suggestSendImage",sendboxFocus:"im.chat.sendbox.focus",dismissedChat:"im.chats.dismissedChat",replyChat:"im.chats.reply"},ye=(t.isChatsCacheChanged=ne,t.setChatCacheState=re,t.takeOutChatCacheState=oe,t.getActivatedCacheChatsGID=ae,function(e){var t=void 0===(t=(r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).type)?"text":t,n=void 0===(n=r.cgid)?(0,I.getActiveChatGid)():n,r=X(r,U);if("file"!==t)return"text"===t&&"string"==typeof e&&(e=(0,u.restoreMessageContainAt)(e)),a.default.emit("".concat(me.sendContentToChat,".").concat(n),J({content:e,type:t},r));(0,s.sendFileMessage)(e,j.default.getChat(n))}),ge=(t.sendContentToChat=ye,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t={cgid:t}),"string"==typeof e?e=e.split(","):Array.isArray(e)||(e=[e]),e.length&&ye(e,J({type:"mention"},t))}),be=(t.mentionMemberInSendbox=ge,t.sendMessageToChat=ie,function(){var e=$((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,I.getActiveChatGid)();if(e&&e.length){2===e.length&&null!=(n=e.every)&&n.call(e,(function(e){return e.type.startsWith("image/")}))&&e.some((function(e){return!e.path}))&&S.default.env.isWindowsOS&&e.splice(e.indexOf((function(e){return 0===e.name.search(e.path.contains("WeChat Files"))})),1);for(var n=j.default.getChat(t),r=!1,o=!1,a=!0,l=[],u=[],c=0;c<e.length;c++){var f=e[c];a&&!f.type.startsWith("image/")&&(a=!1),(0,M.checkUploadFileSize)(f.size)?l.push(k.default.create(f)):f.size<=0?""===f.type?o=!0:r=!0:u.push(k.default.create(f))}if(n.isOne2One&&x.default.getMember(n.theOtherMemberID).isOnline&&!a){var d=n.theOtherMemberID===(0,i.getCurrentUserID)(),p=l.concat(u);if(yield(0,R.showConfirmSendModeDialog)(l.concat(u),{isMe:d,useP2p:!0})){var h=(0,F.getLocalConfig)("sendCurrentFilesByP2p");if((0,F.removeLocalConfig)("sendCurrentFilesByP2p"),h)(0,s.sendFilesByRTC)(p.map((function(e){return e.originFile})),n);else if(l.length&&l.forEach((function(e){return ye(e,{type:"file",cgid:t})})),u.length)if(d)ye(u[0],{type:"file",cgid:t});else if((0,i.getUserConfig)().get("ui.chat.sendBigFileOnline"))(0,s.sendFilesByRTC)(u.map((function(e){return e.originFile})),n);else{if(!(yield(0,Y.showConfirmSendFilesDialog)(u,!0)))return;(0,s.sendFilesByRTC)(u.map((function(e){return e.originFile})),n)}ve(o,r)}else(0,F.removeLocalConfig)("sendCurrentFilesByP2p")}else if(l.length||u.length){if(a)return ye(l,{type:"image",cgid:t}),void ve(o,r,!!u.length);h=l.concat(u),(yield(0,R.showConfirmSendModeDialog)(h,{isMe:!1,useP2p:!1}))&&(l.forEach((function(e){return ye(e,{type:"file",cgid:t})})),ve(o,r,!!u.length))}}}));return function(t){return e.apply(this,arguments)}}()),ve=(t.sendFilesToChat=be,function(){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=2<arguments.length&&void 0!==arguments[2]&&arguments[2];0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(0,_.executeCommand)("showMessager",l.default.error("UPLOAD_FILE_IS_TYPE_ERROR"),{type:"warning"}),e&&(0,_.executeCommand)("showMessager",l.default.error("UPLOAD_FILE_IS_ZERO_SIZE"),{type:"warning"}),t&&(0,_.executeCommand)("showMessager",l.default.error({code:"UPLOAD_FILE_IS_TOO_LARGE",formats:(0,u.formatBytes)((0,i.getCurrentUser)().uploadFileSize)}),{type:"warning"})}),_e=(t.onSendContentToChat=le,function(){var e=$((function*(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(!S.default.has("screenshot"))throw new Error("The platform(".concat(S.default.type,") not support capture screenshot."));var r,o=(0,I.getActiveChatGid)();try{if(!t&&S.default.env.isOSX&&S.default.has("displayMedia.isGrantedScreenAccess")&&!S.default.call("displayMedia.isGrantedScreenAccess","screen"))return r=[{label:l.default.string("common.systemPreferneces"),click:function(){S.default.call("os.openMacScreenCapturePreferences")}}],DEBUG&&r.push({label:"Skip Permission Check",click:function(){return _e(e,!0)}}),void(0,_.executeCommand)("showMessager",l.default.string("conference.shareScreen.noPermission"),{type:"danger",actions:r});var a=yield S.default.access("screenshot").captureAndCutScreenImage(e);if(n)return(0,I.setActiveChat)(o),a&&ye(J(J({},a),{},{name:"screenshot-".concat(Date.now(),".png"),blob:(0,E.dataURItoBlob)(a.base64),base64:null}),{type:"image",cgid:o})}catch(e){DEBUG&&console.warn("Capture screen image error: ",e)}}));return function(){return e.apply(this,arguments)}}()),we=(t.captureAndCutScreenImage=_e,function(){if(S.default.has("screenshot"))return[{id:"captureScreen",label:l.default.string("chat.sendbox.toolbar.captureScreen"),click:function(){_e()}},{id:"hideAndCaptureScreen",label:l.default.string("imageCutter.hideCurrentWindowAndCaptureScreen"),click:function(){_e(!0)}},{type:"separator"},{id:"captureScreenHotSetting",label:l.default.string("imageCutter.setGlobalHotkey"),click:function(){(0,_.executeCommand)("showHotkeySettingDialog",l.default.string("imageCutter.setGlobalHotkey"),(0,i.getUserConfig)().captureScreenHotkey,(function(e){(0,i.getUserConfig)().captureScreenHotkey=e}))}}];throw new Error("The platform(".concat(S.default.type,") not support take screenshots."))});function Se(e,t){var n,r=void 0===(n=(t=(t="number"==typeof t?{limit:t}:t)||{}).limit)?5:n;if(t=void 0===(n=t.fillRest)||n,!(n=j.default.getChat(e)))return[];for(var o=[],a=new Set,i=n.latestMessageIndexes,l=n.members,s=i.length-1;0<=s;--s){var u=A.default.getMessage(i[s],e,"index");if(u&&!u.isNotification&&(u=u.senderId,!(a.has(u)||0<l.size&&!l.has(u))&&(a.add(u),o.push(u),o.length>=r)))break}if(o.length<r&&t){var c,f=Q(l);try{for(f.s();!(c=f.n()).done;){var d=c.value;if(!a.has(d)&&(a.add(d),o.push(d),o.length>=r))break}}catch(e){f.e(e)}finally{f.f()}}return o}function Oe(e,t){return Me.apply(this,arguments)}function Me(){return(Me=$((function*(e,t){function n(){var e=document.getElementById("message-".concat(t));return!!e&&(e.closest(".app-message-list").querySelectorAll(".highlight-focus").forEach((function(e){return e.classList.remove("highlight-focus")})),!!(0,d.scrollIntoView)(e,{behavior:"smooth",block:"center"})&&(setTimeout((function(){e.classList.add("highlight-focus"),setTimeout((function(){e.classList.remove("highlight-focus")}),5e3)}),500),!0))}var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5;if((0,P.isRoutePathMatch)("chats","*",e)||((0,P.setRoutePath)("chats","recents",e),yield(0,p.default)(1e3)),n())return!0;if(!r)return!1;for(var o=0;o<r;++o){if(!(yield D.default.loadMoreList(e)))return!1;var a=D.default.getList(e).list;if(a[0]<t)return!1;if(a.includes(t))return yield(0,p.default)(600*(o+1)),n()}return!1}))).apply(this,arguments)}function Ce(e,t){return ke.apply(this,arguments)}function ke(){return(ke=$((function*(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5;if(t=+t,!e){var r=A.default.getMessage(t);if(!r)return!1;e=r.cgid}if(!(yield Oe(e,t,n)))return(0,_.executeCommand)("showMessageInDialog",t,e)}))).apply(this,arguments)}t.createCatureScreenContextMenuItems=we,t.createFileServerContextMenuItems=function(e){var t=[{id:"sendFileOffLine",label:l.default.string("chat.sendbox.toolbar.file.offline"),click:function(){S.default.access("dialog").showOpenDialog((function(t){t&&t.length&&(t=t[0],(0,s.sendFileMessage)(t,e))}))}}],n=(0,i.getCurrentUser)();return e.isOne2One&&n.isVersionSupport("p2pFileTransfer")&&!(0,i.isCurrentUser)(e.theOtherMemberID)&&t.push({id:"sendFileOnLine",label:l.default.string("chat.sendbox.toolbar.file.online"),click:function(){x.default.getMember(e.theOtherMemberID).isOnline?S.default.access("dialog").showOpenDialog((function(t){t&&t.length&&(t=t[0],(0,s.sendFilesByRTC)([t],e))})):(0,_.executeCommand)("showMessager",l.default.string("chat.sendbox.toolbar.file.online.offlinewarning"),{type:"warning"})}}),t},t.chatRenamePrompt=se,t.chatExitConfirm=ue,t.chatDismissConfirm=function(e){return m.default.confirm(l.default.format("chat.group.dismissConfirm",e.name)).then((function(t){return t&&(0,s.dismissChat)(e).then((function(){return Promise.resolve()}))}))},t.createGroupChat=ce,t.renameChatCategory=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"contact",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(null===r)return m.default.prompt(l.default.string("chats.menu.group.renameTip"),t.title).then((function(r){return e(t,n,r)}));if(r!==t.title){if(t.id){var o="contact"===n,u=j.default.queryChats((function(e){return(o?e.isOne2One:e.isGroupOrSystem)&&"".concat(e.category)==="".concat(t.id)})),c=o?"contactsCategories":"groupsCategories",f=(0,i.getCurrentUser)().config[c];if(0<u.length)return(0,s.setChatCategory)(u,r).then((function(){f[r]||(f[r]=f[t.id]),delete f[t.id],(0,i.getCurrentUser)().config[c]=f}));f[r]||(f[r]=f[t.id]),delete f[t.id],(0,i.getCurrentUser)().config[c]=f,a.default.emit("menu.categories.changed")}(0,i.getCurrentUser)().config["contact"===n?"contactsDefaultCategoryName":"groupsDefaultCategoryName"]=r}},t.onSuggestSendImage=fe,t.emitChatSendboxFocus=de,t.onChatSendboxFocus=pe,t.initImUI=function(){var e;(0,i.onSwapUser)((function(e,t){t&&he.clear()})),(0,I.onActiveChat)((function(e){var t,n=j.default.getChat(e);if(n)return(t=he.get(e))?t.active():he.set(e,new O.default(e)),(n.unreadMessagesCount||n.fileSavedNoticeCount)&&j.default.muteChatUnreadMessages(e),!0})),(0,o.initChatConferenceInviteCard)(),(0,s.onChatActionChanged)((function(e,t,n){e&&(n&&"join"===t&&e.public?(0,I.setActiveChat)(e.gid):(n&&("dismiss"===t||"hide"===t||"freeze"===t)||!n&&"join"===t)&&(0,I.activeNextChatOnMenu)({lastChatGid:e.gid}))})),a.default.on(me.dismissedChat,(function(e){(0,I.isActiveChat)(e)&&(0,I.activeNextChatOnMenu)({lastChatGid:e})})),(0,C.onFileSaved)((function(e,t){return t=t.cgid,!(0,I.isOpenedActiveChat)(t)&&!!(t=j.default.getChat(t))&&(t.fileSavedNoticeCount++,j.default.store(t),!0)})),(0,v.addContextMenuCreator)("chat.actions",(function(e){var t=e.chat;return e=[],t.isSystem||t.isRobot||t.isArchived||e.push({id:"chat-star",label:l.default.string(t.star?"chat.toolbar.unstar":"chat.toolbar.star"),click:function(){(0,s.toggleChatStar)(t)}}),t.isRobot||t.isArchived||e.push({id:"chat-mute",label:l.default.string(t.mute?"chat.toolbar.cancelMute":"chat.toolbar.mute"),click:function(){(0,s.toggleMuteChat)(t)}}),t.public&&!t.isArchived&&S.default.has("clipboard.writeText")&&e.push({id:"chat-invite-link",label:l.default.string("chat.public.copyInvitation"),click:function(){S.default.call("clipboard.writeText","[".concat(t.name,"](xxc://confirmJoinPublicChat/").concat(t.gid,")"))}}),e}),{apiLevel:5}),(0,v.addContextMenuCreator)("chat.toolbar.more",(function(e){return(0,v.getMenuItemsForContext)("chat.actions",e)}),{apiLevel:5}),(0,v.addContextMenuCreator)("chat.toolbar",(function(e){var t=("string"==typeof(e=e.chat)&&(e=j.default.getChat(e)),[]),n=(0,v.getMenuItemsForContext)("chat.toolbar.more",{chat:e});return n&&n.length&&t.push({id:"chat-more",icon:"sprite-more",label:l.default.string("chat.toolbar.more"),click:function(e){y.default.show({x:e.pageX,y:e.pageY,direction:"bottom-left"},n)}}),t.push({id:"close-chat-page",icon:"mdi-close",label:l.default.string("common.close"),hintPosition:"bottom-left",click:function(e){(0,P.setRoutePath)("chats","recents")}}),t.length&&(t[t.length-1].hintPosition="bottom-left"),t}),{apiLevel:5}),(0,v.addContextMenuCreator)("chat.sendbox.toolbar",(function(e){var t=e.openMessagePreview,n=e.chat;if(!(n="string"==typeof n?j.default.getChat(n):n))return[];e=(0,i.getCurrentUser)();var r,o=(0,i.getUserConfig)(),a=[{id:"emoticon",icon:"sprite-input-emoji",label:l.default.string("chat.sendbox.toolbar.emoticon"),click:function(e){(0,_.executeCommand)("showEmojiPopover",{x:e.pageX,y:e.pageY,target:e.target,placement:"top"},(function(e){e=g.default.emojiList[e.shortname],ye(e,{type:"emoji"})}))}}];return e.isVersionSupport("fileServer")&&a.push({id:"image",icon:"sprite-input-image",label:l.default.string("chat.sendbox.toolbar.image"),click:function(){S.default.access("dialog").showOpenDialog({filters:[{name:"Images",extensions:["jpg","jpeg","png","gif","apng","webp"]}]},(function(e){null!=e&&e.length&&ye(e[0],{type:"image",cgid:n.gid})}))}}),S.default.has("screenshot")&&o&&a.push({id:"captureScreen",icon:"sprite-input-screenshot",label:"".concat(l.default.string("chat.sendbox.toolbar.captureScreen")," ").concat((0,c.formatKeyDecoration)(o.captureScreenHotkey)||""," (").concat(l.default.string("chat.sendbox.toolbar.moreOptions"),")"),click:function(e){_e(),null!=e&&null!=(e=e.target.closest("button,a"))&&e.blur()},contextMenu:function(e){y.default.show({x:e.pageX,y:e.pageY},we()),e.preventDefault()}}),(0,v.tryAddDividerItem)(a),e.isVersionSupport("fileServer")&&a.push({id:"file",icon:"sprite-input-file",label:l.default.string("chat.sendbox.toolbar.file"),click:function(){S.default.access("dialog").showOpenDialog(null,(function(e){e&&e.length&&(0,s.sendFileMessage)(e[0],j.default.getChat(n.gid))}))}}),w.default.ui["chat.sendCode.enable"]&&a.push({id:"code",icon:"sprite-input-code",label:l.default.string("chat.sendbox.toolbar.code"),click:function(){(0,_.executeCommandLine)("showChatSendCodeDialog/".concat(n.gid))}}),w.default.ui["chat.sendMarkdown"]&&(r=o&&o.sendMarkdown,a.push({id:"markdown",icon:r?"sprite-input-markdown-sel":"sprite-input-markdown-unsel",label:l.default.string(r?"chat.sendbox.toolbar.markdown.enabled":"chat.sendbox.toolbar.markdown.disabled")+(r?" (".concat(l.default.string("chat.sendbox.toolbar.moreOptions"),")"):""),click:function(){o.sendMarkdown=!o.sendMarkdown},contextMenu:r?function(e){var n=[{label:l.default.string("chat.sendbox.toolbar.previewDraft"),click:t,icon:"mdi-file-find",disabled:!t}],r=w.default.ui["markdown.hintUrl"];r&&n.push({icon:"sprite-input-help",label:l.default.string("chat.sendbox.toolbar.markdownGuide"),url:S.default.isType("browser")?r:"!openUrlInDialog/".concat(encodeURIComponent(r),"/?size=lg&insertCss=").concat(encodeURIComponent(".wikistyle>p:first-child{display:none!important}"))}),(0,_.executeCommand)("contextMenu",{x:e.pageX,y:e.pageY,target:e.target,placement:"top"},n),e.preventDefault()}:null})),w.default.ui["chat.simpleChatView"]||a.push({id:"setFontSize",icon:"mdi-format-size",label:l.default.string("chat.sendbox.toolbar.setFontSize"),click:function(e){(0,_.executeCommand)("showChangeFontPopover",{x:e.pageX,y:e.pageY,target:e.target,placement:"top"})}}),o&&o.showMessageTip&&!w.default.ui["chat.hideMessageTipPopover"]&&a.push({id:"tips",icon:"sprite-input-help",label:l.default.string("chat.sendbox.toolbar.tips"),click:function(e){(0,_.executeCommand)("showChatTipPopover",{x:e.pageX,y:e.pageY,target:e.target,placement:"top"})}}),n.isGroupOrSystem&&n.isAdmin(e)&&e.permissions.includes("im/messagesend/bulletin")&&((0,v.tryAddDividerItem)(a),r=o&&o.getChatBulletinSetting(n.gid),a.push({id:"bulletin",icon:"mdi-bullhorn",label:l.default.string("chat.sendbox.toolbar.bulletin"),className:r?"pill warning-pale text-warning":"",content:r?"".concat(l.default.string("chat.bulletin.type.".concat(r.type))," ").concat(r.duration," ").concat(l.default.string("common.time.".concat(r.unit))):null,click:function(){(0,_.executeCommand)("showChatBulletinSettingDialog",n)}})),a}),{apiLevel:5}),(0,v.addContextMenuCreator)("chat.sendbox.sendButton",(function(){var e=(0,c.formatKeyDecoration)((0,i.getUserConfig)().sendMessageHotkey),t=!1,n=[{label:l.default.string("chat.sendbox.changeHotkeyTip"),disabled:!0}];return w.default.ui["hotkey.sendMessageOptions"].forEach((function(r){r=(0,c.formatKeyDecoration)(r),e===r&&(t=!0),n.push({label:r,click:function(){(0,i.getUserConfig)().sendMessageHotkey=r},checked:e===r})})),t||n.push({label:e,checked:!0}),n}),{apiLevel:5}),(0,v.addContextMenuCreator)("chat.menu",(function(e){if("string"==typeof(t=e.chat)){var t,n=t;if(!(t=j.default.getChat(n))||t.isNotInGroup)return[{id:"joinPublicGroup",label:l.default.string("chat.create.join"),href:"xxc://confirmJoinPublicChat/".concat(n)}];e.chat=t}n=void 0===(n=e.menuType)?null:n;var r=void 0===(r=e.viewType)?null:r,o=[];return t.isOne2One&&(o.push.apply(o,G((0,v.getMenuItemsForContext)("member",{member:t.theOtherMemberID}))),(0,v.tryAddDividerItem)(o)),o.push.apply(o,G((0,v.getMenuItemsForContext)("chat.actions",e))),t.isDismissed||t.isRobot||t.isArchived||("category"!==r||"contacts"!==n&&"groups"!==n||o.push({id:"chat-category",label:l.default.string("chats.menu.group.add"),click:function(){(0,_.executeCommand)("showChatAddCategoryDialog",t)}}),t.hidden&&o.push({id:"chat-hide",label:l.default.string("chat.toolbar.cancelHide"),click:function(){(0,s.toggleHideChat)(t,!1)}}),"recents"===n&&o.push({label:l.default.string("chat.toolbar.freeze"),click:function(){(0,s.toggleFreezeChat)(t)}})),DEBUG&&S.default.has("clipboard.writeText")&&((0,v.tryAddDividerItem)(o),o.push({id:"chat-copy-gid",label:l.default.string("chat.copyChatGID"),click:function(){S.default.call("clipboard.writeText",t.gid)}})),(0,v.tryRemoveLastDivider)(o)}),{apiLevel:5}),(0,v.addContextMenuCreator)("chat.pinned",(function(e){var t=e.chat,n=e.message;return[{id:"message-view",label:l.default.string("common.viewDetail"),url:"xxc://showChatMessage/".concat(t.gid,"/").concat(n.id)},t.isAdmin((0,i.getCurrentUser)())&&{id:"pinned-unpin",label:l.default.string("chat.message.unpin"),click:function(){return(0,s.unpinMessage)(t,n.id)}}]})),(0,v.addContextMenuCreator)("chat.member",(function(e){var t=e.member,n=(e=e.chat,[]),r=(n.push.apply(n,G((0,v.getMenuItemsForContext)("member",{member:t}))),(0,v.tryAddDividerItem)(n),(0,i.getCurrentUser)());return t.id!==r.id&&e.isGroupOrSystem&&(r=t.cgid,n.push({id:"member-mention",label:l.default.string("chat.atHim.".concat(t.gender),l.default.string("chat.atHim")),url:"xxc://mentionMemberInSendbox/".concat(encodeURIComponent("#".concat(t.id)))}),w.default.ui["chat.denyChatFromMemberProfile"]||n.push({id:"chat-active",label:l.default.string("chat.sendMessage"),url:"#/chats/recents/".concat(r)})),n}),{apiLevel:5}),(0,v.addContextMenuCreator)("message.basic",(function(e){var t,n,r,o=e.message;if(e.startMultiSelection,o)return t=j.default.getChat(o.cgid),n=x.default.getMember(o.senderId),e=[],(r=(0,i.getCurrentUser)()).permissions.includes("im/messagesend/reply")&&e.push({id:"message-reply",label:l.default.string("chat.message.reply"),icon:"reply-outline",click:function(){r.config.setChatReplyTo(o.cgid,o.id),o.senderId!==r.id?ge(n,{cgid:o.cgid}):ye("",{cgid:o.cgid}),(0,P.isRoutePathMatch)("chats","*",o.cgid)||(0,P.setRoutePath)("chats","recents",o.cgid),(0,h.displayHide)(null,(function(){}),!0)}}),o.canDelete((0,i.getCurrentUser)())&&e.push({id:"message-retract",label:l.default.string("chat.message.retract"),icon:"undo-variant",click:function(){return(0,s.deleteChatMessage)(o)}}),o.canPin()&&t.isAdmin(r)&&r.permissions.includes("im/chatpinmessages")&&(t.isPinnedMessage(o.id)?e.push({id:"message-unpin",label:l.default.string("chat.message.unpin"),icon:"pin-off",click:function(){return(0,s.unpinMessage)(t,o.id)}}):e.push({id:"message-pin",label:l.default.string("chat.message.pin"),icon:"pin",click:function(){return(0,s.pinMessage)(t,o.id)}})),e}),{apiLevel:5}),(0,v.addContextMenuCreator)("message.text",(function(e){var t=e.message;return e=[],S.default.has("clipboard.writeText")&&(e.push({id:"message-copy",icon:"mdi-content-copy",label:l.default.string("chat.message.copy"),click:function(){var e=t.isPlainTextContent?t.content:null,n=t.content,r=(null!==e||(r=document.getElementById("message-".concat(t.id)).querySelector(".app-message-content"))&&(e=r.innerHTML,n=r.innerText),void 0===e&&(e=(0,T.renderChatMessageContent)(t)),e=(0,u.restoreMessageContainAt)(e),n=(0,u.restoreMessageContainAt)(n),S.default.access("clipboard"));r.write?r.write({text:t.isPlainTextContent?e:(0,d.strip)(e),html:e}):r.writeHTML?r.writeHTML(e):r.writeText&&r.writeText(n)}}),t.isPlainTextContent||e.push({id:"message-copy-md",icon:"mdi-markdown",label:l.default.string("chat.message.copyMarkdown"),click:function(){S.default.call("clipboard.writeText",(0,u.restoreMessageContainAt)(t.content))}})),w.default.ui["todo.enable"]&&!w.default.ui["chat.simpleChatView"]&&"zdoo"===(0,i.getCurrentUser)().backendType&&(e.length&&e.push("divider"),e.push({id:"message-todo",label:l.default.string("todo.create"),icon:"mdi-calendar-check",click:function(e,n,r){(0,_.executeCommand)("showTodoEditDialog",(0,b.createTodoFromMessage)(t)),r.preventDefault()}})),e}),{apiLevel:5}),(0,v.addContextMenuCreator)("message.code",(function(e){var t=e.message;return S.default.has("clipboard.writeText")?[{id:"message-copy",icon:"mdi-content-copy",label:l.default.string("common.copyCode"),click:function(){var e=(0,g.decodeEmojiMessage)(t.codeContent.code),n=S.default.access("clipboard");n.write?n.write({text:e}):n.writeText&&n.writeText(e)}},{id:"message-copy-md",icon:"mdi-markdown",label:l.default.string("chat.message.copyMarkdown"),click:function(){var e=t.codeContent,n=(e=["```".concat(e.lang||"").concat(e.name?":".concat(e.name):""),(0,g.decodeEmojiMessage)(e.code),"```"].join("\n"),S.default.access("clipboard"));n.write?n.write({text:e}):n.writeText&&n.writeText(e)}}]:[]}),{apiLevel:5}),(0,v.addContextMenuCreator)("message.image",(function(e){var t=e.message;if(!(n=e.event.target.closest("img")))return[];var n,r=t.imageContent,o=N.default.getMessageFile(t);return(n=null!=(n=n.getAttribute("src"))?n:o.viewUrl).startsWith("file://")&&(n=n.substr(7).split("?")[0]),G((0,v.getMenuItemsForContext)("image",J(J({},e),{},{url:n,dataType:r.type,image:r,file:o,options:{messageID:t.id}})))}),{apiLevel:5}),(0,v.addContextMenuCreator)("message.url",(function(e){var t=e.url,n=e.card;return e=e.event,t=G((0,v.getMenuItemsForContext)("link",{url:t,event:e})),null!=n&&n.webviewContent?(n=(e=n.content).originSrc,t.push("divider"),t.push({id:"open-app",label:l.default.string("ext.app.open"),url:"!openUrlInDialog/".concat(encodeURIComponent(n||e.src),"/?size=lg&insertCss=").concat(encodeURIComponent(e.insertCss)),icon:"mdi-open-in-app"}),DEBUG&&"iframe"!==e.type&&t.push({label:l.default.string("ext.app.openDevTools"),icon:"mdi-auto-fix",click:function(){var e;null!=(e=B.webview)&&null!=(e=e.webview)&&e.openDevTools?B.webview.webview.openDevTools():DEBUG&&console.warn("Cannot open dev tools for current webview.")}}),t):t}),{apiLevel:5}),(0,v.addContextMenuCreator)("message.file",(function(e){var t=e.message;return e=X(e,W),t=N.default.getMessageFile(t),(0,v.getMenuItemsForContext)("file",J({file:t},e))}),{apiLevel:5}),(0,v.addContextMenuCreator)("message",(function(e){var t,n;if(!(n="number"==typeof(n=void 0===(n=e.message)?e.params[0]:n)?A.default.getMessage(n):n))return[];function r(t){return t=G(t),(0,v.tryAddDividerItem)(t),t.push.apply(t,G((0,v.getMenuItemsForContext)("message.basic",e))),t}return(e.message=n).isCodeContent?r((0,v.getMenuItemsForContext)("message.code",e)):n.isFileContent?r((0,v.getMenuItemsForContext)("message.file",e)):n.isEmotionContent&&null!=(t=n.emotionContent)&&t.content?r((0,v.getMenuItemsForContext)("emoji",J(J({},e),{},{emoji:g.default.shortnameToUnicode(n.emotionContent.content)}))):n.isImageContent?r((0,v.getMenuItemsForContext)("message.image",e)):n.isTextContent?r((0,v.getMenuItemsForContext)("message.text",e)):n.isUrlObject?r((0,v.getMenuItemsForContext)("message.url",e)):G((0,v.getMenuItemsForContext)("message.basic",e))}),{apiLevel:5}),(0,_.registerCommand)("sendContentToChat",(function(e,t){e=void 0===(e=e.options)?{}:e,ye(t||e.content,e)}),null,{apiLevel:2}),(0,_.registerCommand)("sendContentToServerBySendbox",(function(e,t){(e=void 0===(e=e.options)?{}:e).send=!0,e.clear=!0,ye(t||e.content,e)}),null,{apiLevel:7}),(0,_.registerCommand)("mentionMemberInSendbox",(function(e,t,n){e=void 0===(e=e.options)?{}:e,ge(t||e.content,n||e.cgid)}),null,{apiLevel:2}),(0,_.registerCommand)("confirmJoinPublicChat",function(){var e=$((function*(e,t){var n=j.default.getChat(t);if(n&&!n.isDeleted)(0,I.setActiveChat)(t);else{if(null!=n&&n.isArchived)return m.default.alert(l.default.string("chats.cannotJoinArchivedChat"));if(!(n=yield j.default.fetchPublicChat(t)))return m.default.alert(l.default.string("chats.joinedChatNotFound"));try{(yield m.default.confirm(l.default.format("chats.confirmToJoinPublicChat",n.name)))&&(yield(0,s.joinOrExitChat)(n),(0,I.setActiveChat)(t))}catch(e){m.default.alert(l.default.error(e))}}}));return function(t,n){return e.apply(this,arguments)}}(),null,{apiLevel:4}),(0,_.registerCommand)("showMessageInList",(function(e,t,n,r){return Oe(t,n,r)}),null,{apiLevel:4}),(0,_.registerCommand)("showChatMessage",(function(e,t,n,r){return Ce(t,n,r)}),null,{apiLevel:4}),S.default.has("screenshot")&&(0,_.registerCommand)("shortcut.captureScreenHotkey",(function(){_e(!1,!1,!1)}),null,{apiLevel:2}),S.default.has("clipboard.getNewImage")&&(0,_.registerCommand)("suggestClipboardImage",(function(){var e;!(0,i.getUserConfig)().listenClipboardImage||(e=S.default.call("clipboard.getNewImage"))&&a.default.emit(me.suggestSendImage,e)})),(0,_.registerCommand)("sendFileBroadcastChatMessage",(function(e,t){(0,s.sendFileBroadcastChatMessage)(t)}),null,{apiLevel:2}),n.g.ExtsRuntime&&(0,n.g.ExtsRuntime.registerExtensionAPI)({name:"im.sendContentToChatSendbox",level:2,func:function(e,t){return ye(e,t)}}),PERF&&(0,f.setPerfCommandHandlers)({openTestChats:(e=$((function*(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"perf test.",r=function(e){return new Promise((function(t){return setTimeout(t,e)}))},o=function(){var e=$((function*(e){console.log("Chat open",e);try{var t;PERF_MARK("activeChatBegin_".concat(e.gid)),(0,I.setActiveChat)(e.gid),yield r(500),n&&(yield r(1500),ye(n,{cgid:e.gid}),yield r(500),(t=document.querySelector("#chat-view-".concat(e.gid.replace("&","_")," .app-chat-sendbox-send-btn")))&&t.click())}catch(t){console.log("Chat open error for chat",e),console.error(t)}}));return function(t){return e.apply(this,arguments)}}(),a=j.default.queryChats((function(e){return!t||e.type===t}),{sortRules:"recentFirst",limit:e}),i=(e=Math.min(a.length,e),0);i<e;++i)yield o(a[i]);return e})),function(){return e.apply(this,arguments)})})},be={setActiveChat:I.setActiveChat,isActiveChat:I.isActiveChat,getActiveChatGid:I.getActiveChatGid,getActivatedCacheChatsGID:ae,chatExitConfirm:ue,chatRenamePrompt:se,createGroupChat:ce,sendContentToChat:ye,mentionMemberInSendbox:ge,onSendContentToChat:le,onSuggestSendImage:fe,sendMessageToChat:ie,emitChatSendboxFocus:de,onChatSendboxFocus:pe,isChatsCacheChanged:ne,setChatCacheState:re,takeOutChatCacheState:oe},t.default=be,DEBUG&&(n.g.$getActivatedCacheChatsGID=ae,n.g.$activeCaches=he)},82717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initIM=void 0;var r=n(29946),o=n(15998);t.initIM=function(){(0,o.initImUI)(),(0,r.initIMNotice)()}},62411:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationMessage=void 0,t.createNotificationMessage=m;var o,a=(o=n(74160))&&o.__esModule?o:{default:o},i=n(58851),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(92691));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var o=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(n=t?(n=d(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(i);function i(){if(this instanceof i)return o.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"sender",get:function(){var e,t;return this._sender||(e=this.notification.sender,n.g.ExtsRuntime&&n.g.ExtsRuntime.getNotificationSender&&(t=n.g.ExtsRuntime.getNotificationSender(e))&&(t.system=!0,e=t),e.system||"ranzhi"!==e.id&&"zdoo"!==e.id?e.name&&!e.realname&&(e.realname=e.name):e={id:"ranzhi",realname:"",system:!0,avatar:"".concat(a.default.media["image.path"],"ranzhi-icon.png")},(e="number"==typeof e?{id:"".concat(e),realname:"".concat(e),system:!1}:e).displayName||(e.displayName=e.realname||e.name||e.id),e.id?"string"!=typeof e.id&&(e.id="".concat(e.id)):e.id="",this._sender=e),this._sender}},{key:"senderName",get:function(){var e=this.sender;return e?e.displayName:this.senderId}},{key:"senderId",get:function(){return this.notification.sender.id||"robot1"}},{key:"isNotification",get:function(){return!0}},{key:"actions",get:function(){var e=this.notification.actions;return e&&!Array.isArray(e)?[e]:e}},{key:"notification",get:function(){return this.data}},{key:"getSender",value:function(){return this.sender}},{key:"isInLocal",get:function(){return!1}},{key:"isSendFailed",get:function(){return!1}},{key:"title",get:function(){return this.notification.title}},{key:"summaryText",get:function(){return"".concat(this.sender.displayName,": ").concat(this.title||this.content)}},{key:"subtitle",get:function(){return this.notification.subtitle}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(l.default);function m(e){var t;return"number"==typeof(null==(t=e.data)?void 0:t.index)&&delete e.data.index,e instanceof h?e:("string"==typeof(e=(e=e.type===l.TYPES.notification&&"object"===e.contentType&&e.content?c(c({},e),"string"==typeof e.content?JSON.parse(e.content):e.content):e).data?c(c(c({},e),"string"==typeof e.data?JSON.parse(e.data):e.data),{},{data:null}):e)&&(e=JSON.parse(e)),new h({cgid:e.cgid||i.NOTIFICATION_CHAT_GID,content:e.content,contentType:e.contentType,data:e,date:e.date,gid:e.gid,user:e.sender.id,type:l.TYPES.notification,id:e.id,index:e.index}))}p(t.NotificationMessage=h,"create",m)},61862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaPath=t.getLangDisplayName=t.getAllLangList=t.describeDateFromNow=t.default=void 0,t.getShortTextOfDate=E,t.onLangChange=t.loadLanguage=t.isSupportMultiLanguages=t.isJustLangSwitched=t.initLang=t.getStringFromObject=void 0;var r=f(n(44575)),o=f(n(94128)),a=n(81595),i=f(n(19791)),l=f(n(65286)),s=f(n(74160)),u=n(7066),c=n(64393);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function y(e){return l.default.on(S,e)}function g(){return M.ALL||[{name:"zh-cn",label:""}]}function b(){return 1<g().length}function v(){return C}function _(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:O.name,t=g().find((function(t){return t.name===e}));return t&&t.label}function w(e,t){e=(0,u.createDate)(e);var n=((t=t?(0,u.createDate)(t):new Date).getTime()-e.getTime())/6e4;return n<-2e7?(console.warn("Cannot describe such date: ",e),w(e.getTime()/1e3,t)):n<2?O.string("time.justNow"):n<60?O.format("time.minuteAgo",Math.floor(n)):(0,u.isToday)(e,t)?(0,u.formatDate)(e,"hh:mm"):(0,u.isYesterday)(e,t)?O.string("time.yesterday"):(0,u.isDBY)(e,t)?O.string("time.dby")||(0,u.formatDate)(e,O.string("time.format.month")):(0,u.isSameYear)(e,t)||t.getTime()-e.getTime()<=31*u.TIME_DAY?(0,u.formatDate)(e,O.string("time.format.month")):(0,u.formatDate)(e,O.string("time.format.yearMonth"))}var S="lang.change",O=new i.default,M=null,C=!1,k=(t.onLangChange=y,t.getAllLangList=g,t.isSupportMultiLanguages=b,t.isJustLangSwitched=v,t.getLangDisplayName=_,function(){e=function*(e){var t,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e?(e!==O.name&&(t=yield function(e){return"zh-cn"===e?Promise.resolve():(e=e||o.default.call("language.getPlatformLangName",s.default.lang),(e=o.default.call("language.loadLangData",e,s.default.system.langFilePathFormat))instanceof Promise?e:Promise.resolve(e))}(e),C=!0,setTimeout((function(){C=!1}),500),t=h(h(h({},r.default),t),null!=(t=null==(t=M)?void 0:t[e])?t:{}),O.change(e,t),(0,a.setStoreItem)("LANG_NAME",e),l.default.emit(S,O),n&&o.default.call("language.handleLangChange",e,t)),Promise.resolve()):Promise.reject(new Error("Must provide the langName."))};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,l,"next",e)}function l(e){m(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e){return t.apply(this,arguments)}}());function E(e,t){return e=(0,u.createDate)(e),t=t?(0,u.createDate)(t):new Date,(0,u.isToday)(e,t)?(0,u.formatDate)(e,"hh:mm"):(0,u.isYesterday)(e,t)?(0,u.formatDate)(e,"".concat(O.string("time.yesterday")," hh:mm")):(0,u.isSameYear)(e,t)?(0,u.formatDate)(e,"MM-dd hh:mm"):(0,u.formatDate)(e,"yyyy-MM-dd hh:mm")}function P(e,t){var n;return"object"===d(e)?null!=(n=n=void 0===(n=e[O.name])&&void 0===(n=void 0===(n=e.default)?e[e.defaultLang]:n)?e[Object.keys(e)[0]]:n)?n:t:null!=e?e:t}function T(e){return s.default.media["image.path.".concat(O.name,".").concat(e)]||s.default.media["image.path.".concat(e)]||"".concat(s.default.media["image.path"]).concat(e,".png")}t.loadLanguage=k,t.initLang=function(e){return M=h(h({},s.default.lang),e),e=null!=(e=(0,c.getSearchParam)("lang"))?e:"zh-cn",k(e)},t.describeDateFromNow=w,t.getStringFromObject=P,t.getMediaPath=T,Object.assign(O,{onLangChange:y,isJustLangSwitched:v,getAllLangList:g,getLangDisplayName:_,describeDateFromNow:w,isSupportMultiLanguages:b,getMediaPath:T,getStringFromObject:P,getShortTextOfDate:E}),DEBUG&&(n.g.$lang=O),n.g.ExtsRuntime&&(n.g.ExtsRuntime.registerExtensionAPI({name:"lang",moduleName:"lang",type:"lib",data:O,level:7,libExportAll:!0}),n.g.ExtsRuntime.registerExtensionAPI({name:"env.lang",type:"data",dataType:"langName: string",func:function(){return O.name},level:5})),i=O,t.default=i},71255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeLocalConfig=t.getLocalConfig=t.getAllLocalConfig=void 0,t.setLocalConfig=function(e,t){var n=i();"object"===o(e)?Object.assign(n,e):n[e]=t,l(n)};var r=n(81595);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="LOCAL_SETTINGS",i=(t.getLocalConfig=function(e){return(0,r.getStoreItem)(a,{})[e]||void 0},function(){return(0,r.getStoreItem)(a,{})}),l=(t.getAllLocalConfig=i,function(e){(0,r.setStoreItem)(a,e)});t.removeLocalConfig=function(e){var t=i();Object.keys(t).includes(e)&&(delete t[e],l(t))}},26774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deptsSorter=t.deptsDeepSort=t.default=t.DeptsStore=void 0;var r=n(84401),o=n(15973),a=(i=n(24260))&&i.__esModule?i:{default:i},i=n(33594);function l(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)}))}}function u(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=(e.order||0)-(t.order||0);return 0===n||Number.isNaN(n)?e.id-t.id:n}function h(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.children&&(r.children=h(r.children))}}catch(e){n.e(e)}finally{n.f()}return e.sort(p)}t.deptsSorter=p,t.deptsDeepSort=h;var m=Symbol("depts"),y=Symbol("roles");function g(e,t){t=t||new Map;for(var n=[],r=0,o=Object.keys(e);r<o.length;r++){var a,i=o[r];i&&((a=c({},e[i])).id=Number.parseInt(i,10),0===a.parent&&delete a.parent,t.set(a.id,a),n.push(a))}for(var l=0,s=n;l<s.length;l++){var u=s[l],f=u.parent&&t.get(u.parent);if(f){var d=new Set;for(f.children||(f.children=[]),f.children.push(u);f;)d.add(f.id),f=f.parent&&t.get(f.parent);u.parentsSet=d}}}var b=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._identify=t,this._deptsDataStatus=!1,this._fetchCallbacks=[],this._depts=new Map,this._deptsTree=null,this._roles=new Map,this._channel=new r.EventChannel}var t,n,i,l,u,c;return t=e,(n=[{key:"isUpdatedData",get:function(){return"updated"===this._deptsDataStatus}},{key:"needUpdateData",get:function(){return"updated"!==this._deptsDataStatus}},{key:"reset",value:function(e){var t=this._identify!==e;if(t){this._identify=e,this._roles.clear(),this._depts.clear();var n=(r=(this._deptsTree=null,o.getCurrentUser)()).rolesCache,r=r.deptsCache;if(n)for(var a=0,i=Object.keys(n);a<i.length;a++){var l=i[a];this._roles.set(l,n[l])}if(r&&g(r,this._depts),this._deptsDataStatus=n||r?"expired":"none",this._fetchCallbacks.length){var s,u=f(this._fetchCallbacks);try{for(u.s();!(s=u.n()).done;)s.value.reject()}catch(e){u.e(e)}finally{u.f()}this._fetchCallbacks.length=0}DEBUG_I&&(console.collapse("STORE.Deps","pinkBg","load from expired","pinkPale"),console.log("rolesCache",n),console.log("deptsCache",r),console.log("store",this),console.groupEnd())}else this._deptsDataStatus="expired";DEBUG_I&&(console.collapse("STORE.Deps","pinkBg","reset","pinkPale",t,""),console.log("identify",e),console.groupEnd())}},{key:"updateDeptsData",value:function(e){if(e.roles){this._roles.clear();for(var t=0,n=Object.keys(e.roles);t<n.length;t++){var r=n[t];this._roles.set(r,e.roles[r])}this._channel.publish(y,this._roles)}e.depts&&(this._depts.clear(),g(e.depts,this._depts),this._deptsTree=null,this._channel.publish(m,this._depts));var a=(0,o.getCurrentUser)();a.rolesCache=e.roles,a.deptsCache=e.depts,a.save()}},{key:"fetchDeptsDataFromRemote",value:(c=s((function*(){var e=this;if(this._fetchingIdentify===this._identify)return new Promise((function(t,n){e._fetchCallbacks.push({resolve:t,reject:n})}));var t=null;try{if(this._fetchingIdentify=this._identify,t=yield a.default.sendAndListen("sysgetdepts"),this._fetchingIdentify!==this._identify)return!1;if(t&&this.updateDeptsData(t),this._deptsDataStatus="updated",this._fetchCallbacks.length){var n,r=f(this._fetchCallbacks);try{for(r.s();!(n=r.n()).done;)n.value.resolve()}catch(t){r.e(t)}finally{r.f()}}DEBUG_I&&(console.collapse("STORE.Deps","pinkBg","fetch from remote","pinkPale"),console.log("data",t),console.log("store",this),console.groupEnd())}catch(t){if(this._fetchCallbacks.length){var o,i=f(this._fetchCallbacks);try{for(i.s();!(o=i.n()).done;)o.value.reject()}catch(t){i.e(t)}finally{i.f()}}DEBUG&&(console.collapse("STORE.Deps","pinkBg","fetch from remote error","redPale",t.toString(),"red"),console.error("error",t),console.log("store",this),console.groupEnd())}return this._fetchCallbacks.length=0,this._fetchingIdentify=null,t})),function(){return c.apply(this,arguments)})},{key:"tryFetchDeptsDataFromRemote",value:(u=s((function*(){this.needUpdateData&&(yield this.fetchDeptsDataFromRemote())})),function(){return u.apply(this,arguments)})},{key:"getRoleName",value:function(e){return this.tryFetchDeptsDataFromRemote(),this._roles.get(e)}},{key:"getDept",value:function(e){return"number"!=typeof e&&(e=Number.parseInt(e,10)),this.tryFetchDeptsDataFromRemote(),this._depts.get(e)}},{key:"getDeptName",value:function(e){return(e=this.getDept(e))?e.name:""}},{key:"hasDepts",value:function(){return!!this._depts.size}},{key:"getDeptsTree",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.tryFetchDeptsDataFromRemote(),this._depts.size?e?(e=this.getDept(e))?e.children:null:(this._deptsTree||(this._deptsTree=h(Array.from(this._depts.values()).filter((function(e){return!e.parentsSet||!e.parentsSet.size})))),this._deptsTree):[]}},{key:"fetchDeptsTree",value:(l=s((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return yield this.tryFetchDeptsDataFromRemote(),this.getDeptsTree(e)})),function(){return l.apply(this,arguments)})},{key:"fetchMembersListOfDept",value:(i=s((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{page:1,recPerPage:50},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return r=yield a.default.sendAndListen({method:"usergetlistbydept",params:(0,o.getCurrentUser)().isVersionSupport("userGetListByDeptOnlySelf")?[e,{pageID:t.page||t.pageID,recPerPage:t.recPerPage},"",n,r]:[e,{pageID:t.page||t.pageID,recPerPage:t.recPerPage},"",n]},!0),DEBUG_I&&(console.collapse("STORE.Deps","pinkBg","fetch dept members from remote","pinkPale",e,""),console.log("data",r.data),console.log("pager",r.pager),console.log("store",this),console.groupEnd()),r&&r.isSuccess?{data:r.data,pager:r.pager}:(DEBUG_W&&console.error('Cannot get member list of dept "'.concat(e,'"')),null)})),function(e){return i.apply(this,arguments)})},{key:"unsubscribe",value:function(e){return this._channel.unsubscribe(e)}},{key:"subscribeDeptsChange",value:function(e){return this._channel.subscribe(m,e)}},{key:"subscribeDeptChange",value:function(e,t){var n=this;return this.subscribeDeptsChange((function(){return t(n.getDept(e))}))}},{key:"subscribeRolesChange",value:function(e){return this._channel.subscribe(y,e)}},{key:"subscribeRoleChange",value:function(e,t){var n=this;return this.subscribeRolesChange((function(){return t(n.getRoleName(e))}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();b=new(t.DeptsStore=b),(0,i.setCallbackOnInitedDatabase)(b.reset.bind(b)),n.g.ExtsRuntime&&n.g.ExtsRuntime.registerExtensionAPI([{name:"members.getRoleName",level:3,func:b.getRoleName.bind(b)},{name:"members.fetchDeptsTree",level:3,func:b.fetchDeptsTree.bind(b)},{name:"members.getDeptsTree",level:3,func:b.getDeptsTree.bind(b)},{name:"members.getDept",level:3,func:b.getDept.bind(b)}]),DEBUG_I&&(n.g.$deptsStore=b),t.default=b},41832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onMemberLogout=t.emitMemberLogout=void 0;var r,o=(n=n(65286))&&n.__esModule?n:{default:n};(r=r||{}).logout="member.logout",t.onMemberLogout=function(e){return o.default.on(r.logout,e)},t.emitMemberLogout=function(e){return o.default.emit(r.logout,e)}},58008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMemberAvatar=function(e){if(!e)return null;if(!function(e){return"object"===l(e)&&"avatar"in e&&"string"==typeof e.avatar}(e)||(e=e.avatar),e.startsWith("$"))return e.substr(1);if(!/^(http?:|https?:|file:|data:|mdi-|icon-)/.test(e)){var t=(0,o.getCurrentUser)();if(t)return"".concat(t.serverUrlRoot).concat(e)}return e},t.sortMembers=void 0;var r=n(75738),o=n(15973);function a(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.sortMembers=function(e,t){if(e.length<2)return e;if("function"==typeof t)return e.sort(t);t&&"default"!==t&&!0!==t?"string"==typeof t&&(t=t.split(" ")):t=["me","status","realname","-id"];var n=!1,i=("-"!==t[0]&&-1!==t[0]||(n=!0,t.shift()),(0,o.getCurrentUserID)());return e.sort((function(e,o){var l=0;if(!Array.isArray(t))return l;var s,u=a(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(0!==l)break;if("function"==typeof c)l=c(e,o);else{var f="-"===c[0],d=(f&&(c=c.substr(1)),o.status),p=e.status,h=void 0,m=void 0;switch(c){case"me":i===o.id?l=1:i===e.id&&(l=-1);break;case"realname":o.realname&&e.realname&&(l=o.realname.localeCompare(e.realname));break;case"status":d===r.STATUS.$.online&&(d=100),l=(p=p===r.STATUS.$.online?100:p)<d?1:d===p?0:-1;break;default:h=o[c],l=(m=null==(m=e[c])?0:m)<(h=null==h?0:h)?1:h===m?0:-1}l*=f?-1:1}}}catch(e){u.e(e)}finally{u.f()}return l*(n?-1:1)}))}},75738:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isMemberOffline=t.default=t.STATUS=void 0;var o=d(n(27945)),a=d(n(6511)),i=d(n(52324)),l=d(n(60811)),s=n(71782),u=d(n(61862)),c=n(48389),f=n(16986);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(o)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function v(e,t,n){if((t=w(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function _(e,t){return(t=w(e,t,"get")).get?t.get.call(e):t.value}function w(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var S=[{name:"namePinyin",equal:100,include:50},{name:"displayName",equal:100,include:50},{name:"account",equal:100,include:50},{name:"email",equal:70,include:30},{name:"phone",equal:70,include:30},{name:"site",equal:50,include:25}],O=new l.default({unverified:0,disconnect:1,offline:1,logged:2,online:3,busy:4,away:5,meeting:6},0,null,{isOnline:function(){return 2<=this.value}}),M=(t.STATUS=O,t.isMemberOffline=function(e){return O.isLessOrSame(e,O.$.offline)},new a.default({id:{type:"int",indexed:!0,primaryKey:!0},account:{type:"string",unique:!0},email:{type:"string",indexed:!0},phone:{type:"string",indexed:!0},mobile:{type:"string",indexed:!0},realname:{type:"string",indexed:!0},realnames:{type:"json"},site:{type:"string"},avatar:{type:"string"},role:{type:"string"},gender:{type:"string"},dept:{type:"int",indexed:!0},admin:{type:"string",indexed:!0},deleted:{type:"boolean"},weixin:{type:"string"},qq:{type:"string"},address:{type:"string"}})),C=(l=(0,c.createProxyPropertiesMap)([{name:"gid",deleted:!0},"account","email","phone","mobile","realname","site","avatar","role","gender","dept","admin","deleted","displayName","namePinyin","weixin","qq","address"],o.default.PROXY_PROPERTIES),(0,c.createProxyHandler)(l)),k=new WeakMap,E=new WeakMap,P=new WeakMap;a=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=h(r);function r(e){var t=this;if(t instanceof r)return b(m(t=n.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Member")),"statusKeeper",void 0),g(m(t),k,{writable:!0,value:void 0}),g(m(t),E,{writable:!0,value:void 0}),g(m(t),P,{writable:!0,value:void 0}),t.statusKeeper=O.create(t.$.status),t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"proxyHandler",get:function(){return C}},{key:"schema",get:function(){return M}},{key:"isDeleted",get:function(){return this.$get("deleted")}},{key:"status",get:function(){return this.statusKeeper.value},set:function(e){this.statusKeeper.change(e)}},{key:"lastStatusBeforeDisconnect",get:function(){return _(this,k)||_(this,E)}},{key:"setLastStatusBeforeDisconnect",value:function(e){v(this,E,O.create(e))}},{key:"statusName",get:function(){return this.statusKeeper.name}},{key:"isOnline",get:function(){return this.status>=O.$.logged}},{key:"isOffline",get:function(){return!this.isOnline}},{key:"isBusy",get:function(){return this.statusKeeper.is(O.$.busy)}},{key:"isInMeeting",get:function(){return this.isStatus(O.$.meeting)}},{key:"statusBeforeJoinconference",get:function(){return _(this,k)}},{key:"setStatusBeforeJoinconference",value:function(e){v(this,k,e?O.create(e):null)}},{key:"isAway",get:function(){return this.isStatus(O.$.away)}},{key:"isStatus",value:function(e){return this.statusKeeper.is(e)}},{key:"isMember",value:function(e){return this.account===e}},{key:"gender",get:function(){return this.$get("gender")}},{key:"dept",get:function(){return this.$get("dept")}},{key:"isSuperAdmin",get:function(){return"super"===this.$get("admin")}},{key:"isAdmin",get:function(){return"no"!==this.$get("admin")}},{key:"realnames",get:function(){return this.$get("realnames")}},{key:"realname",get:function(){var e=this.realnames;return e&&(e.cn&&!e["zh-cn"]&&(e["zh-cn"]=e.cn),e.tw&&!e["zh-tw"]&&(e["zh-tw"]=e.tw),e=e[u.default.name])?e:this.$get("realname")},set:function(e){this.$set("realname",e)}},{key:"account",get:function(){return this.$get("account")}},{key:"avatar",get:function(){return this.$get("avatar")}},{key:"phone",get:function(){return this.$get("phone")}},{key:"mobile",get:function(){return this.$get("mobile")}},{key:"email",get:function(){return this.$get("email")}},{key:"role",get:function(){return this.$get("role")}},{key:"displayName",get:function(){return this.$get("realname")||"".concat(this.account)}},{key:"mentionText",get:function(){var e=this.realname;return(0,f.isNotEmptyString)(e)?"@".concat(e):(e=this.account,(0,f.isNotEmptyString)(e)?"@".concat(e):"@#".concat(this.id))}},{key:"namePinyin",get:function(){return null==_(this,P)&&v(this,P,(0,i.default)(this.displayName)),_(this,P)}},{key:"weixin",get:function(){return this.$get("weixin")}},{key:"qq",get:function(){return this.$get("qq")}},{key:"address",get:function(){return this.$get("address")}},{key:"getMatchScore",value:function(e){return(0,s.matchScore)(S,this,e)}},{key:"plain",value:function(){return{id:this.id,gid:this.gid,account:this.account,email:this.email,phone:this.phone,mobile:this.mobile,realnames:this.realnames,avatar:this.avatar,role:this.role,gender:this.gender,dept:this.dept,site:this.$get("site"),realname:this.$get("realname"),admin:this.$get("admin"),deleted:this.$get("deleted")}}},{key:"toPlain",value:function(){return{id:this.id,displayName:this.displayName,avatar:this.avatar}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.default),b(t.default=a,"NAME","Member"),b(a,"SCHEMA",M),b(a,"PROXY_PROPERTIES",l),b(a,"PROXY_HANDLER",C),b(a,"STATUS",O),DEBUG&&(n.g.$Member=a)},84431:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MembersStore=void 0,t.fetchMembersFromRemote=k;var r=p(n(84836)),o=n(99087),a=n(16986),i=p(n(75738)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(33594)),s=n(55292),u=p(n(24260)),c=n(15973),f=n(58008);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,l,"next",e)}function l(e){O(a,r,o,i,l,"throw",e)}i(void 0)}))}}function C(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(e instanceof i.default||(e=new i.default(e)),(0,c.getCurrentUserID)());return e.cgid||n!==e.id&&(e.cgid=[n,e.id].sort().join("&")),t||n!==e.id||(0,c.getCurrentUser)().updateFromMember(e),e}function k(e){return E.apply(this,arguments)}function E(){return(E=M((function*(e){return u.default.sendAndListen({method:"usergetlist",params:(0,c.getCurrentUser)().isVersionSupport("userGetListWithoutBasicParam")?[e]:[e,0]})}))).apply(this,arguments)}s=function(e){var t=T;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e);var n,s,d,p,g,b,O,E,P=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(n=t?(n=S(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===m(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return w(r)}}(T);function T(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this,a=T;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");return t=P.call(this,"Member",e,{recordRecentAccess:100}),a=function(e){return e<=0?{id:e,status:"offline",realname:"",account:""}:t.getMember(e)||new i.default({id:e,status:"offline",realname:"",account:""})},(e="getMemberOrTemp")in(o=w(t))?Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[e]=a,t._fetchInfo={timerID:0,waiting:new Set,fetching:new Set},o=n.fetchWaitTime,t._fetchWaitTime=void 0===o?1e3:o,t._databaseSaveTask=new r.default(t.saveMembersToDatabase.bind(w(t)),3e3),t._membersNeedSave=new Set,t._databaseQueryTask=new r.default(t.queryMembersFromDatabase.bind(w(t)),200),t._membersNeedQuery=new Set,t.membersSubscribed=new Set,t}return t=T,(e=[{key:"reset",value:function(e){var t=v(S(T.prototype),"reset",this).call(this,e);this._fetchInfo.timerID&&(clearTimeout(this._fetchInfo.timerID),this._fetchInfo.timerID=0),this._fetchInfo.waiting.clear(),this._fetchInfo.fetching&&this._fetchInfo.fetching.clear(),this._databaseQueryTask.cancel(),this._membersNeedQuery.clear(),this.membersSubscribed.clear(),DEBUG_I&&(console.collapse("STORE.Member","pinkBg","reset","pinkPale",t,""),console.log("identify",e),console.groupEnd())}},{key:"store",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e){if(Array.isArray(e)){if(!e.length)return}else e=[e];return t=void 0===(t=t.putToDatabase)||t,e=v(S(T.prototype),"store",this).call(this,e,{normalizeFunc:C}),t&&this.planToSaveMembersToDatabase(e),DEBUG_I&&(console.collapse("STORE.Member","pinkBg","store","pinkPale",e.length,""),console.trace("members",e),console.log("store",this),console.groupEnd()),e}}},{key:"fetchFromRemote",value:function(e){var t=this,n=(r=this._fetchInfo).fetching,r=r.waiting;(e="number"==typeof e?[e]:e)&&e.length&&(e=n?e.filter((function(e){return!n.has(e)})):e).length&&(this._fetchInfo.waiting=(0,o.unionSets)(r,e)),n&&n.length||(this._fetchInfo.timerID&&clearTimeout(this._fetchInfo.timerID),this._fetchInfo.timerID=setTimeout(M((function*(){t._fetchInfo.timerID=0,yield t.fetchFromRemoteImmediately(),t._fetchInfo.waiting.length&&t.fetchFromRemote()})),this._fetchWaitTime))}},{key:"fetchFromRemoteImmediately",value:(E=M((function*(){var e=this,t=this._fetchInfo.waiting;if((0,c.isUserOnline)()&&u.default.isConnected&&t.size){t=y(t),this._fetchInfo.waiting.clear(),this._fetchInfo.fetching=new Set(t);try{return u.default.subscribeUser("userupdate",t),t.forEach((function(t){return e.membersSubscribed.add(t)})),yield k(t)}catch(e){this._fetchInfo.waiting=(0,o.unionSets)(this._fetchInfo.waiting,t)}this._fetchInfo.fetching=null}})),function(){return E.apply(this,arguments)})},{key:"searchFromRemote",value:(O=M((function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(e=yield u.default.sendAndListen({method:"usersearch",params:[e,t,!0]})).data,r=(e=e.pager,this.getMembers(n).filter((function(e){return!!e}))),o=r.map((function(e){return e.id}));return n=n.filter((function(e){return!o.includes(e)})),n=n.length?yield k(n):[],t.pager?{list:[].concat(y(r),y(n)),pager:e}:[].concat(y(r),y(n))})),function(e){return O.apply(this,arguments)})},{key:"queryMembersFromCache",value:function(e){var t,n,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=("object"===m(e)&&null!==e?(t=e,n=Object.keys(t),e=function(e){var r,o=h(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(t[a]!==e[a])return!1}}catch(e){o.e(e)}finally{o.f()}return!0}):Array.isArray(e)&&(r=new Set(e),e=function(e){return r.has(e.id)||r.has(e.account)}),[]),i=o.sortList,l=o.excludeDeleted,s=o.excludeIdList;return o=void 0===(o=o.limit)?0:o,this.forEach((function(t){e&&!e(t)||a.push(t)}),void 0!==l&&l,void 0!==s&&s),a.length&&(i&&(0,f.sortMembers)(a,i),o&&a.length>o)?a.slice(0,o):a}},{key:"searchMembersFromCache",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((0,a.isEmptyString)(e))return[];if(!(e=e.trim().toLowerCase().split(" ")).length)return[];var n=t.excludeDeleted,r=t.excludeIdList,o=(t=void 0===(t=t.limit)?0:t,[]);return this.forEach((function(t){var n=t.getMatchScore(e);n&&o.push({score:n,member:t})}),void 0!==n&&n,void 0!==r&&r),o.length&&(o.sort((function(e,t){return t.score-e.score})),o=o.map((function(e){return e.member})),t&&o.length>t)?o.slice(0,t):o}},{key:"planToSaveMembersToDatabase",value:function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._membersNeedSave.add("object"===m(r)?r.id:r)}}catch(e){n.e(e)}finally{n.f()}this._databaseSaveTask.do()}},{key:"saveMembersToDatabase",value:(b=M((function*(){if(this._membersNeedSave.size){var e,t=[],n=h(this._membersNeedSave);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this.getItemFromCache(r);o&&t.push(o.plain())}}catch(e){n.e(e)}finally{n.f()}if(this._membersNeedSave.clear(),t.length){(0,l.beginDBBusyTask)();try{var a=l.default.database.members;t.length&&(yield a.bulkPut(t)),DEBUG_I&&(console.collapse("STORE.Member","pinkBg","save members to memberTable","pinkPale",t.length,""),console.log("membersNeedSave",t),console.log("store",this),console.groupEnd())}catch(e){DEBUG&&(console.collapse("STORE.Member","pinkBg","save members to memberTable Error","redPale",String(e),"red"),console.error("error",e),console.log("membersNeedSave",t),console.log("store",this),console.groupEnd())}(0,l.endDBBusyTask)()}}})),function(){return b.apply(this,arguments)})},{key:"tryQueryMembersFromDatabase",value:function(e){var t,n=!1,r=h(e="number"==typeof e?[e]:e);try{for(r.s();!(t=r.n()).done;){var o=t.value;this._membersNeedQuery.has(o)||(this._membersNeedQuery.add(o),n=!0)}}catch(e){r.e(e)}finally{r.f()}n&&this._databaseQueryTask.do()}},{key:"queryMembersFromDatabase",value:(g=M((function*(){var e;if(this._membersNeedQuery.size)return e=y(this._membersNeedQuery),this._membersNeedQuery.clear(),this.getMembersFromDatabase(e)})),function(){return g.apply(this,arguments)})},{key:"getMembersFromDatabase",value:(p=M((function*(e){var t,n,r=this,o=this._identify,a=null==(a=l.default.database)?void 0:a.members;if(a&&(Array.isArray(e)?t=yield a.bulkGet(e):(a=yield a.get(e))&&(t=[a]),t&&o===this._identify))return n=[],e=t.map((function(e){if(!e)return null;var t=r._cache.get(e.id);return t?e=t:((e=C(e,!0)).expired=!0,n.push(e)),e})),DEBUG_I&&(console.collapse("STORE.Member","pinkBg","get members from memberTable","pinkPale",e.length,""),console.log("members",e),console.log("store",this),console.groupEnd()),n.length&&this.store(n,{putToDatabase:!1}),e})),function(e){return p.apply(this,arguments)})},{key:"loadRecentAccessMembersFromDatabase",value:(d=M((function*(){var e,t=this.recentAccessList;t&&t.length&&(e=yield this.getMembersFromDatabase(t),DEBUG_I&&(console.collapse("STORE.Member","pinkBg","load recent access members","pinkPale",e.length,""),console.log("recentAccessList",t),console.log("members",e),console.log("store",this),console.groupEnd()))})),function(){return d.apply(this,arguments)})},{key:"getMember",value:function(e){if("string"==typeof e&&(e=Number.parseInt(e,10),Number.isNaN(e)))return null;var t=this.getItemFromCache(e);return t||this.tryQueryMembersFromDatabase(e),!t||t.expired?this.fetchFromRemote(e,!0):t.lastAccessTime=Date.now(),t}},{key:"guessMemberInCache",value:function(e){var t;if("string"==typeof e&&("#"===e[0]?(t=Number.parseInt(e.substr(1),10),Number.isNaN(t)||(e=t)):"@"===e[0]&&(e=e.substr(1))),"number"==typeof e)return this.getItemFromCache(e);var n=null;return this.forEach((function(t){if(t.account===e||t.realname===e)return n=t,!1})),n}},{key:"getMembers",value:function(e){var t=this,n=this.getItemsFromCache(e),r=new Set,o=new Set;return e.forEach((function(e,a){(a=n[a])?a.expired&&o.add(e):(t._gettingFromDatabase&&!t._gettingFromDatabase.has(e)&&r.add(e),o.add(e))})),r.size&&this.tryQueryMembersFromDatabase(y(r)),o.size&&this.fetchFromRemote(y(o)),n}},{key:"asyncGetMember",value:(s=M((function*(e){if(!e)return null;var t,n=this.getItemFromCache(e);return n||(t=yield this.getMembersFromDatabase([e]))&&(n=t[0]),n&&!n.expired||(t=yield k([e]))&&(n=t[0]),n})),function(e){return s.apply(this,arguments)})},{key:"asyncGetMembers",value:(n=M((function*(e){if(!e||!e.length)return null;var t=this.getItemsFromCache(e),n=new Set,r=new Map;if(e.forEach((function(e,o){t[o]||n.add(e),r[e]=o})),n.size){var o=yield this.getMembersFromDatabase(y(n));if(o&&o.length){var a,i=h(o);try{for(i.s();!(a=i.n()).done;){var l=a.value;l&&!l.expired&&(n.delete(l.id),t[r[l.id]]=l)}}catch(e){i.e(e)}finally{i.f()}}}if(n.size&&(o=yield k(e))&&o.length){var s,u=h(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;t[r[c.id]]=c}}catch(e){u.e(e)}finally{u.f()}}return t})),function(e){return n.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),T}(s.DataStore);var P=new(t.MembersStore=s);(0,l.setCallbackOnInitedDatabase)(P.reset.bind(P)),(0,c.onUserLogout)((function(){P.saveMembersToDatabase()})),(0,c.onUserReconnect)((function(){P.membersSubscribed.size&&u.default.subscribeUser("userupdate",y(P.membersSubscribed))})),n.g.ExtsRuntime&&n.g.ExtsRuntime.registerExtensionAPI([{name:"members.getMember",level:3,func:function(e){return(e=P.getMember(e))&&e.proxy}},{name:"members.getMembers",level:3,func:function(e){return P.getMembers(e).map((function(e){return e&&e.proxy}))}},{name:"members.subscribe",level:3,func:function(e,t){return P.subscribe(e,(function(e){Array.isArray(e)?t(e.map((function(e){return e&&e.proxy}))):t(e.proxy)}))}},{name:"members.subscribeAny",level:3,func:function(e){return P.subscribeAny((function(t){Array.isArray(t)?e(t.map((function(e){return e&&e.proxy}))):e(t.proxy)}))}},{name:"members.unsubscribe",level:3,func:function(e){return P.unsubscribe(e)}}]),DEBUG&&(n.g.$membersStore=P),t.default=P},727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onNoticeUpdate=t.isMatchWindowCondition=t.getCurrentNotice=t.default=void 0,t.playNoticeSound=m,t.updateUserInfoOnTray=t.updateNotice=t.requestAttention=void 0;var r=u(n(65286)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(61862)),a=u(n(74160)),i=u(n(94128)),l=n(40910);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=i.default.access("notify"),d=i.default.access("ui"),p="notice.update",h=null;function m(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"message";f.playSound&&e&&f.playSound(e)}function y(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=(n.sound&&m(n.sound),n.count?"".concat(99<n.count?"99+":n.count):"");null!=(e=f.setBadgeLabel)&&e.call(f,i),f.updateTrayIcon&&(e=o.default.string("app.title",a.default.pkg.displayName),n.userInfo&&(e="".concat(e," - ").concat(n.userInfo)),n.tray?(i=n.tray.text||i,t=n.tray.label?"".concat(e," - ").concat(n.tray.label):e,f.updateTrayIcon(t,n.tray.flash,i)):n.userInfo&&f.updateTrayIcon(e)),n.notification&&f.showNotification&&(null==(t="object"===c(n.notification)?n.notification:{title:n.notification}).icon&&(t.icon=(0,o.getMediaPath)("icon")),null==t.silent&&(t.silent=!0),f.showNotification(t)),h=n,r.default.emit(p,n)}function g(e){return!0===e||("onWindowHide"===e?!d.isWindowOpen():"onWindowBlur"===e?!d.isWindowOpenAndFocus()||!(0,l.isRoutePathMatch)("chats"):!1!==e)}function b(e){return r.default.on(p,e)}function v(e){y({userInfo:e&&e.isVerified?"".concat(e.displayName," [").concat(o.default.string("member.status.".concat(e.statusName)),"]"):""})}t.updateNotice=y,t.isMatchWindowCondition=g,t.onNoticeUpdate=b,t.getCurrentNotice=function(){return h},n=f.requestAttention||function(){},t.requestAttention=n,t.updateUserInfoOnTray=v,i={playSound:m,update:y,onNoticeUpdate:b,isMatchWindowCondition:g,requestAttention:n,updateUserInfoOnTray:v},t.default=i},99605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=((n=n(94128))&&n.__esModule?n:{default:n}).default.call("nwc.createNwc"),t.default=n},15973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastSavedUser=t.getCurrentUserID=t.getCurrentUserAccount=t.getCurrentUser=t.emitUserLoginOnOtherDeviceEvent=t.emitUserLoginEvent=t.emitUserAutoLoginEvent=t.default=t.createUser=void 0,t.getUserConfig=P,t.setCurrentUser=t.onUserStatusChange=t.onUserReconnect=t.onUserLogout=t.onUserLoginOnOtherDevice=t.onUserLogin=t.onUserConfigRequestUpload=t.onUserConfigChange=t.onUserAutoLogin=t.onSwapUser=t.isUserVerified=t.isUserOnline=t.isCurrentUser=t.getUserStatus=void 0;var r,o=c(n(65286)),a=c(n(61629)),i=c(n(61862)),l=n(727),s=n(72749),u=n(75738);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){if(e instanceof a.default)return e;var t=a.default.createIdentify(e.server,e.account);return e=d(d({},(0,s.getUserFromStore)(t)),e),t=new a.default(e),void 0!==e.authKey&&(t.authKey=e.authKey),void 0!==e.server&&t.setServer(e.server),t}function h(e){if(!(e instanceof a.default))throw new Error("Cannot set user for profile, because the user param is not User instance.");var t=k;return null!=t&&t.destroy(),(k=e).enableEvents(),DEBUG&&(console.collapse("Profile.setUser","tealBg",k.identify,"tealPale"),console.log("user",k),console.groupEnd()),e=!t||t.identify!==k.identify,(0,l.updateUserInfoOnTray)(k),o.default.emit(r.swap,k,e),k}function m(e){return o.default.on(r.swap,e)}function y(e){return o.default.on(a.default.EVENT.status_change,e)}function g(e){return o.default.on(a.default.EVENT.config_change,e)}function b(e){return o.default.on(a.default.EVENT.config_request_upload,e)}function v(e){return!(!e||!k)&&(e="number"==typeof e?e:e.id,k.id===e)}function _(){return k}function w(){return k?k.id:null}function S(){return k?k.account:""}function O(){return k&&k.status}function M(){return!!k&&k.isVerified}function C(){return k&&k.isOnline}(E=r=r||{}).swap="profile.user.swap",E.login="server.user.login",E.logout="server.user.logout",E.loginOnOhterDevice="server.user.loginOnOhterDevice",E.reconnect="server.user.reconnect",E.autoLogin="profile.user.autoLogin";var k=null,E=(t.createUser=p,t.setCurrentUser=h,t.onSwapUser=m,t.onUserStatusChange=y,t.onUserConfigChange=g,t.onUserConfigRequestUpload=b,s.getLastUserFromStore);function P(e){var t=k?k.config:null;return t?e?t.get(e):t:e?null:{}}t.getLastSavedUser=E,t.isCurrentUser=v,t.getCurrentUser=_,t.getCurrentUserID=w,t.getCurrentUserAccount=S,t.getUserStatus=O,t.isUserVerified=M,t.isUserOnline=C,t.onUserLogin=function(e){return o.default.on(r.login,e)},t.onUserLogout=function(e){return o.default.on(r.logout,e)},t.onUserReconnect=function(e){return o.default.on(r.reconnect,e)},t.emitUserLoginEvent=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return o.default.emit.apply(o.default,[r[e]].concat(n))},t.onUserLoginOnOtherDevice=function(e){return o.default.on(r.loginOnOhterDevice,e)},t.emitUserLoginOnOtherDeviceEvent=function(e){return o.default.emit(r.loginOnOhterDevice,e)},t.emitUserAutoLoginEvent=function(e){return o.default.emit(r.autoLogin,e)},t.onUserAutoLogin=function(e){return o.default.on(r.autoLogin,e)},y((function(e,t,n){n.status!==u.STATUS.$.offline&&(0,l.updateUserInfoOnTray)(n)})),n.g.ExtsRuntime&&n.g.ExtsRuntime.registerExtensionAPI({name:"user.getCurrentUser",level:1,func:function(){var e=_();return e&&e.proxy}}),E={EVENT:r,createUser:p,setUser:h,onSwapUser:m,onUserStatusChange:y,onUserConfigChange:g,onUserConfigRequestUpload:b,getLastSavedUser:E,isCurrentUser:v,get user(){return k},get userId(){return w()},get isUserOnline(){return C()},get isUserVerified(){return M()},get userStatus(){return O()},get summaryText(){return k?"".concat(k.displayName," [").concat(i.default.string("member.status.".concat(k.statusName)),"]"):""},get userConfig(){return P()},get userAccount(){return S()}},DEBUG&&(n.g.$profile=E),t.default=E},61328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2568)),o=s(n(74160)),a=s(n(5833)),i=s(n(84836)),l=n(61997);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n=function(){function e(t){var n=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");t&&t.version!==a.default.version&&(t=null),this.$=f(f(f({},a.default),o.default.system.defaultConfig),t),this.changeAction=new i.default((function(e){n.onChange(n.lastChange,n),!e&&n.newChanges&&"function"==typeof n.onRequestUpload&&n.uploadAction.do(),n.lastChange=null})),this.uploadAction=new i.default((function(){n.onRequestUpload(n.newChanges,n),n.newChanges=null}),5e3)}var t,n;return t=e,(n=[{key:"hash",get:function(){return this._hash||this.exportCloud(),this._hash}},{key:"plain",value:function(){var e=this,t={};return Object.keys(this.$).forEach((function(n){var r;n.startsWith("temp.")||void 0!==(r=e.$[n])&&(t[n]=r)})),t}},{key:"exportCloud",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=t?this.newChanges:this.$,o={};return Object.keys(n).forEach((function(t){t.startsWith("local.")||t.startsWith("temp.")||(o[t]=e.$[t])})),Object.keys(o).length?(t||(o.hash=(0,r.default)(JSON.stringify(o)),this._hash=o.hash),o):null}},{key:"makeChange",value:function(e,t){this.lastChange=f(f({},this.lastChange),e),this.newChanges=f(f({},this.newChanges),this.lastChange),this.$.lastChangeTime=Date.now(),this._hash="","function"==typeof this.onChange&&this.changeAction.do(t)}},{key:"get",value:function(e,t){if(this.$){var n=this.$[e];if(void 0!==n)return n}return void 0===t?a.default[e]:t}},{key:"set",value:function(e,t){var n,r=this,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];"object"===u(e)?(n={},Object.keys(e).forEach((function(t){var o=e[t];r.$&&r.$[t]===o||(n[t]=o)})),Object.keys(n).length&&(Object.assign(this.$,n),this.makeChange(n,o))):this.$&&this.$[e]===t||(this.$[e]=t,this.makeChange(d({},e,t),o||e.startsWith("local.")||e.startsWith("temp.")))}},{key:"getForExtension",value:function(e,t,n){return"object"===u(e)&&e.name&&(e=e.name),e=this.get("EXTENSION::".concat(e),{}),void 0!==(t=void 0!==t?e[t]:e)?t:n}},{key:"setForExtension",value:function(e,t,n){var r=this.getForExtension(e);return"object"===u(t)?Object.assign(r,t):r[t]=n,this.set("EXTENSION::".concat(e),r)}},{key:"reset",value:function(e){this.$=f(f({},a.default),e),this.makeChange(this.$,!0)}},{key:"autoReconnect",get:function(){return this.get("user.autoReconnect")},set:function(e){this.set("user.autoReconnect",e)}},{key:"avatarPosition",get:function(){return this.get("ui.navbar.avatarPosition")},set:function(e){this.set("ui.navbar.avatarPosition",e)}},{key:"lastChangeTime",get:function(){return this.get("lastChangeTime")},set:function(e){e instanceof Date&&(e=e.getTime()),this.set("lastChangeTime",e)}},{key:"showMessageTip",get:function(){return this.get("ui.chat.showMessageTip")},set:function(e){this.set("ui.chat.showMessageTip",e)}},{key:"sendHDEmoticon",get:function(){return!0},set:function(e){this.set("ui.chat.sendHDEmoticon",e)}},{key:"sendMarkdown",get:function(){return o.default.ui["chat.sendMarkdown"]&&this.get("ui.chat.sendMarkdown")},set:function(e){o.default.ui["chat.sendMarkdown"]&&this.set("ui.chat.sendMarkdown",e)}},{key:"isChatSidebarShow",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.get("temp.ui.chat.showSidebar.".concat(e),t)}},{key:"setChatSidebarShow",value:function(e,t){return e="temp.ui.chat.showSidebar.".concat(e),this.set(e,!!t,!0)}},{key:"setChatBulletinSetting",value:function(e,t){return e="temp.im.chat.bulletinSetting.".concat(e),this.set(e,t,!0)}},{key:"getChatBulletinSetting",value:function(e){return e="temp.im.chat.bulletinSetting.".concat(e),this.get(e,null)}},{key:"setChatReplyTo",value:function(e,t){return e="temp.im.chat.replyTo.".concat(e),this.set(e,t,!0)}},{key:"getChatReplyTo",value:function(e){return e="temp.im.chat.replyTo.".concat(e),this.get(e,null)}},{key:"showMeOnMenu",get:function(){return!!this.get("ui.chat.menu.showMe")},set:function(e){this.set("ui.chat.menu.showMe",e)}},{key:"enableSearchInEmojiPicker",get:function(){return!1},set:function(e){this.set("ui.chat.enableSearchInEmojiPicker",e)}},{key:"enableWindowNotification",get:function(){return this.get("ui.notify.enableWindowNotification")},set:function(e){this.set("ui.notify.enableWindowNotification",e)}},{key:"safeWindowNotification",get:function(){return this.get("ui.notify.safeWindowNotification")},set:function(e){this.set("ui.notify.safeWindowNotification",e)}},{key:"windowNotificationCondition",get:function(){return this.get("ui.notify.windowNotificationCondition")},set:function(e){this.set("ui.notify.windowNotificationCondition",e)}},{key:"enableSound",get:function(){return this.get("ui.notify.enableSound")},set:function(e){this.set("ui.notify.enableSound",e)}},{key:"playSoundCondition",get:function(){return this.get("ui.notify.playSoundCondition")},set:function(e){this.set("ui.notify.playSoundCondition",e)}},{key:"flashTrayIcon",get:function(){return this.get("ui.notify.flashTrayIcon")},set:function(e){this.set("ui.notify.flashTrayIcon",e)}},{key:"flashTrayIconCondition",get:function(){return this.get("ui.notify.flashTrayIconCondition")},set:function(e){this.set("ui.notify.flashTrayIconCondition",e)}},{key:"muteOnUserIsBusy",get:function(){return this.get("ui.notify.muteOnUserIsBusy")},set:function(e){this.set("ui.notify.muteOnUserIsBusy",e)}},{key:"captureScreenHotkey",get:function(){return this.get("shortcut.captureScreen")},set:function(e){this.set("shortcut.captureScreen",e)}},{key:"focusWindowHotkey",get:function(){return this.get("shortcut.focusWindow")},set:function(e){this.set("shortcut.focusWindow",e)}},{key:"globalHotkeys",get:function(){return{captureScreenHotkey:this.captureScreenHotkey,focusWindowHotkey:this.focusWindowHotkey}}},{key:"sendMessageHotkey",get:function(){return this.get("shortcut.sendMessage")||"Enter"},set:function(e){this.set("shortcut.sendMessage",e)}},{key:"chatFontSize",get:function(){return this.get("ui.chat.fontSize")},set:function(e){this.set("ui.chat.fontSize",e)}},{key:"appCloseOption",get:function(){return this.get("ui.app.onClose")},set:function(e){this.set("ui.app.onClose",e)}},{key:"removeFromTaskbarOnHide",get:function(){return this.get("ui.app.removeFromTaskbarOnHide")},set:function(e){this.set("ui.app.removeFromTaskbarOnHide",e)}},{key:"hideWindowOnBlur",get:function(){return this.get("ui.app.hideWindowOnBlur")},set:function(e){this.set("ui.app.hideWindowOnBlur",e)}},{key:"hideWindowOnOpenAtLogin",get:function(){return this.get("ui.app.hideWindowOnOpenAtLogin")},set:function(e){this.set("ui.app.hideWindowOnOpenAtLogin",e)}},{key:"contactsGroupByType",get:function(){return this.get("ui.chat.contacts.groupBy")},set:function(e){this.set("ui.chat.contacts.groupBy",e)}},{key:"contactsOrderRole",get:function(){return this.get("ui.chat.contacts.order.role",{})},set:function(e){this.set("ui.chat.contacts.order.role",e)}},{key:"contactsCategories",get:function(){return this.get("ui.chat.contacts.categories",{})},set:function(e){this.set("ui.chat.contacts.categories",e)}},{key:"contactsOrderDept",get:function(){return this.get("ui.chat.contacts.order.dept",{})},set:function(e){this.set("ui.chat.contacts.order.dept",e)}},{key:"contactsDefaultCategoryName",get:function(){return this.get("ui.chat.contacts.category.default")},set:function(e){this.set("ui.chat.contacts.category.default",e)}},{key:"groupsCategories",get:function(){var e=this.get("ui.chat.groups.categories",{});return e._hidden&&(delete e._hidden,this.set("ui.chat.groups.categories",e)),Object.keys(e).forEach((function(t){var n=e[t];n.order<1e12&&(t.startsWith("_")?n.order=1e11+(0,l.timeSequence)():n.order=(0,l.timeSequence)())})),e},set:function(e){this.set("ui.chat.groups.categories",e)}},{key:"groupsDefaultCategoryName",get:function(){return this.get("ui.chat.groups.category.default")},set:function(e){this.set("ui.chat.groups.category.default",e)}},{key:"chatGroupStates",get:function(){return this.get("ui.chat.list.group.states",{})},set:function(e){this.set("ui.chat.list.group.states",e)}},{key:"listenClipboardImage",get:function(){return!1},set:function(e){this.set("ui.chat.listenClipboardImage",e)}},{key:"sendTypingStatus",get:function(){return this.get("ui.chat.sendTypingStatus",!0)},set:function(e){this.set("ui.chat.sendTypingStatus",e)}},{key:"setChatMenuGroupState",value:function(e,t,n,r){var o=this.chatGroupStates;e="".concat(e,".").concat(t,".").concat(n),r?o[e]=r:o[e]&&delete o[e],this.chatGroupStates=o}},{key:"getChatMenuGroupState",value:function(e,t,n){var r=this.chatGroupStates;return!(!r||!r["".concat(e,".").concat(t,".").concat(n)])}},{key:"skippedVersion",get:function(){return this.get("local.skippedVersion")},set:function(e){this.set("local.skippedVersion",e)}},{key:"extsState",get:function(){return this.get("extsState",{})}},{key:"addExtStateToConfig",value:function(e){var t=this.extsState;t[e.name]=e.disabled,this.set("extsState",t)}},{key:"useInitConference",get:function(){return this.get("ui.chat.initConference")},set:function(e){this.set("ui.chat.initConference",e)}},{key:"botMode",get:function(){return this.get("temp.bot.mode","command")},set:function(e){this.set("temp.bot.mode",e,!0)}},{key:"firstTimeConferenceTip",get:function(){return this.get("ui.chat.firstTimeConferenceTip",!0)},set:function(e){this.set("ui.chat.firstTimeConferenceTip",e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d(t.default=n,"DEFAULT",a.default)},5833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={version:3,lastChangeTime:0,"ui.animate.enable":!1,"ui.navbar.width":50,"ui.navbar.active":"chat","ui.navbar.avatarPosition":"bottom","ui.navbar.onlyShowNoticeCountOnRecents":!0,"ui.chat.menu.with":200,"ui.chat.menu.showMe":!0,"ui.chat.sendbox.height":125,"ui.chat.sidebar.width":300,"ui.chat.fontSize":{name:13,time:"0.9230769231em",lineHeight:1.53846153846,size:13},"ui.chat.sendHDEmoticon":!0,"ui.chat.showMessageTip":!0,"ui.chat.sendMarkdown":!1,"ui.chat.enableSearchInEmojiPicker":!1,"ui.chat.contacts.groupBy":"normal","ui.chat.contacts.order.role":{},"ui.chat.contacts.categories":{},"ui.chat.contacts.order.dept":{},"ui.chat.menu.group.states":{},"ui.chat.contacts.category.default":"","ui.chat.groups.category.default":"","ui.chat.groups.categories":{},"ui.chat.listenClipboardImage":!1,"ui.chat.sendTypingStatus":!0,"ui.chat.sendBigFileOnline":!1,"ui.chat.showCollaboraPrompt":!0,"ui.notify.enableSound":!0,"ui.notify.playSoundCondition":"onWindowHide","ui.notify.muteOnUserIsBusy":!0,"ui.notify.flashTrayIcon":!0,"ui.notify.flashTrayIconCondition":"","ui.notify.enableWindowNotification":!1,"ui.notify.windowNotificationCondition":"onWindowBlur","ui.notify.safeWindowNotification":!1,"ui.app.hideWindowOnOpenAtLogin":!1,"ui.app.hideWindowOnBlur":!1,"ui.app.removeFromTaskbarOnHide":!1,"ui.app.onClose":"ask","local.ui.app.lastFileSavePath":"","shortcut.captureScreen":"Ctrl+Alt+Z","shortcut.focusWindow":"Ctrl+Alt+X","shortcut.sendMessage":"Enter","user.autoReconnect":!0,"ui.chat.initConference":!1}},72749:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveUserToStore=t.removeUserFromStore=t.getUserListFromStore=t.getUserFromStore=t.getLastUserFromStore=t.getAllUsersFromStore=t.default=void 0;var r=(n=n(81595))&&n.__esModule?n:{default:n};function o(){return r.default.get(f,{})}function a(e){if(!e)return null;var t=r.default.get("".concat(c).concat(e));return t&&(t.identify=e,null==t.rememberMe&&(t.rememberMe=!0)),t}function i(e){var t=o();if(!t)return null;var n=Array.isArray(e)?new Set(e):e,i=0,l=null,s=null!=(e=r.default.get("loginedUsers"))?e:{};return Object.keys(t).forEach((function(e){var r;null!=n&&n.has(e)||process.env.HOT&&s[e]&&s[e]!==process.env.WIN_NAME||(r=t[e],i<r&&(i=r,l=e))})),l?a(l):null}function l(){var e=o(),t=[],n=!1;return Object.keys(e).forEach((function(r){var o=a(r);o?t.push(o):(delete e[r],n=!0)})),n&&r.default.set(f,e),t.sort((function(e,t){return(t.lastLoginTime||0)-(e.lastLoginTime||0)})),t}function s(e){var t=e.identify;if(!t)throw new Error("Cannot save user, because user.identify property is not defined.");(e=e.plain()).rememberMe||delete e.authKey,r.default.set("".concat(c).concat(t),e),(e=o())[t]=Date.now(),r.default.set(f,e)}function u(e){if(!e)throw new Error("Cannot remove user, because identify is not defined.");r.default.remove("".concat(c).concat(e));var t=o();t[e]&&(delete t[e],r.default.set(f,t))}var c="USER::",f="USER_LIST";t.getAllUsersFromStore=o,t.getUserFromStore=a,t.getLastUserFromStore=i,t.getUserListFromStore=l,t.saveUserToStore=s,t.removeUserFromStore=u,n={allUsers:o,getUser:a,userList:l,saveUser:s,removeUser:u,getLastUser:i},t.default=n},61629:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AUTH_TOKEN_FLAG=t.AUTH_PASSWORD_FLAG=void 0;var o=m(n(2568)),a=n(51572),i=m(n(75738)),l=m(n(61328)),s=m(n(84836)),u=n(7066),c=m(n(65286)),f=m(n(74160)),d=n(72749),p=n(48389),h=n(16986);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=S(e);if(n=t?(n=S(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return w(o)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function C(e,t,n){if((t=E(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function k(e,t){return(t=E(e,t,"get")).get?t.get.call(e):t.value}function E(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function P(e){var t;return e="string"==typeof e&&e.length?e.startsWith(x)?(t="token",e.substring(x.length)):e.startsWith(j)?(t="password",e.substring(j.length)):64===e.length?(t="token",e):32===e.length?(t="password",e):(t="password",(0,o.default)(e)):(t="password",""),{type:t,key:e}}var T,j="%%%PWD_FLAG%%% ",x=(t.AUTH_PASSWORD_FLAG=j,"%%%TOKEN_FLAG%%% "),D=(t.AUTH_TOKEN_FLAG=x,"11443"),A=((Y=T=T||{}).config_change="user.config.change",Y.status_change="user.status.change",Y.reconnect="user.reconnect",Y.config_request_upload="user.config.requestUpload",new WeakMap),I=new WeakMap,L=new WeakMap,N=new WeakMap,R=new WeakMap,F=new WeakMap,Y=function(e){var t=p;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e);var n,r=_(p);function p(e){var t;if(this instanceof p)return M(w(t=r.call(this,e,"USER")),"saveUserAction",void 0),M(w(t),"eventsEnable",void 0),M(w(t),"statusChangeCallTimer",void 0),O(w(t),A,{writable:!0,value:void 0}),O(w(t),I,{writable:!0,value:void 0}),M(w(t),"tokenNeedRenew",void 0),M(w(t),"sessionID",void 0),O(w(t),L,{writable:!0,value:void 0}),O(w(t),N,{writable:!0,value:void 0}),M(w(t),"backendType",void 0),M(w(t),"socketPort",void 0),O(w(t),R,{writable:!0,value:void 0}),O(w(t),F,{writable:!0,value:void 0}),M(w(t),"_clientUpdate",void 0),M(w(t),"enableClientAES",void 0),M(w(t),"isFirstSignedToday",void 0),M(w(t),"versionSupport",{}),M(w(t),"loginError",void 0),t.saveUserAction=new s.default((function(){(0,d.saveUserToStore)(w(t))})),t.eventsEnable=!1,t.statusKeeper.onChange=function(e,n){t.isEventsEnable&&c.default.emit(T.status_change,t.statusKeeper.proxy,i.default.STATUS.create(n).proxy,w(t)),clearTimeout(t.statusChangeCallTimer),t.statusKeeper.is(i.default.STATUS.$.logged)&&(t.$set("lastLoginTime",(new Date).getTime()),t.statusChangeCallTimer=setTimeout((function(){t.isStatus(i.default.STATUS.$.logged)&&(t.status=i.default.STATUS.$.online)}),1e3))},t;throw new TypeError("Cannot call a class as a function")}return t=p,e=[{key:"create",value:function(e){return e instanceof p?e:new p(e)}},{key:"createIdentify",value:function(e,t){e instanceof URL||(e.startsWith("https://")||e.startsWith("http://")||(e="https://".concat(e)),r=(0,h.extractPortFromUrl)(e),e=new URL(e)),e.port||(e.port=D);var n=e.pathname,r=(n&&n.length&&(n=(n="/"===n?"":n).replace(/\//g,"_")),"".concat(e.hostname,"__").concat(r||e.port));return"".concat(t,"@").concat(r).concat(n)}},{key:"simplifyServerUrl",value:function(e){if(e){e.startsWith("http://")||e.startsWith("https://")||(e="https://".concat(e));try{var t=(0,h.extractPortFromUrl)(e),n=new URL(e);n.port===D?(n.port="",e=n.toString()):!n.port&&t&&(e="".concat(n.protocol,"//").concat(n.username||n.password?"".concat(n.username,":").concat(n.password,"@"):"").concat(n.hostname,":").concat(t).concat(n.pathname).concat(n.search))}catch(t){DEBUG&&console.error("Cannot parse url ",e,t)}}return e}}],(n=[{key:"proxyHandler",get:function(){return p.PROXY_HANDLER}},{key:"schema",get:function(){return p.SCHEMA}},{key:"isEventsEnable",get:function(){return this.eventsEnable}},{key:"enableEvents",value:function(){this.eventsEnable=!0}},{key:"destroy",value:function(){this.eventsEnable=!1}},{key:"plain",value:function(){var e=g(g({},this.$),{},{config:this.config.plain()});if(e.password)for(var t=0,n=["password","ranzhiUrl"];t<n.length;t++){var r=n[t];void 0!==e[r]&&delete e[r]}var o=this.server;return o.port===D&&(o.port="",e.server=o.toString(),o.port=D),k(this,N)&&(e.server="".concat(o.protocol,"//").concat(o.username||o.password?"".concat(o.username,":").concat(o.password,"@"):"").concat(o.hostname,":").concat(k(this,N)).concat(o.pathname).concat(o.search)),e}},{key:"save",value:function(){this.saveUserAction.do()}},{key:"signed",get:function(){return this.$get("signed")},set:function(e){this.$set("signed",e)}},{key:"config",get:function(){var e=this;return k(this,A)||(C(this,A,new l.default(this.$get("config"))),k(this,A).onChange=function(t,n){e.save(),e.isEventsEnable&&c.default.emit(T.config_change,t,n,e)},k(this,A).onRequestUpload=function(t,n){e.isEventsEnable&&e.isOnline&&c.default.emit(T.config_request_upload,t,n,e)}),k(this,A)}},{key:"isDisconnect",get:function(){return this.statusKeeper.is(i.default.STATUS.$.disconnect)}},{key:"isUnverified",get:function(){return this.status<=i.default.STATUS.$.unverified}},{key:"isVerified",get:function(){return this.status>=i.default.STATUS.$.disconnect}},{key:"isLogged",get:function(){return this.status>=i.default.STATUS.$.logged}},{key:"markDisconnect",value:function(){this.status=i.default.STATUS.$.disconnect}},{key:"markUnverified",value:function(){this.status=i.default.STATUS.$.unverified}},{key:"isLogging",get:function(){return!!k(this,I)}},{key:"beginLogin",value:function(e){this.isOnline&&(this.status=i.default.STATUS.$.unverified),C(this,I,!e||"simple")}},{key:"endLogin",value:function(e,t){C(this,I,!1),e?this.isOffline&&(this.status=i.default.STATUS.$.logged):!t&&this.isDisconnect||(this.status=i.default.STATUS.$.unverified,t&&this.clearAuthToken())}},{key:"authTokenLifetime",get:function(){return this.$get("authTokenLifetime",0)}},{key:"authKey",get:function(){var e=this.$get("authKey");return void 0===e?this.$get("password",""):e},set:function(e){this.ldap?this.$set("authKey",e):"token"===(e=P(e)).type?this.setAuthToken(e.key):this.setPassword(e.key)}},{key:"authKeyInfo",get:function(){return P(this.authKey)}},{key:"rememberMe",get:function(){return!!this.$get("rememberMe")},set:function(e){this.ldap&&(e=!1),this.$set("rememberMe",!!e)}},{key:"setAuthToken",value:function(e){e&&(e.startsWith(x)||(e="".concat(x).concat(e)),this.$set("authKey",e),this.$set("generatedTimeOfToken",Date.now()))}},{key:"clearAuthToken",value:function(){this.$set("authKey",""),this.$set("generatedTimeOfToken",0)}},{key:"setAuthTokenConfig",value:function(e,t){"number"==typeof e&&this.$set("authTokenLifetime",e),"number"==typeof t&&this.$set("tokenAuthWindow",t)}},{key:"isAuthTokenNeedRenew",get:function(){if(!this.hasAuthToken)return!1;var e=this.generatedTimeOfToken;return this.tokenNeedRenew||!e||Date.now()-e>this.authTokenLifetime*u.TIME_DAY*2/3}},{key:"hasAuthToken",get:function(){return"token"===this.authKeyInfo.type}},{key:"authToken",get:function(){var e=this.authKeyInfo;return"token"===e.type?e.key:""}},{key:"setPassword",value:function(e){e.startsWith(j)||(this.ldap||32===e.length||(e=(0,o.default)(e)),e="".concat(j).concat(e)),this.$set("authKey",e)}},{key:"sidCookieInfo",get:function(){return{url:this.server.origin,name:"sid-".concat(this.id),value:(0,o.default)("".concat(this.id,":").concat(this.sessionID)),path:"/"}}},{key:"sidCookieInfoWithoutUserId",get:function(){return{url:this.server.origin,name:"sid",value:(0,o.default)("".concat(this.id,":").concat(this.sessionID)),path:"/"}}},{key:"server",get:function(){return k(this,L)||this.setServer(this.$get("server")),k(this,L)}},{key:"setServer",value:function(e){var t,n;e&&(t=(0,h.extractPortFromUrl)(e),e=p.simplifyServerUrl(e),(e=new URL(e)).port||t||(e.port=D),n=e.toString(),t&&(n="".concat(e.protocol,"//").concat(e.username||e.password?"".concat(e.username,":").concat(e.password,"@"):"").concat(e.hostname,":").concat(t).concat(e.pathname).concat(e.search)),this.$set("server",n),C(this,L,e),C(this,N,t))}},{key:"serverUrl",get:function(){return this.$get("server")||""}},{key:"webServerPort",get:function(){var e=this.server;return e?k(this,N)||e.port:""}},{key:"serverName",get:function(){var e=this.server;return e?e.username||(e.pathname?e.pathname.substr(1):""):""}},{key:"webServerInfoUrl",get:function(){var e=this.server;return e?k(this,N)?"".concat(e.protocol,"//").concat(e.hostname,":").concat(k(this,N),"/serverInfo").concat(e.search):"".concat(e.origin,"/serverInfo"):""}},{key:"possibleServerInfoUrls",get:function(){var e=this.server,t=[this.webServerInfoUrl];if(this.isVerified)return t;var n="".concat(e.pathname).concat(e.pathname.endsWith("/")?"":"/","serverInfo");return t.push("".concat("https:"===e.protocol?"http:":"https:","//").concat(e.host).concat(n)),e.port!==D?(t.push("https://".concat(e.hostname,":11443").concat(n)),t.push("http://".concat(e.hostname,":11443").concat(n))):t.push("".concat(e.protocol,"//").concat(e.hostname).concat(n)),t}},{key:"socketUrl",get:function(){if(k(this,R))return k(this,R);var e=this.serverUrl;return e?((e=new URL(e)).protocol="https:"===e.protocol?"wss:":"ws:",e.pathname="/ws",e.port=this.socketPort,e.toString()):""},set:function(e){C(this,R,e)}},{key:"serverVersion",get:function(){return k(this,F)},set:function(e){"v"===(e=e.toLowerCase())[0]&&(e=e.substring(1)),C(this,F,e)}},{key:"clientUpdate",get:function(){return this._clientUpdate},set:function(e){this._clientUpdate=e}},{key:"serverUrlRoot",get:function(){var e=this.serverUrl,t="";return e&&((e=new URL(e)).hash="",e.search="",e.pathname="",t=e.toString()),t&&!t.endsWith("/")&&(t+="/"),t}},{key:"makeServerUrl",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return e&&e.startsWith("/")&&(e=e.substring(1)),this.serverUrlRoot+e}},{key:"uploadUrl",get:function(){return this.makeServerUrl("fileUpload")}},{key:"identify",get:function(){var e=this.server;return e?p.createIdentify(e,this.account):""}},{key:"company",get:function(){return this.$get("company")},set:function(e){this.$set("company",e)}},{key:"token",get:function(){return this.$get("token")},set:function(e){this.$set("token",e)}},{key:"permissions",get:function(){return this.$get("permissions")||[]},set:function(e){"string"==typeof e&&(e=(e=e.split(",")).filter((function(e){return e}))),this.$set("permissions",e)}},{key:"conference",get:function(){return this.$get("conference")},set:function(e){this.$set("conference",e)}},{key:"dismissedGroupLife",get:function(){return this.$get("dismissedGroupLife",90)},set:function(e){this.$set("dismissedGroupLife",e)}},{key:"apiScheme",get:function(){return this.$get("apiScheme")},set:function(e){this.$set("apiScheme",e)}},{key:"deptsCache",get:function(){return this.$get("deptsCache")},set:function(e){this.$set("deptsCache",e)}},{key:"rolesCache",get:function(){return this.$get("rolesCache")},set:function(e){this.$set("rolesCache",e)}},{key:"apiVersion",get:function(){var e=this.apiScheme;return e&&e.$version||""}},{key:"hasApiScheme",get:function(){return!!this.apiScheme}},{key:"cipherIV",get:function(){return this.token.substring(0,16)},set:function(e){this.$set("cipherIV",e)}},{key:"uploadFileSize",get:function(){return this.$get("uploadFileSize")},set:function(e){this.$set("uploadFileSize",e)}},{key:"lastLoginTime",get:function(){return this.$get("lastLoginTime")}},{key:"serverTimeOffset",get:function(){return this.$get("serverTimeOffset",0)},set:function(e){this.$set("serverTimeOffset",e)}},{key:"serverNowTime",get:function(){var e=this.serverTimeOffset;return e?new Date(Date.now()+e):new Date}},{key:"backendURL",get:function(){return this.$get("backendURL")},set:function(e){this.$set("backendURL",e)}},{key:"requestType",get:function(){return this.$get("requestType")},set:function(e){this.$set("requestType",e)}},{key:"requestFix",get:function(){return this.$get("requestFix")},set:function(e){this.$set("requestFix",e)}},{key:"autoLogin",get:function(){return this.$get("autoLogin")},set:function(e){this.$set("autoLogin",e)}},{key:"ldap",get:function(){return!!f.default.ui["login.ldap"]&&this.$get("ldap")},set:function(e){this.$set("ldap",e)}},{key:"avatar",get:function(){var e=this.$get("avatar");return!e||e.startsWith("https://")||e.startsWith("http://")?e:this.serverUrlRoot+e},set:function(e){this.$set("avatar",e)}},{key:"isNeverLogged",get:function(){return!this.lastLoginTime}},{key:"tokenAuthWindow",get:function(){return this.$get("tokenAuthWindow")||20}},{key:"generatedTimeOfToken",get:function(){return this.$get("generatedTimeOfToken",0)}},{key:"authKeyForServer",get:function(){if(this.ldap&&!(r=this.$get("authKey")).includes(x))return r;var e,t,n,r,a=(r=this.authKeyInfo).key;return"token"===r.type?(r=this.account,e=this.serverNowTime,t=this.tokenAuthWindow,64===(n=a).length?n=(0,o.default)("".concat(r).concat(a).concat(Math.round(e.getTime()/1e3/t))):32<=n.length&&(n=n.substring(0,32)),"".concat(n).concat((0,o.default)(n))):a}},{key:"serverSideIntegration",get:function(){return this.$get("serverSideIntegration",[])},set:function(e){this.$set("serverSideIntegration",e)}},{key:"stunPort",get:function(){return this.$get("stunPort","3478")},set:function(e){this.$set("stunPort",e)}},{key:"iceServers",get:function(){return this.$get("iceServers","")},set:function(e){this.$set("iceServers",e)}},{key:"admin",get:function(){return this.$get("admin","")}},{key:"isEnableDetachedConference",get:function(){var e;return this.isVersionSupport(a.VersionSupport.detachedConference)&&(null==(e=this.conference)?void 0:e.detachedConference)}},{key:"isServerSideIntegrated",value:function(e){return this.$get("serverSideIntegration",[]).includes(e)}},{key:"isVersionSupport",value:function(e){return!!this.versionSupport&&this.versionSupport[e]}},{key:"setVersionSupport",value:function(e){e&&Object.assign(this.versionSupport,e)}},{key:"updateFromMember",value:function(e){e.account===this.account&&(this.realname=e.realname,this.avatar=e.avatar,this.status=e.status)}}])&&b(t.prototype,n),e&&b(t,e),Object.defineProperty(t,"prototype",{writable:!1}),p}(i.default);M(t.default=Y,"NAME","USER"),M(Y,"EVENT",T),M(Y,"SCHEMA",i.default.SCHEMA.extend({lastLoginTime:{type:"timestamp"},config:{type:"object",defaultValue:{}},authKey:{type:"string"},authTokenLifetime:{type:"int"},tokenAuthWindow:{type:"int"},token:{type:"string"},cipherIV:{type:"string"},server:{type:"string"},serverVersion:{type:"string"},uploadFileSize:{type:"int"},autoLogin:{type:"boolean",default:!1},rememberMe:{type:"boolean",default:!0},signed:{type:"timestamp",setter:function(e,t){var n=t.signed;return t.isFirstSignedToday=e&&(0,u.isToday)(e)&&(!n||!(0,u.isSameDay)(e,n)),e}},admin:{type:"string",default:""}})),M(Y,"PROXY_PROPERTIES",(0,p.createProxyPropertiesMap)(["lastLoginTime","server","serverVersion","uploadFileSize","signed","backendType","serverNowTime","authToken"],i.default.PROXY_PROPERTIES)),M(Y,"PROXY_HANDLER",(0,p.createProxyHandler)(Y.PROXY_PROPERTIES)),M(Y,"STATUS",i.default.STATUS),DEBUG&&(n.g.$User=Y)},12443:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(45780)),a=d(n(65286)),i=d(n(94128)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(61862)),s=d(n(74160)),u=n(82717),c=n(14227);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var h="runtime.ready",m=!1;(function(){e=function*(){yield(0,l.initLang)(),o.default&&o.default.loadModules(),i.default.init({config:s.default,lang:l.default}),(0,u.initIM)(),(0,c.initConferenceUI)(),m=!0,a.default.emit(h)};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,l,"next",e)}function l(e){p(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(){return t.apply(this,arguments)}})()(),t.default=function(e){return m?(e(),!1):a.default.once(h,e)}},51572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VersionSupport=t.FeatureMinVersions=void 0,t.FeatureMinVersions=void 0,t.FeatureMinVersions={MIN_SUPPORT_VERSION:"6.0.beta",MIN_PING_INTERVAL_VERSION:"3.0.0-beta.4",MIN_PREPEND_SERVERNAME_VERSION:"3.1",MIN_TOKEN_AUTH_VERSION:"3.2",MIN_BASIC_USER_LIST_VERSION:"3.2.4",MIN_MESSAGE_GET_LIST_GID_VERSION:"4.0.beta2",MIN_CHAT_SET_ADMINS_VERSION:"4.0.beta3",MIN_USER_GET_LIST_WITHOUT_BASIC_PARAM_VERSION:"4.0.beta2",MIN_USER_GET_LIST_BY_DEPT_ONLY_SELF_VERSION:"4.3",MIN_CHAT_SET_LAST_READ_MESSAGE_VERSION:"4.2",MIN_CONTINUE_TO_INVITE_CONFERENCE:"4.4.1",MIN_PRIVATE_CHAT_VERSION:"4.7",MIN_SYNC_MISSING_VERSION:"5.0",MIN_COOKIE_SID_VERSION:"5.0",MIN_P2P_FILE_TRANSFER_VERSION:"5.1",MIN_MERGE_CHATS_VERSION:"5.6",MIN_CHAT_SET_LAST_READ_MESSAGE_BY_INDEX_VERSION:"5.6",MIN_CHAT_SET_CONFIG_VERSION:"6.0.beta",MIN_COLLABORA_EDIT_VERSION:"6.4",MIN_GROUP_AVATAR_VERSION:"6.5",MIN_CHAT_ARCHIVE_VERSION:"6.6",MIN_XUANBOT_VERSION:"7.0",MIN_DETACHED_CONFERENCE_VERSION:"7.2.beta",MIN_CONFERENCE_APP_AND_APPOINTMENT_VERSION:"7.2"},t.VersionSupport=void 0,t.VersionSupport={fileServer:"fileServer",prependServerName:"prependServerName",tokenAuth:"tokenAuth",fetchUserProfileOnDemand:"fetchUserProfileOnDemand",messageGetListWithGid:"messageGetListWithGid",userGetListWithoutBasicParam:"userGetListWithoutBasicParam",chatSetAdmins:"chatSetAdmins",chatSetLastReadMessage:"chatSetLastReadMessage",chatSetLastReadMessageByIndex:"chatSetLastReadMessageByIndex",userGetListByDeptOnlySelf:"userGetListByDeptOnlySelf",continueToInviteConference:"continueToInviteConference",privateChat:"privateChat",messageSyncMissed:"messageSyncMissed",sidCookie:"sidCookie",p2pFileTransfer:"p2pFileTransfer",mergeChats:"mergeChats",chatSetConfig:"chatSetConfig",collaboraEditing:"collaboraEditing",chatGroupAvatar:"chatGroupAvatar",chatArchive:"chatArchive",xuanbot:"xuanbot",detachedConference:"detachedConference",conferenceAppAndAppointment:"conferenceAppAndAppointment"}},13347:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.changeUserStatus=t.changeUserPassword=void 0,t.getAuthToken=function(){return x.apply(this,arguments)},t.reconnect=t.logout=t.login=void 0,t.renewAuthToken=D;var o=M(n(91230)),a=n(51572),i=M(n(24260)),l=M(n(68520)),s=n(15973),u=n(11491),c=O(n(727)),f=M(n(74160)),d=n(74543),p=n(90625),h=n(43058),m=O(n(11803)),y=M(n(84431)),g=n(33594),b=M(n(94128)),v=M(n(61862)),_=n(7217),w=n(78717);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=S(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function M(e){return e&&e.__esModule?e:{default:e}}function C(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){P(a,r,o,i,l,"next",e)}function l(e){P(a,r,o,i,l,"throw",e)}i(void 0)}))}}var j=f.default.system["http.timeout"]||3e4;function x(){return(x=T((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";try{var n=yield i.default.sendAndListen({method:"usergetauthtoken",params:[e,t]},!0);return null==n?void 0:n.data}catch(e){return null}}))).apply(this,arguments)}function D(){return A.apply(this,arguments)}function A(){return(A=T((function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.default.system.device,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,_.getDeviceID)();try{var n=yield i.default.sendAndListen({method:"userrenewauthtoken",params:[e,t]},!0);return null==n?void 0:n.data}catch(e){return null}}))).apply(this,arguments)}function I(){Y&&(clearTimeout(Y),Y=null)}function L(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:j;try{e=(0,s.createUser)(e)}catch(t){return Promise.reject(new m.default(m.Codes.USER_INVALID,"User info is not valid.",{user:e}))}var r="silent"===t,l="simple"===t;return r||l||(t="normal",(0,s.setCurrentUser)(e)),DEBUG&&(console.collapse("Server.login","tealBg","[".concat(t,"] ").concat(e.identify),"tealPale"),console.log("user",e),console.log("user.isLogging",e.isLogging),console.trace("mode",t),console.groupEnd()),e?e.isLogging?Promise.reject(new m.default(m.Codes.BUSY,"Last login request not finish, please wait a minute.",{user:e})):l&&!e.isVerified?Promise.reject(new m.default(m.Codes.USER_INVALID,"User is not verified before reconnect.",{user:e})):(e.beginLogin(),(0,p.limitTimePromise)((0,u.requestServerInfo)(e),n).then((function(){return(0,g.initUserDatabase)(e.identify)})).then((function(){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return E(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((t=e.serverVersion)?("v"===t[0].toLowerCase()&&(t=t.substring(1)),(0,d.compareVersions)(t,a.FeatureMinVersions.MIN_SUPPORT_VERSION)<0?(console.warn("The server version '".concat(t,"' not support, require the min version '").concat(a.FeatureMinVersions.MIN_SUPPORT_VERSION,"'.")),[!1,new m.default(m.Codes.SERVER_VERSION_NOT_SUPPORT,{version:f.default.pkg.displayVersion,serverVersion:t,minSupportVersion:a.FeatureMinVersions.MIN_SUPPORT_VERSION})]):[!0,null]):[!1,new m.default(m.Codes.SERVER_VERSION_UNKNOWN)]);return t[0],(t=t[1])?Promise.reject(t):(0,h.checkClientUpdateInfo)(e).needUpdateForce?Promise.reject(new m.default(m.Codes.CLIENT_REQUIRE_UPDATE,"The server required a newer version client '".concat(e.clientUpdate.version,"', current version is '").concat(o.default.version,"'."),{version:o.default.version})):(e.setVersionSupport({fileServer:0!==(t=e).uploadFileSize,prependServerName:-1<(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_PREPEND_SERVERNAME_VERSION),tokenAuth:-1<(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_TOKEN_AUTH_VERSION),fetchUserProfileOnDemand:f.default.ui["chat.fetchUserProfileOnDemand"]&&-1<(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_BASIC_USER_LIST_VERSION),messageGetListWithGid:-1<(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_MESSAGE_GET_LIST_GID_VERSION),userGetListWithoutBasicParam:-1<(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_USER_GET_LIST_WITHOUT_BASIC_PARAM_VERSION),chatSetAdmins:-1<(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_CHAT_SET_ADMINS_VERSION),chatSetLastReadMessage:0<(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_CHAT_SET_LAST_READ_MESSAGE_VERSION),chatSetLastReadMessageByIndex:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_CHAT_SET_LAST_READ_MESSAGE_BY_INDEX_VERSION),userGetListByDeptOnlySelf:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_USER_GET_LIST_BY_DEPT_ONLY_SELF_VERSION),continueToInviteConference:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_CONTINUE_TO_INVITE_CONFERENCE),privateChat:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_PRIVATE_CHAT_VERSION),messageSyncMissed:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_SYNC_MISSING_VERSION),sidCookie:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_COOKIE_SID_VERSION),p2pFileTransfer:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_P2P_FILE_TRANSFER_VERSION)||!!process.env.HOT,mergeChats:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_MERGE_CHATS_VERSION),chatSetConfig:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_CHAT_SET_CONFIG_VERSION),collaboraEditing:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_COLLABORA_EDIT_VERSION),chatGroupAvatar:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_GROUP_AVATAR_VERSION),chatArchive:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_CHAT_ARCHIVE_VERSION),xuanbot:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_XUANBOT_VERSION),detachedConference:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_DETACHED_CONFERENCE_VERSION),conferenceAppAndAppointment:0<=(0,d.compareVersions)(t.serverVersion,a.FeatureMinVersions.MIN_CONFERENCE_APP_AND_APPOINTMENT_VERSION)}),new Promise((function(t,n){var o=!1;i.default.login(e,{pingInterval:!r&&0<=(0,d.compareVersions)(e.serverVersion,a.FeatureMinVersions.MIN_PING_INTERVAL_VERSION),onClose:function(t,r,a,i){c.default.update(),(0,s.emitUserLoginEvent)("logout",e,r,a,i),o||(o=!0,n(new m.default(m.Codes.SOCKET_CLOSED,"Socket connection is unexpectedly disconnected when logging in, usually because the server encountered an unhandled error.")))}},l).then((function(n){var r,a,i;return o||(o=!0,b.default.isType("electron")&&e.config.useInitConference&&e.conference&&"srs"===e.conference.backend&&void 0===e.lastStatusBeforeDisconnect&&(r=b.default.call("os.uptime"),a=localStorage.getItem("conferenceLastInit"),i=Math.floor(Date.now()/1e3),(!a||i-r>parseInt(a,10))&&(localStorage.setItem("conferenceLastInit",i.toString()),(0,w.executeCommand)("createConference","".concat(e.id,"&").concat(e.id),"_",!1,"audio"))),t(n)),n})).catch((function(e){return o||(o=!0,n(e)),e}))})))})).then(T((function*(){if(e.isVersionSupport("sidCookie"))try{yield b.default.call("docCookies.set",e.sidCookieInfo),yield b.default.call("docCookies.set",e.sidCookieInfoWithoutUserId),e.sidCookieUpdate=Date.now(),DEBUG&&console.log("Session cookie setted",k(k({},e.sidCookieInfo),{},{time:e.sidCookieUpdate,sessionID:e.sessionID,userID:e.id}))}catch(t){DEBUG&&console.error("Error when set cookie",e,t)}}))).then((function(){return y.default.loadRecentAccessMembersFromDatabase()})).then((function(){return e.endLogin(!0),e.save(),y.default.store(e),B(),f.default.ui.defaultUser&&b.default.call("buildIn.removeDefaultUser"),r||((0,s.emitUserLoginEvent)("login",e,null,l),l&&(0,s.emitUserLoginEvent)("reconnect",e)),Promise.resolve(e)})).catch((function(t){var n;return"BACKEND_SERVER_ERROR"!==t.code?((t=m.default.create(t)).setExtras({user:e}),n=["HTTP_STATUS_401",m.Codes.INVALID_TOKEN].includes(t.code),e.endLogin(!1,n),r||(0,s.emitUserLoginEvent)("login",e,t,l),Promise.reject(t)):Promise.reject()})).finally((function(){e.isLogging&&e.endLogin(!1)}))):Promise.reject(new m.default(m.Codes.USER_INVALID,"User is not set.",{user:e}))}function N(){var e=(0,s.getCurrentUser)();return e.isOnline?Promise.resolve(e):L(e,"simple")}function R(e){return i.default.changeUserStatus(e)}function F(e){return i.default.changeUserPassword(e)}(0,s.onSwapUser)((function(){i.default.close()}));var Y=null,B=function(){var e=T((function*(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(0,s.getCurrentUser)();I(),t&&t.hasAuthToken&&(t.isAuthTokenNeedRenew&&(e=yield D(),t.setAuthToken(e),t.tokenNeedRenew=!1,t.save()),Y=setTimeout((function(){return B()}),432e5))}));return function(){return e.apply(this,arguments)}}();t.login=L,t.reconnect=N,t.changeUserStatus=R,t.changeUserPassword=F,n=function(){var e=T((function*(e){I();var t,n=(0,s.getCurrentUser)();n&&DEBUG&&(console.collapse("Server.logout","tealBg",n.identify,"tealPale"),console.trace("currentUser",n),console.groupEnd()),e&&(t={tray:{text:v.default.string("member.status.disconnect")}}),c.default.update(t),i.default.logout(),n&&n.markUnverified(),e&&((0,c.requestAttention)("critical"),b.default.call("ui.showAndFocusWindow"))}));return function(t){return e.apply(this,arguments)}}(),t.logout=n,i.default.setHandlers(l.default),l={login:L,reconnect:N,logout:n,socket:i.default,changeUserStatus:R,changeUserPassword:F},t.default=l},95126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openInCollabora=t.generateCollaboraURL=void 0;var r,o=(r=n(61862))&&r.__esModule?r:{default:r},a=n(78717),i=n(15973),l=n(4547);function s(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=t.serverName,o=t.sessionID,a=t.id,i=t.requestType,s=t.requestFix,u=(f=t.server).protocol,c=f.hostname,f=f.port;return(0,l.generateRequestURL)(t.backendURL,"integration","wopi",t.isVersionSupport("collaboraEditing")?{fileID:e.id,serverName:r,protocol:u.replace(":",""),hostname:c,port:f,sessionID:o,mode:n?"rw":"ro",messageID:e.messageID,userID:a}:{fileID:e.id,serverName:r,protocol:u.replace(":",""),hostname:c,port:f,sessionID:o,userID:a},{requestType:i,requestFix:s})}t.generateCollaboraURL=s,t.openInCollabora=function(e){var t,n,r,l=1<arguments.length&&void 0!==arguments[1]&&arguments[1],u=(0,i.getCurrentUser)();u.isServerSideIntegrated("collaboraOffice")?(t=s(e,u,l),n={ppt:"#b13719",doc:"#1651aa",xls:"#0f703b"}[e.previewType],r=["setTimeout(function(){",'if(L.Map.THIS.stateChangeHandler.getItemValue(".uno:SpellOnline") !== "false") {L.Map.THIS.sendUnoCommand(".uno:SpellOnline");}','window.localStorage.setItem("SpellOnline", false)',"}, 2000);"],e.editable&&!l&&r.push("\n            setTimeout(() => {\n                const editButton = document.createElement('a');\n                const editButtonIcon = document.createElement('span');\n                editButtonIcon.setAttribute('class', 'w2ui-tb-icon w2ui-icon-pencil');\n                editButton.appendChild(editButtonIcon);\n                const editButtonText = document.createTextNode(' ".concat(o.default.string("menu.edit"),"');\n                editButton.appendChild(editButtonText);\n                editButton.setAttribute('href', '").concat(s(e,u,!0),"');\n                editButton.setAttribute('style', 'padding: 8px 12px; font-family: Arial; text-decoration: none; color: inherit; border: 1px var(--co-color-border-dark) solid; border-radius: 4px; margin-right: 8px;');\n                const titleDiv = document.querySelector('.main-nav.readonly #document-titlebar .document-title');\n                titleDiv.insertBefore(editButton, titleDiv.firstChild);\n                document.querySelector('.main-nav.readonly').setAttribute('style', 'display:unset !important;')\n            }, 2000);\n        ")),(0,a.executeCommand)("openWebviewWindow",{id:"officeFile-".concat(e.id),title:e.name,source:t,favicon:{doc:"mdi-file-word-box-outline text-blue",xls:"mdi-file-excel-box-outline text-green",ppt:"mdi-file-powerpoint-box-outline text-red"}[e.previewType],titleBarStyle:{boxShadow:"none",border:"none",background:n},theme:"dark",windowOptions:{maximizeAfterShow:!0},options:{executeJavaScript:{code:r.join(""),userGesture:"ppt"===e.previewType}}})):(0,a.executeCommand)("showMessager",o.default.string("integrations.collaboraOffice.notConfigured"),{type:"warning"})}},55471:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.diagnoseNetwork=function(e,t,n){return g.apply(this,arguments)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(11803)),a=d(n(94128)),i=n(15973),l=d(n(74160)),s=d(n(61862)),u=n(13347),c=n(7066),f=n(16986);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function g(){var e;return e=function*(e,t,n){function r(e){var t;e.code&&(null==e.message&&(e.message=s.default.format("error.".concat(e.code),e)),(t=s.default.format("error.suggestion.".concat(e.code),e))&&(e.suggestions=t.split("|"))),null==e.time&&(e.time=Date.now()),b[e.type]++,e.id=y.length,y.push(e),DEBUG&&(t={error:"red",success:"green",warning:"yellow",info:"blue"},console.collapse("Diagnostics","blueBg","".concat(e.type.toUpperCase()).concat(e.code?"[".concat(e.code,"]"):""),"".concat(t[e.type],"Pale"),e.message,t[e.type]),e.detail&&console.log("DETAIL",e.detail),console.trace("RESULT",e),console.groupEnd()),n&&n(e,[].concat(y))}e=(0,i.createUser)(e),"function"==typeof t&&(n=t,t=null);var d=e.server,p=d.hostname,h=d.port,y=[],g=(0,f.isValidIP)(p)?p:null,b={error:0,warning:0,info:0,success:0};if(r({type:"info",message:s.default.format("diagnostics.startingDiagnoseNetwork",{url:d.toString(),account:e.account,version:"".concat(l.default.pkg.version),server:d,user:e}),detail:"log time: ".concat((0,c.formatDate)(Date.now(),"yyyy-MM-dd hh:mm:ss.SSS"),"\nbuild time: ").concat((0,c.formatDate)(l.default.pkg.buildTime),"\nplatform: ").concat(a.default.type,"\nos: ").concat(a.default.env.os,"\narch: ").concat(null==(d=a.default.env)?void 0:d.arch)}),!t)try{return e=yield(0,u.login)(e,"silent",1e4),r({type:"success",message:s.default.string("diagnostics.endDiagnoseNetwork")}),y}catch(_){t=o.default.create(_)}if(d=!1,"HTTP_REQUEST_FAIL"===t.code||"COMMON_ERROR"===t.code){!1===navigator.onLine&&(r({type:"warning",code:"NET_OFFLINE"}),d=!0),g||!a.default.has("netTools.getNameServers")||(0===(v=a.default.call("netTools.getNameServers")).length||1===v.length&&"127.0.0.1"===v[0])&&r({type:"warning",code:o.Codes.NAMESERVER_NOT_FOUND,detail:v});var v=!0;if(!g&&a.default.has("netTools.dnsLookup"))try{g=yield a.default.call("netTools.dnsLookup",p),r({type:"info",message:s.default.format("diagnostics.resolveHostname",{hostname:p,ip:g})})}catch(e){var _=o.default.create(e,e.code?"HOST_".concat(e.code):"NET_LOOKUP_FAIL");r({type:"error",code:_.code,hostname:p,detail:_.detailMessage,error:_}),v=!(d=!0)}if(v&&a.default.has("netTools.ping"))try{r(1e3<(w=(S=yield a.default.call("netTools.ping",p)).time)?{type:"warning",hostname:p,message:s.default.format("diagnostics.pingWithLongTime",{hostname:p,pingTime:w}),pingTime:w,detail:S.output}:{type:"info",hostname:p,message:s.default.format("diagnostics.pingLogs",{hostname:p,pingTime:w}),pingTime:w,detail:S.output})}catch(e){r({type:"error",code:(w=o.default.create(e,"NET_PING_FAIL")).code,hostname:p,detail:w.detailMessage,error:w}),d=!0,S=null}var w=y.some((function(e){return"NET_PING_FAIL"===e.code})),S=!1;if(g&&a.default.has("netTools.isSameSubnet")&&(S=a.default.call("netTools.isSameSubnet",g)),v&&!S&&a.default.has("netTools.traceroute"))try{var O=yield a.default.call("netTools.traceroute",p,null,null,w?15e3:0);r({type:"info",hostname:p,message:s.default.format("diagnostics.tracerouteInfo",{hostname:p}),detail:O})}catch(e){r({type:"error",code:(g=o.default.create(e,"NET_TRACEROUTE_ERROR")).code,hostname:p,message:s.default.format("diagnostics.tracerouteError",{hostname:p}),detail:g.detailMessage,error:g}),d=!0}if(v&&a.default.has("netTools.request")){S=t.getExtras("serverInfoUrl")||e.webServerInfoUrl;try{var M=yield a.default.call("netTools.request",S,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:"data=".concat(JSON.stringify({method:"sysgetserverinfo",params:[e.serverName,e.account,e.authKeyForServer,e.apiVersion],version:l.default.pkg.displayVersion||l.default.pkg.version,device:l.default.system.device||"desktop",lang:s.default.name})),timeout:6e3}),C=new Set([401,402,403]),k=new Set([405]),E=["POST to ".concat(S),"    Response:","        Headers: ".concat(JSON.stringify(M.headers)),"        Status: ".concat(M.statusCode," - ").concat(M.statusMessage),"        Body: ".concat(M.data)].join("\n");200===M.statusCode?r({type:"info",hostname:p,port:h,serverInfoUrl:S,message:s.default.format("diagnostics.serverInfo",{serverInfoUrl:S}),detail:E,response:M}):(r({type:"error",code:C.has(M.statusCode)||k.has(M.statusCode)?"HTTP_STATUS_".concat(M.statusCode):"HTTP_STATUS_ERROR",hostname:p,port:h,serverInfoUrl:S,detail:E,response:M}),d=!0)}catch(e){r({port:h,hostname:p,type:"error",code:(w=e instanceof o.default?e:o.default.create(e)).code===o.Codes.HTTP_ETIMEDOUT?o.Codes.HTTP_ETIMEDOUT:w.code&&"HTTP_ERROR"!==w.code?"HTTP_".concat(w.code):"HTTP_ERROR",url:S,detail:w.detailMessage,error:w}),d=!0}}}return d||r(m({time:t.time,type:"error",code:t.code,loginError:t,message:s.default.error(t),detail:"".concat(t.message).concat(t.detail?"\n".concat(t.detail):"")},t.extras)),0<b.error||0<b.warning?r({type:0<b.error?"error":"warning",message:s.default.format("diagnostics.endDiagnoseNetworkWithErrors",{errorsCount:b.error,warningsCount:b.warning})}):r({type:"success",message:s.default.string("diagnostics.endDiagnoseNetwork")}),y},(g=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,l,"next",e)}function l(e){y(a,r,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}},17460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONOptimizer=t.encodeSocketMessage=t.encodeJSON=t.encodeData=t.decodeSocketMessage=t.decodeJSON=t.decodeData=void 0;var r,o=i(n(38076)),a=i(n(77537));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return r&&r.version===e.apiVersion&&r.identify===e.identify||((r=new o.default(e.apiScheme)).identify=e.identify),r}function s(e,t,n){return l(e).encodeToJSON(t,n,"requestPack")}function u(e,t){return l(e).decode(t,null,"responsePack")}t.getJSONOptimizer=l,t.decodeJSON=function(e,t){return l(e).decodeFromJSON(t)},t.encodeJSON=s,t.decodeData=u,t.encodeData=function(e,t,n){return l(e).encode(t,n,"requestPack")},t.encodeSocketMessage=function(e,t,n){var r,o,a,i,l;try{r=s(e,t.requestSchemeName,t.requestData)}catch(e){throw DEBUG_E&&(console.collapse("Encode ERROR","redBg",e.message,"redPale"),console.error(e),console.log("scheme",e.scheme),console.log("optimizer",e.optimizer),console.log("originalData",JSON.stringify(e.originalData)),console.log("encodeData",JSON.stringify(e.encodeData)),console.log("socketMessage",t),console.groupEnd()),e}return DEBUG_V&&n&&(o=t.json.length,a=r.length,n.encodedSize+=a,n.sendSize+=o,i=n.encodedSize+n.receiveSize,l=n.sendSize+n.decodedSize,console.collapse("Encoded","indigoBg",t.requestSchemeName,"indigoPale","".concat(o,"  ").concat(a),"bold","".concat((100*a/o).toFixed(1),"%%"),a<o?"green":o===a?"muted":"red","average ".concat((100*n.encodedSize/n.sendSize).toFixed(1),"%%"),n.sendSize>n.encodedSize?"green":n.sendSize===n.encodedSize?"muted":"red","total ".concat((100*i/l).toFixed(1),"%%"),i<l?"green":l===i?"muted":"red"),console.log("original",t.requestData),console.log("encoded",r),console.groupEnd()),"userloginRequest"===t.requestSchemeName&&e.isVersionSupport("prependServerName")?e.serverName+r:r},t.decodeSocketMessage=function(e,t,n){var r,o,i,l="string"==typeof t?JSON.parse(t):t;if(e&&e.hasApiScheme&&Array.isArray(l))try{r=u(e,l)}catch(e){return DEBUG_E&&(console.collapse("Decoded ERROR","redBg",e.message,"redPale"),console.error(e),console.log("jsonData",l),console.log("scheme",e.scheme),console.log("optimizer",e.optimizer),console.log("encodedData",JSON.stringify(e.encodedData)),console.log("originalData",JSON.stringify(e.originalData)),console.groupEnd()),null}else r=l;return DEBUG_V&&n&&e&&e.hasApiScheme&&(e=t?JSON.stringify(l).length:0,l=r?JSON.stringify(r).length:0,n.decodedSize+=l,n.receiveSize+=e,o=n.encodedSize+n.receiveSize,i=n.sendSize+n.decodedSize,console.collapse("Decoded","indigoBg","".concat(r.module?"".concat(r.module,"/"):"").concat(r.method,"Response"),"indigoPale","".concat(e,"  ").concat(l),"bold","".concat((100*e/l).toFixed(1),"%%"),e<l?"green":l===e?"muted":"red","average ".concat((100*n.receiveSize/n.decodedSize).toFixed(1),"%%"),n.decodedSize>n.receiveSize?"green":n.receiveSize===n.decodedSize?"muted":"red","total ".concat((100*o/i).toFixed(1),"%%"),o<i?"green":i===o?"muted":"red"),console.log("original",r),console.log("encoded",t),console.groupEnd()),new a.default(r)}},11491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestServerInfo=void 0;var r=c(n(74160)),o=c(n(61862)),a=c(n(94128)),i=n(7066),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(11803)),s=n(13347);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function m(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=a.default.access("net");n=function(){e=function*(e){PERF_MARK("serverInfoBegin");var t,n,a,u,c,p,h=JSON.stringify({method:"sysgetserverinfo",params:[(v=e).serverName,v.account,v.authKeyForServer,DEBUG?"":v.apiVersion],version:r.default.pkg.displayVersion||r.default.pkg.version,device:r.default.system.device||"desktop",lang:o.default.name}),m=new Set(["HTTP_STATUS_401","HTTP_STATUS_402","HTTP_STATUS_403"]),b=new Set(["HTTP_STATUS_405"]),v=e.possibleServerInfoUrls,_=[],w=null,S=!1,O=d(v);try{for(O.s();!(t=O.n()).done;){var M=t.value;try{var C=Date.now(),k=yield g.postJSON(M,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"data=".concat(h)});if(!k)throw new l.default(l.Codes.HTTP_DATA_ERROR,"Empty data.");if(k.token)return k.requestConsumedTime=Date.now()-C,a=k,u=M,(n=e).socketPort=a.chatPort,n.token=a.token,n.serverVersion="xxdbuildversion"===a.version.toLowerCase()?"99.9.9":a.version,n.socketUrl=a.socketUrl,n.uploadFileSize=a.uploadFileSize,n.backendType=a.backend,n.backendURL=a.backendURL,n.clientUpdate=a.clientUpdate,n.company=a.company,n.permissions=a.permissions,n.enableClientAES=!!a.enableClientAES,n.dismissedGroupLife=a.dismissedGroupLife,n.serverTimeOffset=(0,i.createDate)(a.serverTime).getTime()+Math.floor(a.requestConsumedTime/2)-Date.now(),a.apiScheme&&(n.apiScheme=a.apiScheme),n.conference=null,a.conference?n.conference=a.conference:a.owt&&(n.conference=y(y({},a.owt),{},{backend:"owt"})),u!==n.webServerInfoUrl&&n.setServer(u.endsWith("/serverInfo")?u.substring(0,u.length-11):u),a.authToken&&n.setAuthToken(a.authToken),a.authTokenLifetime&&n.setAuthTokenConfig(a.authTokenLifetime,a.authTokenAuthWindow),a.tokenNeedRenew&&(n.tokenNeedRenew=!0),a.integration&&(n.serverSideIntegration=a.integration),a.requestType&&(n.requestType=a.requestType),a.requestFix&&(n.requestFix=a.requestFix),a.stunPort&&(n.stunPort=a.stunPort),a.iceServers&&(n.iceServers=a.iceServers),e=n,PERF_MARK("serverInfoEnd","serverInfoBegin","serverInfoTime"),e;throw new l.default(l.Codes.HTTP_DATA_ERROR,k.message||"Server token is empty.")}catch(t){var E=l.default.create(t),P=E.getExtras();if(P&&P.responseText){if("map[push:<nil> update:map[]]\n"===P.responseText){E.detail="Server version not supported.\n-------------------\n",E.setExtras({version:r.default.pkg.version,serverVersion:"2.5",minSupportVersion:"3.0"}),E.code=l.Codes.SERVER_VERSION_NOT_SUPPORT,w=E,_.push(E);break}try{"string"==typeof P.responseText&&/Verify authentication credentials error: \[VerifyLogin\] backend server \[.*\] cannot found\. \n/.test(P.responseText)&&(S=!0,T={server:e.serverUrlRoot,account:e.account,authKey:e.authKey,rememberMe:e.rememberMe,autoLogin:e.autoLogin,ldap:e.ldap},e.endLogin(!1,!0),(0,s.login)(T));var T,j=JSON.parse(P.responseText);if(j&&"object"===f(j)){j.message&&(E.message=j.message,E.code=j.code||"Invalid Token."===j.data?l.Codes.INVALID_TOKEN:"SER_ERR"),w=E,_.push(E);break}}catch(t){}}if(E.setExtras({serverInfoUrl:M}),_.push(E),m.has(E.code)||b.has(E.code)){w=E;break}}}}catch(t){O.e(t)}finally{O.f()}if(_.length&&!S)throw w=w||_[0],w=l.default.create(w),1<_.length&&(c=[],p=[],_.forEach((function(e,t){var n;e!==w&&(c.push("Attempt #".concat(t,":"),"    [".concat(e.code,"] ").concat(e.message&&e.message!=="[".concat(e.code,"]")?e.message:"")),t=e.detail,n=e.stack,t&&c.push("Detail: ".concat(e.detail)),n&&c.push("Stack: ".concat(e.stack)),c.push("\n"),p.push(e))})),w.setExtras({attemptsDetail:c.join("\n")}),w.setExtras({attempts:p})),PERF_MARK("serverInfoEndWithError","serverInfoBegin","serverInfoTime"),w;if(PERF_MARK("serverInfoEnd","serverInfoBegin","serverInfoTime"),S)throw new l.default(l.Codes.BACKEND_SERVER_ERROR)};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e){return t.apply(this,arguments)}}(),t.requestServerInfo=n},68520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(41832),o=c(n(84431)),a=c(n(61862)),i=n(75738),l=c(n(65286)),s=n(15973),u=n(96521);function c(e){return e&&e.__esModule?e:{default:e}}t.default={userLogin:function(e,t){var n=t.user;if(e.isSuccess){if(e.rid===t.loginRid)return n.$set(e.data),e.data.status&&(n.status=e.data.status),!0;if(e.data.id===n.id)return(0,s.emitUserLoginOnOtherDeviceEvent)(e.device),!0;(t=o.default.getMember(e.data.id))?(t.$set(e.data),t.status=e.data.status,o.default.store(t)):o.default.store(e.data)}else(n.isLogging||e.data.id===n.id)&&e.message&&(n.loginError=new Error(e.message));return!1},userLogout:function(e,t){var n;e.isSuccess&&(n=t.user,e.data.id===n.id&&t.isConnected?(n.markUnverified(),t.close()):(n=o.default.getMember(e.data.id))&&(n.status=i.STATUS.$.unverified,o.default.store(n),(0,r.emitMemberLogout)(n)))},sysError:function(e){(e=a.default.error(e))&&l.default.emit("ui.showMessage",e)},userSyncSettings:function(e,t){var r;e.isSuccess&&(r=t.user.config,(t=e.data)&&r.hash!==t.hash&&(t.reset?r.reset({}):t.lastChangeTime&&t.lastChangeTime>r.lastChangeTime?r.reset(t):r.set(t,null,!0),n.g.ExtsRuntime&&n.g.ExtsRuntime.exts&&n.g.ExtsRuntime.exts.exts&&n.g.ExtsRuntime.exts.exts.forEach((function(e){e.isRemote&&"boolean"==typeof r.extsState[e.name]&&(0,u.setExtensionDisabled)(e,r.extsState[e.name])}))))},userUpdate:function(e,t){if(e.isSuccess&&e.data&&(t=t.user,e.data.id&&e.data.id!==t.id||(t.$set(e.data),e.data.status&&(t.status=e.data.status)),e.data.id&&(t=o.default.getMember(e.data.id))))return t.$set(e.data),e.data.status&&(t.status=e.data.status),o.default.store(t),t},userKickoff:function(e,t){e=e.reason,t.close(null,e?"USER_KICKOFF_".concat(e):"USER_KICKOFF")},userGetList:function(e){if(e.isSuccess)return o.default.store(e.data)},userGetDeleted:function(e){e.isSuccess&&o.default.store(e.data)},userSearch:function(e){if(e.isSuccess)return{data:e.data,pager:e.pager}},sysSessionID:function(e,t){(e.isSuccess||e.sessionID)&&(t.user.sessionID=e.data||e.sessionID)},ping:function(){}}},77537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(74160)),o=i(n(61862)),a=i(n(61997));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");s(this,"method",void 0),s(this,"params",void 0),s(this,"data",void 0),s(this,"result",void 0),s(this,"version",void 0),s(this,"device",void 0),s(this,"rid",void 0),s(this,"module",void 0),s(this,"lang",void 0),s(this,"userID",void 0),s(this,"_requestData",void 0),s(this,"pager",void 0),s(this,"message",void 0),s(this,"startSendTime",void 0),s(this,"endSendTime",void 0),Object.assign(this,{version:r.default.pkg.displayVersion||r.default.pkg.version,device:r.default.system.device||"desktop",lang:o.default.name},t)}var t,n,i;return t=e,i=[{key:"create",value:function(t){return t instanceof e?t:new e(t="string"==typeof t?{method:t}:t)}}],(n=[{key:"createRequestID",value:function(){return this.rid||(this.rid=(0,a.default)()),this.rid}},{key:"apiName",get:function(){var e=this.method.toLowerCase();return void 0!==this.module&&"im"!==this.module&&this.module.length?"".concat(this.module.toLowerCase(),"/").concat(e):e}},{key:"requestSchemeName",get:function(){return"".concat(this.apiName,"Request")}},{key:"json",get:function(){return JSON.stringify(this.requestData)}},{key:"requestData",get:function(){var e={version:this.version,device:this.device,lang:this.lang,method:this.method.toLowerCase()};return void 0!==this.params&&(e.params=this.params),void 0!==this.rid&&(e.rid=this.rid),void 0!==this.userID&&(e.userID=this.userID),void 0!==this.module&&"im"!==this.module&&(e.module=this.module),Object.assign(e,this._requestData)},set:function(e){this._requestData=e}},{key:"isSuccess",get:function(){return"success"===this.result||void 0===this.result}}])&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},24260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppSocket=void 0;var r=d(n(2568)),o=d(n(26098)),a=d(n(77537)),i=d(n(65286)),l=d(n(61862)),s=d(n(74160)),u=n(17460),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==y(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(11803));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,l,"next",e)}function l(e){p(a,r,o,i,l,"throw",e)}i(void 0)}))}}function m(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function S(e){return 1e3<e?"red":200<e?"orange":50<e?"muted":"green"}function O(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:s.default.system["socket.timeout"];return new Promise((function(o,a){var l=setTimeout((function(){s&&i.default.off(s);var t=new c.default(c.Codes.SOCKET_TIMEOUT,'Socket server request "'.concat(e,'" timed out.'));a(t)}),r),s=i.default.on(M,(function(r,u,c){var f;![null==(f=r.method)?void 0:f.toLowerCase(),null==(f=r.apiName)?void 0:f.toLowerCase()].includes(e.toLowerCase())||r.rid&&r.rid!==t||(l&&clearTimeout(l),s&&i.default.off(s),c?a(c):o(n?r:u))}))}))}var M="app_socket.message";o=function(e){var t=d;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);var n,o,f=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(n=t?(n=_(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===y(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return v(r)}}(d);function d(){var e=this;if(!(e instanceof d))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(v(e=f.call.apply(f,[this].concat(n))),"user",null),w(v(e),"handlers",{}),w(v(e),"requestTimes",DEBUG?{}:null),w(v(e),"isLogging",void 0),w(v(e),"pingTimer",void 0),w(v(e),"pingInterval",void 0),w(v(e),"lastHandTime",void 0),w(v(e),"perfData",void 0),w(v(e),"loginRid",void 0),w(v(e),"mocks",{}),w(v(e),"waitingMessages",void 0),e}return t=d,(e=[{key:"addMockResponse",value:function(e,t){DEBUG&&(this.mocks[e.toLowerCase()]=t)}},{key:"send",value:function(e){var t=this;return new Promise((function(n){var r=a.default.create(e),o=(t.user.id&&(r.userID=t.user.id),DEBUG?r.createRequestID():null);if(DEBUG&&t.mocks&&t.mocks[r.apiName])return setTimeout((function(){var e=t.mocks[r.apiName](r);e&&!e.timeout&&t.handleMessage(a.default.create(e))}),100),void n(r);var i=DEBUG?process.uptime?1e3*process.uptime():Date.now():null,l=t.user.hasApiScheme?(0,u.encodeSocketMessage)(t.user,r,t.perfData):r.json;g(_(d.prototype),"send",t).call(t,l,(function(){var e,a;DEBUG&&(DEBUG_V||"ping"!==r.apiName)&&(r.startSendTime=i,e=process.uptime?1e3*process.uptime():Date.now(),r.endSendTime=e,t.requestTimes[o]=e,50<(a=Object.keys(t.requestTimes)).length&&a.forEach((function(n){2e4<e-t.requestTimes[n]&&delete t.requestTimes[n]})),a=e-i,t.perfData.sendCount+=1,t.perfData.sendTotal+=a,t.perfData.sendAverage=t.perfData.sendTotal/t.perfData.sendCount,console.collapse("Socket Send ","indigoBg",r.apiName,"indigoPale","".concat(a.toFixed(2)," ms, average ").concat(t.perfData.sendAverage.toFixed(2)," ms"),S(a)),console.trace("msg",r),t.user.hasApiScheme&&console.log("encoded",l),console.groupEnd()),n(r)}))}))}},{key:"setHandler",value:function(e,t){if("object"===y(e))return DEBUG&&console.error("Warning: Use AppSocket.setHandlers(handlers) to set multiple handlers one time."),this.setHandlers(e);DEBUG&&this.handlers[e.toLowerCase()]&&console.error('Warning: Socket message handler named "'.concat(e,'" already exists.')),this.handlers[e.toLowerCase()]=t}},{key:"unsetHandler",value:function(e){delete this.handlers[e.toLowerCase()]}},{key:"setHandlers",value:function(e){var t=this;Object.keys(e).forEach((function(n){DEBUG&&t.handlers[n.toLowerCase()]&&console.error('Warning: Socket message handler named "'.concat(n,'" already exists.')),t.handlers[n.toLowerCase()]=e[n]}))}},{key:"getHandler",value:function(e){return e?this.handlers[e.toLowerCase()]:null}},{key:"handleMessage",value:function(e){var t=null,n=(DEBUG&&e.rid&&(n=this.requestTimes[e.rid])&&(delete this.requestTimes[e.rid],t=(process.uptime?1e3*process.uptime():Date.now())-n,this.perfData.count+=1,this.perfData.total+=t,this.perfData.average=this.perfData.total/this.perfData.count),this.waitingMessages),r=e.method;if(n)return"userlogin"===r&&e.rid===this.loginRid||"syssessionid"===r?n[r]=e:(n.others||(n.others=[]),n.others.push(e)),DEBUG&&(t?console.collapse("SOCKET WAITING Data ","purpleBg",r,"purplePale",e.isSuccess?"OK":"FAILED",e.isSuccess?"greenPale":"dangerPale","".concat(t," ms, average ").concat(this.perfData.average.toFixed(2)," ms"),S(t)):console.collapse("SOCKET WAITING Data ","purpleBg",r,"purplePale",e.isSuccess?"OK":"FAILED",e.isSuccess?"greenPale":"dangerPale"),console.log("msg",e),console.log("socket",this),console.groupEnd()),void(n.userlogin&&n.syssessionid&&(this.waitingMessages=null,this.handleMessage(n.userlogin),this.handleMessage(n.syssessionid),n.others&&n.others.forEach(this.handleMessage.bind(this))));var o,a=this.getHandler(r);if(a){for(;a&&"string"==typeof a;)a=this.getHandler(a);a&&(o=a(e,this))}else o=e.data;void 0===o&&(o=e.isSuccess),DEBUG&&(DEBUG_V||"ping"!==e.apiName?(t?console.collapse("SOCKET Data ","purpleBg",r,"purplePale",a?e.isSuccess?"OK":"FAILED":"NOT-HANDLED",e.isSuccess&&a?"greenPale":a?"yellowPale":"dangerPale","".concat(t.toFixed(2)," ms, average ").concat(this.perfData.average.toFixed(2)," ms"),S(t)):console.collapse("SOCKET Data ","purpleBg",r,"purplePale",a?e.isSuccess?"OK":"FAILED":"NOT-HANDLED",e.isSuccess&&a?"greenPale":a?"yellowPale":"dangerPale"),console.log("msg",e),console.log("socket",this),console.groupEnd()):console.color("SOCKET Data ","purpleBg","ping","purplePale",e.isSuccess?"OK":"FAILED",e.isSuccess?"greenPale":a?"yellowPale":"dangerPale",t&&200<t?"".concat(t.toFixed(2)," ms"):"",t&&200<t?"red":"")),"ping"!==e.apiName&&i.default.emit(M,e,o,e.isSuccess?null:new c.default(c.Codes.SOCKET_FAIL,"".concat(e.message||"","(").concat(e.apiName," failed)")))}},{key:"sendAndListen",value:function(e,t){var n=this;return this.isConnected?new Promise((function(r,o){var i=a.default.create(e);O(i.apiName,i.createRequestID(),t).then(r).catch(o),n.send(i)})):Promise.reject(new Error("Cannot send message, because socket is disconnected."))}},{key:"onInit",value:function(){this.lastHandTime=0,DEBUG&&(this.perfData={count:0,total:0,average:0,sendCount:0,sendTotal:0,sendSize:0,encodedSize:0,receiveSize:0,decodedSize:0,sendAverage:0})}},{key:"onClose",value:function(e,t,n){this.stopPing();var r=this.user;DEBUG&&(console.collapse("Socket Close","indigoBg","".concat(n?"unexpected":"","[").concat(e,"]"),"indigoPale",t,""),r?(console.log("User",r),console.log("User status",r.statusName)):console.log("User is empty."),console.groupEnd()),r&&r.isOnline&&(r.setLastStatusBeforeDisconnect(r.status),r[n||"PING_TIMEOUT"===t?"markDisconnect":"markUnverified"]())}},{key:"onData",value:function(e){var t=(0,u.decodeSocketMessage)(this.user,e,this.perfData);t?(this.lastHandTime=Date.now(),this.handleMessage(t)):DEBUG&&console.error("Cannot handle data:",e)}},{key:"login",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return PERF_MARK("socketLoginBegin"),this.isLogging=!0,this.waitingMessages={},new Promise((function(o,a){e?n.user=e:e=n.user,e?n.init(e.socketUrl,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({userToken:e.token,cipherIV:e.cipherIV,version:s.default.pkg.version,pingTimeout:12e4,pingInterval:6e4,connect:!0,encryptEnable:e.enableClientAES,onConnect:function(){var t,i="login_".concat(s.default.system.device||"desktop","_").concat(e.account);n.loginRid=i,O("userlogin",i).then((function(t){return n.isLogging=!1,t?(n.syncUserSettings(),n.startPing(),o(e)):a(e.loginError||new Error("Login result is not success.")),PERF_MARK("socketLoginEnd","socketLoginBegin","socketLoginTime"),t})).catch(a),e.loginError=null,n.send({method:"userLogin",params:[(t=e).serverName,t.account,t.authKeyForServer,{status:r&&t.lastStatusBeforeDisconnect?t.lastStatusBeforeDisconnect.name:"online",simple:r}],rid:i})},onConnectFail:function(e){var t;if(n.isLogging=!1,1006===e.code)return t=new c.default("SOCKET_CLOSE_ABNORMAL",{error:e}),void a(t);a(e)}},t)):a(new Error("User is not defined."))}))}},{key:"stopPing",value:function(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)}},{key:"startPing",value:function(){this.stopPing(),this.options.pingInterval&&this.isConnected&&(this.pingInterval="number"==typeof this.options.pingInterval?this.options.pingInterval:6e4,this.pingTimer=setInterval(this.ping.bind(this),this.pingInterval/2))}},{key:"ping",value:function(){var e;if(this.isConnected)return(e=Date.now()-this.lastHandTime)>this.options.pingTimeout?this.close(4e3,"PING_TIMEOUT"):void(e>=this.pingInterval&&this.send("ping"))}},{key:"logout",value:(o=h((function*(){if(this.isConnected)return yield this.uploadUserSettings(),this.markClose(),void this.send({method:"userLogout",params:[!0]});this.markClose(),this.handleClose(null,"logout")})),function(){return o.apply(this,arguments)})},{key:"uploadUserSettings",value:function(){var e=this.user,t=e.config.exportCloud(0<arguments.length&&void 0!==arguments[0]&&arguments[0]);return e.config.newChanges=null,t?this.isConnected&&e.isOnline?this.sendAndListen({method:"usersyncsettings",params:[e.account,t]}):(DEBUG&&console.warn("Socket is disconnected, cannot upload user settings of",t),Promise.resolve()):Promise.resolve()}},{key:"syncUserSettings",value:function(){var e=this.user;return this.sendAndListen({method:"usersyncsettings",params:[e.account,e.config.hash]})}},{key:"changeUserStatus",value:(n=h((function*(e){try{return yield this.changeUser({status:e}),!0}catch(e){return!1}})),function(e){return n.apply(this,arguments)})},{key:"changeUser",value:function(e){return e.account=this.user.account,void 0===e.status&&(e.status=""),this.sendAndListen({method:"userUpdate",params:[e]})}},{key:"changeUserPassword",value:function(e){return this.user.ldap?Promise.reject(l.default.string("user.changePassword.notSupport")):this.changeUser({password:(0,r.default)(e)})}},{key:"subscribeUser",value:function(e,t){return this.send({method:"usersubscribe",requestData:{type:e,objects:t}})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),d}(o.default),o=new(t.AppSocket=o),DEBUG&&(n.g.$socket=o),t.default=o},77325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createTodoFromMessage=t.createTodo=void 0;var r=a(n(24260)),o=a(n(15219));function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,n(13544).lazyModuleProxy)("remove-markdown");n={createTodo:t.createTodo=function(e){return e.type||(e.type="custom"),e.desc&&(e.desc="".concat((0,o.default)(e.desc),'<div class="hidden xxc-todo-source" style="display: none">').concat(e.desc,"</div>")),r.default.sendAndListen({method:"todoupsert",params:[e]})},createTodoFromMessage:t.createTodoFromMessage=function(e){var t={desc:e=e.content},n=(e=i.$(e),document.getSelection().toString()),r=e;return n&&e.includes(n)?r=n:0<(n=e.indexOf("\n"))&&(r=e.substr(0,n)),145<r.length&&(r=r.sub(0,144)),t.name=r,t}},t.default=n},99838:(e,t)=>{"use strict";function n(){var e=window.navigator.userAgent;return e.match(/(Mac OS|MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i)?"mac":e.match(/(Linux|X11(?!.*CrOS))/i)?"linux":"win"}function r(){return window.navigator.userAgent.match(/Electron/i)?"electron":"browser"}Object.defineProperty(t,"__esModule",{value:!0}),t.getOSType=n,t.getPlatformType=r,t.isDarkThemeMode=function(){var e;return(null==(e=document.body.getAttribute("data-theme"))?void 0:e.includes("dark"))||document.body.classList.contains("os-dark-mode")},t.isOSType=function(e){return n()===e},document.body.classList.add("platform-".concat(r())),document.body.classList.add("os-".concat(n()))},7217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceID=void 0;var r,o=n(21614),a=n(81595);t.getDeviceID=function(){return r||(r=(0,a.getStoreItem)("DEVICE_ID"))||(r=(0,o.v4)(),(0,a.setStoreItem)("DEVICE_ID",r)),r}},82587:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.triggerUIReady=t.setTitle=t.reloadWindow=t.onUIReady=t.isAutoLoginNextTime=t.entryParams=t.default=t.applyZoomFactor=void 0;var o=S(n(74160)),a=S(n(48516)),i=n(32887),l=n(64393),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=w(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(61862)),u=S(n(65286)),c=n(727),f=S(n(81595)),d=n(78717),p=S(n(62004)),h=S(n(94128)),m=n(15973),y=S(n(24260)),g=n(13347),b=n(32355),v=n(71255),_=(n(99838),n(57489),n(61786),n(90534),n(90756));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,l,"next",e)}function l(e){O(a,r,o,i,l,"throw",e)}i(void 0)}))}}function C(){return a.default.confirm(s.default.string("dialog.reloadWindowConfirmTip"),{title:s.default.string("dialog.reloadWindowConfirm")}).then((function(e){return e&&((0,g.logout)(),setTimeout((function(){f.default.set("autoLoginNextTime",!0),j.reloadWindow?j.reloadWindow():window.location.reload()}),1e3)),Promise.resolve(e)}))}function k(){var e=f.default.get("autoLoginNextTime");return e&&f.default.remove("autoLoginNextTime"),e}function E(){u.default.emit(x)}function P(e){return u.default.on(x,e)}function T(e){var t,n;t=e,(n=h.default.access("ui.setWindowTitle"))?n(t):document.title=t,(0,_.sendEmbedMessage)("titleUpdated",e)}n(20491);var j=h.default.access("ui"),x="app.ready";function D(){var e=(0,c.getCurrentNotice)(),t=[s.default.string("app.title",o.default.pkg.displayName)];e&&(e.userInfo&&t.push("- ".concat(e.userInfo)),e.tray&&e.tray.label&&t.push("- ".concat(e.tray.label))),T(t.join(" "))}(t.applyZoomFactor=function(e){h.default.has("ui.setZoomFactor")&&(e||(e=(0,v.getLocalConfig)("local.ui.zoomFactor")))&&h.default.call("ui.setZoomFactor",Number(e))})(),j.onWindowMinimize&&j.onWindowMinimize((function(){var e=(0,m.getUserConfig)();e&&e.removeFromTaskbarOnHide&&j.setShowInTaskbar(!1)})),j.onWindowBlur&&j.hideWindow&&j.onWindowBlur((function(){var e=(0,m.getUserConfig)();e&&e.hideWindowOnBlur&&j.hideWindow()})),(0,m.onUserLogin)((function(e,t,n){!n&&o.default.ui.showDailySignMessage&&!t&&e.isFirstSignedToday&&(0,d.executeCommand)("showMessager",s.default.string("login.signed"),{type:"success",icon:"calendar-check",autoHide:!0}),t||(t=null!=(n=f.default.get("loginedUsers"))?n:{})[n=e.identify]||(t[n]=process.env.WIN_NAME,f.default.set("loginedUsers",t))})),(0,m.onUserLogout)((function(e,t,n){var r;e&&(n&&n.startsWith("USER_KICKOFF")&&((0,i.displayHide)(),(0,d.executeCommand)("showMessager",s.default.error(n),{rootClassName:"message-kickoff-confirm",type:"danger",icon:"alert",actions:"USER_KICKOFF_3"===n||"USER_KICKOFF_4"===n?[]:[{label:s.default.string("login.retry"),click:function(){(0,g.login)(e)}}]}),(0,c.requestAttention)("critical")),process.env.HOT&&(n=null!=(n=f.default.get("loginedUsers"))?n:{})[r=e.identify]&&(delete n[r],f.default.set("loginedUsers",n)))})),"electron"===h.default.type&&h.default.call("ui.isFirstMainWindow")&&(0,m.onUserAutoLogin)((function(e){var t;h.default.call("ui.isWindowOpenAndFocus")||(t=(0,m.getCurrentUser)())&&"success"===e&&t.config.hideWindowOnOpenAtLogin||h.default.call("ui.showAndFocusWindow")})),window.addEventListener("online",(function(){(0,m.getCurrentUser)()&&!y.default.isLogging&&(0,g.reconnect)().catch(console.err)})),null==j||null!=(n=j.setWindowRequestCloseHandler)&&n.call(j,(function(e){var t,n;if("quit"!==e)return(t=(0,m.getCurrentUser)())&&!t.isUnverified?"minimize"===(e=t.config.appCloseOption)?(j.hideWindow(),!1):"close"!==e&&j.showQuitConfirmDialog?(j.showQuitConfirmDialog({message:s.default.string("dialog.appClose.title"),rememberText:s.default.string("dialog.appClose.rememberOption"),buttons:[s.default.string("dialog.appClose.minimizeMainWindow"),s.default.string("dialog.appClose.quitApp"),s.default.string("dialog.appClose.cancelAction")],callback:(n=M((function*(e,n){return n&&e&&(t.config.appCloseOption=e),"close"===e&&null!=j&&j.hideWindow(),e})),function(e,t){return n.apply(this,arguments)})}),!1):void 0:void 0})),null!=(n=j.setWindowBeforeCloseHandler)&&n.call(j,M((function*(){(0,m.isUserOnline)()&&(yield(0,g.logout)(),yield(0,p.default)(2e3))}))),t.reloadWindow=C,t.isAutoLoginNextTime=k,n=(0,l.getSearchParam)(),t.entryParams=n,t.triggerUIReady=E,t.onUIReady=P,t.setTitle=T,(0,m.onUserConfigRequestUpload)((function(e){e&&Object.keys(e).length&&y.default.uploadUserSettings(!0)})),(0,s.onLangChange)(D),(0,c.onNoticeUpdate)(D),(0,b.isGlobalShortcutAvailable)()&&((0,m.onUserLogin)((function(e,t){e.isOnline&&!t&&(0,b.registerShortcut)()})),(0,m.onUserLogout)(b.unregisterGlobalShortcut),j.showAndFocusWindow&&(0,d.registerCommand)("shortcut.focusWindowHotkey",(function(){var e;j.hideWindow&&null!=(e=j.isWindowOpenAndFocus)&&e.call(j)?j.hideWindow():j.showAndFocusWindow()}),null,{apiLevel:2}),(0,m.onUserConfigChange)((function(e){e&&Object.keys(e).some((function(e){return e.startsWith("shortcut.")}))&&(0,b.registerShortcut)()}))),h.default.call("ui.isFirstMainWindow")&&!sessionStorage.getItem("lastOpenTime")&&(f.default.set("loginedUsers",{}),sessionStorage.setItem("lastOpenTime",Date.now())),l={entryParams:n,get canQuit(){return!!j.confirmToCloseWindow},quit:j.confirmToCloseWindow,reloadWindow:C,triggerUIReady:E,onUIReady:P,isAutoLoginNextTime:k},t.default=l,(0,_.isEmbed)()&&(P((function(){return(0,_.sendEmbedMessage)("ready")})),(0,c.onNoticeUpdate)((function(e){return(0,_.sendEmbedMessage)("notice",e)})),(0,s.onLangChange)((function(e){return(0,_.sendEmbedMessage)("langChange",e.name)})),(0,m.onUserLogin)((function(e,t){return(0,_.sendEmbedMessage)("login",e.plain(),t?String(t):null)})),(0,m.onUserLogout)((function(e){return(0,_.sendEmbedMessage)("logout",e.plain())})))},57489:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openUrlInBrowser=void 0;var r=n(78717),o=s(n(94128)),a=s(n(61862)),i=n(95214),l=n(40910);function s(e){return e&&e.__esModule?e:{default:e}}t.openUrlInBrowser=function(e){return u.openExternal(e)};var u=o.default.access("ui"),c=o.default.access("clipboard"),f=null;c&&c.writeText&&(0,r.registerCommand)("copyCode",(function(e){var t=e.targetElement;return!!t&&(f&&(clearTimeout(f),f=null),e=t.nextElementSibling.innerText,c.writeText(e),t.setAttribute("data-hint",a.default.string("common.copied")),t.classList.add("hint--success"),f=setTimeout((function(){f=null,t.setAttribute("data-hint",a.default.string("common.copyCode")),t.classList.remove("hint--success")}),2e3),!0)})),(0,r.registerCommand)("setRoute",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];l.setRoutePath.apply(void 0,n)}),null,{apiLevel:6}),(0,r.registerCommand)("openUrlInDialog",(function(e,t){return e=e.options,!!(t=!t&&e&&e.url?e.url.url:t)&&((0,i.openUrlInDialog)(t,e),!0)}),null,{apiLevel:5}),(0,r.registerCommand)("openUrlInBrowser",(function(e,t){return!!(t=!t&&e.options&&e.options.url?e.options.url.url:t)&&(u.openExternal(t),!0)}),null,{apiLevel:5}),u.onRequestOpenUrl&&u.onRequestOpenUrl((function(e,t){(0,i.openUrl)(t)})),(0,r.registerCommand)("openInApp",(function(e,t,n){"zentao-integrated"===t&&(0,r.executeCommand)("openUrlInBrowser",n)}),null)},61786:(e,t,n)=>{"use strict";var r=s(n(94128)),o=n(98649),a=n(78717),i=s(n(61862)),l=s(n(74160));function s(e){return e&&e.__esModule?e:{default:e}}var u=r.default.access("ui");(0,o.addContextMenuCreator)("member",(function(e){var t=e.member;return[{id:"member-profile",label:i.default.string("member.profile.view"),click:function(){(0,a.executeCommand)("showMemberProfile",t)}}]}),{apiLevel:5}),(0,o.addContextMenuCreator)("login.setting",(function(e){var t=e.ldap,n=e.logging,o=e.showServerInput,s=e.showAbout,c=e.onLdapChange,f=(e=e.onRequestShowServerInput,r.default.access("ui.isOpenAtLogin"));return[f&&{id:"open-at-login",label:i.default.string("login.openAtLogin"),checked:f(),click:function(){var e=f();u.setOpenAtLogin(!e),e===f()&&(0,a.executeCommand)("showMessager",i.default.string("login.openAtLogin.failure"),{type:"danger",icon:"alert"})}},!o&&{id:"show-server-setting",label:i.default.string("login.showServerSetting"),click:e},l.default.ui["login.ldap"]&&{label:i.default.string("login.ldap"),checked:t,disabled:n,click:function(){return c(!t)}},s&&{label:i.default.string("common.about"),click:s}]})),(0,a.registerCommand)("showContextMenu",(function(e,t){for(var n=e.options,r=(e=e.event,arguments.length),a=new Array(2<r?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];(0,o.showContextMenu)(t,{options:n,event:e,params:a})}))},40910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRoutePathMatch=t.getRoutePathArray=t.getRoutePath=t.formatRoutePath=t.createRoutePath=void 0,t.isRoutePathMatchWith=u,t.offRoutePathChange=function(e){return f.delete(e)},t.onRoutePathChange=function(e){var t=Symbol("event-route-change");return f.set(t,e),t},t.parseRoutePath=function(){var e=s.apply(void 0,arguments),t=e.substring(2).split("/"),n=t[t.length-1],o=null;return 0<n.indexOf("?")&&(t.pop(),n=n.split("?"),t.push(n[0]),o=(0,r.getSearchParam)(null,n[1],!0)),{route:e,path:t.join("/"),pathList:t,params:o||{}}},t.setRoutePath=void 0;var r=n(64393);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return e.startsWith("#/")?e:e.startsWith("#")||e.startsWith("/")?"#/".concat(e.substring(1)):"#/".concat(e)}function l(){return s()}t.formatRoutePath=i;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t||!t.length||1===t.length&&(void 0===t[0]||null===t[0]))return i(window.location.hash);var r,o="",l=((l=t[t.length-1])&&"object"===a(l)?(r=t.pop(),o=Object.keys(r).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(r[e]))})).join("&"),o="?".concat(o)):"string"==typeof l&&l.startsWith("?")&&(o=t.pop()),t.join("/")+o);return i(l)};function u(e){for(var t=c(e),n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var a=c.apply(void 0,r),i=0;i<a.length;++i){var l=a[i];if("*"!==l&&l!==t[i])return!1}return!0}t.createRoutePath=s,t.getRoutePath=l,t.isRoutePathMatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,[l()].concat(t))},t.setRoutePath=function(){var e=s.apply(void 0,arguments);return window.location.hash!==e&&(window.location.hash=e),e};var c=function(){var e=s.apply(void 0,arguments).substring(2).split("/"),t=e[e.length-1];return 0<t.indexOf("?")&&(e.pop(),t=t.split("?"),e.push(t[0],"?".concat(t[1]))),e};t.getRoutePathArray=c;var f=new Map,d=s();window.addEventListener("hashchange",(function(e){var t=s();if(DEBUG&&console.color("","orangeBg",t,"orangePale"),t!==d){if(f.size){var n,r=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(f.values());try{for(r.s();!(n=r.n()).done;)(0,n.value)(t,d,e)}catch(e){r.e(e)}finally{r.f()}}d=t}}),!1)},32355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobalShortcut=t.registerShortcut=t.isGlobalShortcutAvailable=t.enableGlobalShortcut=t.disableGlobalShortcut=void 0;var r=n(15973),o=(o=n(94128))&&o.__esModule?o:{default:o},a=n(78717);function i(){var e;s&&(e=(0,r.getUserConfig)())&&(c=e.globalHotkeys,Object.keys(c).forEach((function(e){s.registerGlobalShortcut(e,c[e],(function(){u?DEBUG&&console.log("Global shortcut command '".concat(e,"' skipped.")):(0,a.executeCommandLine)("shortcut.".concat(e))}))})))}function l(){s&&c&&(Object.keys(c).forEach((function(e){s.unregisterGlobalShortcut(e)})),c=null)}var s=o.default.access("shortcut"),u=!1,c=null;t.registerShortcut=i,t.unregisterGlobalShortcut=l,t.disableGlobalShortcut=function(){u=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],l()},t.enableGlobalShortcut=function(){u=!1,i()},t.isGlobalShortcutAvailable=function(){return!!s}},32481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlMeta=void 0;var r=a(n(74160)),o=a(n(94128));function a(e){return e&&e.__esModule?e:{default:e}}var i={};t.getUrlMeta=function(e){var t,a,l=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return r.default.ui["chat.urlInspector"]?!l&&(l=i[e])?Promise.resolve(l.meta):(l=o.default.access("urlMeta.getUrlMeta"))?(t=null,a=function(){var n;return t&&t.getUrl?(n=t.getUrl(e))instanceof Promise?n:Promise.resolve(n):Promise.resolve(e)},(t=n.g.ExtsRuntime?n.g.ExtsRuntime.getUrlInspector(e):t)&&t.noMeta&&t.inspect?a().then((function(n){return(n=t.inspect(n,e))instanceof Promise?n:Promise.resolve(n)})):a().then(l).then((function(n){var r=n.favicon;if(r={url:e,title:n.title,image:n.image,subtitle:n.description&&200<n.description.length?"".concat(n.description.substring(0,150),"..."):n.description,icon:r?r.href:null},n.isImage?(r.contentUrl=e,r.contentType="image",r.icon="mdi-image text-green icon-2x"):n.isVideo?(r.contentUrl=e,r.contentType="video",r.clickable="title",r.icon="mdi-video text-red icon-2x"):n.isAudio?(r.contentUrl=e,r.contentType="audio",r.clickable="title",r.icon="mdi-music text-yellow icon-2x"):r.title||r.subtitle||(r.title=e),r.image&&r.image.startsWith("//")&&(r.image="https:".concat(r.image)),r.icon&&r.icon.startsWith("//")&&(r.icon="https:".concat(r.icon)),t&&t.inspect){try{r=t.inspect(e,n,r)}catch(o){DEBUG&&console.error("Inspect url error",{err:o,meta:n,cardMeta:r,extInspector:t})}if(r instanceof Promise)return r.then((function(e){return e.provider=t.provider,e}));if(r)return r.provider=t.provider,r}if(20<(o=Object.keys(i)).length)for(var o=o.sort((function(e,t){return e.time-t.time})),a=0;a<o.length-20;++a)delete i[o[a]];return i[e]={meta:r,time:(new Date).getTime()},Promise.resolve(r)}))):Promise.resolve({url:e,title:e}):Promise.resolve({url:e,title:e})}},95214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openUrlInDialog=t.openUrlInBrowser=t.openUrlInApp=t.openUrl=void 0;var r,o=n(64393),a=n(78717),i=(r=n(99605))&&r.__esModule?r:{default:r};function l(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return i.default?i.default.invoke("openUrlInBrowser",e):(0,a.executeCommand)("openUrlInBrowser",e)}function c(e,t,r,i){if(DEBUG&&(console.collapse("Open Url","redBg",e,"redPale"),console.log("targetElement",t),console.log("event",r),console.log("context",i),console.groupEnd()),(0,o.isWebUrl)(e)||(0,o.isLocalUrl)(e)){if(n.g.ExtsRuntime){var l=n.g.ExtsRuntime.getUrlOpener(e,t);if(l&&l.open){if(!0===(l=l.open(e))||!1===l)return l;if("string"==typeof l)return(0,o.isWebUrl)(l)?u(l):c(l,t)}}return u(e),!0}if("@"===(l=e[0]))(0,a.executeCommandLine)("showContextMenu/member.profile/".concat(e.substring(1)),s({targetElement:t,event:r},i));else if("!"===l||"|"===l||e.startsWith("xxc:"))return e=e.substr("!"===l||"|"===l?1:e.startsWith("xxc://")?6:4),(0,a.executeCommandLine)(e,s({targetElement:t,event:r},i)),!0;if("#"===l&&!e.startsWith("#/")||"@"===l)return!0}t.openUrlInBrowser=u,t.openUrl=c,t.openUrlInApp=function(e,t,n){(0,a.executeCommandLine)("openInApp/".concat(t,"/").concat(encodeURIComponent(e),"/").concat(n?encodeURIComponent(n):""),{appName:t,url:e,redirectConfirm:n})},t.openUrlInDialog=function(e,t,n){t=s({url:e},t),(0,a.executeCommand)("openWebviewDialog",e,t,n)},document.addEventListener("click",(function(e){for(var t=e.target;t&&!(t.classList&&t.classList.contains("app-link")||"A"===t.tagName&&t.attributes.href);)t=t.parentNode;!t||("A"!==t.tagName||t.attributes.href&&t.attributes.href.value.startsWith("#/"))&&!t.classList.contains("app-link")||!t.attributes.href&&!t.attributes["data-url"]||(c((t.attributes["data-url"]||t.attributes.href).value,t,e),e.preventDefault())}))},43058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipNewVersion=t.quitAndInstall=t.onUpdaterStatusChanged=t.notifyMeNextTime=t.isUpdaterAvailable=t.getUpdaterStatus=t.downloadNewVersion=t.checkClientUpdateInfo=void 0;var r=f(n(91230)),o=f(n(94128)),a=f(n(65286)),i=f(n(61862)),l=f(n(15973)),s=f(n(12482)),u=n(78717),c=n(74543);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function p(){return b=null===b?o.default.has("autoUpdater.quitAndInstall")&&o.default.has("autoUpdater.downloadNewVersion"):b}function h(e){e&&g&&Object.assign(g,e),a.default.emit(y.status_change,g),"downloaded"===g.status&&(0,u.executeCommandLine)("showUpdateGuideDialog")}function m(){var e,t,n;return p()&&g&&g.user===l.default.user.identify&&g.needUpdate&&"downloading"!==g.status&&"downloaded"!==g.status&&(e=(n=g).downloadUrl,t=n.downloadFileID,n=n.newVersion,e?(h({status:"downloading",progress:.001,message:i.default.string("update.message.downloading")}),o.default.call("autoUpdater.downloadNewVersion",l.default.user,s.default.create({name:"".concat(r.default.name,".").concat(n,".").concat(t,".zip"),url:e,gid:"".concat(r.default.name,".").concat(n,".").concat(t),storageType:"cache"}),(function(e){.01<e-g.progress&&h({status:"downloading",progress:e,message:i.default.string(.9<=e?"update.message.unziping":"update.message.downloading")})})).then((function(e){return h({status:"downloaded",progress:1,downloadedPath:e,message:i.default.string("update.message.downloaded")})})).catch((function(e){return h({status:"downloadFail",progress:1,message:i.default.error(e)})}))):h({status:"downloadFail",progress:1,message:i.default.string("update.message.downloadUrlNotAvailable")})),g}var y={status_change:"updater.status.changed"},g=null,b=null;t.isUpdaterAvailable=p,t.onUpdaterStatusChanged=function(e){return a.default.on(y.status_change,e)},t.getUpdaterStatus=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g)},t.checkClientUpdateInfo=function(e){var t=r.default.version,n=e.clientUpdate,a=p(),l=((l=n&&n.version)&&((l=l.toLowerCase()).startsWith("v")&&(l=l.substr(1)),l=(0,c.formatVersion)(l.trim()),/^((([0-9]+)\.([0-9]+)\.([0-9]+)(?:-([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?)(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?)$/.test(l)||(l=!1)),e=!(g={name:r.default.name,user:e.identify,status:"ready",progress:0,currentVersion:t,newVersion:l,serverUrl:e.serverUrl,skipped:l===e.config.skippedVersion}),t="force"===(e=l&&(0,c.compareVersions)(t,l)<0?n.strategy||"optional":e),e&&!t),s=a?"".concat(o.default.env.os).concat(o.default.env.arch.includes("64")?"64":"32"):null;return a=a&&n&&n.downloads&&n.downloads[s],Object.assign(g,{needUpdate:e,needUpdateForce:t,needUpdateOptional:l,updateInfo:n,downloadUrl:a,downloadFileID:s,message:i.default.string(e?"update.message.newVersionAvailable":"update.message.alreadyNew")})},t.downloadNewVersion=m,t.skipNewVersion=function(e){return!(!g||!g.needUpdateOptional||(e.config.skippedVersion=g.newVersion,0))},t.notifyMeNextTime=function(e){return!(!g||!g.needUpdateOptional||(e.config.skippedVersion=null))},t.quitAndInstall=function e(){return g&&"downloaded"===g.status?o.default.call("autoUpdater.quitAndInstall",g):m.then(e)}},23810:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.APP_TYPES=void 0;var o,a=u(n(26470)),i=u(n(92030)),l=n(64393),s=n(48389);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(o)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}t.APP_TYPES=o,(b=o||(t.APP_TYPES=o={})).insideView="insideView",b.webView="webView",b.custom="custom",b.browser="browser";var b=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var r=h(i);function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");if(g(m(e=r.call(this,e,t)),"_appType",void 0),g(m(e),"auth",void 0),g(m(e),"_webViewUrl",void 0),g(m(e),"_isLocalWebView",void 0),g(m(e),"_webViewPreloadScript",void 0),g(m(e),"_appIcon",void 0),g(m(e),"_menuIcon",void 0),e.isApp)return e._appType=o[e._pkg.appType],e._appType||(e._appType=e._pkg.webViewUrl?o.webView:o.insideView,e.addError("appType","AppType (".concat(e._pkg.appType,") must be one of '").concat(Object.keys(o).join(","),"', set to ").concat(e._appType," temporarily."))),e._appType!==o.webView&&e._appType!==o.browser||e._pkg.webViewUrl||e.addError("webViewUrl",'The webViewUrl attribute must be set when appType is "'.concat(e._appType,'".')),e;throw new Error("Cannot create a app extension from the type '".concat(e.type,"'."))}return t=i,(e=[{key:"proxyHandler",get:function(){return i.PROXY_HANDLER}},{key:"isWebview",get:function(){return this._appType===o.webView}},{key:"isCustomApp",get:function(){return this._appType===o.custom}},{key:"isOpenInBrowser",get:function(){return this._appType===o.browser}},{key:"appType",get:function(){return this._appType}},{key:"webViewUrl",get:function(){if(this._appType!==o.webView&&this._appType!==o.browser)return null;if(this.auth)return this.auth;var e=this._pkg.webViewUrl;return e&&!this._webViewUrl&&((0,l.isWebUrl)(e)?(this._isLocalWebView=!1,this._webViewUrl=e):(this._isLocalWebView=!0,this._webViewUrl="file://".concat(a.default.join(this.localPath,e)))),this._webViewUrl}},{key:"getEntryUrl",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=f({disposition:"app",entryID:this.entryID},1<arguments.length&&void 0!==arguments[1]?arguments[1]:null);return this.hasModuleMethod("getEntryUrl")?this.callModuleMethod("getEntryUrl",t,n,(function(r){return d(y(i.prototype),"getEntryUrl",e).call(e,r||t,n)})):this.hasServerEntry?d(y(i.prototype),"getEntryUrl",this).call(this,t,n):Promise.resolve(this.webViewUrl)}},{key:"webViewPreloadScript",get:function(){if(this._appType!==o.webView)return null;var e=this._pkg.webViewPreloadScript;return e&&!this._webViewPreloadScript&&(this._webViewPreloadScript="file://".concat(a.default.join(this.localPath,e))),this._webViewPreloadScript}},{key:"injectCSS",get:function(){return this._pkg.injectCSS}},{key:"injectScript",get:function(){var e=void 0===(e=this._pkg.injectScript)?"":e;return this.autoSetHeaderStyle&&(e+='\n(() => {const style = window.getComputedStyle(document.body, null); window.callXXCCommand("setAppHeaderStyle", '.concat(JSON.stringify(this.name),", JSON.stringify({background: style.backgroundColor, color: new $.zui.Color(style.backgroundColor).contrast().toCssStr()}))})()")),e}},{key:"isLocalWebView",get:function(){return this._isLocalWebView}},{key:"appAccentColor",get:function(){return this._pkg.appAccentColor||this._pkg.accentColor}},{key:"appBackColor",get:function(){var e;return null!=(e=this._data.appBackColor)?e:this._pkg.appBackColor},set:function(e){this._data.appBackColor=e}},{key:"appHeaderStyle",get:function(){var e=null!=(e=this._data.appHeaderStyle)?e:this._pkg.appHeaderStyle;return"string"==typeof e?"{"===e[0]?JSON.parse(e):{background:e}:e},set:function(e){this._data.appHeaderStyle=e}},{key:"setAppHeaderStyle",value:function(e,t){var n;"string"==typeof e&&(n="{"===e[0]?JSON.parse(e):{background:e}),this._data.appHeaderStyle=t?e:f(f({},this.appHeaderStyle),n)}},{key:"autoSetHeaderStyle",get:function(){return this._pkg.autoSetHeaderStyle}},{key:"appIcon",get:function(){var e=this._pkg.appIcon;return e&&!this._appIcon&&(this._appIcon=this.getIconPath(e)),this._appIcon||d(y(i.prototype),"icon",this)}},{key:"menuIcon",get:function(){var e=this._pkg.menuIcon;return e&&!this._menuIcon&&(this._menuIcon=this.getIconPath(e)),this._menuIcon||this.appIcon}},{key:"icon",get:function(){return this._pkg.icon?d(y(i.prototype),"icon",this):this.appIcon}},{key:"accentColor",get:function(){return this._pkg.accentColor||this._pkg.appAccentColor}},{key:"MainView",get:function(){var e;if(n.g.ExtsRuntime&&n.g.ExtsRuntime.checkExtensionAPIPermission(this,"ext.MainView"))return(e=this._module)&&e.MainView}},{key:"customOpenHandler",get:function(){var e;return this.isCustomApp?(e=this.module)&&e.onRequestOpenApp:(DEBUG&&console.warn("Try get customOpenHandler in which is not custom app.",this),null)}},{key:"buildIn",get:function(){return this._pkg.buildIn}},{key:"hidden",get:function(){return this._pkg.hidden},set:function(e){this._pkg.hidden=e}},{key:"isDefault",get:function(){var e=this.buildIn;return e&&e.asDefault}},{key:"isFixed",get:function(){var e=this.buildIn;return e&&(e.asDefault||e.fixed)}},{key:"canPinnedOnMenu",get:function(){var e=this._pkg.pinnedOnMenu;return("fixed"!==e&&"main-fixed"!==e||!this.isBuildInOrRemote)&&!this.isFixed&&!1!==e}},{key:"pinnedOnMenuOrder",get:function(){var e=this._pkg.pinnedOnMenuOrder;return null==(e=null==e?this._data.pinnedOnMenuOrder:e)?0:e},set:function(e){this._data.pinnedOnMenuOrder=e}},{key:"pinnedOnMainMenu",get:function(){return!("main-fixed"!==this._pkg.pinnedOnMenu||!this.isBuildInOrRemote)}},{key:"pinnedOnMenu",get:function(){var e=this._pkg.pinnedOnMenu,t=this._data.pinnedOnMenu;return!("fixed"!==e&&"main-fixed"!==e||!this.isBuildInOrRemote)||!1!==e&&t||(!0===e||"fixed"===e||"main-fixed"===e)&&!1!==t},set:function(e){!1!==this._pkg.pinnedOnMenu&&(this._data.pinnedOnMenu=e)}},{key:"noticeCount",get:function(){return this._data.noticeCount||0},set:function(e){this._data.noticeCount=e}},{key:"muteNoticeOnActive",get:function(){return!1!==this._pkg.muteNoticeOnActive}},{key:"hasNotice",get:function(){return this.noticeCount&&0<this.noticeCount}},{key:"baseRoutePath",get:function(){return"/exts/app/".concat(this.name)}},{key:"createAppMenuItems",value:function(e){var t=this.noticeCount,n=e.isCurrent,r=(e=e.isOpened,{id:"",active:n,label:this.displayName,hint:"".concat(this.displayName,"").concat(null!=(r=this.description)?r:""),noticeCount:t,icon:this.menuIcon});return this.hasModuleMethod("createAppMenuItems")?(null!=(t=this.callModuleMethod("createAppMenuItems",{noticeCount:t,isCurrent:n,isOpened:e},r))&&t.length||this.addError("createAppMenuItems",'The method "createAppMenuItems" must return an array with at least one item.'),t||[r]):[r]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.default);g(t.default=b,"PROXY_PROPERTIES",(0,s.createProxyPropertiesMap)(["isWebview","isCustomApp","webViewUrl","injectCSS","injectScript","isLocalWebView","appAccentColor","appBackColor",{name:"appIcon",get:function(e){return e._pkg.appIcon}},{name:"menuIcon",get:function(e){return e._pkg.menuIcon}},"hidden","canPinnedOnMenu","pinnedOnMainMenu","noticeCount","hasNotice","muteNoticeOnActive"],i.default.PROXY_PROPERTIES)),g(b,"PROXY_HANDLER",(0,s.createProxyHandler)(b.PROXY_PROPERTIES)),DEBUG&&(n.g.$AppExtension=b)},92030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TYPES=void 0;var r,o=d(n(26470)),a=n(16986),i=d(n(61997)),l=n(71782),s=d(n(52324)),u=d(n(81595)),c=n(61862),f=n(48389);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}t.TYPES=r,(v=r||(t.TYPES=r={})).app="app",v.theme="theme",v.plugin="plugin";var b=[{name:"name",equal:100,include:50},{name:"displayName",equal:100,include:50},{name:"pinyinNames",equal:50,include:25},{name:"description",include:25},{name:"keywords",equal:50,include:10,array:!0},{name:"type",equal:100,prefix:"#"},{name:"author",equal:100,prefix:"@"},{name:"publisher",equal:100,prefix:"@"},{name:"homepage",include:25}],v=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");g(this,"_data",void 0),g(this,"_proxy",void 0),g(this,"_type",void 0),g(this,"_name",void 0),g(this,"_safeName",void 0),g(this,"_pkg",void 0),g(this,"_errors",[]),g(this,"_pinyinName",void 0),g(this,"_config",void 0),g(this,"_mainFile",void 0),g(this,"_icon",void 0),g(this,"_notificationSenders",void 0),g(this,"_needRestart",void 0),g(this,"_module",void 0),g(this,"_commandNames",void 0),g(this,"_contextMenuCreators",void 0),g(this,"_loadTime",void 0),g(this,"_loaded",void 0),g(this,"_attached",void 0),g(this,"noticeCount",void 0),this.initPkg(t);var r=(delete(t=this.getConfig("_data")||{}).remoteLoaded,delete t.loadRemoteFailed,delete t.serverData,this.buildIn);r&&r.localPath&&delete t.localPath,this._data=y(y({},n),t),this.optional?null==(r=this._data).disabled&&(r.disabled="0"===this.pkg.enable):this._data.disabled=!1}var t,f;return t=e,(f=[{key:"optional",get:function(){return"1"===this.pkg.optional}},{key:"proxyHandler",get:function(){return e.PROXY_HANDLER}},{key:"proxy",get:function(){return this._proxy||(this._proxy=new Proxy(this,this.proxyHandler)),this._proxy}},{key:"initPkg",value:function(e){(e=y(y({},e),e.xext)).xext&&delete e.xext,this._type=r[e.type],this._type||(this._type=r.plugin,this.addError("type","Unknown extension type (".concat(e.type,"), set to ").concat(this._type," temporarily."))),this._name=e.name,!(0,a.isEmptyString)(e.name)&&/[A-Za-z0-9_-]+/.test(e.name)||(this._safeName=(0,i.default)(),this.addError("name","Extension name(".concat(e.name,") is not valid, use random name '").concat(this._safeName,"'."))),(0,a.isEmptyString)(e.version)&&this.addError("version","Extension version not set."),this._pkg=e}},{key:"addError",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t||(t=e,e="_"),DEBUG&&console.color("Extension.".concat(this.name),"greenBg",e,"greenPale",t,"red"),n&&-1<(n=this._errors.findIndex((function(t){return t.name===e})))&&this._errors.splice(n,1),this._errors.push({name:e,error:t,time:(new Date).getTime()})}},{key:"errors",get:function(){return this._errors}},{key:"hasError",get:function(){return!(!this._errors||!this._errors.length)}},{key:"getError",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"_";return this.hasError?this.errors.filter((function(t){return t.name===e})).map((function(e){return e.error})).join("\n"):null}},{key:"pinyinNames",get:function(){return this._pinyinName||(this._pinyinName=(0,s.default)(this.displayName,"default")),this._pinyinName}},{key:"config",get:function(){return this._config}},{key:"displayName",get:function(){return(0,c.getStringFromObject)(this._pkg.displayName,this._name)}},{key:"type",get:function(){return this._type}},{key:"name",get:function(){return this._safeName||this._name}},{key:"isTheme",get:function(){return this._type===r.theme}},{key:"isPlugin",get:function(){return this._type===r.plugin}},{key:"isApp",get:function(){return this._type===r.app}},{key:"buildIn",get:function(){return this._pkg.buildIn}},{key:"configurations",get:function(){return this._pkg.configurations||[]}},{key:"pkg",get:function(){return this._pkg}},{key:"description",get:function(){return(0,c.getStringFromObject)(this._pkg.description)}},{key:"version",get:function(){return this._pkg.version}},{key:"author",get:function(){return this._pkg.author}},{key:"authorName",get:function(){return(0,c.getStringFromObject)("object"===h(this.author)?this.author.name:this.author)}},{key:"publisher",get:function(){return this._pkg.publisher}},{key:"publisherName",get:function(){return(0,c.getStringFromObject)("object"===h(this.publisher)&&(0,a.isNotEmptyString)(this.publisher.name)?this.publisher.name:this.publisher)}},{key:"company",get:function(){return(0,c.getStringFromObject)(this._pkg.company)}},{key:"license",get:function(){return this._pkg.license}},{key:"homepage",get:function(){return this._pkg.homepage}},{key:"keywords",get:function(){return this._pkg.keywords}},{key:"engines",get:function(){return this._pkg.engines}},{key:"repository",get:function(){return this._pkg.repository}},{key:"bugs",get:function(){return this._pkg.bugs}},{key:"hot",get:function(){return!!this._pkg.hot}},{key:"usesPermissions",get:function(){var e=this._pkg.usesPermissions;return"string"==typeof e?e.split(","):e}},{key:"entryUrl",get:function(){return this._pkg.entryUrl}},{key:"entryID",get:function(){return this._pkg.entryID}},{key:"getEntryUrl",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(n.g.ExtsRuntime){var t=n.g.ExtsRuntime.getEntryVisitUrl;if(t)return t((1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).entryID||this,e)}return Promise.resolve(this.entryUrl)}},{key:"hasServerEntry",get:function(){return this.entryID||this._pkg.entry||this.hasModuleMethod("getEntryUrl")}},{key:"serverData",get:function(){return this._data.serverData}},{key:"download",get:function(){return this._pkg.download}},{key:"isRemote",get:function(){return this._data.remote}},{key:"isBuildInOrRemote",get:function(){return this.isRemote||this.buildIn}},{key:"isRemoteLoaded",get:function(){return this._data.remoteLoaded}},{key:"md5",get:function(){return this._pkg.md5}},{key:"user",get:function(){return this._data.user}},{key:"remoteCachePath",get:function(){return this._data.remoteCachePath}},{key:"loadRemoteFailed",get:function(){return this._data.loadRemoteFailed}},{key:"downloadProgress",get:function(){return this.isRemoteLoaded?1:this._data.downloadProgress||0},set:function(e){this._data.downloadProgress=e}},{key:"setLoadRemoteResult",value:function(e,t){this._data.loadRemoteFailed=!e,this._data.remoteLoaded=!!e,t&&this.addError("download",t)}},{key:"getAbsolutePath",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return e=o.default.isAbsolute(e)?e:o.default.resolve(n||this.localPath,e),t&&""===o.default.extname(e)?"".concat(e,".").concat(t):e}},{key:"getIconPath",value:function(e){return 1<e.length&&!/^(file:|https?:|icon-|mdi-|data:)/.test(e)?"file://".concat(this.getAbsolutePath(e)):e}},{key:"accentColor",get:function(){return this._pkg.accentColor||"#f50057"}},{key:"mainFile",get:function(){var e;return this._mainFile||((e=this.buildIn)&&e.module?this._mainFile="BUILD-IN":this.pkg.main&&(this._mainFile=this.getAbsolutePath(this.pkg.main))),this._mainFile}},{key:"icon",get:function(){var e=this._pkg.icon;return e&&!this._icon&&(this._icon=this.getIconPath(e)),this._icon||"mdi-cube"}},{key:"notificationSenders",get:function(){var e,t,n=this;return this._notificationSenders||(e=this.module,(t=e&&e.notificationSenders||this._pkg.notificationSenders)&&Object.keys(t).forEach((function(e){(e=t[e]).avatar&&!/^(https?|file|data):/.test(e.avatar)&&(e.avatar="file://".concat(n.getAbsolutePath(e.avatar)))})),this._notificationSenders=t),this._notificationSenders}},{key:"getNotificationSender",value:function(e){var t=this.notificationSenders;return"object"!==h(e)&&(e={id:e}),t&&t[e.id]?Object.assign(e,t[e.id]):null}},{key:"storeData",get:function(){return{data:this._data,pkg:this._pkg}}},{key:"data",get:function(){return this._data}},{key:"installTime",get:function(){return this._data.installTime},set:function(e){this._data.installTime=e,this.updateTime=e}},{key:"disabled",get:function(){return!0===this._data.disabled},set:function(e){this._data.disabled===e||this.hot||(this._needRestart=!0),this._data.disabled=e}},{key:"available",get:function(){return!this.disabled&&!this.needRestart&&(!this.isRemote||this.isRemoteLoaded)}},{key:"updateTime",get:function(){return this._data.updateTime},set:function(e){this._data.updateTime=e}},{key:"localPath",get:function(){return this._data.localPath},set:function(e){this._data.localPath=e}},{key:"isDev",get:function(){return this._data.isDev},set:function(e){this._data.isDev=e}},{key:"hasModule",get:function(){return!!this.mainFile}},{key:"configStoreName",get:function(){return"EXTENSION::".concat(this.name,"::config")}},{key:"getConfig",value:function(e){return this._config||(this._config=u.default.get(this.configStoreName,{})),void 0===e?this._config:this._config[e]}},{key:"setConfig",value:function(e,t){var n=this.getConfig();"object"===h(e)?Object.assign(n,e):n[e]=t,this._config=n,u.default.set(this.configStoreName,this._config)}},{key:"deleteConfig",value:function(){u.default.remove(this.configStoreName)}},{key:"getUserConfig",value:function(t,n){return e.user?e.user.config.getForExtension(this.name,t,n):(DEBUG&&console.warn("Cannot set user config for the extension, because current user is not logged.",this),n)}},{key:"setUserConfig",value:function(t,n){if(e.user)return e.user.config.setForExtension(this.name,t,n);DEBUG&&console.warn("Cannot set user config for the extension, because current user is not logged.",this)}},{key:"loadModule",value:function(){var e=this;if(this.disabled)return DEBUG&&console.warn("The extension has been disabled.",this),null;var t=this.mainFile;if(t){var r,o=(new Date).getTime();if("BUILD-IN"===t)this._module=this.buildIn.module;else try{var a=n.g.extensionRequire(this,this.mainFile);"object"===h(a)&&a.__esModule&&(a=a.default),this._module=a,this.hasReplaceViews&&this.hot&&this.addError("module.replaceViews","ReplaceViews not work on hot mode.")}catch(t){DEBUG&&(console.collapse("Extension Attach","greenBg",this.name,"redPale","load module error","red"),console.error("error",t),console.log("extension",this),console.groupEnd()),this._module={},this.addError("loadModule()","Some errors occurred while loading the module:\n".concat(t.message,"\n").concat(t.stack),!0)}this._module&&(this.tryCallModuleMethod("onAttach",this),this._module.commands&&(r=this._module.commands,this._commandNames=[],Array.isArray(r)?r.forEach((function(t){try{n.g.ExtsRuntime.callExtensionAPI(e.name,"commander.registerCommand",t.name,t.func,t.context),e._commandNames.push(t.name)}catch(t){}})):Object.keys(r).forEach((function(t){try{n.g.ExtsRuntime.callExtensionAPI(e.name,"commander.registerCommand",t,r[t]),e._commandNames.push(t)}catch(t){}}))),this._contextMenuCreators=[],this._module.contextMenuCreators&&this._module.contextMenuCreators.forEach((function(t){try{var r,o=n.g.ExtsRuntime.callExtensionAPI(e.name,"contextmenu.addContextMenuCreator",t.match||t.contextName,t.create||t.items);o&&(Array.isArray(o)?(r=e._contextMenuCreators).push.apply(r,function(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o)):e._contextMenuCreators.push(o))}catch(t){}}))),this._loadTime=(new Date).getTime()-o,100<this._loadTime&&this.addError("loadModule()","It takes more than 100ms(".concat(this._loadTime,") to load the module."),!0),this._loaded=!0,DEBUG&&(console.collapse("Extension Attach","greenBg",this.name,"greenPale","spend time: ".concat(this._loadTime,"ms"),100<this._loadTime?"red":"green"),console.trace("extension",this),console.log("module",this._module),console.groupEnd())}return this._module}},{key:"isModuleLoaded",get:function(){return this._loaded}},{key:"needRestart",get:function(){return this._needRestart||!this.disabled&&this.hasModule&&!this._loaded&&!this.hot&&!this.buildIn}},{key:"attach",value:function(){if(!this.disabled&&!this._loaded&&this.hasModule)return this.loadModule(),this._attached=!0}},{key:"hotAttach",value:function(){return!(!this.hot||!this.attach()||(this.tryCallModuleMethod("onReady",this),0))}},{key:"detach",value:function(){var e=this,t=(this._module&&this._loaded&&(this._contextMenuCreators&&(this._contextMenuCreators.forEach((function(t){n.g.ExtsRuntime.callExtensionAPI(e.name,"contextmenu.removeContextMenuCreator",t)})),this._contextMenuCreators=null),this._commandNames&&(this._commandNames.forEach((function(t){n.g.ExtsRuntime.callExtensionAPI(e.name,"commander.unregisterCommand",t)})),this._commandNames=null),this.tryCallModuleMethod("onDetach",this)),this.mainFile);t&&"BUILD-IN"!==t&&require.cache&&delete require.cache[t],this._module=null,this._loaded=!1,this._attached=!1,this.isRemote||this.deleteConfig(),DEBUG&&(console.collapse("Extension Detach","greenBg",this.name,"greenPale"),console.trace("extension",this),console.groupEnd())}},{key:"hasReplaceViews",get:function(){if(this.disabled)return DEBUG&&console.warn("The extension has been disabled.",this),!1;var e=this.module;return e&&e.replaceViews}},{key:"replaceViews",get:function(){return this.disabled?(DEBUG&&console.warn("The extension has been disabled.",this),null):n.g.ExtsRuntime&&n.g.ExtsRuntime.checkExtensionAPIPermission(this,"ext.replaceViews")?(e=this.module)&&e.replaceViews:void 0;var e}},{key:"loadTime",get:function(){return this._loadTime}},{key:"module",get:function(){return this.disabled?(DEBUG&&console.warn("The extension has been disabled.",this),!1):this._module||this.loadModule()}},{key:"hasModuleMethod",value:function(e){if(this.disabled)return!1;var t=this._module;return"function"==typeof(t&&t[e])}},{key:"callModuleMethod",value:function(e){if(this.disabled)DEBUG&&console.warn("The extension has been disabled.",this);else if(this.buildIn||n.g.ExtsRuntime&&n.g.ExtsRuntime.checkExtensionAPIPermission(this,"ext.".concat(e))){var t=null==(t=this._module)?void 0:t[e];if("function"==typeof t){for(var r=arguments.length,o=new Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];try{return t.apply(this.proxy,o)}catch(t){DEBUG&&(console.collapse("Extension","greenBg",this.name,"redPale","call module method '".concat(e,"' error"),"red"),console.log("methodName",e),console.log("params",o),console.error("error",t),console.log("extension",this),console.groupEnd()),this.addError("module.".concat(e,"()"),'Some errors occurred while call module method ".'.concat(e,"(").concat(o?o.map(JSON.stringify).join(", "):"",')":\n').concat(t.message,"\n").concat(t.stack),!0)}}}else this.addError("module.".concat(e,"()"),'The extension has not permission to call module method "'.concat(e,'".'),!0)}},{key:"tryCallModuleMethod",value:function(e){if(!this.disabled){var t=null==(t=this._module)?void 0:t[e];if("function"==typeof t){for(var n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.callModuleMethod.apply(this,[e].concat(r))}}}},{key:"getUrlInspector",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"inspect";if(this.disabled)return DEBUG&&console.warn("The extension has been disabled.",this),null;if(!n.g.ExtsRuntime||!n.g.ExtsRuntime.checkExtensionAPIPermission(this,"ext.urlInspectors"))return null;var r=null==(r=this.module)?void 0:r.urlInspectors;if(!r)return null;Array.isArray(r)||(r=[r]);try{var o=new URL(e),a=r.find((function(n){return!!n[t]&&("function"==typeof n.test?n.test(e,o):(Array.isArray(n.test)?n.test=new Set(n.test):"string"==typeof n.test&&(n.test=new RegExp(n.test,"i")),n.test instanceof Set?n.test.has(o.host):n.test.test(e)))}));return a&&!a.provider&&(a.provider={icon:this.icon,name:this.name,label:this.displayName,url:"!showExtensionDialog/".concat(this.name)}),a}catch(r){return DEBUG&&console.warn("Get url inspectors error: ",r,this),null}}},{key:"getUrlOpener",value:function(e){return this.getUrlInspector(e,"open")}},{key:"formatContextMenuItem",value:function(e){var t={EXTENSION:"extension.".concat(this.name),NAME:this.name};return(e=y({},e)).url&&(e.url=(0,a.formatString)(e.url,t)),"object"===h(e.label)&&(e.label=(0,c.getStringFromObject)(e.label)),e.label="".concat(e.label||e.url),"!"===e.label[0]?e.label=e.label.substr(1):e.noLabelPrefix?delete e.noLabelPrefix:e.label="".concat(this.displayName,": ").concat(e.label),e.icon||(e.icon=this.icon),e}},{key:"getMatchScore",value:function(e){return(0,l.matchScore)(b,this,e)}},{key:"saveData",value:function(){var e=y({},this._data);delete e.remoteLoaded,delete e.loadRemoteFailed,delete e.serverData,this.setConfig("_data",e)}},{key:"category",get:function(){var e=this._pkg.category;return(0,a.isNotEmptyString)(e)?e:this.isRemote?"remote":this.buildIn?"buildIn":null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,f),Object.defineProperty(t,"prototype",{writable:!1}),e}();g(t.default=v,"TYPES",r),g(v,"PROXY_PROPERTIES",(0,f.createProxyPropertiesMap)(["name","displayName","type","isTheme","isApp","isPlugin","accentColor",{name:"icon",get:function(e){return e._pkg.icon}},"description","version","author","publisher","category","company","homepage","keywords","repository","bugs","installTime","updateTime","hot","serverData","isRemote","isDev",{name:"getConfig",func:function(e,t){return e.getConfig(t)}},{name:"setConfig",func:function(e,t,n){return e.getConfig(t,n)}},{name:"getUserConfig",func:function(e,t){return e.getUserConfig(t)}},{name:"setUserConfig",func:function(e,t,n){return e.getUserConfig(t,n)}},{name:"getAbsolutePath",func:function(e,t,n){return e.getAbsolutePath(t,n)}}])),g(v,"PROXY_HANDLER",(0,f.createProxyHandler)(v.PROXY_PROPERTIES)),g(v,"user",void 0),DEBUG&&(n.g.$Extension=v)},74115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=[{name:"home",displayName:i.default.string("exts.home.label"),description:i.default.string("exts.home.desc"),buildIn:{fixed:!0,asDefault:!0},type:"app",appIcon:"mdi-apps",appAccentColor:"#3f51b5",appType:"insideView"},{name:"extensions",displayName:i.default.string("exts.extensions.label"),description:i.default.string("exts.extensions.desc"),buildIn:{},type:"app",appIcon:"mdi-puzzle",appAccentColor:"#00c853",appType:"insideView",hidden:a.default.ui["exts.app.home.hideExtensionsApp"]},{name:"themes",displayName:i.default.string("exts.themes.label"),description:i.default.string("exts.themes.desc"),buildIn:{},type:"app",appIcon:"mdi-airballoon",appAccentColor:"#f50057",appType:"insideView"},{name:"group",displayName:i.default.string("exts.group.label"),description:i.default.string("exts.group.desc"),buildIn:{},type:"app",appIcon:"mdi-account-group",appAccentColor:"#35a8f8",appType:"insideView",hidden:!0},{name:"files",displayName:i.default.string("exts.files.label"),description:i.default.string("exts.files.desc"),buildIn:{},type:"app",appIcon:"mdi-folder",appAccentColor:"#ff9100",appType:"insideView"},{name:"api",displayName:i.default.string("exts.api.label"),description:i.default.string("exts.api.desc"),buildIn:{},type:"app",appIcon:"mdi-api",appAccentColor:"#9958dc",appType:"insideView"}],n=null==(n=a.default.exts)?void 0:n.internals;return Array.isArray(n)&&n.length&&t.push.apply(t,function(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n)),(n=o.default.call("buildIn.getBuildInExtensions"))&&Array.isArray(n)&&(e=o.default.access("buildIn.buildInPath"),n.forEach((function(n){var a;"string"==typeof n?(a=r.default.join(e,n,"package.json"),null!=(a=o.default.fs.readJsonSync(a,{throws:!1}))&&a.name):n&&"object"===s(n)&&(n.buildIn={localPath:r.default.join(e,n.name)},t.push(n),DEBUG&&(console.collapse("Extension local","greenBg",n.name,"greenPale"),console.log("ext",n),console.groupEnd()))}))),t};var r=l(n(26470)),o=l(n(94128)),a=l(n(74160)),i=l(n(61862));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},94743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AppExtension",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PluginExtension",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ThemeExtension",{enumerable:!0,get:function(){return i.default}}),t.setExtensionUser=t.default=t.createExtension=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(92030)),o=l(n(23810)),a=l(n(8927)),i=l(n(49034));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.createExtension=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;switch(e.pkg&&!n&&(n=(t=e).data,e=t.pkg),!0!==(2<arguments.length&&void 0!==arguments[2]&&arguments[2])?(e&&e.buildIn&&delete e.buildIn,n&&n.buildIn&&delete n.buildIn):e.buildIn&&e.buildIn.localPath&&(n.localPath=e.buildIn.localPath),"object"!==u(n)&&(n=null),e.type||e.xext&&e.xext.type){case r.TYPES.app:return new o.default(e,n);case r.TYPES.plugin:return new a.default(e,n);case r.TYPES.theme:return new i.default(e,n);default:return new r.default(e,n)}},t.setExtensionUser=function(e){r.default.user=e},n=r.default,t.default=n},46809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setInstalledExtensionChangeListener=t.saveInstalledExtension=t.saveExtensionsToStore=t.saveExtensionData=t.removeInstalledExtensionByName=t.removeInstalledExtension=t.getInstalledExtensions=t.getInstalledExtension=t.getIndexOfInstallExtension=t.default=void 0;var r=(m=n(81595))&&m.__esModule?m:{default:m},o=n(94743);function a(){r.default.set(d,h.map((function(e){return e.storeData})))}function i(e){return h.find((function(t){return t.name===e}))}function l(e){return h.findIndex((function(t){return t.name===e}))}function s(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(e.isRemote)return p&&p(e,"update"),Promise.resolve(e);var o=l(e.name);if(-1<o){if(!t)return Promise.reject(new Error("EXT_NAME_ALREADY_INSTALLED"));t=h[o],e._data=Object.assign(t.data,e._data),e.updateTime=(new Date).getTime(),h.splice(o,1,e)}else void 0===e.installTime&&(e.installTime=(new Date).getTime()),h.push(e);return n&&n(e),a(),p&&p(e,-1<o?"update":"add"),r&&r(e),Promise.resolve(e)}function u(e){var t=l(e.name);return t<0?Promise.reject(new Error("EXT_NOT_FOUND")):(h.splice(t,1),a(),p&&p(e,"remove"),Promise.resolve())}function c(e){return(e=i(e))?u(e):Promise.reject(new Error("EXT_NOT_FOUND"))}function f(e){p=e}var d="EXTENSIONS::database",p=null,h=r.default.get(d,[]).map((function(e){return(0,o.createExtension)(e)})),m=(t.getInstalledExtensions=function(){return h},t.saveExtensionsToStore=a,t.getInstalledExtension=i,t.getIndexOfInstallExtension=l,t.saveInstalledExtension=s,t.removeInstalledExtension=u,t.removeInstalledExtensionByName=c,t.setInstalledExtensionChangeListener=f,t.saveExtensionData=function(e){e.saveData(),p(e,"update")},{get installs(){return h},getInstall:i,saveInstall:s,removeInstall:u,setOnChangeListener:f,removeInstallByName:c});t.default=m},46815:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.triggerExtensionChange=t.searchExts=t.searchApps=t.onExtensionChange=t.initExtensions=t.getTypeList=t.getThemeExts=t.getThemeExt=t.getPluginExts=t.getPluginExt=t.getExts=t.getExt=t.getDefaultApp=t.getAppExts=t.getAppExt=t.forEachExtension=t.default=void 0;var o=p(n(74160)),a=p(n(74115)),i=n(94743),l=n(46809),s=p(n(65286)),u=n(18685),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(61862)),f=n(74543);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){D.sort((function(e,t){var n=(t.isDev?1:0)-(e.isDev?1:0);return 0===(n=0===(n=0===n?(t.disabled?0:1)-(e.disabled?0:1):n)?(t.isRemote?1:0)-(e.isRemote?1:0):n)?t.installTime-e.installTime:n}))}function y(){E=D.filter((function(e){return"app"===e.type})),P=D.filter((function(e){return"theme"===e.type})),T=D.filter((function(e){return"plugin"===e.type}))}function g(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"update";Array.isArray(e)||(e=[e]),"remove"===n?e.forEach((function(e){var t=D.findIndex((function(t){return t.name===e.name}));-1<t&&D.splice(t,1)})):"update"!==n&&"add"!==n&&"upsert"!==n||(t=!1,e.forEach((function(e){var n=D.findIndex((function(t){return t.name===e.name}));-1<n?D.splice(n,1,e):(D.splice(0,0,e),t=!0)})),t&&m()),y(),I?(I.timer&&clearTimeout(I.timer),e.forEach((function(e){return I.list.add(e)}))):I={list:new Set(e)},I[n]?e.forEach((function(e){return I[n].add(e)})):I[n]=new Set(e),I.timer=setTimeout((function(){s.default.emit(x,Array.from(I.list),I),I=null}),10)}function b(e){switch(e){case"app":return E;case"theme":return P;case"plugin":return T;default:return D}}function v(e,t){return b(t).find((function(t){return t.name===e}))}function _(e){return v(e,"app")}function w(e){return v(e,"plugin")}function S(e){return v(e,"theme")}function O(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"app",n=(e=e.trim().toLowerCase().split(" "),[]);return b(t).forEach((function(t){var r=t.getMatchScore(e);r&&n.push({score:r,ext:t})})),n.sort((function(e,t){return t.score-e.score})),n.map((function(e){return e.ext}))}function M(e){return O(e)}function C(e){return s.default.on(x,e)}function k(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];D.forEach((function(n){n.disabled&&!t||e(n)}))}var E,P,T,j,x="extension.change",D=[],A=o.default.pkg,I=null;t.triggerExtensionChange=g,t.getTypeList=b,t.getExt=v,t.getAppExt=_,t.getPluginExt=w,t.getThemeExt=S,t.searchExts=O,t.searchApps=M,t.onExtensionChange=C,t.forEachExtension=k,t.getExts=function(){return D},t.getAppExts=function(){return E},t.getThemeExts=function(){return P},t.getPluginExts=function(){return T},t.initExtensions=function(){(0,a.default)().forEach((function(e,t){null==e.publisher&&(e.publisher=o.default.exts.buildInPublisher||o.default.pkg.companyShortName||c.default.string("app.companyShortName",o.default.pkg.company)),null==e.author&&(e.author=o.default.exts.buildInAuthor||o.default.pkg.companyShortName||c.default.string("app.companyShortName",o.default.pkg.company)),["license","homepage","bugs","repository"].forEach((function(t){e[t]=A[t]})),e.version=(0,f.simplifyVersion)(A.version),D.push((0,i.createExtension)(e,{installTime:t,pinnedOnMenuOrder:t},!0))})),(!0===o.default.system["localExtensions.enabled"]||DEBUG&&"debug"===o.default.system["localExtensions.enabled"])&&D.push.apply(D,function(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,l.getInstalledExtensions)())),m(),y(),(0,l.setInstalledExtensionChangeListener)(g),(0,u.setServerExtsChangeListener)(g),j=E.find((function(e){return e.buildIn&&e.buildIn.asDefault}))||D.apps[0],(0,c.onLangChange)((function(e){var t=[];k((function(n){n.buildIn&&(n._pkg.displayName=e.string("exts.".concat(n.name,".label"),n._pkg.displayName),n._pkg.description=e.string("exts.".concat(n.name,".desc"),n._pkg.description),t.push(n))})),g(t,"update")})),DEBUG&&(console.collapse("Extensions Init","greenBg","Total: ".concat(D.length,", Apps: ").concat(E.length,", Plugins: ").concat(T.length,", Themes: ").concat(P.length),"greenPale"),console.log("exts",D),console.log("apps",E),console.log("themes",P),console.log("plugins",T),console.groupEnd())},t.getDefaultApp=function(){return j},n.g.ExtsRuntime&&n.g.ExtsRuntime.registerExtensionAPI({name:"ext.updateExtension",level:5,func:function(){g(v(this.name),"update")}}),n={get exts(){return D},get apps(){return E},get themes(){return P},get plugins(){return T},get defaultApp(){return j},getTypeList:b,getExt:v,getApp:_,getPlugin:w,getTheme:S,search:O,searchApps:M,onExtensionChange:C,forEach:k},t.default=n},96521:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.reloadDevExtension=t.openInstallExtensionDialog=t.loadExtensionReadmeFile=t.installExtensionFromFile=t.installExtensionFromDevDir=t.default=t.createExtensionSavePath=void 0,Object.defineProperty(t,"saveExtensionData",{enumerable:!0,get:function(){return i.saveExtensionData}}),t.uninstallExtension=t.setExtensionEnabled=t.setExtensionDisabled=void 0;var o=g(n(26470)),a=n(21614),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(46809)),l=n(74543),s=n(94743),u=g(n(48516)),c=g(n(61862)),f=g(n(94128)),d=n(78717),p=g(n(74160)),h=n(13544),m=n(15973);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function v(e){var t=e.localPath;return e.isModuleLoaded&&e.detach(),!!(t&&(t=o.default.join(t,"package.json"),t=j.readJsonSync(t,{throws:!1})))&&(e=(0,s.createExtension)(t,e.data),D(e),DEBUG&&(console.collapse("Extension Reload for Dev","greenBg",e.name,"greenPale"),console.log("extension",e),console.groupEnd()),e)}function _(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=o.default.join(e,"package.json"),a=null;return j.readJSON(r).then((function(t){return a=(0,s.createExtension)(t,{isDev:n}),t=n?e:x(a),a.localPath=t,a.hasModule?(0,d.executeCommand)("showExtensionInstallDialog",a).then((function(e){return e?Promise.resolve(a):Promise.reject()})):Promise.resolve(a)})).then((function(){var e=(0,i.getInstalledExtension)(a.name);return e?e.version&&a.version&&(0,l.compareVersions)(e.version,a.version)<0?u.default.confirm(c.default.format("ext.updateInstall.format",e.displayName,e.version,a.version)).then((function(t){return t?(e.detach(),D(a,!0,!1)):Promise.reject()})):u.default.confirm(c.default.format("ext.overrideInstall.format",e.displayName,e.version||"*",a.displayName,a.version||"*")).then((function(t){return t?(e.detach(),D(a,!0,!1)):Promise.reject()})):D(a,!1,!1)})).then((function(){return n?Promise.resolve(a):j.emptyDir(a.localPath).then((function(){return j.copy(e,a.localPath)}))})).then((function(){return D(a,!0,!0)})).finally((function(){if(t)return j.remove(e)}))}function w(e){return _(e,!1,!0)}function S(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return t=e,new Promise((function(e,n){var r=o.default.join(T.tmpPath,(0,a.v4)());E.$(t,{dir:r},(function(t){t?(t.code="EXT_UNZIP_ERROR",n(t)):e(r)}))})).then((function(t){return n&&j.removeSync(e),_(t,!0)}))}function O(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!(DEBUG&&"debug"===p.default.system["localExtensions.enabled"]||!0===p.default.system["localExtensions.enabled"]))return Promise.reject(new Error("Install extensions failed, because local extension is disabled in this client."));P.showOpenDialog(t?".json":".xext,.zip",(function(n){var r;n&&n.length?(n=n[0].path,".json"===(r=o.default.extname(n).toLowerCase())&&"package.json"===o.default.basename(n)?_(o.default.dirname(n),!1,t).then((function(t){return e&&e(t),t})).catch((function(t){e&&e(!1,t)})):".xext"===r||".zip"===r?S(n).then((function(t){return e&&e(t),t})).catch((function(t){e&&e(!1,t)})):e&&e(!1,"EXT_NOT_EXT_SOURCE")):e&&e(!1)}))}function M(e){return e=o.default.join(x(e),"README.md"),j.readFile(e)}function C(e){var t;(e.disabled!==(t=!(1<arguments.length&&void 0!==arguments[1]&&!arguments[1]))||2<arguments.length&&void 0!==arguments[2]&&arguments[2])&&(e.isRemote&&(0,m.getCurrentUser)().config.addExtStateToConfig({name:e.name,disabled:t}),t?(e.detach(),e.disabled=!0):(e.disabled=!1,e.hotAttach())),(0,i.saveExtensionData)(e)}function k(e){return C(e,!1)}var E=(0,h.lazyModuleProxy)("extract-zip"),P=f.default.access("dialog"),T=f.default.access("env"),j=f.default.access("fs"),x=function(e){return e.localPath||o.default.join(T.dataPath,"xexts",e.name)},D=(t.createExtensionSavePath=x,n=function(){e=function*(e){e.detach(),yield(0,i.removeInstalledExtension)(e),e.isDev||(e=x(e),j.remove(e))};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e){return t.apply(this,arguments)}}(),t.uninstallExtension=n,function(e){return(0,i.saveInstalledExtension)(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],null,2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?null:function(e){e.hotAttach()})});t.reloadDevExtension=v,t.installExtensionFromDevDir=w,t.installExtensionFromFile=S,t.openInstallExtensionDialog=O,t.loadExtensionReadmeFile=M,t.setExtensionDisabled=C,t.setExtensionEnabled=k,h={db:i.default,createSavePath:x,uninstall:n,installExtensionFromFile:S,openInstallDialog:O,loadReadmeMarkdown:M,installFromDevDir:w,reloadDevExtension:v,setExtensionDisabled:C,setExtensionEnabled:k},t.default=h},8927:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=i(e);if(n=t?(n=i(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);var n=a(r);function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=this;if(!(o instanceof r))throw new TypeError("Cannot call a class as a function");if((o=n.call(this,e,t)).isPlugin)return o._pkg.main||o._pkg.buildIn&&o._pkg.buildIn.module||(o._pkg.main="index.js",o.addError("main",'The main attribute must be set when the extension type is plugin, set to "index.js" temporarily.')),o;throw new Error("Cannot create a plugin extension from the type '".concat(o.type,"'."))}return r}(((n=n(92030))&&n.__esModule?n:{default:n}).default),t.default=n},18685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setServerExtsChangeListener=t.getEntryVisitUrl=t.fetchServerExtensions=t.detachServerExtensions=t.default=void 0;var r=h(n(26470)),o=h(n(24260)),a=h(n(13347)),i=n(94743),l=h(n(61997)),s=h(n(94128)),u=h(n(61862)),c=n(13544),f=h(n(12482)),d=n(96521),p=n(15973);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)}))}}var _=(0,c.lazyModuleProxy)("extract-zip"),w=(n=s.default.modules).fs,S=n.net,O=n.os,M=null,C=null,k=!1,E=null;function P(){return(P=v((function*(e){var t,n,o,a,i=f.default.create({url:e.download,gid:"EXT_".concat(e.name),name:e.name,storageType:"extension"});i.userSavePath=e.remoteCachePath;try{var l=yield S.downloadFile((0,p.getCurrentUser)(),i,(function(t){e.downloadProgress=t/100,M&&M(e,"update")}));return l.cachePath&&(t={zipPath:l.cachePath,destPath:e.localPath},n=t.zipPath,o=t.destPath,a=void 0===(t=t.removeZip)||t,yield new Promise((function(e,t){_.$(n,{dir:o},(function(r){a&&w.removeSync(n),r?(r.code="EXT_UNZIP_ERROR",t(r)):e()}))})),yield w.outputJson(r.default.join(e.localPath,"md5.json"),{md5:e.md5,download:e.download,downloadTime:Date.now()})),l}catch(t){throw(i=new Error("Cannot download extension package form remote server ".concat(e.download,", the origin error is ").concat(t))).originError=t,i}}))).apply(this,arguments)}function T(e){var t,n;e&&A.push(e),I||A.length&&(I=!0,t=A[0],n=function(){var e=A.findIndex((function(e){return e.id===t.id}));-1<e&&A.splice(e,1),I=!1,A.length&&T()},a.default.socket.sendAndListen({module:"entry",method:"visit",params:{entryID:t.entryID,referer:t.referer}}).then((function(e){return n(),t.resolve(e),e})).catch((function(e){n(),t.reject(e)})))}function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(n,r){T({id:(0,l.default)(),entryID:"object"===m(e)?e.entryID||e.name:e,referer:t,resolve:n,reject:r})}))}function x(){A=[],C&&C.length&&(C.forEach((function(e){e.detach()})),M&&M(C,"remove"),C=null)}var D=function(){var e=v((function*(){if(C&&C.length&&!k){var e,t=C.find((function(e){return!e.isRemoteLoaded&&!e.loadRemoteFailed}));if(t){k=!0;try{e=t,(yield new Promise((function(t){w.pathExists(e.localPath).then((function(n){if(n){if((n=w.readJsonSync(r.default.join(e.localPath,"md5.json"),{throws:!1}))&&n.md5===e.md5)return t(!0);w.emptyDirSync(e.localPath)}t(!1)})).catch((function(){return t(!1)}))})))||(yield function(){return P.apply(this,arguments)}(t));var n,o,a,l=yield w.readJson(r.default.join(t.localPath,"package.json"),{throws:!1});l&&l.name?(l.name!==t.name&&DEBUG&&console.warn("The package name(".concat(l.name,") is not match the server name(").concat(t.name,")")),M&&M(t,"remove"),n=C.findIndex((function(e){return e.name===t.name})),t.setLoadRemoteResult(l),t.delete=!0,o=(0,i.createExtension)(g(g({icon:t.icon,serverEntry:t.serverEntry},l),{},{download:t.download,md5:t.md5,entryUrl:t.entryUrl,entryID:t.entryID,optional:t.pkg.optional}),t.data),C.splice(n,1,o),M&&M(o,"add"),"boolean"==typeof(a=(0,p.getCurrentUser)().config).extsState[o.name]?(0,d.setExtensionDisabled)(o,a.extsState[o.name],!0):o.hotAttach()):t.setLoadRemoteResult(!1,"".concat(u.default.string("ext.extension.pkgHasError")).concat(t.localPath))}catch(n){DEBUG&&console.error('Download extension "'.concat(t.name,'" with error:'),n),t.setLoadRemoteResult(!1,"".concat(u.default.error(n),"(").concat(t.download,")"))}!t.delete&&M&&M(t,"update"),k=!1,D()}}}));return function(){return e.apply(this,arguments)}}(),A=[],I=!1;t.getEntryVisitUrl=j,o.default.setHandlers({extensionGetList:function(e){var t,n=(0,p.getCurrentUser)();n&&e.isSuccess&&e.data.length&&(t=O.createUserDataPath(n.identify,"","extensions"),e.data.forEach((function(e){e=g({},e);var n=Object.assign(e,{icon:e.logo,entryUrl:e.entryUrl||e.webViewUrl}),o=(!e.download&&e.webViewUrl&&(n.type="app",n.appType="webView",n.webViewUrl=e.webViewUrl),{remote:!0,serverData:e.data}),a=(e.download?(o.remoteCachePath=r.default.join(t,"".concat(e.name,".zip")),o.localPath=r.default.join(t,e.name)):e.webViewUrl&&(o.remoteLoaded=!0),(0,i.createExtension)(n,o));-1<(e=C.findIndex((function(e){return e.name===a.name})))?C.splice(e,1,a):C.splice(0,0,a)})),null!=(n=M)&&n(C,"add"),D())},"entry/visit":function(e){return!!((0,p.getCurrentUser)()&&e.isSuccess&&e.data)&&e.data}}),t.detachServerExtensions=x,c={getEntryVisitUrl:j,fetchServerExtensions:t.fetchServerExtensions=function e(){E&&(clearTimeout(E),E=null);var t=(0,p.getCurrentUser)();t&&!t.isOffline&&(x(),C=[],o.default.send("extensionGetList"),E=setTimeout((function(){(0,p.getCurrentUser)()&&e()}),54e5))},setServerExtsChangeListener:t.setServerExtsChangeListener=function(e){M=e},detachServerExtensions:x},t.default=c},49034:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(92030)),a=i(n(6282));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(o)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);var n=s(r);function r(e,t){var o,i;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");if(o=n.call(this,e,t),t=[],(i="_themes")in(e=u(o))?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,!o.isTheme)throw new Error("Cannot create a theme extension from the type '".concat(o.type,"'."));return(e=o._pkg.themes)&&e.length?o._themes=e.map((function(e){return new a.default(e,u(o))})):o.addError("themes",'At least one theme must be set with "themes" attribute in package.json for theme extension.'),o}return t=r,(e=[{key:"themes",get:function(){return this._themes}},{key:"getTheme",value:function(e){return this.themes.find((function(t){return t.name===e}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.default),t.default=n},6282:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=s(n(26470)),a=s(n(52324)),i=n(71782),l=n(61862);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(n=r=r||{}).append="append",n.override="override";var f=[{name:"name",equal:100,include:50},{name:"displayName",equal:100,include:50},{name:"pinyinNames",equal:50,include:25},{name:"description",include:25},{name:"author",equal:100,prefix:"@"},{name:"publisher",equal:100,prefix:"@"},{name:"extKeywords",equal:50,include:10,array:!0},{name:"extDisplayName",equal:50,include:25},{name:"extName",equal:50,include:25},{name:"extPinyinNames",equal:50,include:25}];n=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(c(this,"_extension",void 0),c(this,"_data",void 0),c(this,"_pinyinName",void 0),c(this,"_id",void 0),c(this,"_styleFile",void 0),c(this,"_preview",void 0),!t)throw new Error('Theme error: The "data" param can not be empty.');if(!n)throw new Error('Theme error: The "extension" param can not be empty.');this._extension=n,this._data=t}var t,n;return t=e,(n=[{key:"color",get:function(){return this._data.color}},{key:"extension",get:function(){return this._extension}},{key:"name",get:function(){return this._data.name}},{key:"displayName",get:function(){return(0,l.getStringFromObject)(this._data.displayName,this.name)}},{key:"pinyinNames",get:function(){return null==this._pinyinName&&(this._pinyinName=(0,a.default)(this.displayName,"default")),this._pinyinName}},{key:"id",get:function(){return null==this._id&&(this._id="".concat(this.extension.name,":").concat(this.name)),this._id}},{key:"inject",get:function(){return r[this._data.inject]||r.append}},{key:"isAppend",get:function(){return this.inject===r.append}},{key:"isOverride",get:function(){return this.inject===r.override}},{key:"styleFile",get:function(){var e=this._data.style;return e&&!this._styleFile&&(e.startsWith("https://")||e.startsWith("http://")?this._styleFile=e:this._styleFile="file://".concat(o.default.join(this.extension.localPath,e))),this._styleFile}},{key:"scheme",get:function(){var e;return null!=(e=this._data.scheme)?e:"light"}},{key:"author",get:function(){return this.extension.author}},{key:"authorName",get:function(){var e;return"object"===u(this.author)&&(e=this.author.name),(0,l.getStringFromObject)(e)}},{key:"publisher",get:function(){return this.extension.publisher}},{key:"publisherName",get:function(){var e;return"object"===u(this.publisher)&&(e=this.publisher.name),(0,l.getStringFromObject)(e)}},{key:"extKeywords",get:function(){return this.extension.keywords}},{key:"extDisplayName",get:function(){return this.extension.displayName}},{key:"extName",get:function(){return this.extension.name}},{key:"extPinyinNames",get:function(){return this.extension.pinyinNames}},{key:"extDescription",get:function(){return this.extension.description}},{key:"getMatchScore",value:function(e){return(0,i.matchScore)(f,this,e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},63627:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.writeText=t.writeHTML=t.write=t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=i?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(63886));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(e){e=new o.ClipboardItem({"text/html":new Blob([e],{type:"text/html"})}),o.write([e])}n=o.writeText,t.writeText=n,t.writeHTML=i,n={write:t.write=function(e){var t={};void 0!==e.html&&(t["text/html"]=new Blob([e.html],{type:"text/html"})),void 0!==e.text&&(t["text/plain"]=new Blob([e.text],{type:"text/plain"})),e=new o.ClipboardItem(t),o.write([e])},writeText:n,writeHTML:i},t.default=n},86632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(n=n(78826))&&n.__esModule?n:{default:n};t.default={encrypt:function(e,t,n){return t=r.default.utils.utf8.toBytes(t),n=r.default.utils.utf8.toBytes(n),t=new r.default.ModeOfOperation.cbc(t,n),n=r.default.utils.utf8.toBytes(e),e=r.default.padding.pkcs7.pad(n),t.encrypt(e)},decrypt:function(e,t,n){return t=r.default.utils.utf8.toBytes(t),n=r.default.utils.utf8.toBytes(n),t=new r.default.ModeOfOperation.cbc(t,n),n=new Uint8Array(e),e=t.decrypt(n),r.default.utils.utf8.fromBytes(r.default.padding.pkcs7.strip(e))}}},81732:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showSaveDialog=t.default=void 0,n=n(52244),n={showSaveDialog:t.showSaveDialog=function(e,t){e.fileUrl?(window.open(e.fileUrl),null!=t&&t(!0)):(DEBUG&&console.warn("Cannot save file without file url definition"),null!=t&&t(!1))},showOpenDialog:n.showOpenDialog},t.default=n},58399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={get:function(e){return e=e.name,decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*".concat(encodeURIComponent(e).replace(/[-.+*]/g,"\\$&"),"\\s*\\=\\s*([^;]*).*$)|^.*$")),"$1"))||null},set:function(){var e=(i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url,t=i.name,n=i.value,r=i.expirationDate,o=i.domain,a=i.path,i=i.secure;t&&!["expires","max-age","path","domain","secure"].includes(t.toLowerCase())&&(o=(null!=o?o:e)?new URL(e).hostname:"",document.cookie="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n)).concat("number"==typeof(e=r)?e===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age=".concat(e):"string"==typeof e?"; expires=".concat(e):e instanceof Date?"; expires=".concat(e.toUTCString()):"").concat(o?"; domain=".concat(o):"").concat(a?"; path=".concat(a):"").concat(i?"; secure":""))},remove:function(e,t){t&&this.hasItem(t)&&(e=e?new URL(e).hostname:"",document.cookie="".concat(encodeURIComponent(t),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT").concat(e?"; domain=".concat(e):""))}}},9533:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=null,r=(a=window.navigator.userAgent).includes("Mac OS"),o=a.includes("Windows"),a=a.includes("Linux");r?n="osx":o?n="windows":a&&(n="linux"),t.default={os:n,isWindowsOS:o,isOSX:r,isLinux:a}},57757:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=((n=n(94795))&&n.__esModule?n:{default:n}).default,t.default=n},45780:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=!1},38234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=t.default=void 0;var r=y(n(47471)),o=y(n(26098)),a=y(n(63627)),i=y(n(10431)),l=y(n(86632)),s=y(n(57757)),u=y(n(9533)),c=y(n(67978)),f=y(n(81732)),d=y(n(37599)),p=y(n(70872)),h=y(n(90657)),m=y(n(58399));function y(e){return e&&e.__esModule?e:{default:e}}n.g.Immutable=r.default,n={type:"browser",displayName:"browser",init:t.init=function(e){(e=e.config)&&i.default.init(e.media["sound.path"])},Socket:o.default,clipboard:a.default,crypto:l.default,EventEmitter:s.default,env:u.default,ui:c.default,notify:d.default,sound:i.default,net:p.default,dialog:f.default,language:h.default,docCookies:m.default},t.default=n},90657:(e,t,n)=>{"use strict";function r(e,t){return(0,o.getJSON)(t?(0,a.formatString)(t,e||i()):"lang/".concat(e||i(),".json"))}Object.defineProperty(t,"__esModule",{value:!0}),t.loadLangData=t.getPlatformLangName=t.default=void 0;var o=n(78437),a=n(16986),i=(t.loadLangData=r,function(e){var t=e.FUZZY_MATCH,n=navigator.language;if(n){if(n=n.toLowerCase(),!t)return n;"zh-cn"!==n&&n.startsWith("zh-")?n="zh-tw":"en"!==n&&!n.startsWith("en-")||(n="en"),e.ALL.find((function(e){return e.name===n}))||(n=e.DEFAULT)}else n=e.DEFAULT;return n});n={loadLangData:r,getPlatformLangName:t.getPlatformLangName=i},t.default=n},70872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(n=n(78437))&&n.__esModule?n:{default:n};function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n=a(a({},r.default),{},{downloadFile:function(e,t){return t},uploadFile:function(e,t){var n,o,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;if(t.originFile)return n=e.uploadUrl,(o=new FormData).append("file",t.originFile,t.name),o.append("userID",e.id.toString()),o.append("gid",t.cgid),t.form=o,r.default.uploadFile(t,n,(function(r){r.setRequestHeader("ServerName",e.serverName),r.setRequestHeader("Authorization",e.token),i&&i(r,t,n)}),a);console.warn("Upload file fail, cannot get origin file object.",t)}}),t.default=n},37599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(31527);n=n(10431),r={showNotification:r.showNotification,playSound:n.playSound},t.default=r},26098:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(86632));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=s(e);if(n=t?(n=s(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e);var n=l(r);function r(){if(this instanceof r)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"handleData",value:function(e,t){this.updateStatusFromClient();var n,r=null;if((r=t&&t.binary?this.options&&this.options.encryptEnable?o.default.decrypt(e,this.options.userToken,this.options.cipherIV):this.textDecoder.decode(e):r)&&this.options.parseJSON)try{r=JSON.parse(r)}catch(t){this.options&&this.options.encryptFallback&&"string"==typeof(n=o.default.decrypt(e,this.options.userToken,this.options.cipherIV))&&(r=JSON.parse(n),DEBUG&&(console.collapse("SOCKET Data Encrypt Fallback","redBg"),console.log("data",r),console.log("rawData",e),console.log("socket",this),console.log("decryptData",n),console.groupEnd()))}this.options&&this.options.onData&&this.options.onData(this,r,t),this.onData&&this.onData(r,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(a(n(75161)).default),t.default=n},67978:(e,t)=>{"use strict";function n(e){return window.open(e)}function r(){return window.document.hasFocus()}function o(e){i.push(e)}function a(){return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.setZoomFactor=t.openExternal=t.onWindowFocus=t.isWindowOpenAndFocus=t.isWindowOpen=t.isWindowFocus=t.getZoomFactor=t.default=void 0,t.openExternal=n;var i=[],l=r(),s=(setInterval((function(){var e=r();e!==l&&e&&i.forEach((function(e){return e()})),l=e}),300),t.onWindowFocus=o,t.isWindowOpen=a,r),u=(t.isWindowOpenAndFocus=s,r);s={openExternal:n,isWindowOpenAndFocus:s,isWindowFocus:t.isWindowFocus=u,isWindowOpen:a,onWindowFocus:o,getZoomFactor:t.getZoomFactor=function(){var e=Number.parseFloat(document.documentElement.style.zoom);return Number.isNaN(e)?1:e},setZoomFactor:t.setZoomFactor=function(e){document.documentElement.style.zoom=String(e||1)}},t.default=s},78437:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadFile=t.timeout=t.request=t.postText=t.postJSONData=t.postJSON=t.getTextFromResponse=t.getText=t.getJSONData=t.getJSON=t.downloadFile=t.default=t.abortUploadFile=t.abortDownloadFile=void 0;var o=(C=n(23848))&&C.__esModule?C:{default:C},a=n(90625),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(11803));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))}}function h(e,t){return O(e,t).then(M)}function m(e,t){return O(e,t).then((function(e){return e.json()}))}function y(e,t){return t instanceof FormData&&(t={body:t}),k(e,u({method:"POST"},t))}function g(e,t,n){return new Promise((function(r,o){var a=new XMLHttpRequest;a.onload=function(){var t;delete E[e],200===a.status?(t=a.response)?r(t):o(new i.default(i.Codes.EMPTY_FILE_DATA,"File data is empty.")):o(new i.default(i.Codes.HTTP_STATUS_ERROR,"Status code is not 200.",{status:a.status,statusMessage:a.statusText}))},a.onprogress=function(e){e.lengthComputable&&n&&n(100*e.loaded/e.total,e.loaded,e.total)},a.onerror=function(t){delete E[e],o(new i.default(i.Codes.HTTP_REQUEST_FAIL,"Download request error.",{event:t}))},a.onabort=function(t){delete E[e],o(new i.default(i.Codes.HTTP_ABORT,"Download request abort.",{event:t}))},a.open("GET",e),a.responseType="arraybuffer",t&&t(a),(E[e]=a).send()}))}function b(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(o,a){var l,s=e.gid,u=new XMLHttpRequest;u.onload=function(){if(s&&delete E[s],200===u.status){var e=u.responseText;try{var t=JSON.parse(e);"success"===t.result&&t.data?o(t.data):a(new i.default(i.Codes.WRONG_RESULT,"The server returned wrong result: ".concat(u.responseText),{responseText:u.responseText}))}catch(t){0<e.indexOf("user-deny-attach-upload")?a(new i.default(i.Codes.USER_DENY_UPLOAD,"Server denied the request.",{responseText:u.responseText})):a(new i.default(i.Codes.HTTP_DATA_ERROR,"Unknown data content: ".concat(e),{responseText:u.responseText,error:t}))}}else a(new i.default(i.Codes.HTTP_STATUS_ERROR,"Status code is not 200.",{status:u.status,statusMessage:u.statusText}))},u.upload.onprogress=function(e){e.lengthComputable&&r&&r(100*e.loaded/e.total,e.loaded,e.total)},u.onerror=function(e){s&&delete E[s],a(new i.default(i.Codes.HTTP_REQUEST_FAIL,"Upload request error.",{event:e}))},u.onabort=function(e){s&&delete E[s],a(new i.default(i.Codes.HTTP_ABORT,"Upload request abort.",{event:e}))},u.open("POST",t),u.setRequestHeader("X-FILENAME",encodeURIComponent(e.name)),n&&n(u),s&&(E[s]=u),u.send(null!=(l=e.form)?l:e.originFile)}))}function v(e){var t=E[e];return!!(t&&1<=t.readyState&&t.readyState<=3)&&(t.abort(),delete E[e],!0)}function _(e){var t=E[e];return!!(t&&1<=t.readyState&&t.readyState<=3)&&(t.abort(),delete E[e],!0)}function w(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15e3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Error("timeout");return(0,a.limitTimePromise)(e,t,n)}var S=new Set([401,402,403,405,500]),O=function(){var e=p((function*(e,t){var n=new Request(e,t),r=(a=c(yield(0,o.default)(window.fetch(n)),2))[0],a=a[1];return r?(DEBUG&&(console.collapse("HTTP ".concat((null==t?void 0:t.method)||"GET"),"blueBg",e,"bluePale","HTTP_REQUEST_FAIL","redPale"),console.log("options",t),console.log("error",r),console.groupEnd()),Promise.reject(new i.default(i.Codes.HTTP_REQUEST_FAIL,{error:r,detail:["Fetch.".concat(t&&t.method||"GET"," from ").concat(e),"    Request:","        Method: ".concat(n.method||"")].join("\n")}))):a.ok?(DEBUG&&(console.collapse("HTTP ".concat((null==t?void 0:t.method)||"GET"),"blueBg",e,"bluePale","OK","greenPale"),console.log("options",t),console.log("response",a),console.log("body",a.body),console.groupEnd()),a):(r=new i.default(S.has(a.status)?"HTTP_STATUS_".concat(a.status):i.Codes.HTTP_STATUS_ERROR,"Status code is ".concat(a.status,"."),{request:n,response:a,detail:["Fetch from ".concat(n.url),"    Request:","        Method: ".concat(n.method||""),"        Headers: ".concat(t&&t.headers?JSON.stringify(t.headers):""),"    Response:","        Type: ".concat(a.type||""),"        Status: ".concat(a.status||""),"        OK: ".concat(a.ok||""),"        Redirected: ".concat(a.redirected||""),"        StatusText: ".concat(a.statusText||"")].join("\n")}),(e=c(yield(0,o.default)(a.clone().text()),2))[0],(n=e[1])&&(r.extras.detail+="\n        Body: ".concat(n||"")),Promise.reject(r))}));return function(t,n){return e.apply(this,arguments)}}(),M=(t.request=O,function(){var e=p((function*(e){var t,n=e.headers.get("Content-Type");return n&&n.toLowerCase().includes("charset=gb")?(t=yield e.blob(),new Promise((function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsText(t,"GBK")}))):e.text()}));return function(t){return e.apply(this,arguments)}}()),C=(t.getTextFromResponse=M,t.getText=h,function(){var e=p((function*(e,t){return t instanceof FormData&&(t={body:t}),(yield O(e,u({method:"POST"},t))).text()}));return function(t,n){return e.apply(this,arguments)}}()),k=(t.postText=C,t.getJSON=m,n=function(){var e=p((function*(e,t){t instanceof FormData&&(t={body:t});var n=(t=c(yield(0,o.default)(O(e,u({method:"POST"},t))),2))[0];if(t=t[1],n)return(r=n.getExtras("response"))&&(r=yield r.text(),n.setExtras({responseText:r}),null==n.detail&&(n.detail=["Fetch json from ".concat(e),"    Response:","        Type: ".concat(t.type||""),"        Status: ".concat(t.status||""),"        OK: ".concat(t.ok||""),"        Redirected : ".concat(t.redirected||""),"        StatusText: ".concat(t.statusText||"")].join("\n")),n.detail="".concat(r,"\n-------------------\n").concat(n.detail)),Promise.reject(n);var r=(e=c(yield(0,o.default)(t.json()),2))[0];return n=e[1],r?Promise.reject(i.default.create(r)):n}));return function(t,n){return e.apply(this,arguments)}}(),t.postJSON=n,function(){var e=p((function*(e,t){var n;return(t=yield m(e,t))?"success"===(n=t.status||t.result)||"ok"===n||200===n?Promise.resolve(t.data):Promise.reject(new i.default(i.Codes.WRONG_RESULT,t.message||t.reason||"The server data result is ".concat(n),{detail:["Fetch json data from ".concat(e),"    JSON: ".concat(JSON.stringify(t))].join("\n")})):Promise.reject(new i.default(i.Codes.HTTP_DATA_ERROR,"Server return a null json when get json from ".concat(e,"."),{url:e}))}));return function(t,n){return e.apply(this,arguments)}}()),E=(t.getJSONData=k,t.postJSONData=y,{});t.downloadFile=g,t.uploadFile=b,t.abortUploadFile=v,t.abortDownloadFile=_,t.timeout=w,C={request:O,getTextFromResponse:M,getText:h,postText:C,getJSON:m,postJSON:n,getJSONData:k,postJSONData:y,downloadFile:g,uploadFile:b,abortUploadFile:v,abortDownloadFile:_,timeout:w},t.default=C},31527:(e,t)=>{"use strict";function n(e){var t=e.title,n=e.click;return delete e.title,delete e.click,t=new Notification(t,e),n&&(t.onclick=n),t}Object.defineProperty(t,"__esModule",{value:!0}),t.showNotification=t.default=void 0;var r={show:t.showNotification=function(e){return"granted"===Notification.permission?Promise.resolve(n(e)):"denied"!==Notification.permission?new Promise((function(t,r){Notification.requestPermission((function(o){"granted"===o?t(n(e)):r(new Error("denied"))}))})):Promise.reject(new Error("denied"))}};t.default=r},52244:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.showOpenDialog=o;var r=document.getElementById("fileOpenButton");function o(e,t){var o,a;"function"==typeof e&&(t=e,e=""),"object"===n(e)&&(a=[],null!=(o=e)&&null!=(o=o.filters)&&o.forEach((function(e){null!=(e=e.extensions)&&e.forEach((function(e){e&&"*"!==e&&a.push(e.includes("/")?e:".".concat(e))}))})),e=a.join(",")),r.accept=e,r.onchange=function(){var e=r.files;e.length?(t(e),setTimeout((function(){r.onchange=null,r.value=""}),500)):t(null)},r.click()}t.default={showOpenDialog:o}},75161:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(86632));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var l=new(o(n(60811)).default)({CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3,UNCONNECT:4},4);n=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i(this,"_status",l.create(l.$.UNCONNECT)),i(this,"options",void 0),i(this,"url",void 0),i(this,"client",void 0),i(this,"textDecoder",new TextDecoder("utf-8")),i(this,"textEncoder",new TextEncoder)}var t,n;return t=e,(n=[{key:"init",value:function(e,t){this.close(1e3,"Normal Closure From Init"),this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({connect:!0,userToken:"",cipherIV:"",encryptEnable:!0,parseJSON:!0,encryptFallback:!0},t),this.url=e,this._status.change(l.$.UNCONNECT),this.options.connect&&this.url&&this.connect(),this.onInit&&this.onInit()}},{key:"statusName",get:function(){return this._status.name}},{key:"status",get:function(){return this._status.value},set:function(e){this._status.change(e)}},{key:"isConnected",get:function(){return this.isStatus(l.$.OPEN)}},{key:"isConnecting",get:function(){return this.isStatus(l.$.CONNECTING)}},{key:"isStatus",value:function(e){return this._status.is(e)}},{key:"updateStatusFromClient",value:function(){this.client?this.status=this.client.readyState:this.status=l.$.UNCONNECT}},{key:"connect",value:function(){var e=this,t=(this.close(1e3,"Normal Closure From Connect"),this.status=l.$.CONNECTING,new WebSocket(this.url));t.binaryType="arraybuffer",t.onopen=this.handleConnect.bind(this),t.onmessage=function(t){e.handleData(t.data,{binary:!0})},t.onclose=function(t){if(e.isConnecting)return e.handleConnectFail(t);e.handleClose(t.code,t.reason)},t.onerror=function(t){e.isConnected&&e.handleError(t)},this.client=t}},{key:"reconnect",value:function(){return this.connect()}},{key:"handleConnectFail",value:function(e){this.options&&this.options.onConnectFail&&this.options.onConnectFail(e)}},{key:"handleConnect",value:function(){this.updateStatusFromClient(),DEBUG&&(console.collapse("SOCKET Connected","greenBg",this.url,"greenPale"),console.log("socket",this),console.groupEnd()),this.options&&this.options.onConnect&&this.options.onConnect()}},{key:"handleClose",value:function(e,t){var n=!this._status.is(l.$.CLOSING);this.updateStatusFromClient(),this.client=null,DEBUG&&(console.collapse("SOCKET Closed","greenBg",this.url,"greenPale"),console.trace("socket",this),console.log("code",e),console.log("reason",t),console.groupEnd()),this.options&&this.options.onClose&&this.options.onClose(this,e,t,n),this.onClose&&this.onClose(e,t,n)}},{key:"handleError",value:function(e){this.updateStatusFromClient(),DEBUG&&(console.collapse("SOCKET Error","redBg",this.url,"redPale"),console.log("socket",this),console.log("error",e),console.groupEnd()),this.options&&this.options.onError&&this.options.onError(this,e)}},{key:"send",value:function(e,t){e=this.options&&this.options.encryptEnable?r.default.encrypt(e,this.options.userToken,this.options.cipherIV):this.textEncoder.encode(e),this.client.send(e),t&&t()}},{key:"markClose",value:function(){this.status=l.$.CLOSING}},{key:"removeAllListeners",value:function(){this.client.onclose=null,this.client.onerror=null,this.client.onmessage=null,this.client.onopen=null}},{key:"close",value:function(e,t){this.client&&(t&&("close"===t||t.startsWith("USER_KICKOFF")||"PING_TIMEOUT"===t)&&(DEBUG&&(console.collapse("SOCKET Close","greenBg",t,"greenPale"),console.log("socket",this),console.log("reason",t),console.groupEnd()),this.markClose()),this.removeAllListeners(),this.client.close(),this.handleClose(e,t))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),i(t.default=n,"STATUS",l)},10431:(e,t)=>{"use strict";function n(e){(o=e||o).endsWith("/")||(o="".concat(o,"/"))}function r(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"message",n=a.get(t="string"!=typeof t?"message":t);n||(e="sound-".concat(t),(n=document.getElementById(e))||((n=document.createElement("audio")).id=e,(e=document.createElement("source")).type="audio/ogg",e.src="".concat(o).concat(t,".ogg"),n.appendChild(e),(e=document.createElement("source")).type="audio/mpeg",e.src="".concat(o).concat(t,".mp3"),n.appendChild(e),(e=document.createElement("source")).type="audio/mp4",e.src="".concat(o).concat(t,".aac"),n.appendChild(e),document.getElementById("sound-audios").appendChild(n)),a.set(t,n)),n.play()}Object.defineProperty(t,"__esModule",{value:!0}),t.playSound=t.initSound=t.default=void 0;var o="media/sound/",a=new Map,i=(t.initSound=n,t.playSound=r,document.getElementById("sound-audios")||((i=document.createElement("div")).id="sound-audios",i.style.display="none",document.body.appendChild(i)),{init:n,play:r});t.default=i},94128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.platformHas=t.platformCall=t.platformAccess=t.default=t.PlatformModule=void 0;var r=(r=n(38234))&&r.__esModule?r:{default:r},o=n(74160);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function s(e,t){return(t=u(e,t,"get")).get?t.get.call(e):t.value}function u(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var c=new WeakMap,f=function(){function e(t){var n=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");(function(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,{writable:!0,value:void 0})})(this,c),l(this,"call",(function(e){if("function"!=typeof(e=n.access(e)))return e;for(var t=arguments.length,r=new Array(1<t?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return e.apply(void 0,r)})),l(this,"access",(function(e){"string"==typeof e&&(e=e.split("."));var t,r=s(n,c),o=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}(e);try{for(o.s();!(t=o.n()).done&&null!==(r=r[t.value])&&"object"===a(r););}catch(e){o.e(e)}finally{o.f()}return r})),l(this,"has",(function(e){return void 0!==n.access(e)})),function(e,t,n){if((t=u(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(this,c,t)}var t,n;return t=e,(n=[{key:"modules",get:function(){return s(this,c)}},{key:"type",get:function(){return s(this,c).type}},{key:"displayName",get:function(){return s(this,c).displayName}},{key:"env",get:function(){return s(this,c).env}},{key:"isType",value:function(e){return e===this.type}},{key:"init",value:function(e){this.call("init",e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r=(f=new(t.PlatformModule=f)(r.default)).access,t.platformAccess=r,r=f.call,t.platformCall=r,r=f.has,t.platformHas=r,(r=f.call("buildIn.getBuildInConfig"))&&(r.system&&(delete r.system.permissions,delete r.system["localExtensions.enabled"]),(0,o.updateConfig)(r)),DEBUG&&(n.g.$platform=f),t.default=f},81233:(e,t)=>{"use strict";function n(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");n(this,"aborted",!1),n(this,"abortCallback",null)}var t,r;return t=e,(r=[{key:"isAborted",get:function(){return this.aborted}},{key:"onAbort",value:function(e){this.abortCallback=e}},{key:"abort",value:function(){this.abortCallback&&this.abortCallback(),this.aborted=!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},37869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeAsap=t.cancelAsap=void 0,t.executeAsap=function(e){return{id:setTimeout(e,0),type:"timeout"}},t.cancelAsap=function(e){return clearTimeout(e)}},11803:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){var t=l();return function(){var r,o=u(e);if(r=t?(r=u(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this,r&&("object"===n(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return a(o)}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return(i=l()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),t=new(Function.bind.apply(e,r)),n&&s(t,n.prototype),t}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Codes=void 0;var f=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var i,l=o(u);function u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"[".concat(e,"]"),r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=this;if(o instanceof u)return"object"===n(t)&&null!==t&&(r=t,t=null),c(a(o=l.call(this,t)),"name",void 0),c(a(o),"code",void 0),c(a(o),"extras",void 0),c(a(o),"time",void 0),o.name="CodedError",o.code=e,o.extras=r,o.time=Date.now(),o;throw new TypeError("Cannot call a class as a function")}return t=u,e=[{key:"create",value:function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d.COMMON_ERROR;return"string"==typeof e?new u(r,e):e instanceof u?e:e instanceof Error?((n=new u(r,e.message,{error:e})).stack=e.stack,n):null!==(n=e)&&"message"in n?(t=e.message,delete e.message,!r&&e.code&&(r=e.code,delete e.code),new u(r,t,e)):new u(d.TYPE_ERROR,"Cannot create a CodedError instance with the given params.",{error:e})}}],(i=[{key:"getExtras",value:function(e){var t;return e?null==(t=this.extras)?void 0:t[e]:this.extras}},{key:"setExtras",value:function(e){e&&"object"===n(e)&&Object.assign(this.extras,e)}},{key:"detail",get:function(){return this.getExtras("detail")},set:function(e){this.setExtras({detail:e})}},{key:"error",get:function(){return this.getExtras("error")},set:function(e){this.setExtras({error:e})}},{key:"detailMessage",get:function(){var e=this.message,t=this.detail,n=e;return t&&e!==t?"".concat(n,"\n").concat(t):n}}])&&r(t.prototype,i),e&&r(t,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)}(e)}(Error)),d=(t.default=f,{COMMON_ERROR:"COMMON_ERROR",SERVER_VERSION_UNKNOWN:"SERVER_VERSION_UNKNOWN",SERVER_VERSION_NOT_SUPPORT:"SERVER_VERSION_NOT_SUPPORT",USER_INVALID:"USER_INVALID",USER_DENY_UPLOAD:"USER_DENY_UPLOAD",BUSY:"BUSY",CLIENT_REQUIRE_UPDATE:"CLIENT_REQUIRE_UPDATE",SOCKET_CLOSED:"SOCKET_CLOSED",SOCKET_FAIL:"SOCKET_FAIL",SOCKET_TIMEOUT:"SOCKET_TIMEOUT",HTTP_DATA_ERROR:"HTTP_DATA_ERROR",HTTP_REQUEST_FAIL:"HTTP_REQUEST_FAIL",HTTP_STATUS_ERROR:"HTTP_STATUS_ERROR",HTTP_ABORT:"HTTP_ABORT",HTTP_ERROR:"HTTP_ERROR",HTTP_ETIMEDOUT:"HTTP_ETIMEDOUT",NET_TRACEROUTE_ERROR:"NET_TRACEROUTE_ERROR",NET_PING_FAIL:"NET_PING_FAIL",WRONG_RESULT:"WRONG_RESULT",EMPTY_FILE_DATA:"EMPTY_FILE_DATA",TYPE_ERROR:"TYPE_ERROR",INVALID_TOKEN:"INVALID_TOKEN",INVALID_URL:"INVALID_URL",BACKEND_SERVER_ERROR:"BACKEND_SERVER_ERROR",NAMESERVER_NOT_FOUND:"NAMESERVER_NOT_FOUND"});t.Codes=d},28064:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function a(e,t){return f(e,t)}function i(e){return Math.floor(a(e,255))}function l(e){if(!c.test(e))throw new Error("Wrong hex string! (hex: ".concat(e,")"));if(4===(e=e.toLowerCase()).length){for(var t="#",n=1;n<4;n++)t+=e.slice(n,n+1).concat(e.slice(n,n+1));e=t}for(var r=[],o=1;o<7;o+=2)r.push(Number.parseInt("0x".concat(e.slice(o,o+2)),16));return{r:r[0],g:r[1],b:r[2],a:1}}function s(e){function t(e){return 6*(e=e<0?e+1:1<e?e-1:e)<1?l+(i-l)*e*6:2*e<1?i:3*e<2?l+(i-l)*(2/3-e)*6:l}var n=e.h,r=e.s,o=e.l,i=(e=e.a,n=n%360/360,r=a(r),o=a(o),e=a(e),o<=.5?o*(r+1):o+r-o*r),l=2*o-i;return{r:255*t(n+1/3),g:255*t(n),b:255*t(n-1/3),a:e}}function u(e){return 1===(e=e.toString(16)).length?"0".concat(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.isColor=t.hslToRgb=t.hexToRgb=t.default=t.Color=void 0;var c=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,f=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255;return Math.min(Math.max(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0),t)},d=(t.hexToRgb=l,t.isColor=function(e){return"transparent"===e.toLowerCase()||c.test(e.trim().toLowerCase())},t.hslToRgb=s,function(){function e(t,r,i){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,c=this,f=e;if(!(c instanceof f))throw new TypeError("Cannot call a class as a function");o(this,"r",void 0),o(this,"g",void 0),o(this,"b",void 0),o(this,"a",void 0),this.r=0,this.g=0,this.b=0,this.A=u,"string"==typeof t?"transparent"===(c=t.toLowerCase())?this.A=0:this.rgb=l(c):"number"==typeof t?(this.R=t,this.G=r,this.B=i):"object"===n(t)&&(void 0!==(f=t).h?(u={h:a(f.h,360),s:1,l:1,a:this.A},void 0!==f.s&&(u.s=a(f.s,1)),void 0!==f.l&&(u.l=a(f.l,1)),void 0!==f.a&&(u.a=a(f.a,1)),this.rgb=s(u)):this.rgb=t)}var t,c,f;return t=e,f=[{key:"create",value:function(t,n,r,o){return t instanceof e?t:new e(t,n,r,o)}}],(c=[{key:"R",get:function(){return this.r},set:function(e){this.r=i(e)}},{key:"G",get:function(){return this.g},set:function(e){this.g=i(e)}},{key:"B",get:function(){return this.b},set:function(e){this.b=i(e)}},{key:"A",get:function(){return this.a},set:function(e){this.a=a(e,1)}},{key:"rbg",get:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}}},{key:"rgb",set:function(e){void 0!==e.r&&(this.R=e.r),void 0!==e.g&&(this.G=e.g),void 0!==e.b&&(this.B=e.b),void 0!==e.a&&(this.A=e.a)}},{key:"setRgb",value:function(e){return this.rgb=e,this}},{key:"hsl",get:function(){var e,t,n=this.r/255,r=this.g/255,o=this.b/255,a=this.a,i=Math.max(n,r,o),l=Math.min(n,r,o),s=(i+l)/2,u=i-l;if(i===l)e=t=0;else{switch(t=.5<s?u/(2-i-l):u/(i+l),i){case n:e=(r-o)/u+(r<o?6:0);break;case r:e=(o-n)/u+2;break;case o:e=(n-r)/u+4}e/=6}return{h:360*e,s:t,l:s,a}},set:function(e){this.rgb=s(e)}},{key:"setHsl",value:function(e){return this.hsl=Object.assign(this.hsl,e),this}},{key:"H",get:function(){return this.hsl.h},set:function(e){var t=this.hsl;t.h=a(e,360),this.hsl=t}},{key:"S",get:function(){return this.hsl.s},set:function(e){var t=this.hsl;t.s=a(e,1),this.hsl=t}},{key:"L",get:function(){return this.hsl.l},set:function(e){var t=this.hsl;t.l=a(e,1),this.hsl=t}},{key:"luma",get:function(){var e=this.r/255,t=this.g/255,n=this.b/255;return.2126*(e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))}},{key:"hex",get:function(){return"#".concat(u(this.r)).concat(u(this.g)).concat(u(this.b))}},{key:"css",get:function(){return 0<this.a?this.a<1?"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")"):this.hex:"transparent"}},{key:"darken",value:function(e){var t=this.hsl;return t.l-=e/100,t.l=a(t.l,1),this.hsl=t,this}},{key:"lighten",value:function(e){return this.darken(-e)}},{key:"fade",value:function(e){return this.A=a(e/100,1),this}},{key:"spin",value:function(e){var t=this.hsl;return e=(t.h+e)%360,t.h=e<0?360+e:e,this.hsl=t,this}},{key:"saturate",value:function(e){var t=this.hsl;return t.s+=e/100,t.s=a(t.s),this.hsl=t,this}},{key:"lightness",value:function(e){var t=this.hsl;return t.l+=e/100,t.l=a(t.l),this.hsl=t,this}},{key:"contrast",value:function(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new e(0,0,0,1),r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new e(255,255,255,1),o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.43;return n=e.create(n),r=e.create(r),n.luma>r.luma&&(r=(t=[n,r])[0],n=t[1]),this.a<.5||!this.isDark(o)?n:r}},{key:"isDark",value:function(){return this.luma<(0<arguments.length&&void 0!==arguments[0]?arguments[0]:.43)}},{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.a)}}])&&r(t.prototype,c),f&&r(t,f),Object.defineProperty(t,"prototype",{writable:!1}),e}());d=t.Color=d,t.default=d},7066:(e,t)=>{"use strict";function n(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){var n,o;n=e,o=r[t],t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return e?e instanceof Date?e:("string"==typeof e&&(e=e.trim(),/^\d+$/.test(e)&&(e=Number.parseInt(e,10))),"number"==typeof e&&e<1e10&&(e*=1e3),new Date(e)):new Date}function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date;return e=o(e),t=o(t),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date;return o(e).getFullYear()===o(t).getFullYear()}function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date;return e=o(e),t=o(t),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm",n={"M+":(e=o(e)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"S+":e.getMilliseconds()};return/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,"".concat(e.getFullYear()).substring(4-RegExp.$1.length))),Object.keys(n).forEach((function(e){new RegExp("(".concat(e,")")).test(t)&&(e="".concat(n[e]),t=t.replace(RegExp.$1,1===RegExp.$1.length?e:"00".concat(e).substring(e.length)))})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.isYesterday=t.isTomorrow=t.isToday=t.isSameYear=t.isSameWeek=t.isSameMonth=t.isSameDay=t.isDBY=t.getTimeBeforeDesc=t.formatDateSpan=t.formatDate=t.createDate=t.calculateTimestamp=t.TIME_DAY=void 0;var u=864e5;t.TIME_DAY=u,t.createDate=o,t.isSameDay=a,t.isSameYear=i,t.isSameMonth=l,t.isSameWeek=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date;return e=o(e),t=o(t),e=Math.floor(e.getTime()/864e5),t=Math.floor(t.getTime()/864e5),Math.floor((e+4)/7)===Math.floor((t+4)/7)},t.isToday=function(e){return a(o(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null),e)},t.isYesterday=function(e){return a(o(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null).getTime()-u,e)},t.isTomorrow=function(e){return a(o(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null).getTime()+u,e)},t.isDBY=function(e){return a(o(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null).getTime()-2*u,e)},t.formatDate=s,t.formatDateSpan=function(e,t,n){n=r({full:"yyyy-M-d",month:"M-d",day:"d",str:"{0} ~ {1}"},n);var o=s(e,i(e)?n.month:n.full);return a(e,t)?o:(e=s(t,i(e,t)?l(e,t)?n.day:n.month:n.full),n.str.replace("{0}",o).replace("{1}",e))},t.getTimeBeforeDesc=function(e){var t=(new Date).getTime();switch(e){case"oneWeek":return t-7*u;case"oneMonth":return t-31*u;case"threeMonth":return t-80352e5;case"halfYear":return t-183*u;case"oneYear":return t-31536e6;case"twoYear":return t-63072e6;default:return 0}},t.calculateTimestamp=function e(t,n){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Date.now();switch(n){case"year":return e(t*=365,"day",r,o);case"quarter":t*=3;case"month":return e(t*=30,"day",r,o);case"week":t*=7;case"day":t*=24;case"hour":t*=60;case"minute":t*=6e4;break;default:t=0}return r?o+t:o-t}},39450:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,n=null;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,o),n=null}),t)}}},59826:(e,t,n)=>{"use strict";function r(e){var t,r={none:0,error:1,warn:2,info:3,verbose:4};return e="number"==typeof(e=void 0===e?"string"==typeof(t=null!=(t=n.g.process.env.LOG)?t:"")&&t.length?/^\d+$/.test(t)?+t:null!=(t=r[t])?t:r.verbose:"development"===(t=n.g.process.env.NODE_ENV)||"debug"===t?"verbose":t?"error":"none":e)?Math.min(r.verbose,Math.max(0,e)):r[e]||0,Object.assign(n.g,{LOG_LEVEL:e,DEBUG:0<e,DEBUG_E:r.error<=e,DEBUG_I:r.info<=e,DEBUG_W:r.warn<=e,DEBUG_V:r.verbose<=e}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(),DEBUG&&(n.g.setDebugLogLevel=r);var o=n.g.DEBUG;t.default=o},84836:(e,t)=>{"use strict";function n(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function r(e,t){return(t=a(e,t,"get")).get?t.get.call(e):t.value}function o(e,t,n){if((t=a(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function a(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new WeakMap,l=new WeakMap,s=new WeakMap,u=new WeakMap,c=new WeakMap,f=new WeakMap,d=function(){function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");n(this,i,{writable:!0,value:void 0}),n(this,l,{writable:!0,value:void 0}),n(this,s,{writable:!0,value:void 0}),n(this,u,{writable:!0,value:void 0}),n(this,c,{writable:!0,value:void 0}),n(this,f,{writable:!0,value:void 0}),o(this,i,t),o(this,l,r),o(this,s,a),o(this,u,!1),o(this,c,d)}var t,a;return t=e,(a=[{key:"do",value:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];o(this,u,!1),this.cancel(),o(this,f,setTimeout((function(){r(e,c)?window.requestIdleCallback((function(){e.doIm.apply(e,n)})):e.doIm.apply(e,n)}),r(this,l)))}},{key:"cancel",value:function(){r(this,f)&&clearTimeout(r(this,f)),o(this,f,null)}},{key:"doIm",value:function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var l=(l=r(this,i)).call.apply(l,[this].concat(n));o(this,f,null),null!=(e=r(this,s))&&e.call(this,l),o(this,u,!0)}},{key:"isDone",get:function(){return r(this,u)}},{key:"destroy",value:function(){r(this,f)&&clearTimeout(r(this,f))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=d},62004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise((function(t){setTimeout(t,e)}))}},84401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.immediateChannel=t.delayChannel=t.EventChannel=t.EVENT_ANY=void 0;var r=n(37869);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var f=Symbol("*"),d=(t.EVENT_ANY=f,n=function(){function e(){var t=void 0===(t=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).delayTime)?500:t,n=void 0===(n=r.dynamicParams)||n,r=void 0!==(r=r.passEventToListener)&&r;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");c(this,"delayTime",void 0),c(this,"dynamicParams",void 0),c(this,"passEventToListener",void 0),c(this,"subscribers",new Map),c(this,"subscriptions",new Map),c(this,"timerID",null),c(this,"publications",new Map),this.delayTime=t,this.dynamicParams=n,this.passEventToListener=r}var t,n;return t=e,(n=[{key:"reset",value:function(){this.clearPublications(),this.clear(),this.subscribers.clear(),this.subscriptions.clear()}},{key:"clearPublications",value:function(){this.timerID&&((this.delayTime?clearTimeout:r.cancelAsap)(this.timerID),this.timerID=null),this.publications.clear()}},{key:"subscribe",value:function(e,t){var n=Symbol("symbol"===u(e)?e.description:e);return this.subscribers.set(n,{event:e,listener:t}),this.subscriptions.has(e)?this.subscriptions.get(e).add(n):this.subscriptions.set(e,new Set([n])),n}},{key:"subscribeSome",value:function(e,t){var n,r=Symbol(e.map((function(e){return"symbol"===u(e)?e.description:e})).join(" ")),o=(this.subscribers.set(r,{events:e,listener:t}),i(e));try{for(o.s();!(n=o.n()).done;){var a=n.value;this.subscriptions.has(a)?this.subscriptions.get(a).add(r):this.subscriptions.set(a,new Set([r]))}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"subscribeAny",value:function(e){return this.subscribe(f,e)}},{key:"unsubscribe",value:function(e){if(Array.isArray(e))return e.map(this.unsubscribe.bind(this));var t=this.subscribers.get(e);if(!t)return!1;this.subscribers.delete(e);var n,r=i(t.events||[t.event]);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=this.subscriptions.get(o);a&&a.has(e)&&(a.delete(e),a.size||this.subscriptions.delete(o))}}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"clear",value:function(){if(this.subscribers.size){var e,t=i(this.subscribers.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.unsubscribe(n)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"publish",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e)){var o,a=i(e);try{for(a.s();!(o=a.n()).done;){var l=o.value;f!==l&&this.publications.set(l,n)}}catch(e){a.e(e)}finally{a.f()}}else f!==e&&this.publications.set(e,n);this.tryNotifySubscribers()}},{key:"publishNow",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e)){var o,a=i(e);try{for(a.s();!(o=a.n()).done;){var l=o.value;f!==l&&this.emitEvent.apply(this,[l].concat(n))}}catch(e){a.e(e)}finally{a.f()}}else f!==e&&this.emitEvent.apply(this,[e].concat(n))}},{key:"tryNotifySubscribers",value:function(){if(this.delayTime)return this.timerID&&clearTimeout(this.timerID),void(this.timerID=setTimeout(this.notifySubscribers.bind(this),this.delayTime));this.timerID&&(0,r.cancelAsap)(this.timerID),this.timerID=(0,r.executeAsap)(this.notifySubscribers.bind(this)).id}},{key:"emitEvent",value:function(e){var t=this.subscriptions.has(f)?a(this.subscriptions.get(f)):[],n=this.subscriptions.get(e);if(n&&n.size&&t.push.apply(t,a(n)),t.length){for(var r=arguments.length,o=new Array(1<r?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];this.dynamicParams&&"function"==typeof o[0]&&(o[0]=o[0](e)),this.passEventToListener&&o.unshift(e);var s,u=i(new Set(t));try{for(u.s();!(s=u.n()).done;){var c=s.value,d=this.subscribers.get(c);d&&d.listener.apply(d,o)}}catch(e){u.e(e)}finally{u.f()}}}},{key:"notifySubscribers",value:function(){if(this.publications.size){var e,t=i(this.publications);try{for(t.s();!(e=t.n()).done;){var n=o(e.value,2),r=n[0],l=n[1],s=void 0===l?[]:l;this.emitEvent.apply(this,[r].concat(a(s)))}}catch(e){t.e(e)}finally{t.f()}this.timerID=null,this.publications.clear()}}},{key:"getSubscription",value:function(e){return this.subscriptions.get(e)}},{key:"getSubscriber",value:function(e){return this.subscribers.get(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),new(t.EventChannel=n));t.delayChannel=d,d=new n({delayTime:0}),t.immediateChannel=d},61997:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r().toString(36)},t.fuidAsNumber=r,t.timeSequence=function(){return 1e3*(Date.now()-1595904404862)+n++%1e3};var n=0;function r(){return 1e8*(Date.now()-1595904404862)+1e3*Math.floor(1e5*Math.random())+n++%1e3}},38358:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=(t.default=void 0,n(13544).lazyModuleProxy)("highlight/highlight",{browser:"hljs",root:"assets",id:"highlight",styleFile:!0}),t.default=n},64393:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.map((function(e){return Array.isArray(e)?a.apply(void 0,function(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e)):null!==e&&"object"===n(e)?Object.keys(e).filter((function(t){return"function"==typeof(t=e[t])?!!t():!!t})).join(" "):e})).filter((function(e){return"string"==typeof e&&e.length})).join(" ")}function i(e){return"".concat(e/(1<arguments.length&&void 0!==arguments[1]?arguments[1]:20),"rem")}function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o={};if(1<(t=t||window.location.search).length){var a;if("?"===t[0]&&(t=t.substring(1)),t=new URLSearchParams(t),e)return null===(a=t.get(e))?"":a;var i,l=function(e,t){var n,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=r(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw a}}}}(t.entries());try{for(l.s();!(i=l.n()).done;){var s=i.value,u=s[1];if(n)try{u=JSON.parse(u)}catch(e){}o[s[0]]=u}}catch(e){l.e(e)}finally{l.f()}}return e?o[e]:o}function s(e){return e.replace(/<(?:.|\n)*?>/gm,"")}function u(e){var t=document.createElement("DIV");return t.innerText=e,t.innerHTML||""}function c(e){return"string"==typeof e&&/^(https?):\/\/[-A-Za-z0-9\u4e00-\u9fa5+&@#/%?=~_|!:,.;]+[-A-Za-z0-9\u4e00-\u9fa5+&@#/%=~_|]$/gi.test(e)}function f(e){return(e||"").replace(/(((https?:\/\/)|(www\.))([-A-Za-z0-9\u4e00-\u9fa5+&@#/%=~_$|?.'()!,:;]+)([-A-Za-z0-9\u4e00-\u9fa5+&@#/%=~_$|']))/gi,(function(e,t){var n=t;return n.match("^https?://")||(n="http://".concat(n)),'<a href="'.concat(n,'">').concat(t,"</a>")}))}function d(e,t){void 0===t&&(t="".concat(encodeURIComponent(e).replace(/%/g,"_"),"__").concat(Math.floor(1e5*Math.random())));var n=document.getElementById(t);return n||((n=document.createElement("script")).id=t,document.body.appendChild(n)),n.src!==e&&(n.src=e),t}function p(e,t){void 0===t&&(t="".concat(encodeURIComponent(e).replace(/%/g,"_"),"__").concat(Math.floor(1e5*Math.random())));var n=document.getElementById(t);return n||((n=document.createElement("link")).rel="stylesheet",n.id=t,document.body.appendChild(n)),n.href!==e&&(n.href=e),t}function h(e){return"string"==typeof e?e:(e=Array.isArray(e)?e:Object.entries(e)).reduce((function(e,t){t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||r(e,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t);var n=t[0];return t=t[1],e.append(n,t),e}),new URLSearchParams).toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.rem=t.linkify=t.isWebUrl=t.isLocalUrl=t.getSearchParam=t.escape=t.default=t.classes=t.appendStyleFile=t.appendScript=void 0,t.scrollIntoView=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e)return!1;"boolean"==typeof t&&(t={behavior:t?"smooth":"auto"});var n=void 0===(n=(i=t).ifNeed)||n,r=void 0===(r=i.checkScrollList)||r,o=void 0===(o=i.behavior)?"auto":o,a=void 0===(a=i.block)?"nearest":a,i=void 0===(i=i.inline)?"nearest":i;return r&&(r=e.closest(".scroll-list"))?(r.dispatchEvent(new CustomEvent("scrolllist",{bubbles:!0,detail:["scrollToElement",e,{behavior:o,block:a,ifNeed:n}]})),!0):n&&"function"==typeof e.scrollIntoViewIfNeeded?(e.scrollIntoViewIfNeeded("center"===t.block),!0):!!e.scrollIntoView&&(e.scrollIntoView({behavior:o,block:a,inline:i}),!0)},t.stringifySearchParams=h,t.strip=void 0,t.classes=a,t.rem=i,t.getSearchParam=l,t.strip=s,t.escape=u,t.isWebUrl=c,t.isLocalUrl=function(e){return"string"==typeof e&&/^file:\/\/[-A-Za-z0-9\u4e00-\u9fa5+&@#/%?=~_|!:,.;]+[-A-Za-z0-9\u4e00-\u9fa5+&@#/%=~_|]$/gi.test(e)},t.linkify=f,t.appendScript=d,t.appendStyleFile=p,t.default={classes:a,rem:i,getSearchParam:l,stringifySearchParams:h,strip:s,escape:u,isWebUrl:c,linkify:f,appendScript:d,appendStyleFile:p}},20213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=["onComplete"];function r(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var f=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");c(this,"tasks",new Map)}var t,r;return t=e,(r=[{key:"size",get:function(){return this.tasks.size}},{key:"cancelAll",value:function(){var e,t=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(this.tasks.entries());try{for(t.s();!(e=t.n()).done;){var n,r=l(e.value,2),o=r[0],a=r[1];window.cancelIdleCallback(o),null!=(n=a.onComplete)&&n.call(a,new Error("Idle task canceled."))}}catch(e){t.e(e)}finally{t.f()}this.tasks.clear()}},{key:"cancel",value:function(e){var t=this.tasks.get(e);return!!t&&(this.tasks.delete(e),window.cancelIdleCallback(e),null!=(e=t.onComplete)&&e.call(t,new Error("Idle task canceled.")),!0)}},{key:"request",value:function(e){var t=this,n=(l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).params,r=l.onComplete,o=l.name,l=l.timeout,s={id:null,params:void 0===n?[]:n,onComplete:r,name:o,timeout:l},u=window.requestIdleCallback(function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}((function*(){t.tasks.delete(u);try{var n=yield e.apply(void 0,a(s.params));null!=r&&r(null,n)}catch(n){null!=r&&r(n),DEBUG&&(console.collapse("Idle Task ERROR","redBg",s.name||"#".concat(u),"redPale",String(n),"red"),console.error("error",n),console.log("task",s),console.log("idleTaskList",t),console.groupEnd())}})),l?{timeout:l}:{});return s.id=u,this.tasks.set(u,s),u}},{key:"requestAndWait",value:function(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=r.onComplete,i=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,n);return new Promise((function(n,r){t.request(e,o(o({},i),{},{onComplete:function(e,t){null!=a&&a(e,t),e?r(e):n(t)}}))}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=f},84035:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageInfo=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){var e=r.width,n=r.height;t({width:e,height:n})},r.onerror=function(t){console.error('Cannot load image from "'.concat(e,'".')),n(t)},r.src=e}))},t.getThumbnailSize=function(e,t){var n=e.width,r=(e=e.height,t.width);return t=t.height,r&&r<n&&(e=Math.floor(r*e/n),n=r),t&&t<e&&(n=Math.floor(t*n/e),e=t),{width:n,height:e}}},38076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isJSONDataEqual=t.default=void 0;var r,o=(n=n(8541))&&n.__esModule?n:{default:n};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function u(e,t){return l(l(l({},t),e),{},{type:t.type})}function c(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!c(e[n],t[n]))return!1;return!0}if("object"!==a(e)||"object"!==a(t))return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var i=0,l=r;i<l.length;i++){var s=l[i];if(!c(e[s],t[s]))return!1}return!0}(n=r=r||{}).any="any",n.string="string",n.number="number",n.boolean="boolean",n.object="object";var f={string:{type:"string"},boolean:{type:"boolean",map:[!(n.array="array"),!0,null]},number:{type:"number"},array:{type:"array"},object:{type:"object"},any:{type:"any"}};t.isJSONDataEqual=c,n=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");s(this,"mappingScheme",void 0),s(this,"mappingSchemeCache",{}),s(this,"schemeNamesIndex",void 0),s(this,"schemeNamesIndexMap",void 0),s(this,"identify",void 0),this.mappingScheme=Object.freeze(l(l({},f),t))}var t,n;return t=e,(n=[{key:"version",get:function(){return this.mappingScheme.$version}},{key:"validation",get:function(){return!!this.mappingScheme.$validation}},{key:"omitDefaultProps",get:function(){return!!this.mappingScheme.$omitDefaultProps}},{key:"encodeName",get:function(){return!1!==this.mappingScheme.$encodeName}},{key:"formatDataScheme",value:function(e,t){if(e._schemeName=t,!(e.type in r)||t!==e.type){var n=this.getDataScheme(e.type);if(!n)throw(i=new o.default('JSONOptimizer: The scheme type "'.concat(t,'" referenced in "').concat(t,'" is not found.'))).scheme=e,i.optimizer=this,i;e=u(e,n)}if(e.extend){var i=this.getDataScheme(e.extend);if(!i)throw(n=new o.default('JSONOptimizer: The scheme type "'.concat(e.extend,'" extended in "').concat(t,'" is not found.'))).scheme=e,n.optimizer=this,n;e=function(e,t){t=t.props;var n=e.props;if(!t||!t.length||!n.length)return e;var r={},o=t.map((function(e,t){return r[e.name]=t,e}));return n.forEach((function(e){void 0!==r[e.name]?o[r[e.name]]=e:o.push(e)})),e.props=o,e}(e,i)}if(e.map){if(Array.isArray(e.map))for(var l=[],s=0;s<e.map.length;++s){var c=e.map[s];"object"===a(c)?l.push(JSON.stringify(c)):l.push(c)}else{var f=e.map;l={},Object.keys(f).forEach((function(e){var t=f[e];"object"===a(t)?l[e]=JSON.stringify(t):l[e]=t}))}e._mapForEncode=l}if(e.props&&e.props.length)for(var d=0;d<e.props.length;++d){if(!(p=e.props[d]).name)throw(h=new o.default('JSONOptimizer: One of scheme type "'.concat(e.extend,"\" 's properties name(index is ").concat(d,") is undefined."))).scheme=e,h.optimizer=this,h;var p=this.formatDataScheme(p,"".concat(t,".").concat(p.name)),h=this.getDataScheme(p.type);p=u(p,h),e.props[d]=p}return e}},{key:"getDataScheme",value:function(e,t){var n=this.mappingSchemeCache[e];return n||((n=!(n=this.mappingScheme[e])&&t?this.mappingScheme[t]:n)?(n=this.formatDataScheme(n,e),this.mappingSchemeCache[e]=n):null)}},{key:"getSchemeNameByIndex",value:function(e){return this.schemeNamesIndex||(this.schemeNamesIndex=Object.keys(this.mappingScheme).filter((function(e){return!e.startsWith("$")})),this.schemeNamesIndex.sort()),this.schemeNamesIndex[e]}},{key:"getSchemeIndexByName",value:function(e){if(!this.schemeNamesIndexMap){this.schemeNamesIndexMap={},this.getSchemeNameByIndex(0);for(var t=0;t<this.schemeNamesIndex.length;++t)this.schemeNamesIndexMap[this.schemeNamesIndex[t]]=t}return this.schemeNamesIndexMap[e]}},{key:"encodeWithScheme",value:function(e,t){var n=this,i=void 0===t?e.default:t;if(t instanceof Date)throw(l=new o.default('Date type is not supported in scheme "'.concat(e._schemeName,'".'))).scheme=e,l.optimizer=this,l.originalData=t,l.encodeData=i,l;if(e.map){var l=function(e,t){var n="object"===a(t)?JSON.stringify(t):t;if(Array.isArray(e)){for(var r=0;r<e.length;++r)if(e[r]===n)return r}else for(var o=e,i=Object.keys(o),l=0;l<i.length;++l){var s=i[l];if(o[s]===n)return s}}(e._mapForEncode,i);if(void 0!==l)return l}if(this.validation&&(l=function(e,t){if(void 0===t&&e.required)throw(n=new o.default('JSONOptimizer: Data value of scheme type "'.concat(e._schemeName,'" is required.'))).scheme=e,n;if(e.match){if(null===t)throw(n=new o.default('JSONOptimizer: Data value of scheme type "'.concat(e._schemeName,'" is not match regex rule, because original value is ').concat(t.toString(),"."))).scheme=e,n;var n="object"===a(t)?JSON.stringify(t):t.toString();if(!new RegExp(e.match).test(n))throw(t=new o.default('JSONOptimizer: Data value of scheme type "'.concat(e._schemeName,'" is not match regex rule.'))).scheme=e,t}return null}(e,i),l))return l;if(null!=i){if((l=r[e.type])===r.object){var s=e.props;if(!s||!s.length)throw(g=new o.default('JSONOptimizer: Properties scheme array is empty in data type scheme "'.concat(e._schemeName,'".'))).scheme=e,g.optimizer=this,g.originalData=t,g.encodeData=i,g;for(var u=[],f=-1,d=0;d<s.length;++d){var p=i[(h=s[d]).name],h=(this.omitDefaultProps&&!c(p,h.default)&&(f=d),this.encodeWithScheme(h,p));u.push(h)}return this.omitDefaultProps&&-1<f&&f<s.length-1&&u.splice(f+1,s.length-f-1),u}if(l===r.array&&i.length){if(!(g=e.arrType))throw(y=new o.default('JSONOptimizer: Array type name(arrType) cannot be empty in data type scheme "'.concat(e._schemeName,'" which is array type.'))).scheme=e,y.optimizer=this,y.originalData=t,y.encodeData=i,y;var m=this.getDataScheme(g);if(m)return i.map((function(e){return n.encodeWithScheme(m,e)}));throw(y=new o.default('JSONOptimizer: Array type scheme is not found in data type scheme "'.concat(e._schemeName,'" which is array type.'))).scheme=e,y.optimizer=this,y.originalData=t,y.encodeData=i,y}var y,g=a(i);if(l===r.string&&"string"!==g||l===r.number&&"number"!==g||l===r.boolean&&"boolean"!==g)throw(y=new o.default('JSONOptimizer: Value actual type "'.concat(g,'" is not match the type "').concat(l,'" of scheme "').concat(e._schemeName,'".'))).scheme=e,y.optimizer=this,y.originalData=t,y.encodeData=i,y;if(l===r.array&&"object"===g&&i instanceof Set)return Array.from(i)}return i}},{key:"decodeWithScheme",value:function(e,t){var n=this,i=t;if(null!=i){var l=a(i);if(e.map&&("string"===l||"number"===l)){s=e.map,u=i,Array.isArray(s);var s=s[u];if(void 0!==s)return s}var u=r[e.type];if(u===r.object){if(!Array.isArray(i))throw(s=new o.default('JSONOptimizer: Encoded data is not an array with scheme "'.concat(e._schemeName,'".'))).scheme=e,s.optimizer=this,s.encodedData=t,s;var c=e.props;if(!c||!c.length)throw(m=new o.default('JSONOptimizer: Properties scheme array is empty in data type scheme "'.concat(e._schemeName,'".'))).scheme=e,m.optimizer=this,m.encodedData=t,m;for(var f={},d=0;d<c.length;++d){var p,h=c[d];void 0!==(p=d>=i.length?h.default:this.decodeWithScheme(h,i[d]))&&(f[h.name]=p)}return f}if(u===r.array){if(!Array.isArray(i))throw(m=new o.default('JSONOptimizer: Encoded data is not an array with scheme "'.concat(e._schemeName,'".'))).scheme=e,m.optimizer=this,m.encodedData=t,m;var m=e.arrType;if(!m)throw(y=new o.default('JSONOptimizer: Array type name(arrType) cannot be empty in data type scheme "'.concat(e._schemeName,'" which is array type.'))).scheme=e,y.optimizer=this,y.encodedData=t,y;var y,g=this.getDataScheme(m);if(g)return i.map((function(e){return n.decodeWithScheme(g,e)}));throw(y=new o.default('JSONOptimizer: Array type scheme is not found in data type scheme "'.concat(e._schemeName,'" which is array type.'))).scheme=e,y.optimizer=this,y.encodedData=t,y}if(u===r.boolean&&"boolean"!==l)return DEBUG&&console.warn('JSONOptimizer: Encoded data type "'.concat(l,'" not match the scheme "').concat(e._schemeName,'" type "').concat(u,'".')),"number"===l?0<i:"string"===l?"1"===(m=i.toLowerCase())||"true"===m:e.default;if(u===r.number&&"number"!==l)return DEBUG&&console.warn('JSONOptimizer: Encoded data type "'.concat(l,'" not match the scheme "').concat(e._schemeName,'" type "').concat(u,'".')),"string"===l?i.length?Number.parseFloat(i):0:e.default;if(u===r.string&&"string"!==l)return DEBUG&&console.warn('JSONOptimizer: Encoded data type "'.concat(l,'" not match the scheme "').concat(e._schemeName,'" type "').concat(u,'".')),"".concat(i)}return i}},{key:"encode",value:function(e,t,n){if(!(n=this.getDataScheme(e,n)))throw(r=new o.default('JSONOptimizer: Scheme mapping object of data type "'.concat(e,'" is not found.'))).scheme=n,r.optimizer=this,r.originalData=t,r;var r=this.encodeWithScheme(n,t);return this.encodeName?[e,r]:r}},{key:"decode",value:function(e,t,n){if(this.encodeName){if(!Array.isArray(e))throw(r=new o.default('JSONOptimizer: Encoded data must be a array when use "encodeName" option.')).optimizer=this,r.encodedData=e,r;var r=e[0];t="number"==typeof r?this.getSchemeNameByIndex(r):r,e=e[1]}if(null==t)throw(r=new o.default("JSONOptimizer: Scheme name is null on decode data.")).optimizer=this,r.encodedData=e,r;if(r=this.getDataScheme(t,n))return this.decodeWithScheme(r,e);throw(n=new o.default('JSONOptimizer: Scheme mapping object of data type "'.concat(t,'" is no found.'))).optimizer=this,n.encodedData=e,n}},{key:"encodeToJSON",value:function(e,t,n){return JSON.stringify(this.encode(e,t,n))}},{key:"decodeFromJSON",value:function(e,t,n){return this.decode(JSON.parse(e),t,n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},19791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(r=n(2514))&&r.__esModule?r:{default:r},o=n(16986);function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){if((t=d(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function d(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var p=new WeakMap;n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(n=t?(n=c(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===l(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(r)}}(r);function r(e,t){if(this instanceof r)return function(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,{writable:!0,value:void 0})}(u(t=n.call(this,t)),p),f(u(t),p,e),t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"change",value:function(e,t){this.setData(t),f(this,p,e)}},{key:"name",get:function(){return(e=d(this,e=p,"get")).get?e.get.call(this):e.value;var e}},{key:"error",value:function(e){if(!e)return DEBUG&&(console.collapse("LANG.error","redBg","<Unknown Error>","redPale"),console.error(e),console.groupEnd()),"<Unknown Error>";if("string"==typeof e)return this.string(e.startsWith("error.")?e:"error.".concat(e),e);var t="";return e.code?t+=this.string("error.".concat(e.code),"".concat(e.message||"","[").concat(e.code,"]")):e.message&&(t=this.string("error.".concat(e.message),e.message)),t&&(e=e.formats||e.extras)?"object"!==l(e)||Array.isArray(e)?(Array.isArray(e)||(e=[e]),o.formatString.apply(void 0,[t].concat(a(e)))):(0,o.formatString)(t,e):t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(r.default),t.default=n},13544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadLazyModule=t.lazyModuleProxy=void 0;var r=n(64393);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,o,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=void 0===(u=(y=a||{}).root)?"node_modules":u,c=void 0!==(f=y.browser)&&f,f=void 0===(f=y.browserPath)?"":f,d=void 0!==(d=y.styleFile)&&d,p=void 0===(p=y.id)?"":p,h=y.onLoad,m=void 0===h?null:h,y=void 0===(h=y.beforeLoad)?null:h;if((h=s[e])===l)return t={},o=l,g='The module of "'.concat(e,'" is loading.'),o in t?Object.defineProperty(t,o,{value:g,enumerable:!0,configurable:!0,writable:!0}):t[o]=g,t;if(void 0!==h)return h;if(d&&(o="string"==typeof d?d:"",o=u?"".concat(u,"/").concat(o||"".concat(e,".css")):o||"".concat(e,".css"),(0,r.appendStyleFile)(o,"".concat(p||e.replace(/[/.]/g,"_"),"-style")),DEBUG_I&&(console.collapse("LazyModule","blueBg",e,"bluePale","<style> appended",""),console.log("styleFilePath",o),console.log("options",a),console.groupEnd())),y&&y(),i){var g=u&&"node_modules"!==u?"".concat(process.env.APP_ROOT,"/").concat(u,"/").concat(e):e;try{var b=require(g);return s[e]=b,m&&m(b),DEBUG&&(console.collapse("LazyModule","blueBg",e,"bluePale","require","red"),console.trace("module",b),console.log("fullPath",g),console.log("options",a),console.groupEnd()),b}catch(t){DEBUG&&(console.collapse("LazyModule","blueBg",e,"redPale","load failed with ".concat(t),"red"),console.error("error",t),console.log("fullPath",g),console.log("options",a),console.groupEnd())}}else if(c){var v,_,w,S=u?"".concat(u,"/").concat(f||"".concat(e,".js")):f||"".concat(e,".js");if((0,r.appendScript)(S,"lazyLoad_".concat(p||e.replace(/[/.]/g,"_"))),"string"==typeof c)return v=n.g[c],s[e]=void 0===v?l:v,m&&(void 0===v?(_=0,w=setInterval((function(){_++,void 0!==(v=n.g[c])?(s[e]=v,m(v),DEBUG&&(console.collapse("LazyModule","blueBg",e,"bluePale","loaded",""),console.trace("module",v),console.log("fullPath",S),console.log("options",a),console.log("lazyModuleCheckTimes",_),console.groupEnd()),clearInterval(w)):100<_&&clearInterval(w)}),100)):m(v)),DEBUG_I&&(console.collapse("LazyModule","blueBg",e,"bluePale","<script> appended","red"),console.trace("module",v),console.log("fullPath",S),console.log("options",a),console.groupEnd()),v;DEBUG_I&&(console.collapse("LazyModule","blueBg",e,"bluePale","<script> appended","red"),console.log("fullPath",S),console.log("options",a),console.groupEnd())}}var i=void 0!==n.g.require,l=Symbol("lazy_module_is_loading"),s={};t.loadLazyModule=a,t.lazyModuleProxy=function(e,t){!i&&t&&t.browser&&a(e,t);var r=new Proxy({},{get:function(i,s){if("$$typeof"!==s){if("__esModule"===s||"default"===s)return DEBUG_V&&(console.collapse("LazyModuleProxy","blueBg",e,"bluePale",s,""),console.trace("options",t),console.groupEnd()),r;var u=a(e,t);return u&&u[l]&&t&&t.browser&&(u=n.g[t.browser]),"$"===s?u:"object"===o(u)&&null!==u?u[s]:void 0}}});return DEBUG_V&&(console.collapse("LazyModuleProxy","blueBg",e,"bluePale","Imported!",""),console.log("options",t),console.groupEnd()),r}},7491:(e,t)=>{"use strict";function n(e,t){var n,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.generateContinuousList=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(e=Math.floor(e),(t=Math.floor(t))<e&&n||e<t&&!n)throw new Error("ILLEGAL_ARGUMENTS: from ".concat(e," to ").concat(t,", increment ").concat(n));if(e===t)return[e];var r=n?1:-1,o=Array(n?t-e:e-t).fill(0).reduce((function(e,t,n){return e.concat(e[n]+r)}),[e]);return DEBUG&&(console.collapse("List helper","grayBg","generate list","grayPale","list info: from ".concat(e,", to ").concat(t,", increment ").concat(n)),console.trace("list",o),console.groupEnd()),o},t.isDiffList=function(e,t){if(!e!=!t||e.length!==t.length)return!0;for(var n=e.length-1;0<=n;--n)if(e[n]!==t[n])return!0;return!1},t.mergeOrderedItem=function e(t,r){if(Array.isArray(r)){var o,a=n(r);try{for(a.s();!(o=a.n()).done;)e(t,o.value)}catch(e){a.e(e)}finally{a.f()}return t}var i=t.length;if(!i||t[i-1]<r)t.push(r);else if(t[0]>r)t.unshift(r);else for(var l=1;l<i;++l)if(r<t[l]){r!==t[l-1]&&t.splice(l,0,r);break}return t}},86273:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalID=function(){return r++},t.isLocalID=function(e){return n<=e};var n=Math.floor(Number.MAX_SAFE_INTEGER/2),r=Math.floor(n+Date.now()/2)+1},66834:(e,t,n)=>{"use strict";var r=(n=n(91230))&&n.__esModule?n:{default:n};function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}DEBUG&&"undefined"!=typeof window&&window.console&&function(){function e(e){var n=[""],r=[];return e.forEach((function(e,o){var a=Math.floor(o/2);o%2==1?(r[a]="%c".concat(r[a]),o="padding: 0 4px; border: 1px solid transparent;",Array.isArray(e)?o+=e.reduce((function(e,n){return e+(t[n]||n)}),""):"object"===i(e)?o+=Object.keys(e).reduce((function(t,n){return"".concat(t).concat(n,": ").concat(e[n])}),""):o+=t[e]||e,n.push(o)):r.push(e)})),n[0]=r.join(""),n}var t={rounded:"border-radius: 3px;",block:"display: block;",bold:"font-weight: bold;",h1:"font-size: 24px; font-weight: bold;",h2:"font-size: 20px; font-weight: bold;",h3:"font-size: 18px; font-weight: bold;",h4:"font-size: 16px; font-weight: bold;",h5:"font-size: 14px; font-weight: bold;",h6:"font-size: 12px; font-weight: bold;",muted:"color: #aaa;",pink:"color: #e91e63;",pinkLight:"color: #ff6090;",pinkDark:"color: #b0003a;",pinkPale:"background: rgba(233, 30, 99, 0.2); color: #e91e63; border-radius: 0 2px 2px 0",pinkBg:"background: #e91e63; color: #fff; border-radius: 2px 0 0 2px",pinkBgLight:"background: #ff6090; color: #fff;",pinkBgDark:"background: #b0003a; color: #fff;",pinkOutline:"color: #e91e63; border-color: #e91e63;",blue:"color: #2196f3;",blueLight:"color: #6ec6ff;",blueDark:"color: #0069c0;",bluePale:"background: rgba(33, 150, 243, 0.2); color: #2196f3; border-radius: 0 2px 2px 0",blueBg:"background: #2196f3; color: #fff; border-radius: 2px 0 0 2px",blueBgLight:"background: #6ec6ff; color: #fff;",blueBgDark:"background: #0069c0; color: #fff;",blueOutline:"color: #2196f3; border-color: #2196f3;",green:"color: #4caf50;",greenLight:"color: #80e27e;",greenDark:"color: #087f23;",greenPale:"background: rgba(76, 175, 80, 0.2); color: #4caf50; border-radius: 0 2px 2px 0",greenBg:"background: #4caf50; color: #fff; border-radius: 2px 0 0 2px",greenBgLight:"background: #80e27e; color: #fff;",greenBgDark:"background: #087f23; color: #fff;",greenOutline:"color: #4caf50; border-color: #4caf50;",red:"color: #f44336;",redLight:"color: #ff7961;",redDark:"color: #ba000d;",redPale:"background: rgba(244, 67, 54, 0.2); color: #f44336; border-radius: 0 2px 2px 0",redBg:"background: #f44336; color: #fff; border-radius: 2px 0 0 2px",redBgLight:"background: #ff7961; color: #fff;",redBgDark:"background: #ba000d; color: #fff;",redOutline:"color: #f44336; border-color: #f44336;",orange:"color: #ff9800;",orangeLight:"color: #ffc947;",orangeDark:"color: #c66900;",orangePale:"background: rgba(255, 152, 0, 0.2); color: #ff9800; border-radius: 0 2px 2px 0",orangeBg:"background: #ff9800; color: #fff; border-radius: 2px 0 0 2px",orangeBgLight:"background: #ffc947; color: #fff;",orangeBgDark:"background: #c66900; color: #fff;",orangeOutline:"color: #ff9800; border-color: #ff9800;",deepOrange:"color: #ff5722;",deepOrangeLight:"color: #ff8a50;",deepOrangeDark:"color: #c41c00;",deepOrangePale:"background: rgba(255, 87, 34, 0.2); color: #ff5722; border-radius: 0 2px 2px 0",deepOrangeBg:"background: #ff5722; color: #fff; border-radius: 2px 0 0 2px",deepOrangeBgLight:"background: #ff8a50; color: #fff;",deepOrangeBgDark:"background: #c41c00; color: #fff;",deepOrangeOutline:"color: #ff5722; border-color: #ff5722;",purple:"color: #9c27b0;",purpleLight:"color: #d05ce3;",purpleDark:"color: #6a0080;",purplePale:"background: rgba(156, 39, 176, 0.2); color: #9c27b0; border-radius: 0 2px 2px 0",purpleBg:"background: #9c27b0; color: #fff; border-radius: 2px 0 0 2px",purpleBgLight:"background: #d05ce3; color: #fff;",purpleBgDark:"background: #6a0080; color: #fff;",purpleOutline:"color: #9c27b0; border-color: #9c27b0;",teal:"color: #009688;",tealLight:"color: #52c7b8;",tealDark:"color: #00675b;",tealPale:"background: rgba(0, 150, 136, 0.2); color: #009688; border-radius: 0 2px 2px 0",tealBg:"background: #009688; color: #fff; border-radius: 2px 0 0 2px",tealBgLight:"background: #52c7b8; color: #fff;",tealBgDark:"background: #00675b; color: #fff;",tealOutline:"color: #009688; border-color: #009688;",indigo:"color: #3f51b5;",indigoLight:"color: #757de8;",indigoDark:"color: #002984;",indigoPale:"background: rgba(63, 81, 181, 0.2); color: #3f51b5; border-radius: 0 2px 2px 0",indigoBg:"background: #3f51b5; color: #fff; border-radius: 2px 0 0 2px",indigoBgLight:"background: #757de8; color: #fff;",indigoBgDark:"background: #002984; color: #fff;",indigoOutline:"color: #3f51b5; border-color: #3f51b5;",gray:"color: #666;",grayLight:"color: #999;",grayDark:"color: #333;",grayPale:"background: #6663; color: #666; border-radius: 0 2px 2px 0",grayBg:"background: #666; color: #fff; border-radius: 2px 0 0 2px",grayBgLight:"background: #999; color: #000;",grayBgDark:"background: #333; color: #fff;",grayOutline:"color: #666; border-color: #666;"},n=(console.color=function(){if(DEBUG){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=console).log.apply(t,o(e(r)))}},console.collapse=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=console).groupCollapsed.apply(t,o(e(r)))},console.collapse(r.default.name,["h1","pinkBg","block","padding: 5px 10px; border-radius: 10px 0 0 10px"],r.default.version,["h1","pinkPale","block","padding: 5px 10px; border-radius: 0 10px 10px 0"]),{Company:r.default.company,License:r.default.license,Homepage:r.default.homepage,Issues:r.default.bugs.url,BuildTime:r.default.buildTime});process.versions&&(process.versions.electron?n.Electron=process.versions.electron:process.versions.nw&&(n.NWJS=process.versions.nw),n.NodeJS=process.versions.node,process.versions.chrome?n.chrome=process.versions.chrome:process.versions.chromium&&(n.chromium=process.versions.chromium),n.modules=process.versions.modules,n.V8=process.versions.v8),process.arch&&(n.arch=process.arch),process.env&&["DIRNAME","LANG","NODE_ENV","HOT","HOT_SERVER","PERF","REACT_PERF","PERF_FPS_INTERVAL","EXTENSIONS_PATH","SKIP_INSTALL_EXTENSIONS","BROWSER_URL_PARAMS","DEV_TOOLS"].forEach((function(e){void 0!==process.env[e]&&(n["env.".concat(e)]=process.env[e])})),process.argv&&(n.argv=JSON.stringify(process.argv)),console.table(n),console.groupEnd()}()},15219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderer=t.default=void 0;var r=s(n(47084)),o=s(n(95931)),a=s(n(38358)),i=s(n(61862)),l=n(64393);function s(e){return e&&e.__esModule?e:{default:e}}n=new r.default.Renderer;var u=((t.renderer=n).code=function(e,t){var n=null,r=(t&&(r=t.indexOf(":"),o=t.lastIndexOf("."),-1<r?(n=t.substr(r+1),t=t.substr(0,r)):-1<o&&(t=(n=t).substr(o+1))),a.default.highlightAuto(e,t?[t]:void 0)),o=t||(r.language?"".concat(r.language,"?"):"");return'<pre class="code-block" '.concat(n?' data-name="'.concat(n,'"'):"").concat(o?' data-lang="'.concat(o,'"'):"",'><div class="hint--left btn-copy-code app-link" data-url="!copyCode/').concat(t||"",'" data-hint="').concat(i.default.string("common.copyCode"),'"><button class="btn iconbutton rounded primary-pale text-primary" type="button"><i class="icon mdi mdi-code-not-equal-variant icon-2x"></i></button></div><code data-lang="').concat(o,'" class="lang-').concat(r.language,'">').concat(r.value,"</code></pre>")},new Set(["class"])),c={a:new Set(["class","href","title"]),b:u,blockquote:u,code:!0,em:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,li:u,ol:u,ul:u,p:u,pre:u,address:u,s:u,i:u,sub:u,sup:u,strong:u,kbd:!0,del:!0,mark:!0,ins:!0,hr:!0,var:!0,table:u,tr:u,thead:u,th:new Set(["class","colspan","rowspan"]),td:new Set(["class","colspan","rowspan"]),tfoot:u,tbody:u,img:new Set(["class","src","alt","width","height"]),video:new Set(["class","controls","autoPlay","buffered","crossorigin","height","loop","muted","preload","poster","width","playsinline","src"]),source:new Set(["src","type"]),audio:new Set(["class","autoplay","buffered","controls","crossorigin","loop","muted","preload","src"]),track:new Set(["default","kind","label","src","srclang"]),div:u,span:u,dl:u,dt:u,dd:u,abbr:u,details:new Set(["class","open"]),summary:u,caption:u},f=new o.default.DefaultHandler;r.default.setOptions({renderer:n,breaks:!1,gfm:!0,sanitize:!0,sanitizer:function(e){if(e.startsWith("</"))return n=e.substring(2,e.length-1),c[n]?e:(0,l.strip)(e);var t=0<(n=e.indexOf(" ")),n=e.substring(1,t?n:e.length-1),r=c[n];if(!r)return(0,l.strip)(e);if(!(t&&r instanceof Set))return"<".concat(n,">");var a=["<".concat(n)],i=(new o.default.Parser(f).parseComplete("".concat(e,"</").concat(n,">")),(t=f.dom&&f.dom[0])&&t.attribs);return i&&Object.keys(i).forEach((function(e){var t;r.has(e)&&(t=i[e],"href"===e.toLowerCase()&&t&&t.trim().toLowerCase().startsWith("javascript:")||(t=t.replace(/"/g,"&quot;"),a.push("".concat(e,'="').concat(t,'"'))))})),a.push(">"),a.join(" ")},headerIds:!1,smartLists:!0,smartypants:!1,silent:!DEBUG}),u=r.default,t.default=u},83532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="sprite-file-excel",r="sprite-file-word",o="sprite-file-powerpoint",a="file-music",i="sprite-file-media",l="file-image",s="sprite-file-zip",u="language-html5",c={txt:"sprite-file-pages",md:"markdown",doc:r,docx:r,pages:r,xls:n,xlsx:n,csv:n,numbers:n,ppt:o,pptx:o,key:o,pdf:"sprite-file-pdf",zip:s,"7z":s,rar:s,iso:"disk",dmg:"disk",exe:"windows",app:"apple",bat:"console",sh:"console",avi:i,mp4:i,mkv:i,mov:i,wmv:i,ogg:a,mp3:a,wav:a,wma:a,aac:a,jpg:l,jpeg:l,png:l,apng:l,webp:l,gif:l,bmp:l,psd:l,tiff:l,svg:"file-xml",cpp:"language-cpp",c:"language-c",php:"language-php",js:"language-javascript",css:"language-css3",html:u,htm:u,ts:"language-typescript",swift:"language-swift",go:"language-go",cs:"language-csharp",py:"language-python"};t.default=function(e){return e.includes(".")&&(e=e.substr(e.lastIndexOf(".")+1),e=c[e.toLowerCase()])?e:"file-outline"}},8541:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t=i();return function(){var r,a=s(e);if(r=t?(r=s(this).constructor,Reflect.construct(a,arguments,r)):a.apply(this,arguments),a=this,r&&("object"===n(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return o(a)}}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return(a=i()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),t=new(Function.bind.apply(e,r)),n&&l(t,n.prototype),t}).apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);var n=r(a);function a(){var e=this;if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return u(o(e=n.call.apply(n,[this].concat(r))),"scheme",void 0),u(o(e),"originalData",void 0),u(o(e),"encodedData",void 0),u(o(e),"decodedData",void 0),u(o(e),"encodeData",void 0),u(o(e),"decodeData",void 0),u(o(e),"optimizer",void 0),e}return a}(function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)}(e)}(Error));t.default=c},69851:(e,t,n)=>{"use strict";function r(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.initPerf=function(e,t,u,c){var f,d,p,h,m="undefined"!=typeof window;function y(t){return{type:t.entryType,detail:t.detail,duration:t.duration,name:t.name,startTime:t.startTime,process:e}}m&&window.performance?(h=window,u=h.performance,c=h.PerformanceObserver):(n.g.performance=u,n.g.PerformanceObserver=c),new c((function(e){var n,r=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){var r;if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(e.getEntries());try{for(o.s();!(n=o.n()).done;){var i=n.value;""!==i.name[0]&&""!==i.name[0]&&r.push(y(i))}}catch(e){o.e(e)}finally{o.f()}1<r.length?t.send(r):r.length&&t.send(r[0]),m&&r.length&&console.log("%cPERF.entries","color:#f50057;font-weight:bold",r)})).observe({entryTypes:["mark","frame","measure"]}),s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mark:function(e){return y(u.mark(e))},measure:function(e){return y(u.measure(e))}},t.cmdHandlers)),t.on(function(){n=function*(n){var r;if(m&&console.log("%cPERF.message","color:#f50057;font-weight:bold",n),!t.messageHandler||!0!==t.messageHandler(n))if("cmd"===n.type){var o=n.mid,s=n.cmd,u=n.args,c=(c=l[s])||function(){return new Error('Invalid command name "'.concat(s,'".'))};try{var f=yield c.apply(void 0,function(e){if(Array.isArray(e))return i(e)}(r=u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||a(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());t.send({type:"cmd",mid:o,resolve:f,process:e})}catch(n){c={message:n.message,stack:n.stack,name:n.name},t.send({type:"cmd",mid:o,reject:c,process:e})}}else t.fallbackHandler&&t.fallbackHandler(n)};var n,o=function(){var e=this,t=arguments;return new Promise((function(o,a){var i=n.apply(e,t);function l(e){r(i,o,a,l,s,"next",e)}function s(e){r(i,o,a,l,s,"throw",e)}l(void 0)}))};return function(e){return o.apply(this,arguments)}}()),m&&(f=0,d=u.now(),p=process.env.PERF_FPS_INTERVAL?Number.parseInt(process.env.PERF_FPS_INTERVAL,10):500,h=function n(){f++;var r,o=u.now(),a=o-d;p<=a&&(a={type:"fps",fps:r=1e3*f/a,time:o,duration:a,process:e},t.memoryUsage&&(a.memory=t.memoryUsage()),t.cpuUsage&&(a.cpu=t.cpuUsage()),t.send(a),d=o,f=0,r<59&&console.log("%cPERF.fps","color:#f50057;font-weight:bold",r)),window.requestAnimationFrame(n)},window.requestAnimationFrame(h)),t.send({type:"ready",time:u.now(),now:Date.now(),process:e}),n.g.cmdHandlers=l},t.setPerfCommandHandlers=s,n.g.PERF=!!process.env.PERF,n.g.PERF_MARK_STASHES=n.g.PERF?new Set:null,n.g.PERF_MARK=n.g.PERF?function(e,t,r){var o;if(3<arguments.length&&void 0!==arguments[3]&&!arguments[3]||!t||n.g.PERF_MARK_STASHES.has(t))return o=performance.mark(e),n.g.PERF_MARK_STASHES.add(e),t&&n.g.PERF_MARK_STASHES.has(t)?(n.g.PERF_MARK_STASHES.delete(t),[o,performance.measure("".concat(r||"",":").concat(t,"-").concat(e),t,e)]):o;"undefined"!=typeof window&&console.log("%cPERF.mark fail","color:#f50057;font-weight:bold",'Measure start mark name "'.concat(t,'" not exists.'))}:function(){},n.g.PERF_MEASURE=n.g.PERF?function(e,t,n){return performance.measure(n||"".concat(e,"-").concat(t),e,t)}:function(){},n.g.PERF_HAS_MARK=n.g.PERF?function(e){return n.g.PERF_MARK_STASHES.has(e)}:function(){};var l=n.g.PERF?{}:null;function s(e){l&&Object.assign(l,e)}var u=n.g.PERF;t.default=u},52324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.default=void 0,n(13544).lazyModuleProxy)("tiny-pinyin",{browser:"Pinyin",root:"assets",id:"tiny-pinyin"});t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:" ";return"string"==typeof e&&e.length?(e=r.parse(e).map((function(e){return e.target})),"".concat(e.join("")).concat(t).concat(e.map((function(e){return e.length?e[0]:""})).join("")).toLowerCase()):""}},90625:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=function(e){return"object"===n(e)&&"function"==typeof e.then},t.limitTimePromise=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15e3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=new Promise((function(e,r){setTimeout((function(){var e="function"==typeof n?n():null!=n?n:new Error("[TIMEOUT]");r(e)}),t)}));return Promise.race([e,r])}},48389:(e,t)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createProxyPropertiesMap=t.createProxyHandler=t.createEventProxy=void 0,t.createProxyPropertiesMap=function(e,t){var n,r={},o=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;"string"==typeof l?r[l]={name:l,get:!0}:l.name&&(r[l.name]=l.deleted?null:l)}}catch(e){o.e(e)}finally{o.f()}return t?a(a({},t),r):r},t.createProxyHandler=function(e,t){var o={get:function(t,n){var r=e[n];if(r){if("string"==typeof r||!0===r.get)return t[n];if(r.get)return r.get(t);if(r.func)return r.func.bind(null,t)}return null==t._proxyData&&(t._proxyData={}),t._proxyData[n]},set:function(t,n,o){var a=e[n];if(a&&"object"===r(a)){if(!0===a.set)return t[n]=o,!0;if("function"==typeof a.set)return a.set(t,o),!0}else null!=t._proxyData||(t._proxyData={}),t._proxyData[n]=o;return!1},has:function(t,n){return!!(e[n]||t._proxyData&&t._proxyData[n])},deleteProperty:function(t,n){return!e[n]&&t._proxyData&&delete t._proxyData[n],!1},ownKeys:function(t){var r=Object.keys(e);return t._proxyData&&r.push.apply(r,n(Object.keys(t._proxyData))),r},getOwnPropertyDescriptor:function(t,n){var o=e[n];return o?{writable:"object"===r(o)&&!!o.set,configurable:!1,enumerable:!0}:t._proxyData?Object.getOwnPropertyDescriptor(t._proxyData,n):void 0},defineProperty:function(t,n,r){return!e[n]&&(null==t._proxyData&&(t._proxyData={}),Object.defineProperty(t,n,r),!0)},preventExtensions:function(){return!1},isExtensible:function(){return!0},getPrototypeOf:function(e){return null==e._proxyData&&(e._proxyData={}),Object.getPrototypeOf(e._proxyData)},setPrototypeOf:function(e,t){return null==e._proxyData&&(e._proxyData={}),Object.setPrototypeOf(e._proxyData,t)},apply:function(){throw new Error("Cannot call apply method on proxy object.")},construct:function(){throw new Error("Cannot call constructor on proxy object.")}};return t&&Object.assign(o,t),o},t.createEventProxy=function(e,t){var r=new Set(["clientX","clientY","altKey","bubbles","button","buttons","cancelable","ctrlKey","metaKey","movementX","movementY","pageX","pageY","screenX","screenY","timeStamp","type","stopPropagation","preventDefault"]);return new Proxy(e,a({get:function(e,t){if(r.has(t))return e._proxyData[t]},set:function(e,t,n){return!!r.has(t)&&(e._proxyData[t]=n,!0)},has:function(e,t){return!!(r.has(t)||e._proxyData&&e._proxyData[t])},deleteProperty:function(e,t){return!(r.has(t)||!e._proxyData||(delete e._proxyData[t],0))},ownKeys:function(e){var t=Array.from(r);return e._proxyData&&t.push.apply(t,n(Object.keys(e._proxyData))),t},getOwnPropertyDescriptor:function(e,t){if(r.has(t))return Object.getOwnPropertyDescriptor(e,t)},defineProperty:function(){return!1},preventExtensions:function(){return!1},isExtensible:function(){return!0},getPrototypeOf:function(e){return Object.getPrototypeOf(e)},setPrototypeOf:function(e,t){return Object.setPrototypeOf(e,t)},apply:function(){throw new Error("Cannot call apply method on proxy object.")},construct:function(){throw new Error("Cannot call constructor on proxy object.")}},t))}},71782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchScore=void 0,t.matchScore=function(e,t,n){Array.isArray(n)||(n=[n]),Array.isArray(e)||(e=[e]);var r=0,o=0;return n.forEach((function(n){null!=n&&n.length&&e.forEach((function(e){e=function(e,t,n){var r=0;if(null==(n=n[e.name]))return r;"number"==typeof n&&(n="".concat(n));var o,a=t;if(e.prefix){if(!(t.startsWith(e.prefix)&&t.length>e.prefix.length))return r;var i=t.lastIndexOf("(");a=")"===t[t.length-1]&&-1<i?t.substring(i+1,t.length-1):t.substr(e.prefix.length)}return e.array&&Array.isArray(n)?(o=0,n.forEach((function(t){t=t.trim().toLowerCase(),e.equal&&t===a?(r+=e.equal,o+=1):e.include&&t.includes(a)&&(r+=e.include,o+=1)})),o<n.length&&(r/=2)):(i=n.trim().toLowerCase(),e.equal&&i===a?r+=e.equal:e.include&&i.includes(a)&&(r+=e.include)),r}(e,n,t),e&&(o+=1,r+=e)}))})),o!==n.length&&(r/=2),r}},99087:(e,t)=>{"use strict";function n(e,t){var n,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.isSameSet=function(e,t){if(!e!=!t||e.size!==t.size)return!1;var r,o=n(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!t.has(a))return!1}}catch(e){o.e(e)}finally{o.f()}return!0},t.unionSets=function(e){for(var t=e instanceof Set?e:new Set(e),r=arguments.length,o=new Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(o.length){var i,l=n(o);try{for(l.s();!(i=l.n()).done;){var s,u=n(i.value);try{for(u.s();!(s=u.n()).done;){var c=s.value;t.add(c)}}catch(e){u.e(e)}finally{u.f()}}}catch(e){l.e(e)}finally{l.f()}}return t}},4829:(e,t,n)=>{"use strict";function r(e){return e&&(o?e.replace("Meta","Windows").replace("Command","Windows").replace("Option","Alt"):a?e.replace("Meta","Command").replace("Windows","Command").replace("Alt","Option"):e.replace("Command","Meta").replace("Windows","Meta").replace("Option","Alt"))}Object.defineProperty(t,"__esModule",{value:!0}),t.isOnlyModifyKeys=t.getKeyDecoration=t.formatKeyDecoration=void 0;var o=(n=((n=n(94128))&&n.__esModule?n:{default:n}).default.access("env")).isWindowsOS,a=n.isOSX,i={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"Capslock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"Scroll",191:"/",224:"Meta"},l=new Set(["Alt",18,"Meta",224,"Ctrl",17,"Shift",16,"Option","Windows","Command"]);t.formatKeyDecoration=r,t.getKeyDecoration=function(e){var t=e.keyCode,n=[];return e.shiftKey&&n.push("Shift"),e.ctrlKey&&n.push("Ctrl"),e.altKey&&n.push("Alt"),e.metaKey&&n.push("Meta"),t&&!l.has(t)&&(i[t]?n.push(i[t]):n.push(String.fromCharCode(t)||e.key)),r(n.join("+"))},t.isOnlyModifyKeys=function(e){return!!e&&e.split("+").every((function(e){return l.has(e)}))}},41384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCodeFromString=t.default=void 0,t.longShadow=f,t.skinStyle=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(28064)),o=["outline","pale","dark","textTint","backTint","darkText","lightText","color","code","textColor","hueSpace","threshold","darkLight","paleLight","saturation","lightness","name","longShadow"];function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u={outline:!1,pale:!1,dark:!1,code:"random",textTint:!0,backTint:!0,textColor:"",darkText:"#fff",lightText:"#333",hueSpace:43,threshold:.43,darkLight:.4,paleLight:.92,saturation:.7,lightness:.6,longShadow:!1},c=function(e){return e?e.split("").map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){return t+e})):0};function f(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8,a=("number"!=typeof e&&(e=40),r.default.create(t).darken(o).css),i=[],l=1;l<=e;++l)i.push("".concat(a," ").concat(l,"px ").concat(l,"px"));return t=i.join(","),n?t:{textShadow:t}}function d(e){var t,n,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=(a=("object"===s(e)?a=e:a.code=e,e=a=l(l({},u),a)).outline,e.pale),d=e.dark,p=e.textTint,h=e.backTint,m=e.darkText,y=e.lightText,g=e.color,b=e.code,v=e.textColor,_=e.hueSpace,w=e.threshold,S=e.darkLight,O=e.paleLight,M=e.saturation,C=e.lightness,k=(e.name,e.longShadow);return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,o),g||("string"!=typeof(b="random"===b?Math.floor(360*Math.random()):b)||(0,r.isColor)(b)||(b=c(b)),g=r.default.create(b="number"==typeof b?{h:b*_%360,s:M,l:C}:b)),g=r.default.create(g),_=v,a?(t=d?g.clone().setHsl({s:M,l:S}):i?g.clone().setHsl({s:M,l:O}):g,!_&&p&&(_=t)):_=h?(n=d?g.clone().setHsl({s:M,l:S}):i?g.clone().setHsl({s:M,l:O}):g,_||(n.isDark(w)?m:p?g.clone().setHsl({s:M,l:S}):y)):d?g.clone().setHsl({s:M,l:S}):i?g.clone().setHsl({s:M,l:O}):g,C=l({},e),n&&(C.backgroundColor=n.css),t&&(C.borderColor=t.css),_&&(C.color="string"==typeof _?_:_.css),k&&(C.textShadow=f(k,n,!0)),C}t.getCodeFromString=c,t.default={style:d,longShadow:f}},75413:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusKeeper=void 0;var r=n(48389);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function i(e,t){return(t=l(e,t,"get")).get?t.get.call(e):t.value}function l(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var s=new WeakMap;n=function(){function e(t,n){var r=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");a(this,"$",{}),a(this,"status",void 0),a(this,"mapper",void 0),function(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,{writable:!0,value:void 0})}(this,s),a(this,"onChange",void 0),this.mapper=n,this.status=null!=(t=n.getValue(t))?t:n.defaultValue,n.helpers&&Object.keys(n.helpers).forEach((function(e){var t;void 0===r.$[e]&&(t=n.helpers[e],Object.defineProperty(r.$,e,{get:function(){return t.call(r,r)}}))}))}var t,n;return t=e,(n=[{key:"proxy",get:function(){var e;return i(this,s)||(e=["name","value","is"],this.mapper.helpers&&e.push.apply(e,function(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object.keys(this.mapper.helpers))),function(e,t,n){if((t=l(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(this,s,new Proxy(this,(0,r.createProxyHandler)((0,r.createProxyPropertiesMap)(e))))),i(this,s)}},{key:"name",get:function(){return this.mapper.getName(this.status)}},{key:"value",get:function(){return this.mapper.getValue(this.status)}},{key:"canChange",value:function(e,t){return e=this.mapper.getValue(e),t=void 0!==t?this.mapper.getValue(t):this.value,void 0!==e&&t!==e&&this.mapper.canChange(t,e)}},{key:"change",value:function(e){e=this.mapper.getValue(e);var t=this.value;return t===e||(this.canChange(e)?(this.status=e,"function"==typeof this.onChange&&this.onChange(e,t,this),!0):(DEBUG&&console.error('Status "'.concat(this.mapper.getName(t),"(").concat(t,')" cannot change to "').concat(this.mapper.getName(e),"(").concat(e,')" with conversion rules.'),this),!1))}},{key:"is",value:function(e){return void 0!==(e=this.mapper.getValue(e))&&e===this.status}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.StatusKeeper=n},60811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(75413);function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function c(e,t){return t=function(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to get private field on non-instance")}(e,t),t.get?t.get.call(e):t.value}var f=new WeakMap,d=new WeakMap,p=new WeakMap;n=function(){function e(t,n,r,o){var l=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(u(this,"$",{}),s(this,f,{writable:!0,value:new Map}),s(this,d,{writable:!0,value:new Map}),s(this,p,{writable:!0,value:{}}),u(this,"defaultStatus",void 0),Array.isArray(t)?t.forEach((function(e,t){l.defineStatus(e,t)})):Object.keys(t).forEach((function(e){l.defineStatus(e,t[e])})),Object.freeze(this.$),void 0!==n&&(this.defaultStatus=this.getValue(n)),void 0===this.defaultStatus&&(this.defaultStatus=this.values[0]),Array.isArray(r)){var c,h=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}(r);try{for(h.s();!(c=h.n()).done;){var m=c.value.split(">");this.defineRule(m[0].trim(),m[1].trim())}}catch(n){h.e(n)}finally{h.f()}}"object"===a(o)&&null!==o&&this.defineHelpers(o)}var t,n;return t=e,(n=[{key:"defineHelpers",value:function(e){Object.assign(c(this,p),e)}},{key:"defineRule",value:function(e,t){e=this.getValue(e),c(this,d).has(e)?c(this,d).get(e).add(this.getValue(t)):c(this,d).set(e,new Set([this.getValue(t)]))}},{key:"defineStatus",value:function(e,t){if(void 0!==this.$[e])throw new Error("Cannot define status, the name '".concat(e,"' is duplicated."));if("number"!=typeof t)throw new Error("Cannot define status, the status value(".concat(t,") must be a number."));c(this,f).set(t,e),this.$[e]=t}},{key:"helpers",get:function(){return c(this,p)}},{key:"names",get:function(){return o(c(this,f).values())}},{key:"values",get:function(){return o(c(this,f).keys())}},{key:"defaultName",get:function(){return this.getName(this.defaultStatus)}},{key:"defaultValue",get:function(){return this.getValue(this.defaultStatus)}},{key:"getName",value:function(e,t){var n;return"number"==typeof e?null!=(n=c(this,f).get(e))?n:t:Object.prototype.hasOwnProperty.call(this.$,e)&&null!=e?e:t}},{key:"getValue",value:function(e,t){var n;return"string"==typeof e?null!=(n=this.$[e])?n:t:c(this,f).has(e)&&null!=e?e:t}},{key:"isSame",value:function(e,t){return this.getValue(e)===this.getValue(t)}},{key:"isLessOrSame",value:function(e,t){return this.getValue(e)<=this.getValue(t)}},{key:"isGreaterOrSame",value:function(e,t){return this.getValue(e)>=this.getValue(t)}},{key:"create",value:function(e){return void 0===e&&(e=this.defaultValue),new r.StatusKeeper(e,this)}},{key:"canChange",value:function(e,t){return!c(this,d).size||(null==(e=c(this,d).get(e))?void 0:e.has(t))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u(t.default=n,"Keeper",r.StatusKeeper)},81595:(e,t)=>{"use strict";function n(e,t){u.setItem(e,"string"==typeof(e=t)?e:JSON.stringify(e))}function r(e,t){return null!=(e=function(e){try{return JSON.parse(e)}catch(t){return e}}(u.getItem(e)))?e:t}function o(e){return u.removeItem(e)}function a(){return u.clear()}function i(){return u.length}function l(e){for(var t=i(),n=0;n<t;++n){var o=u.key(n);null!=e&&e(r(o),o,n)}}function s(){var e={};return l((function(t,n){e[n]=t})),e}Object.defineProperty(t,"__esModule",{value:!0}),t.storeGetAll=t.storeForEach=t.setStoreItem=t.removeStoreItem=t.getStoreLength=t.getStoreItem=t.default=t.clearStore=void 0;var u=window.localStorage,c=(t.setStoreItem=n,t.getStoreItem=r,t.removeStoreItem=o,t.clearStore=a,t.getStoreLength=i,t.storeForEach=l,t.storeGetAll=s,Object.freeze({set:n,get:r,remove:o,clear:a,forEach:l,get length(){return i()},get all(){return s()}}));t.default=c},16986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REGEXP_AT_USER=void 0,t.caculateScore=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:w;return g(e)||g(t)?0:e===t?n.matchAll:0===(t=t.indexOf(e))?n.matchPrefix:0<t?n.include:0},t.default=t.convertTimes=t.convertBytes=t.checkPhoneFormat=t.checkMobileFormat=t.checkEmailFormat=void 0,t.escapeRegExp=_,t.formatBytes=t.extractPortFromUrl=void 0,t.formatString=u,t.restoreMessageContainAt=t.limitStringLength=t.isWideCharacter=t.isValidIP=t.isNotEmptyString=t.isEmptyString=t.ifEmptyStringThen=t.getAsciiWidth=t.getAppearanceLength=void 0;var r,o,a=(n=n(34021))&&n.__esModule?n:{default:n};function i(){i=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){return r=new RegExp(e,r),t.set(r,o||t.get(e)),l(r,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}var o=n,a=RegExp;if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");return o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),a&&l(o,a),n.prototype.exec=function(t){return(t=e.exec.call(this,t))&&(t.groups=r(t,this)),t},n.prototype[Symbol.replace]=function(n,o){var a,i;return"string"==typeof o?(a=t.get(this),e[Symbol.replace].call(this,n,o.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))):"function"==typeof o?(i=this,e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=s(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,i)),o.apply(this,e)}))):e[Symbol.replace].call(this,n,o)},i.apply(this,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){if(0==(arguments.length<=1?0:arguments.length-1))return e;var t;if(1==(arguments.length<=1?0:arguments.length-1)&&"object"===s(arguments.length<=1?void 0:arguments[1]))return t=arguments.length<=1?void 0:arguments[1],Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&("string"==typeof r&&(r=r.replaceAll("$","$$$$")),e=e.replaceAll("{".concat(n,"}"),"".concat(r)))})),e;for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++){var r=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];void 0===r&&null===r||("string"==typeof r&&(r=r.replaceAll("$","$$$$")),e=e.replaceAll("{".concat(n,"}"),"".concat(r)))}return e}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return"number"!=typeof e&&(e=Number.parseInt(e,10)),Number.isNaN(e)?"?KB":(n=n||(e<o.KB?"B":e<o.MB?"KB":e<o.GB?"MB":e<o.TB?"GB":"TB"),(e/o[n]).toFixed(t)+n)}function f(e){return null!=e&&""!==e}function d(e,t){return g(e)?t:e}function p(e,t,n){return e.length>t&&(e=e.substring(0,t),n&&(e="".concat(e).concat(n))),e}function h(e){return a.default.length(e)}function m(e){return 1<a.default.characterLength(e)}function y(e){if(1===e.length)return b[e]||0;var t=!1;return e=e.split("").reduce((function(e,n){return(n=b[n])||(t=!0),n?e+n:e}),0),t?0:e}(n=r=r||{})[n.MS=1]="MS",n[n.S=1e3]="S",n[n.MIN=6e4]="MIN",n[n.H=36e5]="H",n[n.D=864e5]="D",(n=o=o||{})[n.B=1]="B",n[n.KB=1024]="KB",n[n.MB=1048576]="MB",n[n.GB=1073741824]="GB",n[n.TB=1099511627776]="TB",t.formatBytes=c,t.convertBytes=function(e){var t=(e=e.toUpperCase()).match(/^[0-9]*(B|KB|MB|GB|TB)$/);return t?(t=t[1],e=e.replace(t,""),Number.parseInt(e,10)*o[t]):0},t.convertTimes=function(e){var t=(e=e.toUpperCase()).match(/^[0-9]*(MS|S|MIN|H|D)$/);return t?(t=t[1],e=e.replace(t,""),Number.parseInt(e,10)*r[t]):0};var g=function(e){return null==e||""===e},b=(t.isEmptyString=g,t.isNotEmptyString=f,t.ifEmptyStringThen=d,t.limitStringLength=p,t.getAppearanceLength=h,t.isWideCharacter=m,{"!":18,'"':30,"#":30,$:30,"%":36,"&":36,"'":18,"(":24,")":24,"*":30,"+":30,",":18,"-":30,".":18,"/":30,0:30,1:30,2:30,3:30,4:30,5:30,6:30,7:30,8:30,9:30,":":18,";":18,"<":30,"=":30,">":30,"?":30,"@":36,A:36,B:36,C:36,D:36,E:36,F:36,G:36,H:36,I:24,J:30,K:36,L:36,M:42,N:36,O:36,P:36,Q:36,R:36,S:36,T:36,U:42,V:36,W:43,X:36,Y:36,Z:30,"[":24,"\\":30,"]":24,"^":30,_:30,"`":18,a:30,b:36,c:30,d:36,e:30,f:24,g:36,h:36,i:18,j:24,k:36,l:18,m:42,n:36,o:30,p:36,q:36,r:30,s:30,t:24,u:36,v:36,w:42,x:30,y:36,z:30,"{":24,"|":18,"}":24,"~":30}),v=(t.getAsciiWidth=y,t.checkMobileFormat=function(e){return/^1\d{10}$/.test(e)},t.checkEmailFormat=function(e){return/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)},t.checkPhoneFormat=function(e){return/^([0-9]{3,4}-?)?[0-9]{7,8}$/.test(e)},"@(#?[_.\\w\\d\\u4e00-\\u9fa5]{1,20})");function _(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}t.REGEXP_AT_USER=v,t.restoreMessageContainAt=function(e){return"string"==typeof e&&e.replace?e.replace(new RegExp("\\[(?<atuser>".concat(v,")\\]\\(\\@\\#\\d+\\)"),"g"),"$<atuser>"):e},t.isValidIP=function(e){return/\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b/gi.test(e)};var w={matchAll:100,matchPrefix:75,include:50,similar:10};function S(e){return(null!=(e=O.exec(e))?e:{groups:{port:""}}).groups.port}var O=i(/https?:\/\/.*?:([0-9]{2,5})\/?/,{port:1});t.extractPortFromUrl=S,n={format:u,isEmpty:g,isNotEmpty:f,formatBytes:c,ifEmptyThen:d,limitLength:p,getAppearanceLength:h,isWideCharacter:m,getAsciiWidth:y,escapeRegExp:_,extractPortFromUrl:S},t.default=n},2514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(16986);function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){return(t=s(e,t,"get")).get?t.get.call(e):t.value}function l(e,t,n){if((t=s(e,t,"set")).set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function s(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var u=new WeakMap;n=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");(function(e,t,n){var r=e;if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");t.set(e,{writable:!0,value:void 0})})(this,u),l(this,u,a({},t))}var t,n;return t=e,(n=[{key:"data",get:function(){return a({},i(this,u))}},{key:"setData",value:function(e){l(this,u,e)}},{key:"format",value:function(e){var t=this.string(e);if(void 0===t||!t.length)return"";for(var n=arguments.length,o=new Array(1<n?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];if(o&&o.length)try{return r.formatString.apply(void 0,[t].concat(o))}catch(n){throw new Error("Cannot format lang string with key '".concat(e,"', the lang string is '").concat(t,"'."))}return t}},{key:"string",value:function(e,t){return null!=(e=i(this,u)[e])?e:t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},75345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,n=null,r=0;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var l=Date.now();clearTimeout(n),t<l-r?(e.apply(void 0,a),r=Date.now()):n=setTimeout((function(){e.apply(void 0,a)}),l-r)}}},4547:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.generateRequestURL=void 0,t.generateRequestURL=function(e,t,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=void 0===(a=(l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{}).requestType)?"GET":a,i=void 0===(i=l.requestFix)?"-":i,l=void 0===(l=l.type)?"html":l;return t=encodeURIComponent(t),r=encodeURIComponent(r),"PATH_INFO"===a?(a=Object.values(o).map((function(e){return encodeURIComponent(e)})),"".concat(e).concat(t).concat(i).concat(r).concat(a.length?"".concat(i).concat(a.join(i)):"",".").concat(l)):"".concat(e,"index.php?m=").concat(t,"&f=").concat(r).concat(Object.entries(o).map((function(e){var t=(e=n(e,2))[0];return e=e[1],"&".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))})).join(""))}},74543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.compareVersions=void 0,t.formatVersion=o,t.simplifyVersion=void 0;var r=(n=n(74247))&&n.__esModule?n:{default:n};function o(e){return e.replace(/^([0-9]+)((?:\.[0-9]+)?)((?:\.[0-9]+)?)(?:[.\s-+]?)((?:[A-Za-z]+)?)((?:\.?[0-9]+)?)/gi,(function(e,t,n,r,o,a){return t=[t,n||".0",r||".0"],(o||a)&&t.push("-"),o&&t.push(o),a&&(o||t.push("build"),"."!==a[0]&&t.push("."),t.push(a)),t.join("")}))}function a(e){return e.replace(/^([0-9]+)((?:\.[0-9]+)?)((?:\.[0-9]+)?)(?:[.\s-+]?)((?:[A-Za-z]+)?)((?:\.?[0-9]+)?)/gi,(function(e,t,n,r,o,a){return t=[t,n||".0"],r&&".0"!==r&&"0"!==r&&t.push(r),(o||a)&&t.push("."),o&&t.push(o),a&&(o||t.push("build"),t.push("."===a[0]?a.substr(1):a)),t.join("")}))}t.simplifyVersion=a,n={compareVersions:t.compareVersions=function(e,t){return(0,r.default)(o(e),o(t))},formatVersion:o,simplifyVersion:a},t.default=n},92256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribeWindowSizeTypeChange=t.unsubscribeWindowSizeChange=t.subscribeWindowSizeTypeChange=t.subscribeWindowSizeChange=void 0;var r=n(28361),o=n(84401),a=new r.WindowSizeInfo,i=Symbol("window-size-type-change"),l=Symbol("window-size-change");window.addEventListener("resize",(function(e){var t=new r.WindowSizeInfo;a.type!==t.type&&o.immediateChannel.publish(i,t,a,e),a.width===t.width&&a.height===t.height||o.immediateChannel.publish(l,t,a,e),a=t})),t.subscribeWindowSizeTypeChange=function(e){return o.immediateChannel.subscribe(i,e)},t.unsubscribeWindowSizeTypeChange=function(e){return o.immediateChannel.unsubscribe(e)},t.subscribeWindowSizeChange=function(e){return o.immediateChannel.subscribe(l,e)},t.unsubscribeWindowSizeChange=function(e){return o.immediateChannel.unsubscribe(e)}},28361:(e,t)=>{"use strict";function n(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowSizeInfo=t.WindowSizeInfo=void 0,(o=r=r||{})[o.small=1]="small",o[o.middle=2]="middle",o[o.normal=3]="normal",o[o.large=4]="large";var r,o,a=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");n(this,"width",void 0),n(this,"height",void 0),n(this,"type",void 0),this.width=window.innerWidth,this.height=window.innerHeight;var t=this.width;this.type=t<500?"small":t<740?"middle":t<1080?"normal":"large"}var t,o;return t=e,(o=[{key:"typeValue",get:function(){return r[this.type]}},{key:"isSmall",get:function(){return 1===this.typeValue}},{key:"isLargerThanSmall",get:function(){return 1<this.typeValue}},{key:"isMiddle",get:function(){return 2===this.typeValue}},{key:"isLargerThanMiddle",get:function(){return 2<this.typeValue}},{key:"isSmallerThanMiddle",get:function(){return this.typeValue<2}},{key:"isNormal",get:function(){return 3===this.typeValue}},{key:"isLargerThanNormal",get:function(){return 3<this.typeValue}},{key:"isSmallerThanNormal",get:function(){return this.typeValue<3}},{key:"isLarge",get:function(){return 4===this.typeValue}},{key:"isSmallerThanLarge",get:function(){return this.typeValue<4}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.WindowSizeInfo=a,t.getWindowSizeInfo=function(){return new a}},51943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showAddCategoryDialog=t.default=void 0;var r=s(n(67294)),o=s(n(48516)),a=s(n(6022)),i=s(n(61862)),l=n(20491);function s(e){return e&&e.__esModule?e:{default:e}}n={show:t.showAddCategoryDialog=function(e){var t=null;return o.default.show({id:"app-add-category-dialog",modal:!0,closeButton:!1,title:i.default.string("chat.menu.addCategory.title"),style:{width:300},content:r.default.createElement(a.default,{ref:function(e){t=e}}),onSubmit:function(){var e=t.category;return e.name?!t.isNewNameExist()&&void(0,l.addCategory)(e.name):(o.default.alert(i.default.string("chats.menu.group.requiredNewName")),!1)}},e)}},t.default=n},6022:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(45697)),i=n(64393),l=n(45498),s=f(n(61862)),u=f(n(70389)),c=["className","onCategoryChange"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(o)}}(a);function a(e){var t;if(this instanceof a)return g(m(t=n.call(this,e)),"handleNewNameChange",(function(e,n){t.setState({newName:e}),n.stopPropagation()})),t.allCategories=(0,l.getChatCategories)("group"),t.state={newName:""},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"category",get:function(){return{name:this.state.newName}}},{key:"isNewNameExist",value:function(){var e=this.state.newName;return e&&(e===s.default.string("chats.menu.group.default")||this.allCategories.find((function(t){return t.id===e})))}},{key:"render",value:function(){var e=(t=this.props).className,t=(t.onCategoryChange,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,c));return o.default.createElement("div",p({className:(0,i.classes)("app-chats-add-category",e)},t),o.default.createElement("div",{className:"sub-control"},o.default.createElement(u.default,{onChange:this.handleNewNameChange,label:!1,placeholder:s.default.string("chats.menu.group.createTip"),helpText:this.isNewNameExist()?s.default.string("chats.menu.group.existsTip"):null})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),g(t.default=n,"propTypes",{className:a.default.string,onCategoryChange:a.default.func}),g(n,"defaultProps",{className:null,onCategoryChange:null})},56654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatAddCategoryDialog=t.default=void 0;var r=s(n(67294)),o=s(n(48516)),a=s(n(36899)),i=s(n(61862)),l=n(20491);function s(e){return e&&e.__esModule?e:{default:e}}n={show:t.showChatAddCategoryDialog=function(e,t){var n=null;return o.default.show({id:"app-chat-add-category-dialog",modal:!0,closeButton:!1,title:i.default.string("chats.menu.group.add"),style:{width:400},content:r.default.createElement(a.default,{ref:function(e){n=e},chat:e}),onSubmit:function(){var t=n.category,r=e.category;if(t.name!==r)return"create"!==t.type||t.name?void(0,l.setChatCategory)(e,t.name):(o.default.alert(i.default.string("chats.menu.group.requiredNewName")),!1)}},t)}},t.default=n},36899:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(64393),l=n(45498),s=h(n(61862)),u=h(n(70389)),c=h(n(18922)),f=h(n(21205)),d=h(n(74379)),p=["chat","className","children","onCategoryChange"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(n=t?(n=_(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return v(o)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e);var n=b(r);function r(e){var t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");return w(v(t=n.call(this,e)),"changeCategory",(function(){var e=t.props.onCategoryChange,n=(o=t.state).type,r=o.newName,o=o.selectName;e&&e("create"===n?r:o,n)})),w(v(t),"handleRadioGroupChange",(function(e,n){n.nativeEvent.isComposing||t.setState({type:e},(function(){var n="create"===e?t.inputGroup:t.selectBox;n&&n.focus(),t.changeCategory()}))})),w(v(t),"handleNewNameChange",(function(e,n){t.setState({newName:e},t.changeCategory),n.stopPropagation()})),w(v(t),"handleSelectNameChange",(function(e,n){t.setState({selectName:e},t.changeCategory),n.stopPropagation()})),e=e.chat,t.allCategories=(0,l.getChatCategories)(e.isOne2One?"contact":"group"),t.originCategory=e.category,t.state={type:t.allCategories&&t.allCategories.length?"modify":"create",selectName:t.originCategory,newName:""},t}return t=r,(e=[{key:"category",get:function(){var e=(n=this.state).type,t=n.newName,n=n.selectName;return{type:e,name:"create"===e?t:n}}},{key:"isNewNameExist",value:function(){var e=this.state.newName;return e&&(e===s.default.string("chats.menu.group.default")||this.allCategories.find((function(t){return t.id===e})))}},{key:"render",value:function(){var e,t=this,n=((a=this.props).chat,a.className),r=a.children,a=(a.onCategoryChange,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,p)),l=(m=this.state).type,h=m.newName,m=m.selectName,g=null,b=((l="create"===l)&&(g=o.default.createElement("div",{className:"sub-control"},o.default.createElement(u.default,{ref:function(e){t.inputGroup=e},defaultValue:h,onChange:this.handleNewNameChange,label:!1,placeholder:s.default.string("chats.menu.group.createTip"),helpText:this.isNewNameExist()?s.default.string("chats.menu.group.existsTip"):null}))),h=null,this.allCategories&&this.allCategories.length);return!l&&b&&(e=this.allCategories.filter((function(e){return"_archived"!==e.id&&"_dismissed"!==e.id&&"_hidden"!==e.id})).map((function(e){var n,r=e.title;return e.id?e.id===t.originCategory&&(r+=" (".concat(s.default.string("chats.menu.group.current"),")")):(n=s.default.string("chats.menu.group.default"))!==r&&(r+=" (".concat(n,")")),{label:r,value:e.id}})),h=o.default.createElement("div",{className:"sub-control"},o.default.createElement(d.default,{ref:function(e){t.selectBox=e},value:m,onChange:this.handleSelectNameChange,options:e}))),m=s.default.string("chats.menu.group.addExist"),o.default.createElement("div",y({className:(0,i.classes)("app-chats-add-category",n)},a),r,o.default.createElement(f.default,{onChange:this.handleRadioGroupChange},o.default.createElement(c.default,{name:"chat-category",disabled:!b,label:b?m:o.default.createElement("span",null,m," (",o.default.createElement("small",null,s.default.string("chats.menu.group.noCategoryToAdd")),")"),checked:!l,value:"modify"},h),o.default.createElement(c.default,{name:"chat-category",label:s.default.string("chats.menu.group.create"),checked:l,value:"create"},g)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),w(t.default=n,"propTypes",{className:a.default.string,children:a.default.any,chat:a.default.any.isRequired,onCategoryChange:a.default.func}),w(n,"defaultProps",{className:null,children:null,onCategoryChange:null})},89904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatArchiveDialog=function(e,t){r.default.show({closeButton:!1,content:o.default.string("chat.group.archive.alert"),onSubmit:function(){(0,a.toggleChatArchive)(e)}},t)};var r=i(n(48516)),o=i(n(61862)),a=n(20491);function i(e){return e&&e.__esModule?e:{default:e}}},67819:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatAvatarSettingsDialog=t.default=void 0;var r=d(n(67294)),o=d(n(48516)),a=d(n(61862)),i=d(n(31197)),l=d(n(24260)),s=n(18876),u=n(4547),c=n(15973),f=d(n(74160));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,l,"next",e)}function l(e){m(a,r,o,i,l,"throw",e)}i(void 0)}))}}function g(){return(g=y((function*(e){var t=new FormData,n=(t.append("imgFile",(0,s.dataURItoBlob)(e),"avatar.png"),e=(0,c.getCurrentUser)()).authKeyForServer,r=e.backendURL,o=e.account,a=e.requestType,i=(e=e.requestFix,(0,u.generateRequestURL)("","file","uploadChatAvatar",{},{requestFix:"_",requestType:a}));if(r=(0,u.generateRequestURL)(r,"im","authorize",{account:o,token:n,device:f.default.system.device||"desktop",url:i},{requestFix:e,requestType:a}),!(o=yield fetch(r,{method:"POST",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"},body:t})).ok)throw new Error("HTTP error! Status: ".concat(o.status));try{return(yield o.json()).id}catch(e){return console.error(e),null}}))).apply(this,arguments)}n={show:t.showChatAvatarSettingsDialog=function(e,t){var n,s={type:null,textAvatarData:{customText:"",bgColor:""},imageAvatarData:{imgUrl:""}};return o.default.show({title:a.default.format("chat.group.settings.groupAvatar.change"),style:{width:420,height:360},onSubmit:(n=y((function*(){var t;return"image"===s.type?!!(t=yield function(){return g.apply(this,arguments)}(s.imageAvatarData.imgUrl))&&(l.default.sendAndListen({method:"chatsetavatar",params:[e.gid,{type:s.type,data:{imgId:t}}]},!0),!0):"text"===s.type&&(l.default.sendAndListen({method:"chatsetavatar",params:[e.gid,{type:s.type,data:{bgColor:s.textAvatarData.bgColor,customText:s.textAvatarData.customText}}]},!0),!0)})),function(){return n.apply(this,arguments)}),content:r.default.createElement(i.default,{chat:e,getAvatarState:function(){return s},setAvatarState:function(e){"text"===e.type&&(s=h(h({},s),{},{type:e.type,textAvatarData:e.data})),"image"===e.type&&(s=h(h({},s),{},{type:e.type,imageAvatarData:e.data}))}})},t)}},t.default=n},27983:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChatImageAvatarSettings=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=s(n(87137)),i=(n(28571),n(97217)),l=s(n(45508));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.ChatImageAvatarSettings=function(e){var t=e.chat,n=e.getAvatarState,r=e.setAvatarState,s=(e=n(),(n=c((0,o.useState)(e.imageAvatarData.imgUrl),2))[0]),u=n[1];return(0,o.useEffect)((function(){r({type:"image",data:{imgUrl:s}})}),[s]),e=s?{type:"image",data:{imgUrl:s}}:t.avatar,n=(0,o.useCallback)((function(e){e.preventDefault(),e=e.target.files;var t=new FileReader;t.onload=function(){var e;(0,i.showImgCropperDialog)(null!=(e=t.result)?e:"",u)},e&&e.length&&t.readAsDataURL(e[0])}),[]),o.default.createElement("div",{className:"flex",style:{justifyContent:"space-between",width:200,alignItems:"center"}},o.default.createElement("div",{className:"preview-size avatar circle gray-pale"},o.default.createElement(l.default,{chat:{avatar:e},avatarSize:80})),o.default.createElement("label",{className:"preview-size avatar circle gray-pale pointer"},o.default.createElement(a.default,{name:"mdi-arrow-up-bold-box-outline",size:55,color:"white",style:{opacity:"70%"}}),o.default.createElement("input",{id:"file-upload-button",type:"file",accept:".jpg,.jpeg,.png",style:{display:"none"},onClick:function(e){e.target.value=null},onChange:n})))}},31197:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=_(n(67294)),a=b(n(45697)),i=n(64393),l=b(n(21205)),s=b(n(18922)),u=_(n(87137)),c=b(n(61862)),f=n(78717),d=n(27983),p=b(n(28784)),h=b(n(74933)),m=b(n(45508)),y=n(16986),g=b(n(32887));function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.chat,n=e.getAvatarState,r=(e=e.setAvatarState,(i=w((0,o.useState)((null==(i=t.avatar)?void 0:i.type)||"text"),2))[0]),a=i[1],i=(0,o.useCallback)((function(e){a(e)}),[]);return o.default.createElement("div",{className:"app-group-setting avatar-settings"},o.default.createElement(l.default,{className:"flex",onChange:i},o.default.createElement(s.default,{name:"textAvatar",label:c.default.string("chat.group.settings.groupAvatar.textAvatar"),value:"text",checked:"text"===r,className:"inline-block"}),o.default.createElement(s.default,{name:"imgAvatar",label:c.default.string("chat.group.settings.groupAvatar.uploadAvatar"),value:"image",checked:"image"===r,className:"inline-block"})),o.default.createElement("div",{style:{marginTop:25}},"text"===r?o.default.createElement(C,{chat:t,getAvatarState:n,setAvatarState:e}):o.default.createElement(d.ChatImageAvatarSettings,{chat:t,getAvatarState:n,setAvatarState:e})))}O.propTypes={chat:a.default.object.isRequired,getAvatarState:a.default.func.isRequired,setAvatarState:a.default.func.isRequired};var M=["#37C3A4","#66ADFF","#E05151","#E0B751","#A2E051","#51E067","#7C51E0","#E051DE","#E05177","#E09A51"];function C(e){var t=e.chat,n=e.getAvatarState,r=e.setAvatarState,a=((0,o.useEffect)((function(){return g.default.remove("app-emoji-popover"),function(){g.default.remove("app-emoji-popover")}}),[]),e=n(),n=t.public?M[0]:M[1],c.default.string("common.group"));e.textAvatarData.customText||e.textAvatarData.bgColor?(n=e.textAvatarData.bgColor,a=e.textAvatarData.customText):t.avatar&&"text"===t.avatar.type&&(n=t.avatar.data.bgColor,a=t.avatar.data.customText);var l=(e=w((0,o.useState)(a),2))[0],s=e[1],d=(e=w((0,o.useState)(n),2))[0],b=e[1],v=((0,o.useEffect)((function(){r({type:"text",data:{bgColor:d,customText:l}})}),[d,l]),e=M.map((function(e,t){return o.default.createElement("div",{style:{backgroundColor:e,color:"#fff"},className:(0,i.classes)("avatar-circle color-space relative"),key:"group-avatar-color-".concat(t),onClick:function(){v(e)}},e===d?o.default.createElement(u.default,{className:"abs-center",name:"mdi-check-bold"}):null)})),(0,o.useCallback)((function(e){b(e)}),[])),_=(0,o.useCallback)((function(e){e=e.getPlainText(),s(h.default.toShort(e))}),[]),S=(n=a||n||!t.avatar?{type:"text",data:{customText:l||c.default.string("common.group"),bgColor:d}}:t.avatar,(0,o.useRef)(null));return o.default.createElement("div",null,o.default.createElement("div",{className:"inline-block icon-custom-text flex"},o.default.createElement(m.default,{chat:{avatar:n},avatarSize:80}),o.default.createElement("div",{className:"space-left flex-middle"},o.default.createElement("p",null,c.default.string("chat.group.settings.groupAvatar.customText"),8<(0,y.getAppearanceLength)(l)?o.default.createElement("span",{className:"text-warning"},"(".concat(c.default.string("chat.group.settings.groupAvatar.customTextTooLong"),")")):null),o.default.createElement("div",null,o.default.createElement(p.default,{className:"app-group-avatar-drafteditor",ref:S,placeholder:c.default.string("chat.group.settings.groupAvatar.inputTextPlaceholder"),onChange:_,onPastedFiles:function(){return"handled"},onReturnKeyDown:function(){return"handled"},defaultState:h.default.shortnameToUnicode(a)}),o.default.createElement("button",{type:"button",className:"btn iconbutton rounded emoji-btn",onClick:function(e){(0,f.executeCommand)("showEmojiPopover",{x:e.pageX,y:e.pageY,target:e.target,placement:"bottom"},(function(e){S.current.appendEmoji(e)}))}},(0,u.renderIcon)("sprite-input-emoji"))),o.default.createElement("div",null,o.default.createElement("p",null,c.default.string("chat.group.settings.groupAvatar.chooseColor")),o.default.createElement("div",{className:"checkbox-list"},e),o.default.createElement("p",{className:"text-gray small"},c.default.string("chat.group.settings.groupAvatar.chooseColorTips"))))))}C.prototype={chat:a.default.object.isRequired,getAvatarState:a.default.func.isRequired,setAvatarState:a.default.func.isRequired},t.default=(0,o.memo)(O)},45508:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChatAvatarCommon=w,t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=m(n(2388)),l=m(n(87137)),s=m(n(88446)),u=m(n(28064)),c=m(n(67940)),f=m(n(86575)),d=m(n(41584)),p=["chat","className","grayOffline","avatarSize","iconSize","avatarClassName","showNoticeBadge","showStar","isPublic","children","showStatusDot"],h=["gid","children"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function w(e){var t,n,r=e.chat,f=e.className,h=(e.grayOffline,e.avatarSize),m=e.iconSize,y=e.avatarClassName,v=void 0===(v=e.showNoticeBadge)||v,w=void 0!==(w=e.showStar)&&w,S=void 0!==(S=e.isPublic)&&S,O=e.children,M=void 0!==(M=e.showStatusDot)&&M,C=(e=_(e,p),null),k=null,E=b((0,d.default)(),1)[0],P=r?(v&&0<r.unreadMessagesCount&&(C=o.default.createElement("span",{className:"label label-xs badge circle ".concat(r.isMuteOrHidden?"blue":"red")},99<r.unreadMessagesCount?"99+":r.unreadMessagesCount)),w&&r.star&&(k=o.default.createElement(l.default,{name:"star",className:"star"})),r.isOne2One?o.default.createElement(c.default,{className:y,memberID:r.theOtherMemberID,size:h,showStatusDot:M}):(v=["circle",y,t=r.isNotification?"red":r.isRobot?"accent":r.public?"green":"blue"],w={size:h,className:""},r.avatar?(n=(M=r.avatar).type,M=M.data,"image"===n?(w.image=o.default.createElement(s.default,{src:null==M?void 0:M.imgUrl},o.default.createElement(l.default,{name:"comment-multiple muted"})),w.icon=null,w.label=null):(w.label=(null==M?void 0:M.customText)||E.string("common.group",""),null!=M&&M.bgColor&&(w.skin={color:u.default.create(null==M?void 0:M.bgColor),textColor:"#fff"},v=v.filter((function(e){return e!==t}))))):r.isNotification?w.label=E.string("common.notificationIconLabel",""):r.isRobot?w.icon="mdi-bell-outline":S?(w.label=E.string("common.group",""),w.className=(0,a.classes)("circle",y,"green")):w.label=E.string("common.group",""),w.className=(0,a.classes)(v),o.default.createElement(i.default,w))):o.default.createElement(i.default,{size:h,iconSize:m,className:(0,a.classes)("circle info",y),icon:"comment-multiple"});return o.default.createElement("div",g({className:(0,a.classes)("app-chat-avatar",f)},e),P,O,C,k)}t.default=(0,o.memo)((function(e){var t=e.gid,n=e.children;return e=_(e,h),t=b((0,f.default)(t),1)[0],o.default.createElement(w,g({chat:t},e),n)}))},45802:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=_(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=v(n(45697)),i=v(n(73216)),l=n(64393),s=v(n(65286)),u=n(10088),c=n(57485),f=n(44374),d=v(n(19239)),p=v(n(97641)),h=n(32360),m=v(n(93206)),y=v(n(46005)),g=v(n(94128)),b=["gid","className"];function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(n=t?(n=M(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return O(o)}}(a);function a(e){var t;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");return C(O(t=n.call(this,e)),"_handleConferenceChange",(function(e){t.setState({conferenceOpen:!e.isClosed,hasVideoOrScreenShowed:(0,h.hasShownConferenceVideoOrScreen)(e.room)})})),e=e.gid,t.canUseChatConference=(0,c.canUseConference)(e,!0),e=t.canUseChatConference?(0,f.getConference)(e):null,t.state={conferenceOpen:e&&!e.isClosed,hasVideoOrScreenShowed:e&&e.isOpen&&(0,h.hasShownConferenceVideoOrScreen)(e.room)},t}return t=a,(e=[{key:"componentDidMount",value:function(){var e=this,t=this.props.gid;this.canUseChatConference&&(this.conferenceChangeHandler=(0,u.onConferenceChangeByCgid)(t,(function(t){e.handleConferenceChangeTimer&&clearTimeout(e.handleConferenceChangeTimer),e._conference=t,e.handleConferenceChangeTimer=setTimeout((function(){e.unmounted||(e.handleConferenceChangeTimer=null,e._handleConferenceChange(e._conference))}),500)})))}},{key:"componentWillUnmount",value:function(){this.conferenceChangeHandler&&s.default.off(this.conferenceChangeHandler),this.unmounted=!0}},{key:"render",value:function(){var e=(n=this.props).gid,t=n.className,n=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,b),r=(a=this.state).conferenceOpen,a=a.hasVideoOrScreenShowed;return r?g.default.isType("electron")||!a?o.default.createElement("div",w({className:(0,l.classes)("app-chat-body column single",t)},n),o.default.createElement(p.default,{cgid:e,className:"flex-none"}),o.default.createElement(d.default,{gid:e,className:"flex-auto"})):o.default.createElement(i.default,w({split:"horizontal",primary:"first",minSize:90,defaultSize:300,maxSize:-1,className:(0,l.classes)("app-chat-body column single not-selectable",t)},n),o.default.createElement(p.default,{cgid:e,className:"flex flex-none fluid"}),o.default.createElement(d.default,{gid:e,className:"flex-auto dock"})):o.default.createElement("div",w({className:(0,l.classes)("app-chat-body column single",t)},n),o.default.createElement(m.default,{gid:e,className:"flex flex-none"}),o.default.createElement(y.default,{gid:e,className:"flex flex-none"}),o.default.createElement(d.default,{gid:e,className:"flex-auto"}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),C(t.default=n,"propTypes",{gid:a.default.string.isRequired,className:a.default.string,children:a.default.any}),C(n,"defaultProps",{className:null,children:null})},46005:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=c(n(87137)),l=c(n(1805)),s=c(n(62906)),u=c(n(41584));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){e=e.gid;var t=(0,l.default)(e),n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),1!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,1):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,u.default)())[0];return t?o.default.createElement("div",{className:"app-chat-bulletin row single flex-none flex-middle text-accent accent-pale"},o.default.createElement(i.default,{name:"bullhorn",className:"flex-none"})," ",o.default.createElement(s.default,{type:"a",href:"xxc://showChatMessage//".concat(t.id),className:"small flex-auto",messageID:t.id,cgid:e,prefix:o.default.createElement("strong",{key:t.id},"[",n.string("chat.bulletin.type.".concat(t.type)),"] ")})):null}p.propTypes={gid:a.default.string.isRequired},t.default=(0,o.memo)(p)},99981:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=c(n(1805)),l=c(n(62906)),s=c(n(41584)),u=["gid"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.gid,n=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),(0,i.default)(t)),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),1!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,1):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,s.default)())[0];return n?o.default.createElement("div",e,o.default.createElement("span",{className:"accent label rounded label-xs"},r.string("chat.message.bulletin.type.".concat(n.type)))," ",o.default.createElement(l.default,{messageID:n.id,cgid:t})):null}p.propTypes={gid:a.default.string.isRequired},t.default=(0,o.memo)(p)},39113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatBulletinSettingDialog=t.default=void 0;var r=s(n(67294)),o=s(n(48516)),a=s(n(77108)),i=s(n(61862)),l=n(15973);function s(e){return e&&e.__esModule?e:{default:e}}n={show:t.showChatBulletinSettingDialog=function(e,t){var n=(0,l.getUserConfig)().getChatBulletinSetting(e.gid),s=null;return o.default.show({id:"app-chat-bulletin-setting-dialog",title:i.default.string("chat.bulletin.settings"),style:{width:280},actions:[{type:"submit"},{type:"cancel",label:i.default.string("chat.bulletin.cancel")}],content:r.default.createElement(a.default,{ref:function(e){s=e},chat:e,initialSetting:n||{}}),onSubmit:function(){var t=(r=s).unit,n=r.duration,r=r.type;(0,l.getUserConfig)().setChatBulletinSetting(e.gid,{unit:t,duration:n<1?1:n,type:r})},onCancel:function(){(0,l.getUserConfig)().setChatBulletinSetting(e.gid,null)}},t)}},t.default=n},77108:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=n(64393),l=p(n(70389)),s=p(n(18922)),u=p(n(21205)),c=p(n(74379)),f=p(n(61862)),d=["className","initialSetting"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(n=t?(n=b(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return g(o)}}(a);function a(e){var t;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");return v(g(t=n.call(this,e)),"handleRadioGroupChange",(function(e){t.type=e,t.setState({type:e})})),v(g(t),"handleInputControlChange",(function(e,n){t.duration=parseInt(e,10),n.target.value=t.duration})),v(g(t),"handleSelectBoxChange",(function(e){t.unit=e,t.setState({unit:e})})),e=e.initialSetting,t.type=e.type||"notice",t.duration=e.duration||"3",t.unit=e.unit||"day",t.state={type:e.type||"notice",unit:e.unit||"day"},t}return t=a,(e=[{key:"render",value:function(){var e=(t=this.props).className,t=(t.initialSetting,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,d)),n=(r=this.state).type,r=r.unit,a=["minute","hour","day","week"].map((function(e){return{value:e,label:f.default.string("common.time.".concat(e))}}));return o.default.createElement("div",m({className:(0,i.classes)("app-chat-bulletin-settings",e)},t),o.default.createElement("div",{className:"control"},o.default.createElement("label",{htmlFor:"bulletin-type"},f.default.string("chat.bulletin.type")),o.default.createElement(u.default,{name:"bulletin-type",onChange:this.handleRadioGroupChange},["notice","bulletin"].map((function(e){return o.default.createElement(s.default,{name:"chat-bulletin",key:e,label:f.default.string("chat.bulletin.type.".concat(e)),checked:e===n,value:e,className:"inline-block radio-sm"})})))),o.default.createElement("div",{className:"app-chat-bulletin-settings-duration"},o.default.createElement(l.default,{defaultValue:this.duration,onChange:this.handleInputControlChange,label:f.default.string("chat.bulletin.expiryDate"),inputType:"number",inputProps:{min:1},className:"inline-block"}),o.default.createElement(c.default,{value:r,onChange:this.handleSelectBoxChange,className:"inline-block",options:a})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),v(t.default=n,"propTypes",{className:a.default.string,initialSetting:a.default.object}),v(n,"defaultProps",{className:null,initialSetting:{}})},99270:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showChangeFontPopover=t.default=t.ChangeFontView=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(21898)),i=u(n(61862)),l=u(n(15973)),s=u(n(84836));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var m=[{size:12,lineHeight:1.5,title:12,titleLineHeight:1.5},{size:13,lineHeight:1.5384615385,title:13,titleLineHeight:1.53846153846},{size:14,lineHeight:1.5,title:14,titleLineHeight:1.4285714286},{size:15,lineHeight:1.5,title:15,titleLineHeight:1.6},{size:18,lineHeight:1.5,title:15,titleLineHeight:1.6},{size:20,lineHeight:1.5,title:16,titleLineHeight:1.75},{size:24,lineHeight:1.5,title:16,titleLineHeight:1.75},{size:30,lineHeight:1.5,title:18,titleLineHeight:1.666666667},{size:36,lineHeight:1.5,title:18,titleLineHeight:1.666666667}],y=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(n=t?(n=p(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return d(o)}}(a);function a(e){var t;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");h(d(t=n.call(this,e)),"handleSliderChange",(function(e){e=parseInt(e.target.value,10),t.setState({select:e}),t.changeFontSizeTask.do(e)})),h(d(t),"handleResetBtnClick",(function(){t.setState({select:1}),t.changeFontSizeTask.do(1)})),t.state={select:1};var r=l.default.userConfig.chatFontSize;return r&&-1<(e=m.findIndex((function(e){return e.size===r.size})))&&(t.state.select=e),t.changeFontSizeTask=new s.default((function(){var e=t.state.select;l.default.userConfig.chatFontSize=m[e]}),200),t}return t=a,(e=[{key:"componentWillUnmount",value:function(){this.changeFontSizeTask.isDone||this.changeFontSizeTask.doIm()}},{key:"render",value:function(){var e=this.state.select,t=m[e];return o.default.createElement("div",{className:"box rounded"},o.default.createElement("div",{className:"flex space space-between"},o.default.createElement("strong",null,i.default.string("chat.sendbox.toolbar.setFontSize")),o.default.createElement("small",{className:"text-gray"},i.default.format("chat.fontSize.current.format",t.size),"px  ",1!==e?o.default.createElement("a",{className:"text-primary",onClick:this.handleResetBtnClick},i.default.string("chat.fontSize.resetDefault")):null)),o.default.createElement("input",{className:"fluid",type:"range",min:"0",value:e,max:m.length-1,step:"1",onChange:this.handleSliderChange}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);t.ChangeFontView=y,n={show:t.showChangeFontPopover=function(e,t){return a.default.show(e,o.default.createElement(y,null),{id:"app-chat-change-font-popover",width:250,height:80},t)}},t.default=n},32286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatCommittersSettingDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=l(n(7290)),i=l(n(61862));function l(e){return e&&e.__esModule?e:{default:e}}n={show:t.showChatCommittersSettingDialog=function(e,t,n){var l=null;return o.default.show({title:i.default.format("chat.committers.setCommittersFormat",e.name),style:{width:"80%"},onSubmit:function(){l&&t&&t(e,l.getCommitters())},content:r.default.createElement(a.default,{ref:function(e){l=e},chat:e})},n)}},t.default=n},7290:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=g(n(67294)),a=m(n(45697)),i=n(64393),l=m(n(87137)),s=m(n(61862)),u=m(n(58851)),c=m(n(74379)),f=m(n(53158)),d=n(33417),p=g(n(74101)),h=["chat","className","children"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=y;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e);var n,a,m=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(n=t?(n=M(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return O(o)}}(y);function y(e){var t;if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");C(O(t=m.call(this,e)),"handleSelectChange",(function(e){t.setState({type:e})}));var n=e.chat,r=(e=n.committersType,(0,d.getChatMembers)(n)),o=n.whitelist||new Set,a=!o.size,i=r.filter((function(e){return n.isAdmin(e)})),l=i.length;return a&&i.forEach((function(e){return o.add(e.id)})),t.state={type:e,whitelist:o,chatMembers:r,adminsCount:l},t}return t=y,(e=[{key:"componentDidMount",value:(n=function*(){var e,t;this.state.chatMembers.length||(t=this.props.chat,yield(0,p.fetchChatMembersFromRemote)(t.gid),e=v((t=p.default.getChat(t.gid)).members),this.setState({chatMembers:e,adminsCount:t.admins.size+1}))},a=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){w(a,r,o,i,l,"next",e)}function l(e){w(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"getCommitters",value:function(){var e=this.state.type;return"whitelist"===e?this.state.whitelist:"admins"===e?"$ADMINS":""}},{key:"handleCheckboxChange",value:function(e,t){var n=this.state.whitelist;t?n.add(e):n.delete(e),this.setState({whitelist:n}),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=((r=this.props).chat,r.className),n=r.children,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,h),a=(m=this.state).whitelist,d=m.type,p=m.chatMembers,m=m.adminsCount;return m=[{value:u.default.COMMITTERS_TYPES.all,label:"".concat(s.default.string("chat.committers.type.all"),"(").concat(p.length,")")},{value:u.default.COMMITTERS_TYPES.admins,label:"".concat(s.default.string("chat.committers.type.admins"),"(").concat(m,")")},{value:u.default.COMMITTERS_TYPES.whitelist,label:"".concat(s.default.string("chat.committers.type.whitelist"),"(").concat(a.size,")")}],o.default.createElement("div",b({},r,{className:(0,i.classes)("app-chat-committers-setting",t)}),o.default.createElement("div",{className:"text-gray space-sm flex flex-middle"},o.default.createElement(l.default,{name:"information-outline"})," ",s.default.string("chat.committers.committersSettingTip")),o.default.createElement(c.default,{className:"space-sm",style:{width:"50%"},value:d,options:m,onChange:this.handleSelectChange}),"whitelist"===d&&o.default.createElement("div",{className:"checkbox-list rounded box x-outline"},p.map((function(t){return o.default.createElement(f.default,{key:t.id,className:"inline-block",onChange:e.handleCheckboxChange.bind(e,t.id),checked:a.has(t.id),label:t.displayName})}))),n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),y}(o.PureComponent),C(t.default=n,"propTypes",{chat:a.default.instanceOf(u.default),className:a.default.string,children:a.default.any}),C(n,"defaultProps",{chat:null,className:null,children:null})},92409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showConferenceCreateDialog=function(e){return m.apply(this,arguments)},t.showConferenceInviteDialog=function(e,t,n){return y.apply(this,arguments)},t.showShareConferenceDialog=function(e,t){return g.apply(this,arguments)};var r=n(57485),o=n(93881),a=n(22852),i=f(n(74101)),l=n(20491),s=f(n(61862)),u=n(78717),c=n(13501);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,l,"next",e)}function l(e){p(a,r,o,i,l,"throw",e)}i(void 0)}))}}function m(){return(m=h((function*(e){var t=yield(0,c.showChatMembersSelectDialog)(e,{selections:1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],selectTip:s.default.string("conference.selectParticipants")});return null!=t&&t.length&&(yield(0,u.executeCommand)("createConference",e,t,!1,"audio")),t}))).apply(this,arguments)}function y(){return(y=h((function*(e,t,n){return t=(0,r.isConferenceNumber)(e)?yield(0,o.showMembersSelectDialog)({id:"".concat(e,"-ConferenceInviteDialog"),excludes:t,selectTip:s.default.string("conference.selectParticipants")}):yield(0,c.showChatMembersSelectDialog)(e,{id:"".concat(e,"-ConferenceInviteDialog"),excludes:t,selectTip:s.default.string("conference.selectParticipants")}),n&&n(),null!=(n=t)&&n.length&&(yield(0,u.executeCommand)("inviteConference",e,t)),t}))).apply(this,arguments)}function g(){return(g=h((function*(e,t){var n;if(n=(n=yield(0,a.showChatsSelectDialog)({selectTip:s.default.string("conference.share.selectTip")}))&&n.length?i.default.getChats(n):null){var r,o=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(n);try{for(o.s();!(r=o.n()).done;){var u=r.value,c=(0,l.createShareConferenceMessage)(e,u);(0,l.sendChatMessage)(c,u)}}catch(e){o.e(e)}finally{o.f()}t&&t()}}))).apply(this,arguments)}},41629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initChatConferenceInviteCard=function(){(0,c.effect)((function(){var e;a.isShowChatConferenceMenuItem.value?i.default.remove("conference-invite",null):(e=(0,u.getActiveChatGid)())&&(0,u.isOpenedActiveChat)(e)&&y((0,f.getAllActiveConferenceByCgid)(e).filter((function(e){return e.isCurrentUserInvited})).pop())})),(0,d.onConferenceChange)((function(){var e=(0,u.getActiveChatGid)();e&&(0,u.isOpenedActiveChat)(e)&&y((0,f.getAllActiveConferenceByCgid)(e).filter((function(e){return e.isCurrentUserInvited})).pop())})),(0,h.onRoutePathChange)((function(){var e=(0,u.getActiveChatGid)();y((0,f.getAllActiveConferenceByCgid)(e).filter((function(e){return e.isCurrentUserInvited})).pop())}))},t.showChatConferenceInviteCard=y;var r=n(57485),o=m(n(67294)),a=n(79913),i=m(n(32887)),l=m(n(41698)),s=n(15973),u=n(68271),c=n(59726),f=n(44374),d=n(10088),p=m(n(74101)),h=n(40910);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){var t,n,c,f;n=e,c=(0,s.getCurrentUser)(),f=a.isShowChatConferenceMenuItem.value,!n||f||n.isClosed||n.isClosing||!(0,u.isChatsAppActive)()||!(0,u.isActiveChat)(n.cgid)||(0,r.isIgnoredConference)(n)||n.isJoinedOnOtherDevice(c.id)||n.haveJoinedBefore(c.id)||n.isParticipant(c.id)||!n.isCurrentUserInvited||n.cgid==="".concat(c.id,"&").concat(c.id)||n.openedBy===c.id?i.default.remove("conference-invite",null):(f=document.body.getBoundingClientRect(),n=p.default.getChat((0,u.getActiveChatGid)()),t=null==(c=document.querySelector(".app-chat:not(.hidden) .app-chat-body"))?void 0:c.getBoundingClientRect(),c=c&&t.right?{top:(t=c.getBoundingClientRect()).top+15,right:f.width-t.right+20}:{top:60,right:20},i.default.show({id:"conference-invite",className:"fixed layer rounded",backdrop:!1,style:c,zIndex:1e3,content:o.default.createElement(l.default,{conference:e,showFirstConferenceTip:!0,hideBrief:n.isOne2One})}))}},58279:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=b(n(68634)),l=b(n(36443)),s=n(98649),u=b(n(65286)),c=n(10088),f=n(57485),d=n(44374),p=n(32360),h=b(n(61862)),m=b(n(84431)),y=b(n(74101)),g=["cgid","children","className"];function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(n=t?(n=M(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return O(o)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function k(e){var t=m.default.getMember(Number(e.currentTarget.getAttribute("data-id")));e.target instanceof Element&&(0,s.showContextMenu)("member.profile",{event:e,showMentionBtn:!0,member:t,options:{onItemClick:function(){return!1},position:{x:e.target.parentNode.parentNode.getBoundingClientRect().x-20,y:e.target.parentElement.getBoundingClientRect().y,direction:"bottom-left"}}})}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n=S(r);function r(e){var t;if(this instanceof r)return C(O(t=n.call(this,e)),"_canUseChatConference",void 0),C(O(t),"_conferenceChangeHandler",void 0),C(O(t),"_conference",void 0),C(O(t),"handleItemRender",(function(e){return o.default.createElement(l.default,{key:e.account,conference:t._conference,member:e,onContextMenu:t.handleItemContextMenu,onClick:k})})),C(O(t),"handleItemContextMenu",(function(e){var n=m.default.getMember(Number(e.currentTarget.getAttribute("data-id"))),r=t.props.cgid;(0,s.showContextMenu)("chat.sidebar.member",{chat:y.default.getChat(r),event:e,member:n})})),t._canUseChatConference=(0,f.canUseConference)(t.props.cgid,!0),t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){var e=this;this._canUseChatConference&&(this._conferenceChangeHandler=(0,c.onConferenceChangeByCgid)(this.props.cgid,(function(t){e._conference=t,e.forceUpdate()})))}},{key:"componentWillUnmount",value:function(){this._conferenceChangeHandler&&u.default.off(this._conferenceChangeHandler)}},{key:"render",value:function(){var e=(r=this.props).cgid,t=r.children,n=r.className,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,g);if(!this._canUseChatConference)return null;if(this._conference||(this._conference=(0,d.getConference)(e)),!this._conference)return null;if(!(0,f.isJoinedConference)(this._conference)&&!(0,p.isConferenceServerConnected)(this._conference))return null;if(!(e=this._conference.participantsList).length)return null;var l=(0,f.getConferenceParticipantMembers)(this._conference);return o.default.createElement("div",_({},r,{className:(0,a.classes)("app-chat-conference-participants rounded darken-0 primary x-outline",n)}),o.default.createElement("div",{className:"heading compact"},o.default.createElement("div",{className:"title strong text-primary small muted"},h.default.string("conference.participantsList")," (",e.length,")")),o.default.createElement(i.default,{itemRender:this.handleItemRender,className:"compact fluid flex-auto",members:l}),t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),t.default=n},97641:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(67294)),o=n(64393),a=n(44374),i=n(57485),l=f(n(16276)),s=n(15973),u=n(14227),c=["cgid","className"];function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=r.default.memo((function(e){var t=e.cgid,n=e.className,f=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,c),(0,s.getCurrentUser)()),p=(0,a.getAllActiveConferenceByCgid)(t).filter((function(e){return e.isCurrentUserInvited&&!e.isIgnored(f.id)})).pop();return!p||p.isClosed||(0,i.isIgnoredConference)(p)||p.isJoinedOnOtherDevice(f.id)||p.haveJoinedBefore(f.id)&&!p.isParticipant(f.id)||f.config.useInitConference&&p.isOne2One&&p.cgid==="".concat(f.id,"&").concat(f.id)||u.isUsedIndependentConferenceWindow?null:r.default.createElement("div",d({className:(0,o.classes)("app-chat-conference relative primary-pale flex-none single column",n)},e),r.default.createElement(l.default,{cgid:t,className:"flex-auto"}))}))},68232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showCreateChatDialog=t.default=void 0;var r=c(n(61862)),o=n(68271),a=n(33417),i=c(n(68788)),l=n(15973),s=n(17215),u=n(93881);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}n=function(){e=function*(e,t){if((e=yield(0,u.showMembersSelectDialog)({selections:e,excludes:[(0,l.getCurrentUserID)()],scopes:["depts"]},t))&&0<e.length)if(1===e.length)(0,o.setActiveChat)(a.getOne2OneChatGid.apply(void 0,function(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e)));else try{yield(0,s.showChatCreateGroupsDialog)(e)}catch(e){i.default.show(r.default.error(e),{type:"danger"})}};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e,n){return t.apply(this,arguments)}}(),n={show:t.showCreateChatDialog=n},t.default=n},17215:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatCreateGroupsDialog=t.default=void 0;var r=c(n(67294)),o=c(n(48516)),a=c(n(60307)),i=n(20491),l=c(n(68788)),s=c(n(61862)),u=n(68271);function c(e){return e&&e.__esModule?e:{default:e}}n={show:t.showChatCreateGroupsDialog=function(e,t){return new Promise((function(n,l){var s="app-chat-create-groups-dialog";o.default.show({id:s,className:"app-chat-create-groups-dialog",content:r.default.createElement(a.default,{onRequestClose:function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t&&t.name?(t.name=t.name.trim(),(0,i.createChatWithMembers)(e,t).then((function(e){(0,u.setActiveChat)(e),n(e);var t=r.category;return t&&(0,i.setChatCategory)(e,t),e})).catch(l)):n(),o.default.hide(s)}}),actions:!1,closeButton:!1},t)})).catch((function(e){e&&l.default.show(s.default.error(e),{type:"danger"})}))}},t.default=n},60307:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=m(n(45697)),i=m(n(61862)),l=m(n(18922)),s=m(n(21205)),u=m(n(70389)),c=m(n(55072)),f=m(n(94128)),d=n(16986),p=n(45498),h=m(n(74379));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=f.default.env.isOSX;n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(n=t?(n=v(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(o)}}(a);function a(e){var t;if(this instanceof a)return _(b(t=n.call(this,e)),"handleRadioChange",(function(e,n){"visibility"!==(n=n.target.name)&&"avatar"!==n||t.setState(_({},n,e))})),_(b(t),"handleGroupNameChange",(function(e){t.setState({name:e})})),_(b(t),"handleCreateBtnClick",(function(){var e=(r=t.state).name,n=r.visibility,r=r.selectCategory;t.requestClose({name:e,public:"public"===n},{category:r})})),_(b(t),"handleSelectCategoryChange",(function(e,n){t.setState({selectCategory:e})})),t.state={avatar:"default",visibility:"private",name:"",selectCategory:""},t.allCategories=(0,p.getChatCategories)("group"),t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"requestClose",value:function(e){var t=this.props.onRequestClose;t&&t(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"render",value:function(){var e=(n=this.state).visibility,t=(n.avatar,n.name),n=n.selectCategory,r=[o.default.createElement(c.default,{disabled:(0,d.isEmptyString)(t.trim()),key:"btn-confirm",className:"btn-wide bg-primary rounded",onClick:this.handleCreateBtnClick,label:i.default.string("chat.group.start")}),o.default.createElement(c.default,{key:"btn-cancel",className:"gray x-outline cancel-btn btn-wide rounded",onClick:this.requestClose.bind(this,null),label:i.default.string("common.cancel")})],a=(w&&r.reverse(),this.allCategories.filter((function(e){return"_archived"!==e.id&&"_dismissed"!==e.id&&"_hidden"!==e.id})).map((function(e){return{label:e.id?e.title:i.default.string("chats.menu.group.default"),value:e.id}})));return n=o.default.createElement("div",{className:"sub-control"},o.default.createElement(h.default,{value:n,onChange:this.handleSelectCategoryChange,options:a})),o.default.createElement("div",{className:"chat-create-groups-info"},o.default.createElement("div",{className:"flex space-between"},o.default.createElement("div",{className:"groups-name item"},o.default.createElement("p",{className:"title"},i.default.string("chat.group.name")),o.default.createElement(u.default,{label:!1,autoFocus:!0,defaultValue:t,onChange:this.handleGroupNameChange,inputProps:{maxLength:16}}),o.default.createElement("p",{className:"title small"},i.default.string("chat.group.limited")))),o.default.createElement("div",{className:"item"},o.default.createElement("p",{className:"title"},i.default.string("chats.menu.group.add")),n),o.default.createElement("div",{className:"item"},o.default.createElement("p",{className:"title"},i.default.string("chat.group.visibility")),o.default.createElement(s.default,{onChange:this.handleRadioChange},o.default.createElement(l.default,{name:"visibility",value:"private",label:i.default.string("chat.group.groupsVisual"),checked:"private"===e,className:"inline-block radio-sm"}),o.default.createElement(l.default,{name:"visibility",label:i.default.string("chat.group.publicVisual"),value:"public",checked:"public"===e,className:"inline-block radio-sm"}))),o.default.createElement("div",{className:"actions toolbar dock-bottom divider-top text-center has-padding-lg"},r))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),_(t.default=n,"propTypes",{onRequestClose:a.default.func}),_(n,"defaultProps",{onRequestClose:null})},59702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatGroupSettingsDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=l(n(30345)),i=l(n(61862));function l(e){return e&&e.__esModule?e:{default:e}}n={show:t.showChatGroupSettingsDialog=function(e,t,n){var l=null;return o.default.show({title:i.default.format("chat.group.settings"),style:{width:"80%"},onSubmit:function(){l&&t&&t(e,l.getSettings())},content:r.default.createElement(a.default,{ref:function(e){l=e},chat:e})},n)}},t.default=n},30345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=v(n(67294)),o=g(n(45697)),a=n(64393),i=g(n(87137)),l=g(n(61862)),s=g(n(58851)),u=g(n(74379)),c=g(n(53158)),f=n(33417),d=v(n(74101)),p=n(15973),h=g(n(84431)),m=g(n(86625)),y=["chat","className","children"];function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==w(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,r,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=a?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n=function(e){var t=b;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e);var n,o,g=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(n=t?(n=E(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===w(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return k(r)}}(b);function b(e){var t;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");P(k(t=g.call(this,e)),"handleSelectChange",(function(e){t.setState({type:e})}));var n=e.chat,r=(e=n.committersType,(0,f.getChatMembers)(n)),o=n.whitelist||new Set,a=!o.size,i=r.filter((function(e){return n.isAdmin(e)})),l=i.length;return a&&i.forEach((function(e){return o.add(e.id)})),t.state={type:e,whitelist:o,chatMembers:r,adminsCount:l,public:n.public,adminInvite:n.adminInvite},t}return t=b,(e=[{key:"componentDidMount",value:(n=function*(){var e,t=this.props.chat;yield(0,d.fetchChatMembersFromRemote)(t.gid),t=d.default.getChat(t.gid),this.state.chatMembers.length||(e=S(t.members).map(h.default.getMemberOrTemp).filter((function(e){return!e.isDeleted})),this.setState({chatMembers:e,adminsCount:t.admins.size+1}))},o=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){M(a,r,o,i,l,"next",e)}function l(e){M(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return o.apply(this,arguments)})},{key:"renderBooleanItem",value:function(e){var t=this.state[e.name];return t=!!(t=e.getConverter?e.getConverter(t):t),r.default.createElement("div",{className:(0,a.classes)(e.className),key:e.name},r.default.createElement(c.default,{className:"inline-block",checked:t,label:e.caption,onChange:this.changeConfig.bind(this,e)}),r.default.createElement("span",{className:"text-gray items items-tips"},e.tips))}},{key:"changeConfig",value:function(e,t){var n=e.name;"object"===w(t)&&t.target&&(t="checkbox"===t.target.type?t.target.checked:t.target.value),e.setConverter&&(t=e.setConverter(t)),this.setState(P({},n,t))}},{key:"renderConfigItem",value:function(e){if(e.hidden){var t=e.hidden;if(t="function"==typeof e.hidden?e.hidden(this.state):t)return null}return"boolean"===e.type?this.renderBooleanItem(e):null}},{key:"getSettings",value:function(){return{public:this.state.public,adminInvite:this.state.adminInvite||!1,committers:this.getCommitters()}}},{key:"getCommitters",value:function(){var e=this.state.type;return"whitelist"===e?this.state.whitelist:"admins"===e?"$ADMINS":""}},{key:"handleCheckboxChange",value:function(e,t){var n=this.state.whitelist;t?n.add(e):n.delete(e),this.setState({whitelist:new Set(S(n))})}},{key:"render",value:function(){var e=this,t=(d=this.state).whitelist,n=d.type,o=d.chatMembers,f=d.adminsCount,d=(d.isAvatarFold,[{value:s.default.COMMITTERS_TYPES.all,label:"".concat(l.default.string("chat.committers.type.all"),"(").concat(o.length,")")},{value:s.default.COMMITTERS_TYPES.admins,label:"".concat(l.default.string("chat.committers.type.admins"),"(").concat(f,")")},{value:s.default.COMMITTERS_TYPES.whitelist,label:"".concat(l.default.string("chat.committers.type.whitelist"),"(").concat(t.size,")")}]),h=(f=this.props).chat,g=f.className,b=f.children;return f=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(f,y),h=h.isGroup?[{name:"chats",items:[{type:"boolean",name:"public",caption:l.default.string("chat.group.setting.public"),tips:l.default.string("chat.group.setting.public.tips")},{type:"boolean",name:"adminInvite",caption:l.default.string("chat.group.setting.adminInvite"),hidden:!(0,p.getCurrentUser)().isVersionSupport("chatSetConfig")||this.state.public}]}]:[],r.default.createElement("div",_({},f,{className:(0,a.classes)("app-group-setting space",g)}),!!h.length&&r.default.createElement("div",{className:"item"},h.map((function(t){return t.hidden?null:r.default.createElement("section",{key:t.name,className:"app-setting-group-".concat(t.name)},r.default.createElement("div",{className:"items"},t.items.map((function(t){return e.renderConfigItem(t)}))))}))),r.default.createElement("div",{className:(0,a.classes)("app-chat-committers-setting item",g)},r.default.createElement("div",{className:"text-gray space-sm flex flex-middle"},r.default.createElement(i.default,{name:"information-outline"})," ",l.default.string("chat.committers.committersSettingTip")),r.default.createElement(u.default,{className:"space-sm",style:{width:"50%"},value:n,options:d,onChange:this.handleSelectChange}),"whitelist"===n&&r.default.createElement("div",{className:"checkbox-list rounded box x-outline"},o.map((function(n){return r.default.createElement(c.default,{key:n.id,className:"inline-block",onChange:e.handleCheckboxChange.bind(e,n.id),checked:t.has(n.id),label:r.default.createElement(m.default,{memberID:n.id})})}))),b))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),b}(r.PureComponent),P(t.default=n,"propTypes",{chat:o.default.instanceOf(s.default),className:o.default.string,children:o.default.any}),P(n,"defaultProps",{chat:null,className:null,children:null})},68440:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=m(n(87137)),l=m(n(66290)),s=n(98649),u=m(n(74160)),c=m(n(41584)),f=m(n(74689)),d=m(n(86575)),p=m(n(94128)),h=m(n(36043));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var g=p.default.env.isOSX?function(){return p.default.call("ui.handleTitlebarDblClick")}:null;t.default=(0,o.memo)((function(e){var t=e.cgid,n=e.className,r=(e=void 0!==(e=e.forceHideSidebar)&&e,(0,c.default)(),(0,d.default)(t),(0,f.default)("temp.ui.chat.showSidebar.".concat(t)),(0,h.default)(t),u.default.ui["chat.simpleChatView"]),p=(0,s.getMenuItemsForContext)("chat.toolbar",{chat:t}).filter((function(e){return!(0,s.isDividerItem)(e)}));return e&&(p=p.filter((function(e){return"chat-sidebar"!==e.id}))),o.default.createElement("div",{className:(0,a.classes)("app-chat-header flex flex-wrap space-between user-app-dragable divider",n),onDoubleClick:g},o.default.createElement(l.default,{cgid:t,className:"flex flex-middle"}),r?null:o.default.createElement("div",{className:"toolbar flex flex-middle rounded"},p.map((function(e){var t=o.default.createElement(i.default,{name:e.icon}),n=(0,a.classes)("app-chat-header-toolbar-item btn iconbutton rounded hint--bottom-right",e.className);return e.url?o.default.createElement("a",{key:e.id,"data-id":e.id,className:n,"data-hint":e.label,href:e.url},t):o.default.createElement("button",{key:e.id,"data-id":e.id,className:n,"data-hint":e.label,onClick:e.click,type:"button"},t)}))))}))},65835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatHistoryDialog=t.default=void 0;var r=i(n(67294)),o=n(48516),a=i(n(59337));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n={show:t.showChatHistoryDialog=function(e,t,n){return e&&"object"===l(e)&&(e=e.gid),(0,o.showModal)({id:"app-chat-history-dialog",style:{left:10,right:10,bottom:0,top:20},className:"app-chat-history-dialog dock primary-pale",animation:"enter-from-bottom",actions:!1,content:r.default.createElement(a.default,{className:"flex-auto",messageID:+t,cgid:e,style:{maxHeight:"100%"},showScrollButton:!0})},n)}},t.default=n},16537:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=m(n(45697)),i=n(64393),l=m(n(91705)),s=m(n(10352)),u=m(n(2388)),c=m(n(41584)),f=m(n(17253)),d=m(n(80797)),p=m(n(86575)),h=m(n(59337));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.cgid,n=e.searchKeys,r=e.timeFilter,a=(e=e.className,(r=(0,d.default)(n,t,{dateRange:r,returnType:"message"})).searching),m=(r=r.searchResult,g((0,c.default)(),1)[0]),y=g((0,p.default)(t),1)[0],b=(C=g((0,o.useState)(null),2))[0],v=C[1],_=(C=g((0,o.useState)(t),2))[0],w=C[1],S=((0,o.useEffect)((function(){w(t)}),[t]),[]),O=0,M=(r&&r.forEach((function(e){var t=e.list;e=e.count,S=S.concat(t),O+=e})),b),C=(O&&(S.some((function(e){return e.id===b}))?M=b:(M=S[0].id,_!==S[0].cgid&&w(S[0].cgid))),(0,o.useCallback)((function(e){!(e=e.target.closest(".app-message-item"))||(e=e.getAttribute("data-id"))&&v(+e)}),[])),k=(0,o.useCallback)((function(e,t){if(!t||t.id!==M)return e;var r=new RegExp("(".concat(n.split(" ").join("|"),")(?![^<]*>)"),"gi");return r&&r.test(e)&&(e=e.replace(r,"<span class='highlight'>$1</span>")),w(t.cgid),e}),[n,M]);return r=(0,o.useCallback)((function(e){return{showDateDivider:!1,showReplied:!1,hideHeader:!1,avatarSize:20,headDateFormat:"yyyy-MM-dd hh:mm",className:e.id===M?"state active":"state","data-id":e.id,hideActions:!0,contentConverter:k}}),[M,k]),a||!y?o.default.createElement("div",{className:(0,i.classes)("center-content",e)},o.default.createElement(l.default,null)):O?(200<S.length&&S.splice(200,S.length-200),o.default.createElement("div",{className:(0,i.classes)("app-chat-history-search white row single",e)},o.default.createElement("div",{className:"app-chat-history-search-result column single flex-none"},o.default.createElement("header",{className:"heading flex-none gray"},o.default.createElement("div",{className:"title"},o.default.createElement("small",null,m.format("chats.chat.search.result.format",y.name,O)))),o.default.createElement("div",{className:"flex-auto user-selectable overflow-y-auto overflow-x-auto scrollbar-hover fluid"},o.default.createElement(f.default,{cgid:t,className:"use-font-size-12",messagesOrIndexes:S,listItemProps:r,onClick:C,bubbleContextMenu:!0,needResort:!0})),100<S.length&&o.default.createElement("div",{className:"flex-none heading info-pale"},o.default.createElement(u.default,{icon:"information-outline"}),o.default.createElement("div",{className:"title"},o.default.createElement("small",null,200<O?m.format("chats.history.search.result.notShow.format",O-200):"",m.string("chats.history.search.result.toMany"))))),o.default.createElement(h.default,{className:"flex-auto",messageID:M,cgid:_,messageContentConverter:k,parentCgid:t}))):o.default.createElement("div",{className:(0,i.classes)("center-content",e)},o.default.createElement("div",null,o.default.createElement(s.default,{name:":duck:",className:"text-center"}),o.default.createElement("div",{className:"text-gray small"},m.string("chats.history.search.result.noResults"))))}v.propTypes={cgid:a.default.string.isRequired,searchKeys:a.default.string,timeFilter:a.default.string,className:a.default.string},v.defaultProps={searchKeys:null,timeFilter:null,className:null},t.default=(0,o.memo)(v)},82871:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=m(n(45697)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),i=m(n(82371)),l=m(n(91705)),s=n(64393),u=m(n(61351)),c=m(n(66290)),f=m(n(17253)),d=m(n(60651)),p=m(n(74101));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.cgid,n=(e=e.className,(m=y((0,a.useState)(t),2))[0]),r=m[1];(0,a.useEffect)((function(){r(t)}),[t]),n=(m=y((0,d.default)(n),4))[0];var o=m[1],h=m[2],m=m[3],g=null;return o&&(g=a.default.createElement("nav",{className:"toolbar flex flex-middle text-nowrap"},a.default.createElement(i.default,{onPageChange:h?null:m,page:o.pageID,recTotal:o.recTotal,recPerPage:o.recPerPage,pageTotal:o.pageTotal}))),m=p.default.getChat(t),a.default.createElement("div",{className:(0,s.classes)("app-chat-history column single",e)},m.isOne2One||Array.isArray(m.mergedChats)&&0===m.mergedChats.length||void 0===m.mergedChats?a.default.createElement(c.default,{className:"flex-none has-padding-h",cgid:t},g):a.default.createElement(u.default,{className:"flex-none",cgid:t,setActiveChat:r,pagerView:g}),h?a.default.createElement("div",{className:"flex-auto center-content"},a.default.createElement(l.default,null)):a.default.createElement("div",{className:"flex-auto user-selectable scrollbar-hover overflow-y-auto overflow-x-auto fluid"},a.default.createElement(f.default,{cgid:t,messagesOrIndexes:n,bubbleContextMenu:!0})))}b.propTypes={cgid:o.default.string.isRequired,className:o.default.string},b.defaultProps={className:null},t.default=(0,a.memo)(b)},14992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatInviteDialog=t.default=void 0;var r=c(n(61862)),o=n(15998),a=n(68271),i=n(20491),l=c(n(68788)),s=n(93881),u=c(n(74101));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}n=function(){e=function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],c=3<arguments.length&&void 0!==arguments[3]&&arguments[3],d=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;if(e=c||"string"!=typeof e?e:u.default.getChat(e)){var p,h=Array.from(e.members);if((t=yield(0,s.showMembersSelectDialog)({selections:t,selectTip:r.default.string("chat.invite.selectMembers"),excludes:[].concat(f(h),f(n)),scopes:["depts"]},d))&&t.length)try{return!c&&e.isOne2One?(t.push.apply(t,f(h)),p=yield(0,o.createGroupChat)(t),(0,a.setActiveChat)(p),p):(yield(0,i.inviteMembersToChat)(e,t),e)}catch(e){e&&l.default.show(r.default.error(e),{type:"danger"})}}};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,l,"next",e)}function l(e){p(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e){return t.apply(this,arguments)}}(),n={show:t.showChatInviteDialog=n},t.default=n},50618:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=b(n(45697)),i=n(64393),l=b(n(87137)),s=b(n(2388)),u=b(n(68788)),c=b(n(93956)),f=b(n(91705)),d=b(n(61862)),p=n(40910),h=b(n(85091)),m=n(20491),y=b(n(74101)),g=["className","children","onRequestClose"];function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=O(e);if(n=t?(n=O(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return S(o)}}(a);function a(e){var t;if(this instanceof a)return M(S(t=n.call(this,e)),"handleSearchChange",(function(e){e=e&&e.toLowerCase(),t.setState({search:e})})),M(S(t),"handleRefreshBtnClick",(function(){t.loadPublicChats()})),M(S(t),"handleJoinBtnClick",(function(){var e=t.state.choosed;(0,m.joinOrExitChat)(e).then((function(e){(0,p.setRoutePath)("chats","groups",e.gid);var n=t.props.onRequestClose;return n&&n(),e})).catch((function(e){e&&u.default.show(d.default.error(e),{type:"danger"})}))})),t.state={choosed:null,search:"",chats:[],loading:!0},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){this.loadPublicChats()}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"loadPublicChats",value:function(){var e=this;this.setState({loading:!0}),y.default.fetchPublicChats().then((function(t){e.unmounted||e.setState({loading:!1,chats:t})})).catch((function(t){e.unmounted||(e.setState({loading:!1,chats:[]}),t&&u.default.show(d.default.error(t),{type:"danger"}))}))}},{key:"handleChatItemClick",value:function(e){this.setState({choosed:e})}},{key:"isMatchSearch",value:function(e){var t=this.state.search;return!t.length||e.name.toLowerCase().includes(t)||e.gid===t}},{key:"isChoosed",value:function(e){return this.state.choosed&&this.state.choosed.gid===e.gid}},{key:"render",value:function(){var e=this,t=(r=this.props).className,n=r.children,r=(r.onRequestClose,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,g)),a=this.state.choosed;return o.default.createElement("div",_({},r,{className:(0,i.classes)("app-chat-join-public column single",t)}),o.default.createElement("div",{className:"x-list-item divider flex-none"},o.default.createElement(s.default,{icon:"arrow-right",iconClassName:"text-muted icon-2x"}),o.default.createElement("div",{className:"title"},d.default.string("chat.create.joinGroupTip")),o.default.createElement("div",{className:"flex-none"},o.default.createElement("button",{type:"button",onClick:this.handleJoinBtnClick,disabled:!a,className:"btn primary rounded"},a?d.default.format("chat.create.joinGroup.format",a.name):d.default.string("chat.create.join")))),o.default.createElement("div",{className:"white cell"},o.default.createElement("div",{className:"column single"},o.default.createElement("div",{className:"cell heading flex-none has-padding"},o.default.createElement("nav",{className:"flex-auto"},o.default.createElement("a",{className:(0,i.classes)("btn text-primary rounded",{disabled:this.state.loading}),onClick:this.handleRefreshBtnClick},d.default.string("common.refresh"))),o.default.createElement(c.default,{defaultValue:this.state.search,onSearchChange:this.handleSearchChange,className:"flex-none",style:{width:(0,i.rem)(200)},placeholder:d.default.string("common.search")})),o.default.createElement("div",{className:"cell overflow-y-auto has-padding relative"},o.default.createElement("div",{className:"list fluid compact app-chat-join-public-chat-list"},!this.state.loading&&this.state.chats.map((function(t){var n;return!y.default.getChat(t.gid)&&e.isMatchSearch(t)?(n=e.isChoosed(t),o.default.createElement(h.default,{className:n?"item primary-pale space-sm":"item space-sm",onClick:e.handleChatItemClick.bind(e,t),key:t.gid,gid:t.gid},n&&o.default.createElement(l.default,{name:"check text-success"}))):null})),this.state.loading&&o.default.createElement("div",{className:"dock center-content"},o.default.createElement(f.default,{className:"text-primary",iconSize:36})))))),n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),M(t.default=n,"propTypes",{className:a.default.string,children:a.default.any,onRequestClose:a.default.func}),M(n,"defaultProps",{className:null,children:null,onRequestClose:null})},85091:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(64393),l=h(n(87137)),s=h(n(45508)),u=n(33417),c=h(n(86575)),f=h(n(41584)),d=n(16986),p=["gid","className","badge","children","subname","grayOffline","showStatusDot"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.gid,n=e.className,r=e.badge,a=e.children,h=e.subname,m=e.grayOffline,b=e.showStatusDot,v=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,p),g((0,c.default)(t),1)[0]),_=v.name,w=g((0,f.default)(),1)[0],S=null,O=(!0===h?v.isOne2One?(O=(0,u.getOtherMemberInOne2OneChat)(v))&&(S="[".concat(w.string("member.status.".concat(O.statusName)),"]")):v.isRobot?(O=w.string("common.notificationSubname"))!==_&&(S="(".concat(O,")")):v.isSystem?S="(".concat(w.format("chat.membersCount.format",w.string("chat.all")),")"):v.isGroup&&(S="(".concat(w.format("chat.membersCount.format",v.members.size),")")):h&&(S=h),null);return!0===r?(w=v.noticeCount)?O=o.default.createElement("div",{className:(0,i.classes)("label circle label-sm",v.isMuteOrHidden?"blue":"red")},99<w?"99+":w):v.mute&&(O=o.default.createElement(l.default,{name:"bell-off",className:"icon-sm muted"})):r&&(O=r),o.default.createElement("a",y({className:(0,i.classes)("app-chat-item flex-middle item",n)},e),o.default.createElement(s.default,{showStar:!1,gid:t,avatarClassName:"avatar-sm",avatarSize:24,grayOffline:m,showStatusDot:b,className:"flex-none"}),o.default.createElement("div",{className:"title x-text-ellipsis x-text-black"},(0,d.isEmptyString)(_)?o.default.createElement("span",{className:"inline-block loading-holder relative loading-holder-line"},_):_,S&&o.default.createElement("small",{className:"muted"}," ",S)),O&&o.default.createElement("div",{className:"flex-none",style:{lineHeight:1}},O),a)}v.propTypes={gid:a.default.string.isRequired,className:a.default.string,children:a.default.any,badge:a.default.any,subname:a.default.any,grayOffline:a.default.bool,showStatusDot:a.default.bool},v.defaultProps={className:null,children:null,badge:null,subname:null,grayOffline:!1,showStatusDot:!1},t.default=(0,o.memo)(v)},13501:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showChatMembersSelectDialog=t.ChatMembersSelectDialog=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=S(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=w(n(55072)),i=w(n(61997)),l=n(64393),s=w(n(91705)),u=w(n(87137)),c=w(n(48516)),f=w(n(74112)),d=w(n(61862)),p=w(n(74101)),h=n(99087),m=w(n(84431)),y=n(58008),g=n(93881),b=n(15973),v=w(n(93956)),_=w(n(60609));function w(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){k(a,r,o,i,l,"next",e)}function l(e){k(a,r,o,i,l,"throw",e)}i(void 0)}))}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=x(e);if(n=t?(n=x(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return j(o)}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var A=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e);var n,r=T(i);function i(e){var t;if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");D(j(t=r.call(this,e)),"_unmounted",void 0),D(j(t),"chatChangeHandler",void 0),D(j(t),"handleClickMember",(function(e){var n=new Set(t.state.selections);n.has(e)?n.delete(e):n.add(e),t.setState({selections:Array.from(n)})})),D(j(t),"handleSearchChange",(function(e){t.setState({searchValue:e},(function(){t.searchMembers()}))})),D(j(t),"setOpenMembersSelectDialog",(function(){t.props.openMembersSelectDialog&&(t.props.openMembersSelectDialog.value=!0);var e=null==(e=document.getElementById(t.props.modalID))?void 0:e.querySelector(".action-submit");e&&e.click&&e.click()}));var n=p.default.getChat(e.gid);return t.state={selections:e.selections||[],membersSet:n?n.members:new Set,searchValue:"",searchResult:[],loading:!1},t}return t=i,(e=[{key:"componentDidMount",value:(n=E((function*(){var e=this;if(!this.state.membersSet.size){var t=yield p.default.tryFetchChatMembers(this.props.gid);if(this._unmounted)return;this.setState({membersSet:t})}this.chatChangeHandler=p.default.subscribe(this.props.gid,(function(t){t=t.members,(0,h.isSameSet)(t,e.state.membersSet)||e._unmounted||e.setState({membersSet:new Set(t)})}))})),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){p.default.unsubscribe(this.chatChangeHandler),this._unmounted=!0}},{key:"searchMembers",value:function(){var e=this,t=this.state.searchValue,n=this.props.gid;""===t?this.setState({searchResult:[]}):this.setState({loading:!0},E((function*(){var r=e.props.excludes,o=r?new Set(r):null;try{var a=yield m.default.searchFromRemote(t,{chat:n});if(!Array.isArray(a))return;var i=a.map((function(e){return e.id}));if(o&&(i=i.filter((function(e){return!o.has(e)}))),e._unmounted)return;e.setState({searchResult:i,loading:!1})}catch(r){if(e._unmounted)return;e.setState({searchResult:[],loading:!1}),console.error("Search members from server error",r)}})))}},{key:"render",value:function(){var e=this,t=(r=this.props).excludes,n=r.openMembersSelectDialog,r=r.selectTip,i=(g=this.state).selections,c=g.searchValue,p=g.searchResult,h=g.membersSet,g=g.loading,b=t?new Set(t):null;if(t=b?O(h).filter((function(e){return!b.has(e)})):O(h),h=""===c?t:p,g)S=o.default.createElement(s.default,{key:"spinner"});else if(h.length){var w,S=[],C=new Set(i),k=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=M(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}((0,y.sortMembers)(h.map(m.default.getMemberOrTemp)));try{for(k.s();!(w=k.n()).done;){var E=w.value.id;S.push(o.default.createElement(f.default,{memberID:E,key:E,onClick:this.handleClickMember.bind(null,E)},o.default.createElement("div",{className:(0,l.classes)("checkbox checkbox-sm",{checked:C.has(E)})},o.default.createElement("label",null))))}}catch(r){k.e(r)}finally{k.f()}}else S=o.default.createElement(_.default,{key:"notFound",icon:"information-outline",className:"flex-middle item muted disabled",title:o.default.createElement("span",{className:"title small"},d.default.string("common.notFoundOptions"))});return o.default.createElement("div",{className:"app-members-select app-select-panel"},o.default.createElement("div",{className:"dock-left single column divider-right col-6",style:{paddingLeft:10,paddingRight:10}},o.default.createElement("header",{className:"flex-none"},o.default.createElement("div",{className:"flex space-between items-center"},o.default.createElement("div",{className:"title text-gray bold",style:{padding:"0.5rem 0"}},r||d.default.string("chat.selectMembers")),n&&o.default.createElement(a.default,{className:"rounded bg-gray-100 text-black btn-sm px-[2px]",click:this.setOpenMembersSelectDialog},o.default.createElement(u.default,{name:"mdi-plus"}),d.default.string("chat.selectOtherMembers"))),o.default.createElement(v.default,{placeholder:d.default.string("common.search"),onSearchChange:this.handleSearchChange,style:{marginBottom:6},changeDelay:500})),o.default.createElement("div",{className:"flex-auto overflow-y-auto"},o.default.createElement("div",{className:"list compact"},S))),o.default.createElement("div",{className:"dock-right single column col-6",style:{paddingLeft:10,paddingRight:10}},o.default.createElement("header",{className:"flex-none heading space-sm"},o.default.createElement("div",{className:"title strong text-primary"},d.default.string("chat.invite.choosed")," (",i.length,")")),o.default.createElement("div",{className:"list compact overflow-y-auto"},i.map((function(t){return o.default.createElement(f.default,{memberID:t,key:t,onClick:e.handleClickMember.bind(null,t)},o.default.createElement(u.default,{name:"sprite-selection-remove"}))})))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);D(t.ChatMembersSelectDialog=A,"defaultProps",{modalID:"",openMembersSelectDialog:void 0,selections:[],excludes:[],selectTip:""}),t.showChatMembersSelectDialog=function(e,t,n){function r(){document.getSelection().removeAllRanges(),"function"==typeof n&&n()}var a,l=void 0===(a=t.selections)?[]:a,s=void 0===(a=t.excludes)?[]:a,u=t.selectTip,f=t.id,d=t.rejectWhenCancel,h=t.openMembersSelectDialog,m=(s.length||s.push((0,b.getCurrentUserID)()),o.default.createRef());return p.default.getChat(e,!0).isSystem?(0,g.showMembersSelectDialog)({selections:l,excludes:s,selectTip:u,id:f,scopes:["depts"],rejectWhenCancel:d},r):new Promise((function(t,n){var a=null!=f?f:(0,i.default)();c.default.show({enableBackdropClick:!1,id:a,onSubmit:function(){if(!m.current)return t([]),!0;var e=m.current.state.selections;return t(e),!0},onCancel:function(){return d?n(Error("cancel")):t([]),!0},closeButton:!1,style:{width:500,height:500},content:o.default.createElement(A,{modalID:a,ref:m,gid:e,selections:l,excludes:s,selectTip:u,openMembersSelectDialog:h})},r)}))}},54881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatMentionsDialog=t.default=void 0;var r=(l=n(61862))&&l.__esModule?l:{default:l},o=n(15998),a=n(13501);function i(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var l=function(){e=function*(e,t){(t=yield(0,a.showChatMembersSelectDialog)(e,{selectTip:r.default.string("chat.selectMentions")},t))&&0<t.length&&(0,o.mentionMemberInSendbox)(t,{cgid:e,replaceAfter:"@"})};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))};return function(e,n){return t.apply(this,arguments)}}();n={show:t.showChatMentionsDialog=l},t.default=n},63633:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(61862)),i=n(13939),l=n(64393),s=c(n(74101)),u=n(15973);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(o)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n,r,c=h(f);function f(e){var t;if(this instanceof f)return g(m(t=c.call(this,e)),"handleSelectChange",(function(e){t.setState({mergeToChat:e}),(0,t.props.disableConfirmBtn)(!e)})),g(m(t),"getMergeToChatGid",(function(){return t.state.mergeToChat})),t.state={mergeToChat:"",chatList:[]},t;throw new TypeError("Cannot call a class as a function")}return t=f,(e=[{key:"componentDidMount",value:(n=function*(){var e=(n=this.props).chatGid,t=n.chatGroups,n=n.disableConfirmBtn,r=(0,u.getCurrentUser)();t=(0<t.length?t:s.default.queryChats((function(t){return!t.isDismissed&&!t.isDeleted&&"group"===t.type&&t.isOwner(r)&&t.gid!==e&&!t.isMerged&&!t.isArchived}),{sortRules:"recentFirst"})).map((function(e){return{label:e.name,value:e.gid}})),this.setState({chatList:t}),n(!0)},r=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.chatName,t=this.state.chatList;return o.default.createElement("div",{className:(0,l.classes)("app-chat-committers-setting")},o.default.createElement("div",{className:"text-gray space-sm flex flex-middle"},o.default.createElement("span",{dangerouslySetInnerHTML:{__html:a.default.format("chat.group.mergeTo",'<span class="text-primary">'.concat(e,"</span>"))}})),o.default.createElement(i.SearchBox,{options:t,onChange:this.handleSelectChange,placeholder:a.default.string("chat.merge.search")}),o.default.createElement("div",{className:"text-red flex flex-middle",style:{marginTop:10}},a.default.format("chat.group.mergeTips")))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),f}(o.PureComponent),g(t.default=n,"defaultProps",{chatGroups:[]})},16002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatMergeDialog=void 0;var r=f(n(67294)),o=f(n(48516)),a=f(n(61862)),i=f(n(63633)),l=n(20491),s=f(n(74101)),u=n(68271),c=f(n(58851));function f(e){return e&&e.__esModule?e:{default:e}}t.showChatMergeDialog=function(e,t,n){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],d=null,p=null,h=null,m=[];0<f.length?(f.forEach((function(t){t.gid!==e&&m.push(t),t.gid===e&&(p=new c.default(t))})),f=m):p=s.default.getChat(e),o.default.show({title:a.default.format("chat.group.merge"),style:{width:"520px"},onSubmit:function(){var e=d.getMergeToChatGid();if(e){if(f.length){var t=f.find((function(t){return e===t.gid}));if(!t)return!0;h=new c.default(t)}else h=s.default.getChat(e);(0,l.mergeChat)(p,h)}o.default.hide(),f.length||(0,u.setActiveChat)(e)},content:r.default.createElement(i.default,{chatName:t,chatGid:e,chatGroups:f,disableConfirmBtn:function(e){e?document.getElementsByClassName("action-submit")[0].setAttribute("disabled",e.toString()):document.getElementsByClassName("action-submit")[0].removeAttribute("disabled")}.bind(void 0),ref:function(e){d=e}})},n)}},61351:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(64393),l=h(n(87137)),s=h(n(74160)),u=h(n(94128)),c=h(n(86575)),f=h(n(41584)),d=h(n(87618)),p=["cgid","className","children","setActiveChat","pagerView"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){function t(e){null!=(n=(t=e.target).scrollIntoViewIfNeeded)&&n.call(t);var t,n=e.target.closest(".center-content").id;_(n),m(n)}function n(e){var t=document.getElementById("ulscroll");t.scrollLeft+=("left"===e?-1:1)*Math.min(120,Math.floor(t.clientWidth/2))}var r=e.cgid,a=e.className,h=e.children,m=e.setActiveChat,b=e.pagerView,v=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,p),(w=g((0,o.useState)(r),2))[0]),_=w[1],w=g((0,f.default)(),1)[0],S=g((0,c.default)(r),1)[0],O=null,M=g((0,o.useState)(!1),2),C=M[0],k=M[1];return(0,o.useEffect)((function(){_(r)}),[r]),(0,o.useEffect)((function(){var e=document.getElementById("ulscroll");e&&k(e.scrollWidth>e.parentNode.clientWidth)})),s.default.ui["chat.showNoticeOnChatTitle"]&&(M=S.unreadMessagesCount)&&!u.default.call("ui.isWindowOpenAndFocus")&&(O=o.default.createElement("div",{className:(0,i.classes)("label circle label-sm",S.isMuteOrHidden?"blue":"red")},99<M?"99+":M)),window.onresize=function(){var e=document.getElementById("ulscroll");e&&k(e.scrollWidth>e.parentNode.clientWidth)},o.default.createElement("div",y({className:(0,i.classes)("chat-title heading space-between",a)},e),o.default.createElement("nav",{className:(0,i.classes)("chats-title-group nav")},o.default.createElement("ul",{className:(0,i.classes)("nav nav-tabs content-start"),id:"ulscroll",onWheel:function(e){e.currentTarget.scrollLeft+=e.deltaY}},o.default.createElement("li",{className:(0,i.classes)("center-content",v===r?"activeTab":""),id:r},o.default.createElement("a",{"data-tab":!0,onClick:t},o.default.createElement(d.default,{cgid:r,className:"strong"}),S.public&&o.default.createElement("div",{"data-hint":w.string("chat.public.label")},o.default.createElement(l.default,{className:"text-green",name:"access-point"})),S.mute&&o.default.createElement("div",{"data-hint":w.string("chat.mute.label")},o.default.createElement(l.default,{className:"text-brown",name:"bell-off"})),S.isArchived&&o.default.createElement("div",{className:"small label rounded yellow"},w.string("chat.group.archived")),S.isDismissed&&o.default.createElement("div",{className:"small label rounded dark"},w.string("chat.group.dismissed")),S.isDeleted&&o.default.createElement("div",{className:"small label rounded dark"},w.string("chat.deleted")),O)),S.mergedChats.map((function(e){return o.default.createElement("li",{key:e,className:(0,i.classes)("center-content",v===e?"activeTab":""),id:e},o.default.createElement("a",{"data-tab":!0,onClick:t},o.default.createElement(d.default,{cgid:e,className:"strong"})))})))),h,C?o.default.createElement("div",{className:(0,i.classes)("center-content arrow-pager")},o.default.createElement("div",{className:"chat-history-nav-arrows nav"},o.default.createElement("a",{onClick:function(){return n("left")}},o.default.createElement(l.default,{name:"menu-left icon-2x"})),o.default.createElement("a",{onClick:function(){return n("right")}},o.default.createElement(l.default,{name:"menu-right icon-2x"}))),o.default.createElement("div",{className:"pagerView"},b)):o.default.createElement("div",{className:"pagerView"},b))}v.propTypes={cgid:a.default.string.isRequired,className:a.default.string,children:a.default.any,setActiveChat:a.default.func,pagerView:a.default.element},v.defaultProps={className:null,children:null,setActiveChat:null,pagerView:null},t.default=(0,o.memo)(v)},59337:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=g(n(45697)),i=n(64393),l=g(n(87137)),s=g(n(91705)),u=g(n(17253)),c=g(n(66290)),f=g(n(61862)),d=g(n(73052)),p=g(n(55072)),h=g(n(74101)),m=g(n(87618)),y=["messageID","cgid","className","recPerPage","messageContentConverter","showScrollButton","parentCgid"];function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){S(a,r,o,i,l,"next",e)}function l(e){S(a,r,o,i,l,"throw",e)}i(void 0)}))}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=k(e);if(n=t?(n=k(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return C(o)}}(a);function a(e){var t;if(this instanceof a)return E(C(t=n.call(this,e)),"loadNext",O((function*(){var e,n,r,o,a,i,l=t.state.nextBegin;l&&(e=(n=t.props).messageID,o=n.recPerPage,n=n.cgid,o={recPerPage:r=l===e?o+1:o,pageID:1,recTotal:r,pageTotal:1,range:[l,Number.MAX_SAFE_INTEGER]},l=yield d.default.fetchChatMessagesByPage(n,{pager:o,reverse:!1,putToCache:!1}),a=l.ids,i=l.list,t._messageID===e&&(i&&i.length?t.setState((function(e){return{nextBegin:i.length<r?0:Math.max.apply(Math,_(a))+1,list:[].concat(_(e.list),_(i))}})):t.setState({nextBegin:0})))}))),E(C(t),"loadPrev",O((function*(){var e,n,r,o,a,i=t.state.prevEnd;i&&(e=(r=t.props).messageID,n=r.recPerPage,r=r.cgid,r=yield d.default.fetchChatMessagesByPage(r,{pager:{recPerPage:n,pageID:1,recTotal:n,pageTotal:1,range:[0,i]},reverse:!0,putToCache:!1}),o=r.ids,a=r.list,t._messageID===e&&(a&&a.length?t.setState((function(e){return{prevEnd:a.length<n?0:Math.min.apply(Math,_(o))-1,list:[].concat(_(a.reverse()),_(e.list))}})):t.setState({prevEnd:0})))}))),E(C(t),"getRef",(function(e){t._messageList=e})),E(C(t),"itemPropsGenerator",(function(){return{contentConverter:t.props.messageContentConverter}})),t.state={prevEnd:0,nextBegin:0,list:[]},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){this.tryRefresh()}},{key:"componentDidUpdate",value:function(){this.tryRefresh()}},{key:"componentWillUnmount",value:function(){this._highlightTimer&&clearTimeout(this._highlightTimer),this._messageID=0}},{key:"tryRefresh",value:function(){var e=this,t=this.props.messageID;this._messageID!==t&&(this._messageID=t,this.setState({prevEnd:t-1,nextBegin:t,list:[]},O((function*(){yield e.loadNext(),e._messageID===t&&(yield e.loadPrev(),e._highlightTimer=setTimeout((function(){e.scrollToMessage(),e._highlightTimer=null}),500))}))))}},{key:"scrollToMessage",value:function(){var e;this._messageList&&(e=this.props.messageID,(e=this._messageList.querySelector("#message-".concat(e)))&&(e.classList.add("highlight"),(0,i.scrollIntoView)(e,{behavior:"smooth",block:"center"})))}},{key:"render",value:function(){var e=this,t=((d=this.props).messageID,d.cgid),n=d.className,r=(d.recPerPage,d.messageContentConverter,d.showScrollButton),a=d.parentCgid,d=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(d,y),g=(_=this.state).prevEnd,b=_.nextBegin,_=_.list,w=h.default.getChat(t);return o.default.createElement("div",v({className:(0,i.classes)("app-chat-message-context column single",n)},d),!w||w.isMerged?o.default.createElement("div",{className:"merged-title"},o.default.createElement(m.default,{className:"strong",cgid:a})," (",o.default.createElement(m.default,{cgid:t}),")"):o.default.createElement(c.default,{cgid:t,className:"flex-none"}),_.length?o.default.createElement("div",{className:"flex-auto user-selectable overflow-y-auto overflow-x-auto scrollbar-hover fluid"},o.default.createElement("div",{className:"box center-content"},g?o.default.createElement("a",{className:"btn block rounded text-primary primary-pale",onClick:this.loadPrev},o.default.createElement(l.default,{name:"chevron-double-up"})," ",f.default.string("common.loadMore")):o.default.createElement("small",{className:"muted"},f.default.string("chat.noMoreMessage"))),o.default.createElement(u.default,{cgid:t,listRef:this.getRef,className:"use-font-size-13",messagesOrIndexes:_,listItemProps:this.itemPropsGenerator,bubbleContextMenu:!0}),o.default.createElement("div",{className:"box center-content"},b?o.default.createElement("a",{className:"btn block rounded text-primary primary-pale",onClick:this.loadNext},o.default.createElement(l.default,{name:"chevron-double-down"})," ",f.default.string("common.loadMore")):o.default.createElement("small",{className:"muted"},f.default.string("chat.noMoreMessage")))):o.default.createElement("div",{className:"flex-auto center-content"},o.default.createElement(s.default,null)),r&&o.default.createElement(p.default,{key:"goToTopBtn",onClick:function(){e.scrollToMessage()},title:f.default.string("chat.toolbar.scrollToTarget"),icon:"mdi-crosshairs-gps",className:"app-message-list-scroll-btn dock-right has-margin btn-lg btn-icon circle primary-pale has-badge shadow-1 dock dock-bottom"}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),E(t.default=n,"propTypes",{messageID:a.default.number.isRequired,cgid:a.default.string.isRequired,className:a.default.string,recPerPage:a.default.number,messageContentConverter:a.default.func,showScrollButton:a.default.bool,parentCgid:a.default.string}),E(n,"defaultProps",{className:null,recPerPage:5,messageContentConverter:null,showScrollButton:!1,parentCgid:null})},35325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatMessageImagePreivew=function(e,t){var n=(i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})||{}).imageInfo,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(i,a);return e=new r.ChatMessageImageObtainer(e,t,n),(0,o.showMediaPreviewWindow)(e,i)};var r=n(41363),o=n(52677),a=["imageInfo"]},34160:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=s(n(12764)),i=s(n(61435)),l=["messageIndex","prevMessageIndex","cgid"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=(0,o.memo)((function(e){var t=e.messageIndex,n=void 0===(n=e.prevMessageIndex)?0:n,r=e.cgid;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,l),t=[t,n].filter((function(e){return!!e})),n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.default)(t,r)),t=n[0],r=n[1],t?o.default.createElement(a.default,c({id:t.id,prevMessage:r,message:t,showReplied:!0},e)):null}))},19239:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=S(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=w(n(45697)),i=n(64393),l=w(n(91705)),s=n(15998),u=n(20491),c=w(n(55072)),f=w(n(20270)),d=w(n(74101)),p=w(n(41584)),h=w(n(74689)),m=w(n(86575)),y=w(n(59440)),g=w(n(29795)),b=w(n(17253)),v=w(n(65286)),_=["gid","className"];function w(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.gid,n=e.className,r=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,_),M((0,m.default)(t),1)[0]),a=void 0===(a=(R=(0,y.default)(t)).list)?[]:a,w=R.loading,S=R.canLoadMore,k=M((0,p.default)(),1)[0],E=(R=M((0,o.useState)(),2))[0],P=R[1],T=(0,s.takeOutChatCacheState)(t,"scrollPos"),j=(R=M((0,o.useState)(!T),2))[0],x=R[1],D=(0,o.useRef)(),A=(0,o.useRef)(),I=(0,o.useRef)(),L=r.unreadMessagesCount,N=r.unreadMessageIndexes,R=M((0,h.default)("ui.chat.fontSize"),1)[0],F=(U=M((0,o.useState)(N),2))[0],Y=U[1],B=(0,o.useCallback)((function(){for(var e=A.current.querySelectorAll(".app-message-divider"),t=D.current.listElement.getBoundingClientRect().top,n=null,r=e.length-1;0<=r;--r){var o=e[r];if(o.getBoundingClientRect().top<t){n=o;break}}I.current!==n&&(I.current=n,P(n?n.innerText:""))}),[]),U=((0,o.useEffect)((function(){var e=D.current,n=(T&&e&&e.scrollTo(T,!1),(0,u.onSendChatMessages)((function(e,n){n.gid===t&&(D.current.scrollToBegin(!1),g.default.shrinkList(t))}))),r=setTimeout((function(){e.scrollInfo.scrollbarShowed||g.default.loadMoreList(t),B()}),1500);return function(){var o;clearTimeout(r),v.default.off(n),e&&(o=e.scrollInfo)&&!o.isStickiedAtBegin&&(0,s.setChatCacheState)(t,{scrollPos:o.position})}}),[t,T,B]),(0,o.useEffect)((function(){if(L&&!j){var e,t=!1,n=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=C(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(N);try{for(n.s();!(e=n.n()).done;){var r=e.value;F.has(r)||(F.add(r),t=!0)}}catch(e){n.e(e)}finally{n.f()}t&&Y(new Set(F))}}),[L,N,F,j]),(0,o.useEffect)((function(){j&&((L||r.fileSavedNoticeCount)&&d.default.muteChatUnreadMessages(t,{windowMustFocus:!0,mustActive:!0}),F.size&&Y(new Set))}),[t,r,j,L,F]),(0,o.useCallback)((function(e){var n=e.isStickiedAtBegin,r=e.isStickiedAtEnd;e=e.scrollbarShowed,x(n),!S||!r&&e||g.default.loadMoreList(t),B()}),[S,t,B])),W=(0,o.useCallback)((function(){return w?o.default.createElement(l.default,{className:"has-padding"}):S?o.default.createElement("a",{className:"has-padding small text-gray text-center block space-sm",onClick:g.default.loadMoreList.bind(g.default,t)}," ",k.string("chat.loadMoreMessage")," "):o.default.createElement("div",{className:"has-padding small text-gray text-center space-sm"}," ",k.string("chat.noMoreMessage")," ")}),[w,S,t,k]),z=(0,o.useCallback)((function(){D.current.scrollToBegin(),x(!0)}),[]),H=(0,o.useCallback)((function(){I.current&&D.current.scrollToElement(I.current,{behavior:"smooth",block:"start",offset:10})}),[]),V=r.isMuteOrHidden,G=r.isNotification,q=!G;return H=[o.default.createElement("a",{key:"dateBadge",onClick:H,className:(0,i.classes)("app-message-list-date-badge btn btn-sm small circle white text-gray shadow-1",E?"":"hidden")},E),o.default.createElement(c.default,{key:"goToTopBtn",onClick:z,title:q?k.string("chat.toolbar.scrollToBottom"):k.string("chat.toolbar.scrollToTop"),icon:q?"arrow-down-thick":"arrow-up-thick",className:(0,i.classes)("app-message-list-scroll-btn dock-right has-margin btn-lg btn-icon circle primary-pale has-badge shadow-1 dock",q?"dock-bottom":"dock-top",j?"hidden":"inline-block")},F.size?o.default.createElement("span",{className:(0,i.classes)("label badge circle shadow ".concat(V?"blue":L?"red":"yellow"))},F.size):null)],E=[].concat(H),o.default.createElement(f.default,{className:(0,i.classes)("app-chat-messages white",n),stickyToBottom:q,onScroll:U,ref:D,customView:E},o.default.createElement(b.default,O({listRef:A,cgid:t,reverse:G,className:(0,i.classes)("user-selectable","use-font-size-".concat(R.size)),messagesOrIndexes:a.concat(r.localMessagesList),header:q?W:null,footer:q?null:W,unreadMessageIndexes:j?null:F,bubbleContextMenu:!0,fromHistory:!1},e)))}E.propTypes={gid:a.default.string.isRequired,className:a.default.string},E.defaultProps={className:null},t.default=(0,o.memo)(E)},93206:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=h(n(74101)),l=h(n(73052)),s=h(n(55072)),u=h(n(87137)),c=n(98649),f=h(n(17196)),d=h(n(62906)),p=h(n(61862));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n=e.currentTarget.attributes["data-message"].value;(n=l.default.getMessage(+n))&&(t=i.default.getChat(n.cgid),(0,c.showContextMenu)("chat.pinned",{event:e,chat:t,message:n}),e.preventDefault())}function b(e,t){return t.isBulletin?"[".concat(p.default.string("chat.bulletin.type.".concat(t.bulletin.type)),"] ").concat(e):e}function v(e){e=e.gid;var t=(0,f.default)(e),n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(-1)),r=n[0],a=n[1],i=t.length,l=(n=(0,o.useRef)(0),r<0||n.current!==i?i-1:Math.max(0,Math.min(r,i-1)));if(n.current=i,r=(0,o.useCallback)((function(){a((i+l-1)%i)}),[i,l]),n=(0,o.useCallback)((function(){a((l+1)%i)}),[i,l]),!i)return null;var c=t[l];return o.default.createElement("div",{className:"app-chat-pinned-messages row single flex-none text-primary primary-pale"},o.default.createElement("div",{className:"app-chat-pinned-messages-content row single flex-middle"},o.default.createElement(u.default,{name:"pin",className:"flex-none"})," ",o.default.createElement(d.default,{type:"a",href:"xxc://showChatMessage//".concat(c),className:"small flex-auto",messageID:c,cgid:e,formatCallback:b,"data-message":c,onContextMenu:g})),1<t.length&&o.default.createElement("div",{className:"app-chat-pinned-messages-actions flex-none column single flex-center",title:"".concat(l+1,"/").concat(i)},o.default.createElement(s.default,{key:"pinned-page-up",icon:"chevron-up",className:"btn-sm button-up",disabled:0===l,onClick:r}),o.default.createElement(s.default,{key:"pinned-page-down",icon:"chevron-down",className:"btn-sm button-down",disabled:l===t.length-1,onClick:n})))}v.propTypes={gid:a.default.string.isRequired},t.default=(0,o.memo)(v)},31239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatCodeDialog=t.default=void 0;var r=c(n(67294)),o=c(n(48516)),a=c(n(1247)),i=c(n(61862)),l=n(20491),s=n(16986),u=n(68271);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var p=function(){e=function*(e,t){yield(0,l.sendCodeMessage)(e,t),(0,u.setActiveChat)(t,"recents")};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e,n){return t.apply(this,arguments)}}();n={show:t.showChatCodeDialog=function(e){var t,n=void 0===(n=(l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).defaultValue)?"":n,l=l.callback;try{t=JSON.parse(n)}catch(n){t={}}var u=null;return o.default.show({id:"app-chat-code-dialog",style:{width:650,position:"absolute",bottom:0},closeButton:!1,className:"app-chat-code-dialog",animation:"enter-from-bottom",actions:[{type:"submit",label:i.default.string("chat.sendCode.sendBtnLabel"),click:function(){var t=u.getCode();if((0,s.isEmptyString)(t.code))return u.setRequireCodeWarning(),!1;p(t,e)}},{type:"cancel"}],content:r.default.createElement(a.default,f({ref:function(e){u=e},chat:e},t))},l)}},t.default=n},1247:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=d(n(45697)),i=d(n(74379)),l=d(n(61862)),s=n(64393),u=d(n(74160)),c=n(16986),f=d(n(70389));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(n=t?(n=g(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return y(o)}}(a);function a(e){var t,r;if(this instanceof a)return b(y(r=n.call(this,e)),"handleCodeChange",(function(e){var t={code:e=e.target.value};r.state.requireCodeWarning&&(0,c.isNotEmptyString)(e)&&(t.requireCodeWarning=!1),r.setState(t)})),b(y(r),"handleLangChange",(function(e){r.setState({lang:e})})),b(y(r),"handleNameChange",(function(e){r.setState({name:e})})),r.state={lang:null!=(t=e.lang)?t:"",code:null!=(t=e.code)?t:"",name:null!=(t=e.name)?t:"",requireCodeWarning:!1},r;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"getCode",value:function(){var e=this.state;return{lang:e.lang,code:e.code,name:e.name}}},{key:"setRequireCodeWarning",value:function(){this.setState({requireCodeWarning:!(0<arguments.length&&void 0!==arguments[0])||arguments[0]})}},{key:"render",value:function(){var e=(r=this.state).lang,t=r.requireCodeWarning,n=r.name,r=r.code,a=[{label:l.default.string("chat.sendCode.defaultLanguage"),value:""}].concat(function(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u.default.ui["chat.sendCode.langs"]));return o.default.createElement("div",{className:"chat-send-code-panel"},o.default.createElement("div",{className:"space row space-between flex-middle"},o.default.createElement(f.default,{className:"no-margin",label:!1,style:{width:(0,s.rem)(220)},defaultValue:n,onChange:this.handleNameChange,placeholder:l.default.string("chat.sendCode.codeName")}),o.default.createElement(i.default,{style:{width:(0,s.rem)(200)},value:e,options:a,selectClassName:"rounded",onChange:this.handleLangChange})),o.default.createElement("div",{className:(0,s.classes)("control",{"has-error":t})},o.default.createElement("textarea",{value:r,className:"textarea rounded code",rows:"16",placeholder:"".concat(l.default.string("chat.sendCode.content.placeholder")),onChange:this.handleCodeChange})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),b(t.default=n,"propTypes",{lang:a.default.string,code:a.default.string,name:a.default.string}),b(n,"defaultProps",{lang:null,code:null,name:null})},36100:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=p(n(73052)),l=p(n(74689)),s=n(20116),u=p(n(55072)),c=p(n(87137)),f=p(n(86625)),d=n(15973);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.gid,n=(e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),1!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,1):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,l.default)("temp.im.chat.replyTo.".concat(t)))[0],(0,o.useCallback)((function(){(0,d.getUserConfig)().setChatReplyTo(t,null)}),[t]));if(!e)return null;var r=i.default.getMessage(e);return r?o.default.createElement("div",{className:"app-chat-reply single row flex-none flex-middle info rounded"},o.default.createElement(c.default,{name:"reply-circle",className:"flip-h",size:18}),o.default.createElement("a",{className:"app-chat-reply-content flex-auto x-text-ellipsis",href:"xxc://showChatMessage//".concat(e)},r.senderName?o.default.createElement("span",{className:"strong"},r.senderName):o.default.createElement(f.default,{memberID:r.senderId,className:"strong"}),o.default.createElement("span",null,": ",(0,s.getChatMessageSummaryText)(r))),o.default.createElement(u.default,{className:"rounded",icon:"close",onClick:n})):null}y.propTypes={gid:a.default.string.isRequired},t.default=(0,o.memo)(y)},3418:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(87137),l=n(98649),s=n(15998),u=n(64393),c=h(n(41584)),f=h(n(86575)),d=h(n(74689)),p=["className","chatGid","sendButtonDisabled","onPreviewButtonClick","onSendButtonClick"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.className,n=e.chatGid,r=e.sendButtonDisabled,a=e.onPreviewButtonClick,h=(e.onSendButtonClick,e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,p),g((0,c.default)(),1)[0]);return(0,f.default)(n),(0,d.default)(),o.default.createElement("div",y({className:(0,u.classes)("app-chat-sendbox-toolbar flex",t)},e),o.default.createElement("div",{className:"flex flex-middle flex-auto toolbar flex-wrap"},(0,l.getMenuItemsForContext)("chat.sendbox.toolbar",{chat:n,openMessagePreview:r?null:a,sendContent:s.sendContentToChat}).map((function(e,t){var n;return(0,l.isDividerItem)(e)?o.default.createElement("div",{key:e.id||t,className:"divider"}):"pill"===e.type&&"bulletin"===e.id?(n=e.extra,o.default.createElement("button",{key:e.id||t,"data-hint":e.label,onContextMenu:e.contextMenu,onClick:e.click,className:(0,u.classes)("btn iconbutton rounded",e.className,"app-chat-sendbox-btn-".concat(e.id),n&&"pill warning-pale text-warning"),type:"button"},(0,i.renderIcon)(e.icon),n&&o.default.createElement("div",{className:"pill-content"},o.default.createElement("span",null,h.string("chat.bulletin.type.".concat(n.type))),o.default.createElement("span",null," ",n.duration," "),o.default.createElement("span",null,h.string("common.time.".concat(n.unit)))))):o.default.createElement("button",{key:e.id||t,"data-hint":e.label,onContextMenu:e.contextMenu,onClick:e.click,className:(0,u.classes)("btn iconbutton rounded app-chat-sendbox-btn",e.className,"app-chat-sendbox-btn-".concat(e.id)),type:"button"},(0,i.renderIcon)(e.icon),e.content&&o.default.createElement("div",{className:"content"},e.content))}))))}v.propTypes={chatGid:a.default.string.isRequired,className:a.default.string,sendButtonDisabled:a.default.bool,onSendButtonClick:a.default.func,onPreviewButtonClick:a.default.func},v.defaultProps={className:null,sendButtonDisabled:!0,onSendButtonClick:null,onPreviewButtonClick:null},t.default=(0,o.memo)(v)},83337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=j(n(45697)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==A(e)&&"function"!=typeof e)return{default:e};if((t=T(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),a=j(n(74933)),i=j(n(87137)),l=j(n(74160)),s=n(98649),u=j(n(65286)),c=n(33417),f=n(5150),d=n(20491),p=n(15998),h=n(68271),m=j(n(61862)),y=j(n(84431)),g=n(15973),b=n(64393),v=n(4829),_=j(n(28784)),w=n(54881),S=j(n(3418)),O=j(n(16451)),M=j(n(12482)),C=j(n(74101)),k=j(n(74112)),E=j(n(2388)),P=["chat","className","maxMentionSuggestionCount"];function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function j(e){return e&&e.__esModule?e:{default:e}}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){I(a,r,o,i,l,"next",e)}function l(e){I(a,r,o,i,l,"throw",e)}i(void 0)}))}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(n=t?(n=Y(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===A(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return F(r)}}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=T;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e);var n,r=R(T);function T(e){var t;if(this instanceof T)return B(F(t=r.call(this,e)),"handleSendButtonClick",L((function*(){var e;if(!t.state.sendButtonDisabled){for(var n=t.editbox.getContentList(),r=(t.clearContent(),t.focusEditor(),t.props.chat),o=((0,h.setActiveChat)(r.gid,"recents"),(0,g.getUserConfig)()),i=0;i<n.length;++i){var l=n[i];try{if("text"===l.type){l.content=a.default.toShort(l.content);var s=!!(0,g.getUserConfig)().sendHDEmoticon&&l.content.trim();if("command"===o.botMode&&r.isBot){yield(0,d.sendBotCommandMessage)(l.content,r);continue}s&&a.default.emojiList[s]?yield(0,d.sendEmojiMessage)(s,r):yield(0,d.sendTextMessage)(l.content,r)}else"image"===l.type&&(yield(0,d.sendImageMessage)(l.image,r))}catch(e){DEBUG&&(console.collapse("Send message failed with error","redPale",String(e),"red"),console.error(e),console.log("content",l),console.groupEnd())}}o.setChatReplyTo(r.gid,null)}}))),B(F(t),"handleSendBtnContextMenu",(function(e){(0,s.showContextMenu)("chat.sendbox.sendButton",{event:e,chat:t.props.chat,options:{position:{direction:"top-left"}}})})),B(F(t),"handleOnChange",(function(e){var n=t.props.chat,r=e.hasText();t.setState({sendButtonDisabled:!r}),n.isOne2One&&(e=e.getPlainText())!==t.contentText&&(t.contentText=e,(0,f.updateChatSendboxStatus)(n,r))})),B(F(t),"handleOnReturnKeyDown",(function(e){return(0,v.getKeyDecoration)(e)===(0,g.getUserConfig)().sendMessageHotkey?(t.state.sendButtonDisabled||setTimeout((function(){t.handleSendButtonClick()}),10),e.preventDefault(),"handled"):"not-handled"})),B(F(t),"handlePreviewBtnClick",(function(){var e,n;t.state.sendButtonDisabled||(e=[],n=t.props.chat,t.editbox.getContentList().forEach((function(t){var r;"text"===t.type?(t.content=a.default.toShort(t.content),(r=!!(0,g.getUserConfig)().sendHDEmoticon&&t.content.trim())&&a.default.emojiList[r]?e.push((0,d.createEmojiChatMessage)(r,n)):e.push((0,d.createTextChatMessage)(t.content,n))):"image"===t.type&&(r=M.default.create(t.image),e.push((0,d.createTextChatMessage)("![preview-image](".concat(r.viewUrl,")"),n)))})),O.default.show(e,{onHidden:function(){t.focusEditor()}}))})),B(F(t),"handleOnFocus",(function(){var e=t.props.chat,n=F(t).editbox;(0,p.emitChatSendboxFocus)(e,null==n?void 0:n.getContent())})),B(F(t),"handleRequestSuggestions",(function(e,n){var r=(o=t.props).chat,o=o.maxMentionSuggestionCount;return(e=e.text).length?(y.default.searchFromRemote(e,{limit:o,chat:r.gid}).then((function(e){n(e)})).catch((function(){n([])})),(0,p.searchMembersOfGroupChat)(r.gid,e,o)):(0,p.getRecentMembersOfGroupChat)(r.gid,o)})),B(F(t),"handleMentionSuggestionClick",(function(e){"all"===e?t.editbox.appendMentions(e,{replaceAfter:!0}):(e="object"===A(e)?e.id:e,(e=y.default.getMember(e))&&t.editbox.appendMentions(e,{replaceAfter:!0}))})),B(F(t),"handleOnBlur",(function(){var e,n=t.props.chat,r=null==(r=(e=F(t).editbox).getEditorState())?void 0:r.getCurrentContent().getPlainText();(e=e.getContentList()).length?"image"===e[0].type?r=m.default.string("chat.message.type.image"):"text"===e[0].type&&null==r&&(r=e[0].content):r="",!n.draft&&r===n.draft||(n.draft=r,n.lastAccessTime=Date.now(),C.default.store(n))})),B(F(t),"renderSuggestionItem",(function(e,t,n){return"all"===e?o.default.createElement("div",{key:"SuggestionItem-".concat(e),className:(0,b.classes)("app-member-list-item item",n?"primary":""),onClick:t},o.default.createElement(E.default,{className:"user-avatar circle",label:"@",size:24,style:{backgroundColor:"var(--color-primary)",color:"var(--color-white)"}}),o.default.createElement("div",{className:"title x-text-ellipsis"},m.default.string("chat.message.atAll"))):(e="object"===A(e)?e.id:e,o.default.createElement(k.default,{key:"SuggestionItem-".concat(e),memberID:e,className:n?"primary":"",onClick:t}))})),B(F(t),"handleMoreMentionsBtnClick",(function(){(0,w.showChatMentionsDialog)(t.props.chat.gid)})),t.state={sendButtonDisabled:!0},t.defaultState=(0,p.takeOutChatCacheState)(e.chat.gid,"draft"),t;throw new TypeError("Cannot call a class as a function")}return t=T,(e=[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;this.onSendContentToChatHandler=(0,p.onSendContentToChat)(t.gid,(function(t){t.clear&&e.clearContent(),t&&t.content&&("image"===t.type?e.appendImages(t.content,t.callback):"mention"===t.type?e.editbox.appendMentions(t.content,{replaceAfter:t.replaceAfter,insertTrailingSpace:t.insertTrailingSpace},t.callback):"emoji"===t.type?e.editbox.appendEmoji(t.content,t.callback):e.editbox.appendContent(t.content,{skipDuplicateText:t.skipDuplicateText,replaceAfter:t.replaceAfter},t.callback)),e.focusEditor(),t&&t.send&&e.handleSendButtonClick()})),l.default.ui["chat.sendbox.focusOnActiveChat"]&&(this.onChatActiveHandler=(0,h.onActiveChat)((function(n){t.gid===n&&e.focusEditor()})),this.focusEditor()),t.isOne2One&&(this.onMemberChangeHandler=y.default.subscribe(t.theOtherMemberID,(function(t){t=t.status,e._memberStatus!==t&&(e._memberStatus=t,e.forceUpdate())})))}},{key:"componentWillUnmount",value:function(){var e,t=this.props.chat,n=this.editbox.getEditorState();n&&(e=n.getCurrentContent())&&e.hasText()&&(0,p.setChatCacheState)(t.gid,{draft:n}),u.default.off(this.onSendContentToChatHandler,this.onChatActiveHandler),this.onMemberChangeHandler&&y.default.unsubscribe(this.onMemberChangeHandler)}},{key:"appendImages",value:(n=L((function*(e){var t=this;if(e instanceof FileList){var n=e;e=[];for(var r=0;r<n.length;++r)e.push(n[r])}var o,a=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(e=Array.isArray(e)?e:[e]);try{for(a.s();!(o=a.n()).done;){var i=o.value;try{yield function(e){return new Promise((function(n){var r=e instanceof M.default?e.originFile:e;t.editbox.appendImage(r,n)}))}(i)}catch(e){}}}catch(e){a.e(e)}finally{a.f()}this.focusEditor()})),function(e){return n.apply(this,arguments)})},{key:"clearContent",value:function(){this.editbox.clearContent(),this.setState({sendButtonDisabled:!0})}},{key:"focusEditor",value:function(){this.editbox.focus()}},{key:"_getPlaceholder",value:function(){var e=this.props.chat,t=null;return e.isOne2One&&(e=(0,c.getOtherMemberInOne2OneChat)(e))&&(e.isOffline?t=m.default.format("chat.sendbox.placeholder.memberIsOffline",e.displayName):(e.isBusy||e.isAway||e.isInMeeting)&&(t=m.default.format("chat.sendbox.placeholder.memberIsBusy",e.displayName,m.default.string("member.status.".concat(e.statusName))))),t||"".concat(m.default.string("chat.sendbox.placeholder.sendMessage")).concat((0,g.getUserConfig)().sendMarkdown?" (Markdown)":"")}},{key:"render",value:function(){var e=this,t=(a=this.props).chat,n=a.className,r=a.maxMentionSuggestionCount,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,P),l=this.state.sendButtonDisabled;return o.default.createElement("div",x({},a,{className:(0,b.classes)("app-chat-sendbox",n)}),o.default.createElement(S.default,{className:"dock-top",chatGid:t.gid,sendButtonDisabled:l,onPreviewButtonClick:this.handlePreviewBtnClick}),o.default.createElement(_.default,{className:"app-chat-drafteditor white dock-bottom overflow-y-auto scrollbar-hover","data-chat":t.gid,defaultState:this.defaultState,ref:function(t){e.editbox=t},placeholder:this._getPlaceholder(),onChange:this.handleOnChange,onReturnKeyDown:this.handleOnReturnKeyDown,onFocus:this.handleOnFocus,onRequestSuggestions:!r||t.isOne2One||t.isBot?null:this.handleRequestSuggestions,suggestionsItemRender:this.renderSuggestionItem,onClickMentionSuggestion:this.handleMentionSuggestionClick,onClickMentionsMoreBtn:this.handleMoreMentionsBtnClick,onBlur:this.handleOnBlur}),o.default.createElement("button",{type:"button",className:"app-chat-sendbox-send-btn btn iconbutton rounded hint--top-right dock dock-bottom dock-right","data-hint":"".concat(m.default.string("chat.sendbox.toolbar.send")," (").concat((0,g.getUserConfig)().sendMessageHotkey," - ").concat(m.default.string("chat.sendbox.toolbar.changeHotkeyTip"),")"),onClick:this.handleSendButtonClick,onContextMenu:this.handleSendBtnContextMenu},o.default.createElement(i.default,{className:(0,b.classes)("icon-2x",{muted:l,"text-primary":!l}),name:"mdi-keyboard-return"})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),T}(o.Component),B(t.default=n,"propTypes",{className:r.default.string,chat:r.default.object,maxMentionSuggestionCount:r.default.number}),B(n,"defaultProps",{className:null,chat:null,maxMentionSuggestionCount:7})},86033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatShareDialog=t.showChatSendDialog=t.default=void 0;var r=n(86208),o=u(n(61862)),a=u(n(68788)),i=n(20491),l=n(22852),s=u(n(74101));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function f(e){}n=function(){e=function*(e,t){return t=(t=yield(0,l.showChatsSelectDialog)({selectTip:o.default.string("chat.share.selectChats")},t))&&t.length?s.default.getChats(t):null,"function"==typeof e?(e(t),t):t?((e=yield(0,i.shareContentToChats)(e,t,"chat.share.sending")).length&&a.default.show(o.default.format("chat.share.sendSuccess",t.length),{type:"success",autoHide:3e3,id:"messager-chat-share-message",closeButton:!0,backdrop:!1,modal:!1}),e):void 0};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,l,"next",e)}function l(e){c(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e,n){return t.apply(this,arguments)}}(),n={show:t.showChatShareDialog=n,showChatSendDialog:t.showChatSendDialog=function(e,t){"string"==typeof(e=e.options.message)&&(e=(0,i.createTextChatMessage)(e,{})),(0,r.showSelectDialogWithPreview)(f,e,{primaryBtnText:o.default.string("chat.sendMessage")},t).then((function(t){return t&&t.length?(0,i.shareContentToChats)(e,t,"chat.send.sending").then((function(e){return a.default.show(o.default.format("chat.send.sendSuccess",t.length),{type:"success",autoHide:3e3,id:"messager-chat-send-message",closeButton:!0,backdrop:!1,modal:!1}),e})):Promise.resolve()})).catch()}},t.default=n},56579:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=i(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=a?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(n=n(61862))&&n.__esModule?n:{default:n};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=(0,o.forwardRef)((function(e,t){var n=l((0,o.useState)(null!=(n=e.current)?n:1),2),r=n[0],i=n[1];return(0,o.useImperativeHandle)(t,(function(){return{setCurrent:i}}),[]),o.default.createElement("div",null,"".concat(a.default.string(e.langString),"(").concat(r,"/").concat(e.total,")"))}))},28091:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=m(n(61862)),l=m(n(60645)),s=m(n(10352)),u=m(n(94822)),c=n(78717),f=n(98649),d=m(n(94592)),p=m(n(93956)),h=["cgid","className","children"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){t.target.closest(".app-file-actions")||(0,c.executeCommand)("showChatMessage",e.cgid,e.messageID)}function _(e){var t=e.target.closest(".app-file-list-item"),n=(null!=t&&t.classList.add("selected"),null==t?void 0:t.getAttribute("data-file"));!n||(n=d.default.getFile(n))&&n.messageID&&((0,f.showContextMenu)("message",{event:e,message:n.messageID,options:{exclude:["message-unpin","message-pin","message-reply"]}}),document.addEventListener("click",(function(){null!=t&&t.classList.remove("selected")}),{once:!0}))}t.default=(0,o.memo)((function(e){var t=(0,u.default)(e.cgid),n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(t)),r=n[0],c=n[1],f=(e.cgid,n=e.className,e.children);return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,h),(0,o.useEffect)((function(){c(t)}),[t]),o.default.createElement("div",g({className:(0,a.classes)("app-chat-sidebar-files",n)},e),null!=t&&t.length?o.default.createElement("div",{className:"search-box"},o.default.createElement(p.default,{onSearchChange:function(e){var n;if(e)return n=e?e.trim().toLowerCase().split(" "):null,e=t.map((function(e){return{score:e.getMatchScore(n),file:e}})).filter((function(e){return e.score})).sort((function(e,t){return t.score-e.score})).map((function(e){return e.file})),void c(e);c(t)},changeDelay:1e3,placeholder:i.default.string("common.search")})):null,null!=r&&r.length?o.default.createElement(l.default,{multiLines:!0,compact:!0,className:"white rounded",files:r,showDate:!0,showSender:!0,infos:"size,sender,date",onClickItem:v,onContextMenu:_}):o.default.createElement("div",{className:"dock center-content",style:{top:(0,a.rem)(50)}},o.default.createElement("div",null,o.default.createElement(s.default,{name:":blowfish:",className:"text-center"}),o.default.createElement("div",{className:"text-gray small"},i.default.string(null!=t&&t.length?"common.files.findCount.none":"chat.sidebar.tab.files.noFilesHere")))),f)}))},67804:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=P(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=E(n(45697)),i=E(n(87137)),l=E(n(61862)),s=E(n(48516)),u=n(40910),c=n(15973),f=E(n(68788)),d=E(n(91705)),p=n(64393),h=E(n(68634)),m=E(n(74112)),y=n(15998),g=n(68271),b=E(n(14992)),v=n(98649),_=n(33417),w=n(20491),S=E(n(65286)),O=n(58008),M=E(n(74101)),C=E(n(84431)),k=["chat","children","className"];function E(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=I(e);if(n=t?(n=I(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return A(o)}}(a);function a(e){var t;if(this instanceof a)return L(A(t=n.call(this,e)),"handleItemRender",(function(e,n){var r=t.props.chat,a=[];return r.isCommitter(e)||a.push(o.default.createElement("span",{key:"committer-icon",className:"flex-none hint--left text-gray","data-hint":l.default.string("chat.committers.blocked")},o.default.createElement(i.default,{name:"account-lock-outline"}))),r.isAdmin(e)&&a.push(o.default.createElement("span",{key:"admin-icon",className:"flex-none hint--left","data-hint":l.default.string("chat.role.admin")},r.isOwner(e)?o.default.createElement(i.default,{name:"sprite-member-admin icon-sm"}):o.default.createElement(i.default,{name:"sprite-member-admin icon-sm hue-rotate"}))),o.default.createElement(m.default,{"data-id":e.id,onContextMenu:t.handleItemContextMenu,onClick:t.handleMemberItemClick,key:e.id,memberID:e.id},0<a.length&&o.default.createElement("div",{className:"icons flex-none single row flex-middle"},a),n)})),L(A(t),"handleItemContextMenu",(function(e){var n=C.default.getMember(e.currentTarget.attributes["data-id"].value),r=t.props.chat,o=t.state.selection;(0,v.showContextMenu)("chat.sidebar.member",{chat:r,event:e,member:n,onClickMultiSelection:!o&&function(){t.setState({selection:!0})}})})),L(A(t),"handleInviteBtnClick",(function(){t.handleCancelSelectionBtnClick(),b.default.show(t.props.chat)})),L(A(t),"handleMemberItemClick",(function(e){var n,r,o=C.default.getMember(e.currentTarget.attributes["data-id"].value);t.state.selection?(n=o.id,(0,c.isCurrentUser)(n)||((r=t.state.chosen).has(n)?r.delete(n):r.add(n),t.setState({chosen:r}))):(0,v.showContextMenu)("member.profile",{event:e,showMentionBtn:!0,member:o,options:{onItemClick:function(){return!1},position:{x:e.target.parentNode.parentNode.getBoundingClientRect().x-20,y:e.target.parentNode.getBoundingClientRect().y,direction:"bottom-left"}}})})),L(A(t),"handleCancelSelectionBtnClick",(function(){t.setState({selection:!1,chosen:new Set})})),L(A(t),"handleActiveChatBtnClick",(function(){var e=t.state.chosen;1===e.size&&(e=_.getOne2OneChatGid.apply(void 0,j(e)),(0,g.setActiveChat)(e,"recents"))})),L(A(t),"handleCreateGroupBtnClick",(function(){var e=t.state.chosen;1<e.size&&(0,y.createGroupChat)(j(e)).then((function(e){return e&&(0,u.setRoutePath)("chats","groups",e.gid),t.handleCancelSelectionBtnClick(),!0})).catch((function(e){e&&f.default.show(l.default.error(e),{type:"danger"})}))})),L(A(t),"handleRemoveBtnClick",(function(){var e=t.props.chat,n=j(t.state.chosen);return s.default.confirm(l.default.string("chat.kickOffFromGroup.confirm.batch")).then((function(t){if(t)return(0,w.batchKickMemberFromChat)(e,n)})).then((function(){t.handleCancelSelectionBtnClick()}))})),t.state={selection:!1,chosen:new Set},t._membersIdSet=null,t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){var e=this;this.dataChangeEventHandler=M.default.subscribe(this.props.chat.gid,(function(){e.forceUpdate()})),this.onChatActiveHandler=(0,g.onActiveChat)((function(){e.handleCancelSelectionBtnClick()})),this._membersChangeHandler=C.default.subscribeAny((function(t){t&&t.length&&e._membersIdSet&&e._membersIdSet.size&&t.some((function(t){return e._membersIdSet.has(t.id)}))&&e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){S.default.off(this.onChatActiveHandler),M.default.unsubscribe(this.dataChangeEventHandler),C.default.unsubscribe(this._membersChangeHandler)}},{key:"render",value:function(){var e=(r=this.props).chat,t=r.children,n=r.className,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,k),a=(0,_.getChatMembers)(e);if(!a.length)return M.default.tryFetchChatMembers(e.gid),o.default.createElement("div",T({},r,{className:(0,p.classes)("app-chat-sidebar-peoples dock single column space-between has-padding-xl",n)}),o.default.createElement(d.default,null));var i,s,u=(f=this.state).selection,f=f.chosen,m=(0,c.getCurrentUser)(),y=m.account,g=((0,O.sortMembers)(a,[function(t,n){return t.account===y?-1:n.account===y?1:(t=e.isAdmin(t),n=e.isAdmin(n),t&&!n?-1:n&&!t?1:0)},"status","-id"]),null);return e.isSystem||(i=[],1===(s=f.size)&&i.push(o.default.createElement("a",{key:"btn-create-chat",className:"btn gray x-outline rounded",onClick:this.handleActiveChatBtnClick},l.default.string("chat.sidebar.createChat"))),1<s&&i.push(o.default.createElement("a",{key:"btn-create-group",className:"btn gray x-outline rounded",onClick:this.handleCreateGroupBtnClick},l.default.string("chat.sidebar.createGroup"))),e.canInvite(m)&&i.push(o.default.createElement("a",{key:"btn-invite",className:"btn gray x-outline rounded",onClick:this.handleInviteBtnClick},l.default.string("chat.sidebar.invite"))),e.canKickOff(m)&&0<s&&i.push(o.default.createElement("a",{key:"btn-remove-member",className:"btn gray x-outline rounded",onClick:this.handleRemoveBtnClick},l.default.string("chat.sidebar.removeMember"))),u&&i.push(o.default.createElement("a",{key:"btn-cancel-selection",className:"btn rounded",onClick:this.handleCancelSelectionBtnClick},l.default.string("chat.sidebar.cancelSelection"))),i.length&&(g=o.default.createElement("nav",{className:"actions flex-none has-padding-sm text-center"},i))),this._membersIdSet=new Set(a.map((function(e){return e.id}))),o.default.createElement("div",T({},r,{className:(0,p.classes)("app-chat-sidebar-peoples dock single column space-between",n)}),o.default.createElement("div",{className:"overflow-y-auto scrollbar-hover"},o.default.createElement(h.default,{itemRender:this.handleItemRender,className:"compact fluid flex-auto",members:a,selection:u,chosen:f})),g,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),L(t.default=n,"propTypes",{className:a.default.string,chat:a.default.object,children:a.default.any}),L(n,"defaultProps",{className:null,chat:null,children:null})},6633:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=n(64393),l=c(n(71214)),s=c(n(74101)),u=["gid","className","children"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){var t=e.gid,n=e.className,r=e.children;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),(t=s.default.getChat(t))?(t=t.theOtherMemberID,o.default.createElement("div",d({className:(0,i.classes)("app-chat-sidebar-profile has-padding",n)},e),o.default.createElement(l.default,{compact:!0,className:"white",memberId:t}),r)):null}p.defaultProps={className:null,children:null},p.propTypes={gid:a.default.string.isRequired,className:a.default.string,children:a.default.any},t.default=(0,o.memo)(p)},59396:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(64393),l=h(n(74112)),s=h(n(68634)),u=n(98649),c=h(n(84431)),f=h(n(58279)),d=h(n(74101)),p=["chat","children","className"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(n=t?(n=_(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return v(o)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e);var n=b(r);function r(){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return w(v(e=n.call.apply(n,[this].concat(a))),"handleItemRender",(function(t){return o.default.createElement(l.default,{"data-id":t.id,onContextMenu:e.handleItemContextMenu,onClick:e.handleMemberItemClick,key:t.account,memberID:t.id})})),w(v(e),"handleItemContextMenu",(function(t){var n=e.props.chat,r=c.default.getMember(t.currentTarget.attributes["data-id"].value);(0,u.showContextMenu)("chat.sidebar.member",{chat:n,event:t,member:r})})),w(v(e),"handleMemberItemClick",(function(e){var t=c.default.getMember(e.currentTarget.attributes["data-id"].value);(0,u.showContextMenu)("member.profile",{event:e,showMentionBtn:!0,member:t,options:{onItemClick:function(){return!1},position:{x:e.pageX,y:e.pageY,offsetX:Math.ceil(e.target.parentNode.parentNode.getBoundingClientRect().x*(Number.parseFloat(document.documentElement.style.zoom)||1)-e.pageX),direction:"bottom-left"}}})})),e}return t=r,(e=[{key:"componentDidMount",value:function(){var e=this;this.dataChangeEventHandler=c.default.subscribeAny((function(){e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){c.default.unsubscribe(this.dataChangeEventHandler)}},{key:"render",value:function(){var e=(r=this.props).chat,t=r.children,n=r.className,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,p),a=d.default.getRecentContactMembers();return o.default.createElement("div",y({},r,{className:(0,i.classes)("chat-sidebar-depts dock",n)}),o.default.createElement(f.default,{cgid:e.gid}),o.default.createElement("div",{className:"overflow-y-auto scrollbar-hover"},o.default.createElement(s.default,{itemRender:this.handleItemRender,className:"compact fluid flex-auto",members:a})),t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),w(t.default=n,"propTypes",{chat:a.default.object,children:a.default.any,className:a.default.string}),w(n,"defaultProps",{chat:null,children:null,className:null})},77055:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=n(66222),l=p(n(28091)),s=p(n(59396)),u=p(n(67804)),c=p(n(6633)),f=p(n(41584)),d=["chat","className","children"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=(0,o.memo)((function(e){PERF&&(0,o.useEffect)((function(){PERF_MARK("chatSidebarShowed","beginOpenSystemChatSidebar","systemChatSidebarShowTime"),PERF_MARK("chatSidebarShowed","beginOpenOne2oneChatSidebar","one2oneChatSidebarShowTime")}),[]);var t=e.chat,n=e.className,r=e.children,p=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,d),y((0,f.default)(),1)[0]);return o.default.createElement("div",m({className:(0,a.classes)("app-chat-sidebar dock white",n)},e),o.default.createElement(i.Tabs,{className:"dock column single",defaultActivePaneKey:t.isOne2One?"profile":t.isSystem?"recentContacts":"peoples",navClassName:"overflow-hidden app-chat-sidebar-nav nav-pills flex-none nav-sm justified shadow-1",contentClassName:"flex-auto display overflow-y-auto scrollbar-hover"},t.isOne2One?o.default.createElement(i.TabPane,{key:"profile",label:p.string("chat.sidebar.tab.profile.label")},function(e){return o.default.createElement(c.default,{gid:e.gid})}.bind(null,t)):t.isSystem?o.default.createElement(i.TabPane,{key:"recentContacts",label:"".concat(p.string("chat.sidebar.tab.recentContacts.label"))},function(e){return o.default.createElement(s.default,{chat:e})}.bind(null,t)):o.default.createElement(i.TabPane,{key:"peoples",label:"".concat(p.string("chat.sidebar.tab.peoples.label"))},function(e){return o.default.createElement(u.default,{chat:e})}.bind(null,t)),o.default.createElement(i.TabPane,{key:"files",label:"".concat(p.string("chat.sidebar.tab.files.label"))},function(e){return o.default.createElement(l.default,{cgid:e.gid})}.bind(null,t))),r)}))},82847:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showChatTipPopover=t.default=void 0;var o=f(n(67294)),a=f(n(87137)),i=f(n(21898)),l=f(n(61862)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(15973)),u=f(n(94128));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}n={show:t.showChatTipPopover=function(e,t){var n="app-chat-tip-popover",r=o.default.createElement("div",null,o.default.createElement("div",{className:"heading"},o.default.createElement("div",{className:"title strong"},l.default.string("chat.tips.title")),o.default.createElement("nav",{className:"nav"},o.default.createElement("a",{className:"text-gray small",onClick:function(){s.default.userConfig.showMessageTip=!1,i.default.hide(n)}},o.default.createElement(a.default,{name:"close"})," ",l.default.string("chat.tips.close")))),o.default.createElement("div",{className:"box"},o.default.createElement("ul",{style:{paddingLeft:20,marginBottom:0}},o.default.createElement("li",null,l.default.string("chat.tips.dragging")),o.default.createElement("li",null,l.default.string("chat.tips.markdown")),o.default.createElement("li",null,l.default.string("chat.tips.pasting")),u.default.has("screenshot")&&(0,s.getUserConfig)()?o.default.createElement("li",null,l.default.string("chat.tips.screenshots")):null)));return i.default.show(e,r,{id:n,width:320,height:140},t)}},t.default=n},66290:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=b(n(45697)),i=n(64393),l=n(16986),s=b(n(87137)),u=b(n(29009)),c=n(67629),f=b(n(74160)),d=b(n(94128)),p=b(n(27149)),h=b(n(86575)),m=b(n(41584)),y=b(n(43088)),g=["cgid","className","children"];function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.cgid,n=e.className,r=e.children,a=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,g),w((0,m.default)(),1)[0]),b=(0,p.default)(t),v=(t=w((0,h.default)(t),1)[0],(0,y.default)(t.theOtherMemberID)),S=t.isOne2One,O=f.default.ui["chat.denyShowMemberProfile"],M=t.isGroupOrSystem&&(t.isSystem||t.members.size)?a.format("chat.groupName.format",t.name,t.isSystem?a.string("chat.all"):t.members.size):t.name,C=!O&&S?c.showMemberProfileDialog.bind(null,t.theOtherMemberID,null):null,k=null,E=(!f.default.ui["chat.showNoticeOnChatTitle"]||(E=t.unreadMessagesCount)&&!d.default.call("ui.isWindowOpenAndFocus")&&(k=o.default.createElement("div",{className:(0,i.classes)("label circle label-sm",t.isMuteOrHidden?"blue":"red")},99<E?"99+":E)),S&&!f.default.ui["chat.hideStatusDot"]),P=null;return b&&(P=o.default.createElement("small",{className:"muted small"},a.string("chat.one2one.typing"))),o.default.createElement("div",_({className:(0,i.classes)("chat-title heading",n)},e),E&&o.default.createElement(u.default,{size:10,status:v}),!O&&S?o.default.createElement("a",{className:(0,i.classes)("strong rounded title flex-none",(0,l.isEmptyString)(M)?"loading-holder relative loading-holder-line":""),onClick:C},M):o.default.createElement("strong",{className:(0,i.classes)("title flex-none",(0,l.isEmptyString)(M)?"loading-holder relative loading-holder-line":"")},M),S&&!E?o.default.createElement("span",{className:"muted"},"[",a.string("member.status.".concat(v)),"]"):null,t.public&&o.default.createElement("div",{"data-hint":a.string("chat.public.label")},o.default.createElement(s.default,{className:"text-green",name:"access-point"})),t.mute&&o.default.createElement("div",{"data-hint":a.string("chat.mute.label")},o.default.createElement(s.default,{className:"text-brown",name:"bell-off"})),t.isArchived&&o.default.createElement("div",{className:"small label rounded yellow"},a.string("chat.group.archived")),t.isDismissed&&o.default.createElement("div",{className:"small label rounded dark"},a.string("chat.group.dismissed")),t.isDeleted&&o.default.createElement("div",{className:"small label rounded dark"},a.string("chat.deleted")),k,P,o.default.createElement("div",{className:"flex-auto"}),r)}O.propTypes={cgid:a.default.string.isRequired,className:a.default.string,children:a.default.any},O.defaultProps={className:null,children:null},t.default=(0,o.memo)(O)},30162:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cgid,n=(e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)()),e[0]),r=e[1];return(0,o.useEffect)((function(){return a.default.setSendFailedFilesListener(t,(function(e){var t=new Map;e.forEach((function(e,n){t.set(n,e)})),r(t)})),function(){return a.default.delSendFailedFilesListener(t)}}),[t]),n&&0!==n.size?o.default.createElement("div",{className:"app-chat-transfers"},Array.from(n.values()).map((function(e){var n=e.id,r=e.name,f=e.size,d=e.originFile;return o.default.createElement("div",{className:"app-file-list-item item flex-middle"},o.default.createElement(l.default,{skin:{code:r,pale:!0},size:30,className:"flex-none shadow rounded-lg",icon:"mdi-file"}),o.default.createElement("div",{className:"content"},o.default.createElement("div",{className:"title",title:r},r),o.default.createElement("div",{className:"flex-shrink-0 pl-[4px]"},o.default.createElement("span",{className:"app-file-info","data-info":"size"},(0,i.formatBytes)(f)),o.default.createElement("span",{className:"ml-1 text-red-500"},c.default.string("file.uploadFailed")))),o.default.createElement("div",{className:"flex items-center ml-2 flex-none"},o.default.createElement("a",{title:c.default.string("file.reupload"),onClick:function(){return e=n,r=d,o=u.default.getChat(t),(0,s.sendFilesByRTC)([r],o),void a.default.delSendFailedFile(t,e);var e,r,o}},o.default.createElement("i",{className:"icon mdi mdi-reload text-lg text-blue-500"})),o.default.createElement("a",{className:"ml-1",title:c.default.string("file.abort"),onClick:function(){a.default.delSendFailedFile(t,n)}},o.default.createElement("i",{className:"icon mdi mdi-close-circle text-lg text-amber-500"}))))}))):null};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(79358)),i=n(16986),l=f(n(7807)),s=n(20491),u=f(n(74101)),c=f(n(61862));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},12135:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChatTransfersByRTCResponder=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=_(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=v(n(71060)),i=v(n(7807)),l=v(n(65286)),s=v(n(24260)),u=n(15973),c=n(20354),f=v(n(74101)),d=v(n(94128)),p=n(16986),h=v(n(61862)),m=v(n(87137)),y=n(78717),g=n(73642),b=n(24317);function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function S(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=d.default.isType("browser"),E=d.default.access("dialog"),P=d.default.access("fs");function T(e){var t=e.cgid,n=e.file,r=e.receiver,l=(e=O((0,o.useState)(null!=(e=null==r?void 0:r.getOffset(n.id))?e:0),2))[0],d=e[1],g=(e=O((0,o.useState)(null==r?void 0:r.getSpeed(n.id)),2))[0],v=e[1],_=(e=O((0,o.useState)(null==r?void 0:r.getRemainingTime(n.id)),2))[0],S=e[1],M=(e=O((0,o.useState)(0),2))[0],C=e[1],T=((0,o.useEffect)((function(){return r&&r.addReceiveProgressListener(n.id,(function(e){d(r.getOffset(n.id)),v(r.getSpeed(n.id)),S(r.getRemainingTime(n.id)),C(100*e)})),function(){return null==r?void 0:r.removeReceiveProgressListener(n.id)}})),(0,u.getCurrentUserID)()),j=f.default.getChat(t),x=(e=null,n.status===b.RTC_FILE_STATUS.pending?e=o.default.createElement("div",{className:"flex justify-center flex-shrink-0 min-w-[48px] pl-[16px]"},o.default.createElement("a",{className:"btn btn-sm primary rounded-tl rounded-bl",onClick:function(){return x(b.RTC_FILE_STATUS.accepted)}},h.default.string("file.rtc.accept")),o.default.createElement("a",{className:"btn btn-sm gray rounded-tr rounded-br",onClick:function(){return x(b.RTC_FILE_STATUS.refused)}},h.default.string("file.rtc.refuse"))):n.status===b.RTC_FILE_STATUS.accepted&&M<100&&(e=o.default.createElement("div",{className:"flex min-w-[48px] justify-center flex-shrink-0 pl-[16px]"},o.default.createElement("a",{className:"btn btn-sm gray rounded",onClick:function(){return D()}},h.default.string("common.cancel")))),g=g&&n.status===b.RTC_FILE_STATUS.accepted?o.default.createElement("span",{className:"app-file-info","data-info":"size"},o.default.createElement(m.default,{name:"mdi-download",style:{display:"inline-block",verticalAlign:"middle"}}),o.default.createElement("span",{style:{display:"inline-block",verticalAlign:"middle"}},"".concat((0,p.formatBytes)(g),"/s - "))):null,_=_&&n.status===b.RTC_FILE_STATUS.accepted?o.default.createElement("span",{className:"app-file-info","data-info":"size",style:{verticalAlign:"middle"}},"- ",h.default.format("file.rtc.time",_)):null,function(){e=function*(e){if(e===b.RTC_FILE_STATUS.accepted){if(!k){var r=yield E.showSaveDialog({filename:n.name});if(!r)return;n.savedPath=r}a.default.acceptReceivingFile(t,n.id)}e===b.RTC_FILE_STATUS.refused&&(n.status="refused",a.default.removeReceivingFile(t,n.id),(0,y.executeCommand)("sendFileBroadcastChatMessage",{type:c.FILE_BROAD_MESSAGE_TYPES.rejctReceive,chat:j,fileName:n.name,fileSize:n.size})),s.default.send({method:"datatransfer",params:{cgid:t,user:n.sender,data:JSON.stringify({type:b.RTC_TRANSFER_EVENT.receiveFilesConfirm,file:n}),userID:T}})};var e,r=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){w(a,r,o,i,l,"next",e)}function l(e){w(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(e){return r.apply(this,arguments)}}()),D=function(){s.default.send({method:"datatransfer",params:{cgid:t,user:j.theOtherMemberID,data:JSON.stringify({type:b.RTC_TRANSFER_EVENT.receiveFilesCancel,file:n}),userID:T}});var e="".concat(null==(e=a.default.getReceivingFile(t,n.id))?void 0:e.savedPath,".tmp");!k&&P.pathExistsSync(e)&&P.removeSync(e),a.default.removeReceivingFile(t,n.id),(0,y.executeCommand)("sendFileBroadcastChatMessage",{type:c.FILE_BROAD_MESSAGE_TYPES.cancelReceive,chat:j,fileName:n.name,fileSize:n.size})};return o.default.createElement("div",{className:"app-file-list-item item flex-middle"},o.default.createElement(i.default,{skin:{code:n.name,pale:!0},size:30,progress:M,className:"flex-none shadow rounded-lg",icon:"mdi-file"}),o.default.createElement("div",{className:"content"},o.default.createElement("div",{className:"title",title:n.name},n.name),o.default.createElement("div",{className:"flex-shrink-0 pl-[4px]"},o.default.createElement("span",{className:"app-file-info","data-info":"progress"},n.status===b.RTC_FILE_STATUS.pending?h.default.string("file.rtc.waiting"):h.default.string("file.rtc.transferring")),g,o.default.createElement("span",{className:"app-file-info","data-info":"size"},n.status===b.RTC_FILE_STATUS.pending?(0,p.formatBytes)(n.size):"".concat((0,p.formatBytes)(l),"/").concat((0,p.formatBytes)(n.size))),_)),e)}t.ChatTransfersByRTCResponder=(0,o.memo)((function(e){var t,n,r,i=e.cgid,s=(e=O((0,o.useState)(S(null!=(e=null==(e=a.default.getReceivingFiles(i))?void 0:e.values())?e:[])),2))[0],u=e[1],c=(t=i,n=(e=O((0,o.useState)(a.default.getRTCReceiver(t)),2))[0],r=e[1],(0,o.useEffect)((function(){var e=l.default.on("".concat(g.RESPONDER_CHANNEL_STATUS_CHANGE_EVENT,".").concat(t),(function(){r(a.default.getRTCReceiver(t))}));return function(){return l.default.off(e)}})),n);return(0,o.useEffect)((function(){return a.default.addReceivingFilesListener(i,(function(e){u(e)})),function(){return a.default.removeReceivingFilesListener(i)}}),[i]),s&&s.length?o.default.createElement("div",{className:"app-chat-transfers"},S(s.values()).map((function(e){return o.default.createElement(T,{cgid:i,file:e,receiver:c,key:e.id})}))):null}))},92239:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChatTransfersByRTCInitiator=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=_(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=v(n(79358)),i=v(n(71060)),l=v(n(7807)),s=v(n(65286)),u=v(n(24260)),c=n(15973),f=v(n(74101)),d=n(16986),p=v(n(61862)),h=v(n(87137)),m=n(3042),y=n(78717),g=n(20354),b=n(24317);function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.cgid,n=e.file,r=e.sender,i=(e=S((0,o.useState)(null!=(e=null==r?void 0:r.getOffset(n.id))?e:0),2))[0],s=e[1],m=(e=S((0,o.useState)(null==r?void 0:r.getSpeed(n.id)),2))[0],v=e[1],_=(e=S((0,o.useState)(null==r?void 0:r.getRemainingTime(n.id)),2))[0],w=e[1],O=(e=S((0,o.useState)(0),2))[0],M=e[1],C=((0,o.useEffect)((function(){return r&&r.setSendProgressListener(n.id,(function(e){s(r.getOffset(n.id)),v(r.getSpeed(n.id)),w(r.getRemainingTime(n.id)),M(100*e)})),function(){return null==r?void 0:r.delSendProgressListener(n.id)}})),(0,c.getCurrentUserID)()),k=f.default.getChat(t),E=(e=null,(n.status===b.RTC_FILE_STATUS.accepted&&O<100||n.status===b.RTC_FILE_STATUS.pending)&&(e=o.default.createElement("div",{className:"flex min-w-[48px] justify-center flex-shrink-0 pl-[16px]"},o.default.createElement("a",{className:"btn btn-sm gray rounded",onClick:function(){return E()}},p.default.string("common.cancel")))),m=m&&n.status===b.RTC_FILE_STATUS.accepted?o.default.createElement("span",{className:"app-file-info","data-info":"size"},o.default.createElement(h.default,{name:"mdi-upload",className:"inline-block align-middle"}),o.default.createElement("span",{style:{display:"inline-block",verticalAlign:"middle"}},"".concat((0,d.formatBytes)(m),"/s - "))):null,_=_&&n.status===b.RTC_FILE_STATUS.accepted?o.default.createElement("span",{className:"app-file-info align-middle","data-info":"size"},"- ",p.default.format("file.rtc.time",_)):null,function(){u.default.send({method:"datatransfer",params:{cgid:t,user:k.theOtherMemberID,data:JSON.stringify({type:b.RTC_TRANSFER_EVENT.sendFilesCancel,file:n}),userID:C}}),null!=r&&r.abortFileRead(n.id),a.default.removeSendingFile(t,n.id),(0,y.executeCommand)("sendFileBroadcastChatMessage",{type:g.FILE_BROAD_MESSAGE_TYPES.cancelSend,chat:k,fileName:n.name,fileSize:n.size})});return o.default.createElement("div",{className:"app-file-list-item item flex-middle"},o.default.createElement(l.default,{skin:{code:n.name,pale:!0},size:30,progress:O,className:"flex-none shadow rounded-lg",icon:"mdi-file"}),o.default.createElement("div",{className:"content"},o.default.createElement("div",{className:"title",title:n.name},n.name),o.default.createElement("div",{className:"flex-shrink-0 pl-[4px]"},o.default.createElement("span",{className:"app-file-info","data-info":"progress"},n.status===b.RTC_FILE_STATUS.pending?p.default.string("file.rtc.waiting"):p.default.string("file.rtc.transferring")),m,o.default.createElement("span",{className:"app-file-info","data-info":"size"},n.status===b.RTC_FILE_STATUS.pending?(0,d.formatBytes)(n.size):"".concat((0,d.formatBytes)(i),"/").concat((0,d.formatBytes)(n.size))),_)),e)}t.ChatTransfersByRTCInitiator=(0,o.memo)((function(e){var t,n,r,l=e.cgid,u=(e=S((0,o.useState)(w(null!=(e=null==(e=a.default.getSendingFiles(l))?void 0:e.values())?e:[])),2))[0],c=e[1],f=(t=l,n=(e=S((0,o.useState)(a.default.getRTCSender(t)),2))[0],r=e[1],(0,o.useEffect)((function(){var e=s.default.on("".concat(m.INITIATOR_CHANNEL_STATUS_CHANGE_EVENT,".").concat(t),(function(){r(a.default.getRTCSender(t))}));return function(){return s.default.off(e)}})),n);return(0,o.useEffect)((function(){return a.default.addSendingFilesListener(l,(function(e){c(e)})),function(){return i.default.removeReceivingFilesListener(l)}}),[l]),u&&u.length?o.default.createElement("div",{className:"app-chat-transfers flex flex-wrap space-between"},u.map((function(e){return o.default.createElement(C,{key:e.id,cgid:l,file:e,sender:f})}))):null}))},85432:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=s(n(45697)),i=s(n(1528)),l=s(n(38400));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return(e=(0,l.default)(e.cgid)).length?o.default.createElement("div",{className:"app-chat-transfers flex flex-wrap space-between"},e.map((function(e){return o.default.createElement(i.default,{canPreview:!1,key:e.gid,file:e,className:"flex-inline x-list-item"})}))):null}c.propTypes={cgid:a.default.string.isRequired},t.default=(0,o.memo)(c)},89763:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=I(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=A(n(45697)),i=A(n(73216)),l=A(n(88547)),s=n(64393),u=n(7066),c=A(n(2388)),f=n(15973),d=A(n(68440)),p=A(n(45802)),h=A(n(83337)),m=A(n(77055)),y=A(n(85432)),g=A(n(74160)),b=A(n(58551)),v=A(n(86575)),_=A(n(41584)),w=A(n(74689)),S=A(n(36100)),O=A(n(84431)),M=A(n(74101)),C=n(68271),k=n(71255),E=n(12341),P=n(99500),T=n(92239),j=n(12135),x=A(n(30162)),D=["chatGid","hidden","className","children"];function A(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function N(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){var t,n=e.chatGid,r=e.hidden,a=e.className,A=e.children,I=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,D),R((0,_.default)(),1)[0]),F=(0,b.default)(),Y=R((0,v.default)(n),1)[0],B=(0,o.useRef)(),U=R((0,w.default)("temp.ui.chat.showSidebar.".concat(n)),1)[0],W=(K=R((0,o.useState)(""),2))[0],z=K[1],H=(K=R((0,o.useState)(!1),2))[0],V=K[1],G=(K=R((0,o.useState)(new Set),2))[0],q=K[1],$=(0,f.getCurrentUserID)(),K=(PERF&&(t=(0,o.useRef)(),(0,o.useEffect)((function(){t.current||(t.current=!0,PERF_MARK("openGroupChatEnd","openGroupChatBegin","openGroupChatTime")),PERF_MARK("activeChatEnd_".concat(n),"activeChatBegin_".concat(n),"activeChatTime")}))),(0,o.useCallback)((function(e){z(300<e?"lg":e<220?"sm":"")}),[]));if(!Y)return o.default.createElement("div",{key:n,className:(0,s.classes)("box muted",{hidden:r})},I.string("chats.chat.selectOneOnMenu"));var J=F.isSmallerThanNormal,X=(U=J||g.default.ui["chat.hideAllSidebar"]||!U,Y.isReadonly((0,f.getCurrentUser)())),Z=Y.isRobot,Q=(U||B.current||(B.current=!0),!X||!Y.isOne2One||null!=(Q=O.default.getMember(Y.theOtherMemberID))&&Q.isDeleted||(Y.isDeleted=!1,M.default.store(Y),X=!1,DEBUG&&console.error("The one-on-one chat was incorrectly marked as readonly.",Y)),null);if(X||Y.isArchived){var ee=null;if(Y.isDeletedOne2One)ee=I.string("chat.deletedOne2OneTip");else if(Y.isNotInGroup)ee=I.string("chat.notInGroupTip");else if(Y.isArchived)ee=I.format("chat.group.archivedTip");else if(Y.isDismissed){var te=null==(te=(0,f.getCurrentUser)())?void 0:te.dismissedGroupLife;if(!Y.isVisible(te))return(0,C.activeNextChatOnMenu)({lastChatGid:Y.gid}),null;ee=I.format("chat.group.dismissTip",(0,u.formatDate)(Y.getFinalVisibleDate(te),I.string("time.format.full")))}else ee=I.string("chat.committers.blockedTip");Q=o.default.createElement("div",{className:"column single dock white"},o.default.createElement(d.default,{cgid:n,forceHideSidebar:J,className:"flex-none"}),o.default.createElement(p.default,{gid:n,className:"flex-auto relative"}),Z?null:o.default.createElement("div",{className:"flex-none gray text-gray heading"},o.default.createElement(c.default,{icon:"lock-outline"}),o.default.createElement("div",{className:"title"},ee)))}else te=g.default.ui["chat.sendbox.enableSyncSize"]&&(0,k.getLocalConfig)("local.chat.sendbox.height.".concat($))||g.default.ui["chat.sendbox.height"]||100,ee=(null!=(I=g.default.ui["app.windowMinHeight"])?I:548)-100,Q=o.default.createElement(i.default,{split:"horizontal",primary:"second",maxSize:ee,minSize:100,defaultSize:te,size:te,onChange:function(e){g.default.ui["chat.sendbox.enableSyncSize"]&&(0,k.setLocalConfig)("local.chat.sendbox.height.".concat($),e)},paneStyle:{userSelect:"none"}},o.default.createElement("div",{className:"column single dock white"},o.default.createElement(d.default,{cgid:n,forceHideSidebar:J,className:"flex-none"}),o.default.createElement(E.SelectionContext.Provider,{value:{chosen:G,selection:H,startMultiSelection:function(){H||V(!0)},onClickMultiSelection:function(e){var t=new Set(N(G));t.has(e)?t.delete(e):t.add(e),q(t)}}},o.default.createElement(p.default,{gid:n,className:"flex-auto relative"})),o.default.createElement(x.default,{cgid:n}),o.default.createElement(T.ChatTransfersByRTCInitiator,{cgid:n}),o.default.createElement(j.ChatTransfersByRTCResponder,{cgid:n}),o.default.createElement(y.default,{cgid:n}),o.default.createElement(S.default,{gid:n})),H?o.default.createElement(P.SelectionButtons,{chosen:G,endMultiSelection:function(){V(!1),q(new Set)}}):o.default.createElement(l.default,null,o.default.createElement(h.default,{className:"dock",chat:Y,maxMentionSuggestionCount:20})));return o.default.createElement("div",L({},e,{className:(0,s.classes)("app-chat dock",a,"chat-type-".concat(Y.type),{hidden:r,"chat-readonly":X}),id:"chat-view-".concat(n.replace("&","_"))}),Z?Q:o.default.createElement(i.default,{className:U?"soloPane1":"",split:"vertical",primary:"second",maxSize:Math.max(360,Math.min(F.width/2,360)),minSize:175,defaultSize:175,paneStyle:{userSelect:"none"},onChange:K},Q,B.current?o.default.createElement(m.default,{className:"is-size-".concat(W),chat:Y}):o.default.createElement("div",null)),A)}B.propTypes={chatGid:a.default.string.isRequired,className:a.default.string,children:a.default.any,hidden:a.default.bool},B.defaultProps={className:null,children:null,hidden:!1},t.default=(0,o.memo)(B)},32196:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=b(n(45697)),i=b(n(88547)),l=n(64393),s=b(n(89763)),u=n(70562),c=b(n(74160)),f=n(15998),d=n(68271),p=n(40910),h=b(n(74101)),m=b(n(41584)),y=n(16986),g=["className","children","activeChatId"];function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.className,n=e.children,r=e.activeChatId,a=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,g),w((0,o.useState)({}),2)[1]),b=w((0,m.default)(),1)[0],v=((0,o.useEffect)((function(){var e=setInterval((function(){(0,f.isChatsCacheChanged)()&&a({})}),Math.floor((0,y.convertTimes)(c.default.ui["chat.cacheLife"])||u.DEFAULT_CACHE_LIFE_TIME/2));return function(){return clearInterval(e)}}),[r]),(0,o.useEffect)((function(){c.default.ui["chat.autoActiveNextChat"]&&(0,p.isRoutePathMatch)("chats")&&h.default.isReady&&(r&&h.default.getChat(r)?r!==(0,d.getActiveChatGid)()&&(0,d.setActiveChat)(r):(0,d.activeNextChatOnMenu)())})),(0,o.useEffect)((function(){return h.default.unsubscribeChatsReadyEvent.bind(h.default,h.default.subscribeChatsReadyEvent((function(){return a({})})))}),[]),(0,f.getActivatedCacheChatsGID)(r));return o.default.createElement("div",_({},e,{className:(0,l.classes)("app-chats-cache",t)}),v.length?v.map((function(e){return e?o.default.createElement(i.default,{key:e},o.default.createElement(s.default,{chatGid:e,hidden:r!==e})):null})):o.default.createElement("div",{className:"has-padding text-gray dock white"},b.string("chats.chat.selectOneOnMenu")),n)}O.propTypes={className:a.default.string,children:a.default.any,activeChatId:a.default.string},O.defaultProps={className:null,children:null,activeChatId:null},t.default=(0,o.memo)(O)},18263:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=m(n(67294)),a=p(n(45697)),i=n(64393),l=m(n(61862)),s=n(15998),u=p(n(65286)),c=p(n(10352)),f=n(78717),d=["className"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(n=t?(n=v(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(o)}}(a);function a(e){var t;if(this instanceof a)return _(b(t=n.call(this,e)),"handleDragComplete",(function(){document.body.classList.remove("drag-n-drop-over-in"),setTimeout((function(){document.body.classList.remove("drag-n-drop-over"),t.setState({dragging:!1})}),350)})),_(b(t),"handleDndEnter",(function(e){e.target.classList.add("hover")})),_(b(t),"handleDndLeave",(function(e){e.target.classList.remove("hover")})),_(b(t),"handleDndDrop",(function(e){if(e.target.classList.remove("hover"),window.navigator.userAgent.toLowerCase().includes("firefox")&&(e.stopPropagation(),e.preventDefault(),t.handleDragComplete(e)),e.dataTransfer.files){for(var n=0;n<e.dataTransfer.items.length;n++){var r=e.dataTransfer.items[n],o=void 0;if(r.webkitGetAsEntry)o=r.webkitGetAsEntry();else{if(!r.getAsEntry)break;o=r.getAsEntry()}if(o.isDirectory)return void(0,f.executeCommand)("showMessager",l.default.error("UPLOAD_FOLDER_NOT_SUPPORTED"),{type:"warning"})}(0,s.sendFilesToChat)(e.dataTransfer.files)}})),t.state={dragging:!1},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){var e=this;this.onLangChangeHandler=(0,l.onLangChange)((function(){e.forceUpdate()})),window.ondragover=function(t){return e.state.dragging||e.setState({dragging:!0}),clearTimeout(e._dragLeaveTask),t.dataTransfer&&t.dataTransfer.types.includes("Files")&&(document.body.classList.add("drag-n-drop-over"),setTimeout((function(){document.body.classList.add("drag-n-drop-over-in")}),10)),t.preventDefault(),!1},window.ondragleave=function(t){return clearTimeout(e._dragLeaveTask),e._dragLeaveTask=setTimeout(e.handleDragComplete,300),t.preventDefault(),!1},window.ondrop=function(t){return clearTimeout(e._dragLeaveTask),e.handleDragComplete(),DEBUG&&(console.collapse("DRAG FILE","redBg",t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length?t.dataTransfer.files[0].path:"","redPale"),console.log(t),console.groupEnd()),t.preventDefault(),t.target.closest(".display-backdrop.clean")&&e.handleDndDrop(t),!1}}},{key:"componentWillUnmount",value:function(){u.default.off(this.onLangChangeHandler),clearTimeout(this._dragLeaveTask),window.ondragover=null,window.ondragleave=null,window.ondrop=null}},{key:"render",value:function(){var e=(t=this.props).className,t=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,d);return this.state.dragging?o.default.createElement("div",y({className:(0,i.classes)("app-chats-dnd-container drag-n-drop-message center-content",e)},t,{onDragEnter:this.handleDndEnter,onDrop:this.handleDndDrop,onDragLeave:this.handleDndLeave}),o.default.createElement("div",{className:"text-center"},o.default.createElement(c.default,{className:"dnd-over",name:":hatching_chick:"}),o.default.createElement(c.default,{className:"dnd-hover",name:":hatched_chick:"}),o.default.createElement("h1",null,l.default.string("chats.dragNDropFileMessage")))):null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),_(t.default=n,"propTypes",{className:a.default.string}),_(n,"defaultProps",{className:null})},42809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showChatsHistoryDialog=t.default=void 0;var r=i(n(67294)),o=n(48516),a=i(n(38355));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n={show:t.showChatsHistoryDialog=function(e,t){return e&&"object"===l(e)&&(e=e.gid),(0,o.showModal)({id:"app-chats-history-dialog",style:{left:10,right:10,bottom:0,top:20},className:"app-chats-history-dialog dock primary-pale",animation:"enter-from-bottom",actions:!1,content:r.default.createElement(a.default,{cgid:e})},t)}},t.default=n},88478:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=y(n(45697)),i=n(64393),l=y(n(93956)),s=y(n(74379)),u=y(n(87137)),c=y(n(41584)),f=y(n(14393)),d=y(n(55072)),p=n(98649),h=n(23405),m=["className","onSearchChange","searchingTip","searchProgress","searchKeys","searchTimeFilter","searchTypeFilter","searchFileTypeFilter","searching","selectedChat"];function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.className,n=e.onSearchChange,r=e.searchingTip,a=e.searchProgress,y=e.searchKeys,g=e.searchTimeFilter,_=e.searchTypeFilter,w=e.searchFileTypeFilter,S=(e.searching,e.selectedChat),O=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,m),(C=v((0,o.useState)("currentChat"),2))[0]),M=C[1],C=v((0,c.default)(),1)[0],k=(E=(0,f.default)()).fetching,E=E.progress,P=(0,o.useCallback)((function(e){n&&n("keys",e)}),[n]),T=(0,o.useCallback)((function(e){n&&n("time",e)}),[n]),j=(0,o.useCallback)((function(e){n&&n("type",e)}),[n]),x=(0,o.useCallback)((function(e){n&&n("filetype",e)}),[n]),D=[{label:C.string("time.oneWeek"),value:"oneWeek"},{label:C.string("time.oneMonth"),value:"oneMonth"},{label:C.string("time.threeMonth"),value:"threeMonth"},{label:C.string("time.halfYear"),value:"halfYear"},{label:C.string("time.oneYear"),value:"oneYear"},{label:C.string("time.all"),value:""}],A=[{label:C.string("chats.history.search.type.choosed"),value:"choosed"},{label:C.string("chats.history.search.type.contacts"),value:"contacts"},{label:C.string("chats.history.search.type.groups"),value:"groups"},{label:C.string("chats.history.search.type.all"),value:""}],I=[{label:C.string("chats.history.search.filetype.all"),value:""},{label:C.string("chats.history.search.filetype.image"),value:"[image]"},{label:C.string("chats.history.search.filetype.file"),value:"[file]"}];return o.default.createElement("div",b({className:(0,i.classes)("app-chats-history-header heading",t)},e),o.default.createElement("div",{className:"flex-none title"},C.string("chats.history.title")),o.default.createElement("div",{className:"flex-auto search-control row flex-middle"},o.default.createElement(l.default,{disabled:k,changeDelay:500,defaultValue:y,onSearchChange:P,placeholder:C.string("chats.history.search.placeholder")},o.default.createElement(s.default,{value:_,onChange:j,options:A,className:"search-box-type dock dock-right small",selectClassName:"rounded"}),o.default.createElement(s.default,{value:g,onChange:T,options:D,className:"search-box-time dock dock-right small",selectClassName:"rounded"}),o.default.createElement(s.default,{value:w,onChange:x,options:I,className:"search-box-filetype dock dock-right small",selectClassName:"rounded"})),r?o.default.createElement("div",{className:"search-control-tip"},o.default.createElement("small",{className:"muted"},r),o.default.createElement("div",{className:"progress"},o.default.createElement("div",{className:"bar",style:{width:"".concat(a,"%")}}))):null),o.default.createElement("nav",{className:"flex-none nav hint--bottom-right","data-hint":C.string("chats.history.fetchAllFromServer")},k?o.default.createElement("a",{onClick:h.abortSyncHistory},o.default.createElement(u.default,{name:"sync spin"})," ",o.default.createElement("small",null,C.string("chats.history.fetchingMessages")," ",Math.floor(E),"%")):o.default.createElement("a",{href:"xxc://showContextMenu/chats.history.fetchAllButton".concat("allChats"===O?"":"/".concat(S)),className:"text-primary"},o.default.createElement(u.default,{name:"cloud-sync"}),"  ",C.string("chats.history.fetchAll"),o.default.createElement(d.default,{className:"rounded app-chats-menu-type-btn",style:{padding:0,minWidth:"auto"},onClick:function(e){var t=e.target.closest(".btn");(0,p.showContextMenu)("chats.sync.type.menu",{event:e,setChatType:M,chatType:O,options:{preventDefault:!0,stopPropagation:!0,position:{direction:"below-left",triggerElement:t}}})}},o.default.createElement(u.default,{name:"chevron-down"})))))}w.propTypes={className:a.default.string,onSearchChange:a.default.func,searchingTip:a.default.string,searchProgress:a.default.number,searchKeys:a.default.string,searchTimeFilter:a.default.string,searchTypeFilter:a.default.string,searching:a.default.bool,selectedChat:a.default.string,searchFileTypeFilter:a.default.string},w.defaultProps={className:null,onSearchChange:null,searchingTip:null,searchProgress:null,searchKeys:"",searchTimeFilter:"oneMonth",searchTypeFilter:"choosed",searching:!1,selectedChat:"",searchFileTypeFilter:""},t.default=(0,o.memo)(w)},62155:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(45697)),i=n(64393),l=f(n(2388)),s=f(n(41584)),u=f(n(74101)),c=f(n(85091));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.className,n=e.searchResultMap,r=e.searchTypeFilter,a=e.selectedChat,f=e.onSelectChat,d=y((0,s.default)(),1)[0],p=(e=y((0,o.useState)((function(){if(!a)return{contacts:!1,groups:!0,others:!1};var e,t={contacts:!1,groups:!1,others:!1};return a.includes("&")?(e=a.split("&"),Number.isNaN(+e[1])?t.others=!0:t.contacts=!0):t.groups=!0,t})),2),e[0]),g=e[1],b=(0,o.useCallback)((function(e){(e=e.target.closest("[data-group]"))&&(e=e.attributes["data-group"].value,g(h(h({},p),{},m({},e,!p[e]))))}),[p]),v=(0,o.useCallback)((function(e){(e=e.target.closest(".app-chat-item"))&&f&&f(e.attributes["data-gid"].value)}),[f]),_="groups"===r||"contacts"===r,w=n&&n.size;return o.default.createElement("div",{className:(0,i.classes)("app-chats-history-menu primary-pale overflow-y-auto",t)},["groups","contacts","others"].map((function(e){if(w&&_&&r!==e)return null;var t,i=!(!w||""!==r)||p[e],s=[];switch(e){case"groups":t=u.default.getGroupsChats();break;case"contacts":t=u.default.getPrivateChats();break;case"others":t=u.default.getBotChats();break;default:t=[]}return!i||(t.forEach((function(e){var t,i=e.gid,l=e.mergedChats;(r&&!_||!w||n.has(i)||l.some((function(e){return n.has(e)})))&&(l=i===a,t=w&&n.has(i)?n.get(i):0,w&&e.mergedChats.forEach((function(e){n.has(e)&&(t+=n.get(e))})),e=t?o.default.createElement("div",{className:"label accent circle"},t):null,s.push(o.default.createElement(c.default,{"data-gid":i,key:i,badge:e,className:l?"item active":"item",gid:i})))})),r||s.length)?o.default.createElement("div",{key:e,className:"app-chats-history-menu-group"},o.default.createElement("a",{className:"heading","data-group":e,onClick:b},o.default.createElement(l.default,{className:"x-text-ellipsis",icon:i?"menu-down":"menu-right"}),o.default.createElement("div",{className:"x-text-ellipsis"},d.string("chats.history.group.".concat(e)),s.length?" (".concat(s.length,")"):"")),s.length?o.default.createElement("div",{className:"app-chats-history-menu-list list compact",onClick:v},s):null):null})))}b.propTypes={className:a.default.string,searchResultMap:a.default.instanceOf(Map),searchTypeFilter:a.default.string,selectedChat:a.default.string,onSelectChat:a.default.func},b.defaultProps={className:null,searchResultMap:null,searchTypeFilter:null,selectedChat:null,onSelectChat:null},t.default=(0,o.memo)(b)},38355:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=y(n(45697)),i=y(n(88547)),l=n(64393),s=n(16986),u=y(n(41584)),c=y(n(88478)),f=y(n(62155)),d=y(n(82871)),p=y(n(16537)),h=y(n(80797)),m=["className","cgid"];function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t,n=e.className,r=e.cgid,a=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,m),v((0,u.default)(),1)[0]),y=(r=v((0,o.useState)(r),2))[0],g=(r=r[1],(j=v((0,o.useState)(""),2))[0]),_=j[1],w=(j=v((0,o.useState)("oneMonth"),2))[0],S=j[1],O=(j=v((0,o.useState)("choosed"),2))[0],M=j[1],C=(j=v((0,o.useState)(""),2))[0],k=j[1],E=(j=(0,h.default)("".concat(g," ").concat(C),"choosed"===O?y:O,{dateRange:w,returnType:"count"})).searchResult,P=j.searching,T=j.searchingChats,j=j.searchProgress,x=0;return E=E?E.reduce((function(e,t){return t.count&&(e.set(t.gid,t.count),x+=t.count),e}),new Map):null,((0,s.isNotEmptyString)(g)||(0,s.isNotEmptyString)(C))&&100===j?t=a.format("chats.history.search.result.format",x):P&&(t=(t=T&&T.length?a.format("chats.history.searching.format",T.length):t)||a.string("chats.history.searching")),T=null,T=y?(0,s.isNotEmptyString)(g)||(0,s.isNotEmptyString)(C)?o.default.createElement(p.default,{className:"flex-auto white",cgid:y,searchKeys:"".concat(g," ").concat(C),timeFilter:w}):o.default.createElement(d.default,{className:"flex-auto white",cgid:y}):o.default.createElement("div",{className:"flex-auto center-content muted"},o.default.createElement("div",null,a.string("chats.history.selectChatTip"))),o.default.createElement("div",b({className:(0,l.classes)("app-chats-history dock column single",n)},e),o.default.createElement(c.default,{className:"flex-none",onSearchChange:function(e,t){("time"===e?S:"type"===e?M:"filetype"===e?k:_)(t)},searchKeys:g,searchTimeFilter:w,searchTypeFilter:O,searchFileTypeFilter:C,searchProgress:j,searching:P,searchingTip:t,selectedChat:y}),o.default.createElement("div",{className:"app-chats-history-content flex-auto row single overflow-auto"},o.default.createElement(f.default,{className:"flex-none",selectedChat:y,onSelectChat:r,searchTypeFilter:O,searchResultMap:E}),o.default.createElement(i.default,null,T)))}w.propTypes={className:a.default.string,cgid:a.default.string},w.defaultProps={className:null,cgid:null},t.default=(0,o.memo)(w)},13011:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(t=f(n(45697)),f(n(61862))),i=n(64393),l=f(n(87137)),s=f(n(91705)),u=f(n(64208)),c=f(n(26774));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){return e.title?e:{title:e.name,type:"group",id:e.id,list:e.children}}function v(e){var t=e.className,n=e.onSelectMenuItem,r=(e=m((0,o.useState)("recents"),2))[0],f=e[1],d=(e=m((0,o.useState)(!0),2))[0],y=e[1],g=(e=m((0,o.useState)(null),2))[0],v=e[1],_=((0,o.useEffect)((function(){function e(){var t;return t=function*(){y(!0);var e=yield c.default.fetchDeptsTree();v(e),y(!1)},(e=function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,o.useCallback)((function(e){f(e),n&&n(e)}),[n])),w=(e=(0,o.useCallback)((function(e,t){if(e.root&&!e.title)return null;var n=t.isExpand?"chevron-down":"chevron-right";return o.default.createElement("a",{onClick:_.bind(null,e.id),className:(0,i.classes)("heading",{"primary-pale":e.id===r})},o.default.createElement(l.default,{onClick:t.handleHeadingClick,name:n,className:(0,i.classes)("state circle",{invisible:!e.list||!e.list.length})}),o.default.createElement("div",{className:(0,i.classes)("title",{"text-primary":e.id===r})},e.title))}),[_,r]),{root:!0,list:[{id:"recents",title:a.default.string("chat.menu.recents"),onClick:_.bind(null,"recents"),className:"recents"===r?"primary-pale text-primary menu-recents":"menu-recents"},{id:"groups",title:a.default.string("chat.menu.groups"),onClick:_.bind(null,"groups"),className:"groups"===r?"primary-pale text-primary menu-groups":"menu-groups"},{id:"contacts",type:"group",title:a.default.string("chat.menu.contacts"),list:[]}]});return d?w.list[2].list.push(o.default.createElement(s.default,null)):g&&(d=w.list[2].list).push.apply(d,p(g)),o.default.createElement(u.default,{className:"compact",rootClassName:(0,i.classes)("app-depts-tree",t),group:w,hideEmptyGroup:!1,itemConverter:b,headingCreator:e,defaultExpand:!0,toggleWithHeading:!1})}v.defaultProps={className:null,onSelectMenuItem:null},v.propTypes={className:t.default.string,onSelectMenuItem:t.default.func}},12699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==v(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=y(n(45697)),a=n(33417),i=n(15973),l=y(n(74101)),s=y(n(84431)),u=y(n(60609)),c=y(n(74112)),f=n(64393),d=y(n(91705)),p=y(n(61862)),h=y(n(26774)),m=y(n(85091));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){_(a,r,o,i,l,"next",e)}function l(e){_(a,r,o,i,l,"throw",e)}i(void 0)}))}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(n=t?(n=M(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===v(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=y;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e);var n,o=O(y);function y(){var e;if(this instanceof y)return(e=o.call(this)).state={page:1,loading:!1,list:null,recTotal:0,searchResult:[]},e;throw new TypeError("Cannot call a class as a function")}return t=y,(e=[{key:"componentDidMount",value:function(){this.loadNextPage(!0)}},{key:"componentDidUpdate",value:function(e){this.props.searchValue!==e.searchValue&&this.loadNextPage(!0),this.props.type!==e.type&&this.loadNextPage(!0)}},{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"getTotalPage",value:function(){return this.props.recPerPage?Math.ceil(this.state.recTotal/this.props.recPerPage):0}},{key:"hasNextPage",value:function(){return 0<this.state.recTotal&&this.state.page<this.getTotalPage()}},{key:"searchMembers",value:function(){var e=(t=this.props).searchValue,t=t.type;return""===e?Promise.resolve([]):"groups"===t?l.default.searchChats(e,{chatType:"groups",excludeMemberIdList:!1,includeReadonly:!1}):"recents"===t?l.default.searchChats(e,{chatType:"",excludeMemberIdList:!1,includeReadonly:!1,searchFromRemote:!0}):s.default.searchFromRemote(e,{dept:"contacts"===t?0:t})}},{key:"loadOptions",value:(n=w((function*(){var e=(t=this.props).type,t=t.recPerPage,n=(r=this.state).recTotal,r=r.page;return"contacts"===e||"number"==typeof e?h.default.fetchMembersListOfDept("contacts"===e?0:e,{pageID:n?r+1:1,recPerPage:t}):(n=n?r+1:r,{data:(e="groups"===e?l.default.getGroupsChats("recentFirst",!1,!1):l.default.getRecentChats({includeStar:!0,sortList:"recentFirst",excludeSystemChats:!1,excludeBotChats:!0,includeReadonly:!1,maxRecentTime:0})).slice(t*(n-1),t*n),pager:{pageID:n,recTotal:e.length,recPerPage:t}})})),function(){return n.apply(this,arguments)})},{key:"loadNextSearchPage",value:function(e){var t=this;e?this.setState({loading:!0,searchResult:[],recTotal:0,page:1,list:null},w((function*(){var e,n=(r=t.props).recPerPage,r=r.type,o=t.state.list;try{e="groups"===r||"recents"===r?yield t.searchMembers():(yield t.searchMembers()).map((function(e){return e.id}))}catch(r){e=[],console.error("Search members from server error",r)}t._unmounted||t.setState({loading:!1,searchResult:e,recTotal:e.length,page:1,list:(o||[]).concat(e.slice(0,n))})}))):this.setState((function(e,t){return{page:e.page+1,list:(e.list||[]).concat(e.searchResult.slice(t.recPerPage*e.page,t.recPerPage*(e.page+1)))}}))}},{key:"loadNextNoSearchPage",value:function(e){var t=this;e=e?{recTotal:0,page:1,list:null}:{},Object.assign(e,{loading:!0}),this.setState(e,w((function*(){var e=t.state.list,n=(r=yield t.loadOptions()).pager,r=r.data;t._unmounted||t.setState({loading:!1,recTotal:n.recTotal,page:n.pageID,list:(e||[]).concat(r)})})))}},{key:"loadNextPage",value:function(e){""===this.props.searchValue?this.loadNextNoSearchPage(e):this.loadNextSearchPage(e)}},{key:"renderOptionItem",value:function(e,t,n){if("number"==typeof e)return o=(0,a.getOne2OneChatGid)(e),e===(0,i.getCurrentUserID)()||n&&n.has(o)?null:r.default.createElement(c.default,{memberID:e,key:e,onClick:this.props.onClickChat.bind(null,o)},r.default.createElement("div",{className:(0,f.classes)("checkbox checkbox-sm",{checked:t.has(o)})},r.default.createElement("label",null)));var o="object"===v(e)?e.gid:e;return n&&n.has(o)?null:r.default.createElement(m.default,{gid:o,key:o,onClick:this.props.onClickChat.bind(null,o),showStatusDot:!0},r.default.createElement("div",{className:(0,f.classes)("checkbox checkbox-sm",{checked:t.has(o)})},r.default.createElement("label",null)))}},{key:"render",value:function(){var e=(t=this.props).selections,t=t.excludes,n=[],o=(l=this.state).page,a=l.loading,i=l.list,l=l.recTotal;if(o&&i){var s,c=new Set(e),f=t?new Set(t):null,h=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(i);try{for(h.s();!(s=h.n()).done;){var m=s.value,y=this.renderOptionItem(m,c,f);y&&n.push(y)}}catch(t){h.e(t)}finally{h.f()}}return a?n.push(r.default.createElement(d.default,{key:"spinner"})):0===l?n.push(r.default.createElement(u.default,{key:"notFound",icon:"information-outline",className:"flex-middle item muted disabled",title:r.default.createElement("span",{className:"title small"},p.default.string("common.notFoundOptions"))})):this.hasNextPage()&&(o=p.default.string("common.loadMore"),n.push(r.default.createElement(u.default,{key:"loadMore",icon:"chevron-double-down",className:"flex-middle item muted",title:r.default.createElement("span",{className:"title small"},o),onClick:this.loadNextPage.bind(this,!1)}))),r.default.createElement("div",{className:"list compact"},n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),y}(r.PureComponent),C(t.default=n,"propTypes",{selections:o.default.array,excludes:o.default.array,onClickChat:o.default.func,recPerPage:o.default.number,type:o.default.oneOfType([o.default.number,o.default.string]),searchValue:o.default.string}),C(n,"defaultProps",{selections:[],excludes:null,onClickChat:null,recPerPage:20,type:"recents",searchValue:""})},22852:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showChatsSelectDialog=t.default=t.ChatsSelectDialog=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=y(n(45697)),i=y(n(61862)),l=y(n(48516)),s=y(n(87137)),u=y(n(36940)),c=y(n(74112)),f=y(n(61997)),d=y(n(85091)),p=y(n(93956)),h=y(n(12699)),m=y(n(13011));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var S=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(n=t?(n=_(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return v(o)}}(a);function a(e){var t;if(this instanceof a)return w(v(t=n.call(this,e)),"handleChatMenuSelect",(function(e){t.setState({menuType:e})})),w(v(t),"handleClickChat",(function(e){var n=new Set(t.state.selections);n.has(e)?n.delete(e):n.add(e),t.setState({selections:Array.from(n)})})),w(v(t),"handleClickPrimaryBtn",(function(){t.props.onFinish&&t.props.onFinish(t.state.selections)})),w(v(t),"handleSearchChange",(function(e){t.setState({searchValue:e})})),t.state={selections:e.selections||[],menuType:"recents",searchValue:""},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){return o.default.createElement("div",{className:"app-chats-select app-select-panel column single dock"},this.props.header?o.default.createElement("header",{className:"dock-top app-select-panel-header flex-none"},this.props.header):null,o.default.createElement("div",{className:"flex-auto app-select-panel-body relative"},o.default.createElement("div",{className:"dock-left single column divider-right",style:{width:200,paddingLeft:10,paddingTop:10}},o.default.createElement("header",{className:"flex-none heading"},o.default.createElement("div",{className:"title text-gray bold"},i.default.string("common.filter"))),o.default.createElement("div",{className:"flex-auto overflow-y-auto"},o.default.createElement(m.default,{onSelectMenuItem:this.handleChatMenuSelect}))),o.default.createElement("div",{className:"dock single column divider-right",style:{left:200,width:200,paddingLeft:10,paddingRight:10,paddingTop:10}},o.default.createElement("header",{className:"flex-none"},o.default.createElement("div",{className:"title text-gray bold",style:{padding:"0.5rem 0"}},this.props.selectTip||i.default.string("chat.create.groupsTip")),o.default.createElement(p.default,{placeholder:i.default.string("chats.search.".concat("number"==typeof this.state.menuType?"contacts":this.state.menuType),i.default.string("common.search")),onSearchChange:this.handleSearchChange,style:{marginBottom:6},changeDelay:500})),o.default.createElement("div",{className:"flex-auto overflow-y-auto"},o.default.createElement(h.default,{type:this.state.menuType,excludes:this.props.excludes,selections:this.state.selections,onClickChat:this.handleClickChat,searchValue:this.state.searchValue}))),o.default.createElement("div",{className:"dock-right single column",style:{width:200,paddingLeft:10,paddingRight:10,paddingTop:10}},o.default.createElement("header",{className:"flex-none heading space-sm"},o.default.createElement("div",{className:"title strong text-primary"},i.default.string("chat.invite.choosed")," (",this.state.selections.length,")")),o.default.createElement("div",{className:"list compact overflow-y-auto"},this.state.selections.map(function(e,t){return"number"==typeof t?o.default.createElement(c.default,{memberID:t,key:t,onClick:e.bind(null,t)},o.default.createElement(s.default,{name:"sprite-selection-remove"})):o.default.createElement(d.default,{gid:t,key:t,grayOffline:!1,onClick:e.bind(null,t)},o.default.createElement(s.default,{name:"sprite-selection-remove"}))}.bind(null,this.handleClickChat))))),o.default.createElement(u.default,{className:"flex-none divider-top text-center has-padding-lg",onClickPrimary:this.state.selections&&this.state.selections.length?this.handleClickPrimaryBtn:null,onClickCancel:this.props.onFinish.bind(null,[])}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent);w(t.ChatsSelectDialog=S,"propTypes",{selections:a.default.arrayOf(a.default.string),excludes:a.default.arrayOf(a.default.string),onFinish:a.default.func,selectTip:a.default.string,header:a.default.any}),w(S,"defaultProps",{selections:null,excludes:null,onFinish:null,selectTip:null,header:null}),n={show:t.showChatsSelectDialog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=e.selections,r=e.excludes,a=e.selectTip;return new Promise((function(e){var i=(0,f.default)();l.default.show({id:i,actions:!1,closeButton:!1,style:{width:600,height:500},content:o.default.createElement(S,{onFinish:function(t){l.default.hide(i),e(t)},selections:n,excludes:r,selectTip:a})},t)}))}},t.default=n},30010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showConfirmSendFilesDialog=t.default=void 0;var r=c(n(67294)),o=c(n(2388)),a=n(48516),i=c(n(61862)),l=c(n(83532)),s=n(16986),u=n(73543);function c(e){return e&&e.__esModule?e:{default:e}}n={show:t.showConfirmSendFilesDialog=function(e,t,n){return t=r.default.createElement("div",null,r.default.createElement("div",{className:"list"},e.map((function(e){var t=e.name,n=e.extName;return r.default.createElement("div",{className:"item row flex-middle single",key:t},r.default.createElement(o.default,{skin:{code:n,pale:!0},className:"flex-none",icon:(0,l.default)(n)}),r.default.createElement("div",{className:"sub-content"},r.default.createElement("div",{className:"title"},t),r.default.createElement("span",{className:"muted small"},(0,s.formatBytes)(e.size))))}))),t&&r.default.createElement("div",{style:{color:"#A3A2BC",fontSize:12,padding:"0.5rem"}},i.default.string("file.upload.large.tip")),t&&r.default.createElement(u.P2pCheckbox,{isSizeLimit:t})),(0,a.showConfirm)(t,{title:r.default.createElement("strong",null,i.default.format("chat.confirmSendFiles.format",e.length))},n)}},t.default=n},87434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showConfirmSendModeDialog=void 0;var r=c(n(67294)),o=c(n(2388)),a=n(48516),i=c(n(61862)),l=c(n(83532)),s=n(16986),u=n(73543);function c(e){return e&&e.__esModule?e:{default:e}}t.showConfirmSendModeDialog=function(e,t,n){var c=void 0!==(c=t.isMe)&&c;return t=void 0===(t=t.useP2p)||t,c=r.default.createElement("div",null,r.default.createElement("div",{className:"list"},e.map((function(e){var t=e.name,n=e.extName;return r.default.createElement("div",{className:"item row flex-middle single",key:t},r.default.createElement(o.default,{skin:{code:n,pale:!0},className:"flex-none",icon:(0,l.default)(n)}),r.default.createElement("div",{className:"sub-content"},r.default.createElement("div",{className:"title"},t),r.default.createElement("span",{className:"muted small"},(0,s.formatBytes)(e.size))))}))),c?null:r.default.createElement(u.P2pCheckbox,{isSizeLimit:!1,canUseP2p:t})),(0,a.showConfirm)(c,{title:r.default.createElement("strong",null,i.default.format("chat.confirmSendFiles.format",e.length))},n)}},80097:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=U(n(45508)),a=B(n(82847)),i=B(n(99270)),l=U(n(66290)),s=B(n(32286)),u=U(n(89763)),c=U(n(7290)),f=U(n(32196)),d=B(n(68232)),p=U(n(18263)),h=B(n(42809)),m=U(n(38355)),y=U(n(68440)),g=U(n(82871)),b=U(n(44884)),v=B(n(14992)),_=U(n(10737)),w=U(n(3578)),S=U(n(50618)),O=U(n(63689)),M=U(n(85091)),C=U(n(84662)),k=U(n(19239)),E=U(n(89971)),P=U(n(13409)),T=U(n(83337)),j=U(n(73665)),x=U(n(28091)),D=U(n(73404)),A=U(n(67804)),I=U(n(12764)),L=U(n(6633)),N=U(n(17253)),R=U(n(77055)),F=B(n(16451));function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=Y(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function U(e){return e&&e.__esModule?e:{default:e}}n=B(n(86033)),o={ChatAvatar:o.default,ChatTipPopover:a,ChatChangeFontPopover:i,ChatTitle:l.default,ChatCommittersSettingDialog:s,ChatView:u.default,ChatCommittersSetting:c.default,ChatsCache:f.default,ChatCreateDialog:d,ChatsDndContainer:p.default,ChatsHistoryDialog:h,ChatsHistory:m.default,ChatHeader:y.default,ChatHistory:g.default,Index:b.default,ChatInviteDialog:v,MenuSearchList:_.default,MenuList:w.default,ChatJoinPublic:S.default,Menu:O.default,ChatListItem:M.default,MessageBroadcast:C.default,ChatMessages:k.default,MessageContentFile:E.default,MessageContentMedia:P.default,ChatSendbox:T.default,MessageContentText:j.default,ChatSidebarFiles:x.default,MessageDivider:D.default,ChatSidebarPeoples:A.default,MessageListItem:I.default,ChatSidebarProfile:L.default,MessageList:N.default,ChatSidebar:R.default,MessagesPreviewDialog:F,ChatShareDialog:n},t.default=o},44884:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=(n(39711),h(n(73216)),n(64393)),l=n(68271),s=h(n(63689)),u=h(n(32196)),c=h(n(18263)),f=(h(n(58551)),h(n(74101))),d=h(n(39450)),p=h(n(71891));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var y=(0,d.default)((function(){var e=(0,l.getActiveChatGid)();e&&f.default.muteChatUnreadMessages(e)&&DEBUG&&console.error("tryMuteActiveChat works",e)}),1e3);function g(e){var t=e.hidden,n=e.className,r=(e=e.match,(0,o.useRef)()),a=0===(a=(0,p.default)().current).indexOf("#/chats/")&&!!a.split("/")[3],f=(e=e.params).filterType;return e=e.id,f||(r.current?f=r.current:r.current=f="recents"),e=e||(0,l.getActiveChatGid)(),o.default.createElement("div",{className:(0,i.classes)("dock app-chats",n,{hidden:t}),onClick:y},o.default.createElement(u.default,{className:(0,i.classes)("dock",{hidden:!a}),activeChatId:e},o.default.createElement(c.default,{className:"dock"})),o.default.createElement(s.default,{className:"dock",filterType:f,activeChatId:e}))}g.propTypes={match:a.default.object.isRequired,hidden:a.default.bool,className:a.default.string},g.defaultProps={hidden:!1,className:null},t.default=(0,o.memo)(g)},27844:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=N(n(67294)),a=I(n(45697)),i=n(39711),l=n(44374),s=n(10088),u=I(n(6015)),c=n(64393),f=n(16986),d=I(n(87137)),p=n(61862),h=n(15973),m=N(n(92691)),y=n(20116),g=n(14227),b=I(n(85110)),v=n(45508),_=I(n(86575)),w=I(n(27149)),S=I(n(41584)),O=I(n(72524)),M=I(n(86625)),C=I(n(84431)),k=I(n(73052)),E=I(n(65286)),P=n(40910),T=I(n(94128)),j=I(n(99981)),x=I(n(36043)),D=I(n(367)),A=["gid","filterType","className","children","showAvatar","hideOnLoading"];function I(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=L(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){var t=e.gid,n=e.filterType,r=e.className,a=e.children,I=e.showAvatar,L=e.hideOnLoading,N=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,A),F((0,_.default)(t),1)[0]),Y=(0,D.default)(t),B=(0,x.default)(t),U=(0,w.default)(t),W=F((0,S.default)(),1)[0],z=(0,o.useRef)(L),H=null==N?void 0:N.draft,V=!!H,G=(0,u.default)().forceUpdate;if((0,O.default)(),(0,o.useEffect)((function(){if(L)return E.default.off.bind(E.default,(0,h.onSwapUser)((function(){z.current=!0})))}),[L]),(0,o.useEffect)((function(){var e=N.isBot?(0,s.onConferenceChange)((function(){return G()})):(0,s.onConferenceChangeByCgid)(N.gid,(function(){return G()}));return function(){E.default.off(e)}}),[]),!N)return null;if(z.current){var q=!(q=N).isOne2One||($=C.default.getMember(q.theOtherMemberID),(0,f.isNotEmptyString)(q.name)&&$);if(z.current=!q,!q)return null}var $=N.lastMessageInfo,K=(q=N.fileSavedNoticeCount,N.name),J=((0,P.isRoutePathMatch)("chats","*",t)&&(V=!1,Y&&T.default.call("ui.isWindowFocus")&&(Y=0)),null),X=(!I&&0<Y&&(J=o.default.createElement("span",{className:"label red circle label-xs"},99<Y?"99+":Y)),(N.isBot||N.isSystem)&&$?(0,p.describeDateFromNow)($.date):(0,p.describeDateFromNow)(N.lastActiveTime)),Z=(K=o.default.createElement("div",{className:"title"},o.default.createElement("span",{className:(0,c.classes)("text x-text-ellipsis x-text-black",(0,f.isEmptyString)(K)?"loading-holder relative loading-holder-line":"")},K,N.mute&&o.default.createElement(d.default,{name:"bell-off",className:"muted icon-sm"}),J),$&&o.default.createElement("small",{className:"time"},X),!$&&N.star?o.default.createElement(d.default,{name:"pin",size:12,className:"star-icon time"}):null),J="",X=null,B?(0,g.getConferenceStatusName)(B):null),Q=(0,h.getCurrentUser)(),ee=!!B&&Q.config.useInitConference&&B.isOne2One&&B.cgid==="".concat(Q.id,"&").concat(Q.id),te=((ee=Z&&"closed"!==Z&&"ignored"!==Z&&!ee)&&(B=(0,g.getConferenceColor)(B,Z),X=o.default.createElement("div",{className:(0,c.classes)("circle app-menu-chat-conference-avatar","text-".concat(B),"incoming"===Z?"has-conference-incoming":"")})),U?J=W.string("chat.one2one.typing"):"object"===(null==$?void 0:$.contentType)||(null==$?void 0:$.type)!==m.TYPES.notification&&(null==$?void 0:$.type)!==m.TYPES.notify?!$||$.id===ne&&0!==Y||(B=$.senderId,Z=$.summary,U=$.type,te=$.user,B=B||te,(te=(te=Z)||!$.content&&!$.deleted?Z:(0,y.getChatMessageSummaryText)(new m.default($),100))&&(J=te,N.isGroupOrSystem&&U!==m.TYPES.notification&&(B===(0,h.getCurrentUserID)()?(J=$.id===ne?null:"".concat(W.string("chat.message.senderMe"),": ").concat(J),re=$.id!==ne||V?null:o.default.createElement(j.default,{gid:N.gid,className:"app-menu-chat-item-msg small x-text-ellipsis"})):J=o.default.createElement(M.default,{hideOnLoading:L,memberID:B},": ",J)))):(U=(null==(te=(Z=(null==$?void 0:$.data)||$).sender)?void 0:te.realname)||(null==te?void 0:te.name)||(null==te?void 0:te.id),J=(B=Z.title)&&U?"".concat(U,": ").concat(B):B||""),[]),ne=((t.includes("xuanbot")?(0,l.getConferencesList)((function(e){return e.isOpen&&!e.isIgnored(Q.id)&&e.isCurrentUserInvited&&!e.isParticipant(Q.id)&&l.xuanbotConferenceSet.has(e.number)})):(0,l.getAllActiveConferenceByCgid)(t).filter((function(e){return!e.isIgnored(Q.id)&&e.isCurrentUserInvited&&!e.isParticipant(Q.id)}))).length&&te.push(o.default.createElement("span",{key:"conference",className:"label label-xs accent rounded"},W.string("common.conference"))),!Y&&!q||(U=(Z=!(0===N.unreadMessagesCount||!$)&&(0,y.getChatMessageMentionType)($.content))&&W.string("me"===Z?"chat.status.atMe":"chat.status.atAll"))&&te.push(o.default.createElement("span",{key:"mention",className:"label label-xs accent rounded"},U)),q&&te.push(o.default.createElement("span",{key:"fileSaved",className:"label label-xs accent rounded"},1<q?W.format("chats.menu.fileSaved",q):W.string("chats.menu.fileSaved"))),te.length||(te=null),B=null,t=!(!J&&!te||V),(J||te)&&(B=o.default.createElement("div",{className:"subtitle flex space-between flex-middle"},o.default.createElement("div",{className:"x-text-ellipsis"},te,J),N.star?o.default.createElement(d.default,{name:"pin",size:12,className:"star-icon"}):null)),(Y=N.lastBulletinInfo)?Y.id:0),re=(U=ne?null==(Z=k.default.getMessage(ne))?void 0:Z.index:0,null);return!(!N.unreadMessagesCount||!U)&&N.isUnreadMessage(U)&&!V&&(re=o.default.createElement("div",{className:"subtitle flex space-between flex-middle"},o.default.createElement("div",{className:"x-text-ellipsis"},o.default.createElement(j.default,{gid:N.gid,className:"app-menu-chat-item-msg"})),!t&&N.star?o.default.createElement(d.default,{name:"pin",size:12,className:"star-icon"}):null)),te=I?o.default.createElement(v.ChatAvatarCommon,{chat:N,gid:N.gid,avatarSize:34,className:(0,c.classes)("flex-none"),showStatusDot:!ee},X):null,J=V?o.default.createElement("div",{className:"subtitle flex space-between flex-middle"},o.default.createElement("div",{className:"text-draft x-text-ellipsis"},o.default.createElement("span",{className:"draft-label"},W.string("common.draft"),": "),H),N.star?o.default.createElement(d.default,{name:"pin",size:12,className:"star-icon"}):null):null,o.default.createElement(i.Link,R({to:b.default.chats.chat.id(N.gid,n),className:(0,c.classes)("app-menu-chat-item flex-middle",r,{"with-avatar":I,"multi-lines":t,"has-msg-view":re,star:N.star})},e),te,o.default.createElement("div",{className:"content"},K,V?J:o.default.createElement(o.default.Fragment,null,re,t&&B)),a)}B.propTypes={gid:a.default.string.isRequired,className:a.default.string,children:a.default.any,filterType:a.default.string,showAvatar:a.default.bool,hideOnLoading:a.default.bool},B.defaultProps={className:null,children:null,filterType:"recents",showAvatar:!0,hideOnLoading:!1},t.default=(0,o.memo)(B)},86424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==b(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=m(n(45697)),a=n(64393),i=m(n(27844)),l=n(68271),s=n(98649),u=m(n(74160)),c=n(40910),f=n(15998),d=m(n(74101)),p=m(n(29795)),h=["chats","className","filterType","listItemProps","activeChatId","children"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function _(){return w.apply(this,arguments)}function w(){var e;return e=function*(){d.default.isReady&&d.default.getRecentChats({maxRecentTime:0}).slice(0,20).map((function(e){return e.gid})).forEach((function(e){p.default.loadMoreList(e,10)}))},(w=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,l,"next",e)}function l(e){v(a,r,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}function S(e){var t=e.target.closest(".app-menu-chat-item"),n=t.closest(".app-menu-list").getAttribute("data-menu-type");(0,s.showContextMenu)("chat.menu",{event:e,chat:t.getAttribute("data-gid"),menuType:n,viewType:"groups"===n?"category":""})}function O(e){null!=(e=e.target.closest(".app-menu-chat-item"))&&e.classList.contains("active")&&(0,f.sendContentToChat)("",{cgid:e.getAttribute("data-gid")})}function M(e){var t=e.chats,n=e.className,o=e.filterType,s=e.listItemProps,f=e.activeChatId,p=e.children,m=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,h),f||(0,l.getActiveChatGid)());return(0,r.useEffect)((function(){var e,t;if(u.default.ui["chat.autoScrollToActiveChat"])return e=(0,c.parseRoutePath)().params.autoScrollBehavior,e=new Set((void 0===e?"":e).split(",")),(0,c.isRoutePathMatch)("chats","*",m)&&(0,a.scrollIntoView)(document.getElementById("menuChatListItem-".concat(m)),{behavior:e.has("smooth")?"smooth":"instant",block:e.has("end")?"end":e.has("center")?"center":e.has("start")?"start":"nearest",ifNeed:!e.has("always")}),t=d.default.subscribe(m,(function(){(0,c.isRoutePathMatch)("chats","*",m)&&(0,a.scrollIntoView)(document.getElementById("menuChatListItem-".concat(m)),{block:"center"})})),function(){return d.default.unsubscribe(t)}}),[m]),(0,r.useEffect)((function(){return d.default.unsubscribeChatsReadyEvent.bind(d.default,d.default.subscribeChatsReadyEvent(_))})),r.default.createElement("div",g({className:(0,a.classes)("app-chats-menu-list list",n),onContextMenu:S,onClick:O},e),t.map((function(e){if(!e)return DEBUG?console.error("Cannot render chat-list-item, because chat is empty",e):null;e="object"===b(e)?e.gid:e;var t=m===e;return r.default.createElement(i.default,g({filterType:o,"data-gid":e,id:"menuChatListItem-".concat(e),key:e,gid:e,className:(0,a.classes)("item",{active:t})},s))})),p)}M.propTypes={chats:o.default.array.isRequired,className:o.default.string,filterType:o.default.string,activeChatId:o.default.string,listItemProps:o.default.object,children:o.default.node},M.defaultProps={className:null,listItemProps:null,filterType:null,activeChatId:null,children:null},t.default=(0,r.memo)(M)},53766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=g(n(45697)),a=n(64393),i=n(45498),l=g(n(61862)),s=n(98649),u=g(n(87137)),c=g(n(64208)),f=g(n(27844)),d=n(15973),p=n(68271),h=g(n(74101)),m=g(n(65286)),y=["search","filter","className","children","activeChatId"];function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function C(e){(0,s.showContextMenu)("chat.menu",{event:e,chat:e.currentTarget.getAttribute("data-gid"),menuType:"groups",viewType:"category"})}function k(e){return e.list&&"Chat"!==e.entityType}n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(n=t?(n=O(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===_(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return S(r)}}(o);function o(e){var t;if(this instanceof o)return M(S(t=n.call(this,e)),"itemCreator",(function(e){var n=(o=t.props).activeChatId,o=o.filter;return r.default.createElement(f.default,{onContextMenu:C,"data-gid":e.gid,key:e.gid,filterType:o,gid:e.gid,className:(0,a.classes)("item",{active:n===e.gid})})})),M(S(t),"headingCreator",(function(e,n){var o,i=null,c=((o=n.isExpand?n.props.expandIcon:n.props.collapseIcon)&&(i=r.default.isValidElement(o)?o:"object"===_(o)?r.default.createElement(u.default,o):r.default.createElement(u.default,{name:o})),o=t.state).dragging,f={"is-dragging":f=(o=o.dropTarget)&&c&&o.id===e.id&&c.id!==e.id,"drop-top":f&&o.order<c.order,"drop-bottom":f&&o.order>c.order};return r.default.createElement("header",{onContextMenu:function(e,t){(0,s.showContextMenu)("chats.menu.group",{group:e,event:t,type:"group"})}.bind(null,e),onClick:n.props.toggleWithHeading?n.handleHeadingClick:null,className:(0,a.classes)("heading",f),draggable:!0,onDragOver:t.handleDragOver.bind(S(t),e),onDrop:t.handleDrop.bind(S(t),e),onDragStart:t.handleDragStart.bind(S(t),e),onDragEnd:t.handleDragEnd.bind(S(t),e)},i,r.default.createElement("div",{className:"title"},e.title||l.default.string("chats.menu.group.other")," (",e.list.length,")"))})),M(S(t),"defaultExpand",(function(e){return e.list&&!!e.list.find((function(n){return(0,p.isActiveChat)(n.gid)||(0,d.getUserConfig)().getChatMenuGroupState("groups",t.groupType,e.id)}))})),M(S(t),"onExpandChange",(function(e,n){(0,d.getUserConfig)().setChatMenuGroupState("groups",t.groupType,n.id,e)})),t.state={dragging:!1,dropTarget:null,chats:null},t.groupsChanged=null,t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"componentDidMount",value:function(){var e=this;this.dataChangeHandler=h.default.subscribeAny((function(t){t.some((function(e){return e.isGroup}))&&e.loadChats()})),this.groupsChanged=m.default.on("menu.categories.changed",(function(){e.loadChats()})),this.loadChats()}},{key:"componentWillUnmount",value:function(){h.default.unsubscribe(this.dataChangeHandler),this.groupsChanged&&m.default.off(this.groupsChanged)}},{key:"loadChats",value:function(){var e=this,t=(0,i.getGroupsChats)("default","category");this.setState({chats:t},this._loaded?null:function(){e._loaded=!0})}},{key:"handleDragOver",value:function(e){this.state.dropTarget&&this.state.dropTarget.id===e.id||this.setState({dropTarget:e})}},{key:"handleDrop",value:function(e,t){var n,r=(o=this.state).dragging,o=o.dropTarget;r&&o&&r.id!==o.id&&(o.order<r.order?r.order=o.order-.5:o.order>r.order&&(r.order=o.order+.5),n={},this.sortedGroups.sort((function(e,t){return e.order-t.order})),this.sortedGroups.forEach((function(e,t){e.order=t+1,n[e.id]={key:e.key,order:e.order}})),(0,d.getUserConfig)().groupsCategories=n),t.stopPropagation()}},{key:"handleDragStart",value:function(e,t){return this.setState({dragging:e}),this.sortedGroups=this.groupChats,t.stopPropagation(),!0}},{key:"handleDragEnd",value:function(e,t){return this.setState({dragging:!1}),t.stopPropagation(),!0}},{key:"render",value:function(){var e=((n=this.props).search,n.filter,n.className),t=n.children,n=(n.activeChatId,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,y));if(!(i=this.state.chats)||!i.length)return null;var o=this.state.dragging,i={list:this.groupChats=i,root:!0};return r.default.createElement("div",v({className:(0,a.classes)("app-chat-group-list list",e)},n),r.default.createElement(c.default,{group:i,defaultExpand:this.defaultExpand,itemCreator:this.itemCreator,headingCreator:this.headingCreator,checkIsGroup:k,onExpandChange:this.onExpandChange,forceCollapse:!!o,showMoreText:l.default.string("common.clickShowMoreFormat"),hideEmptyGroup:!1}),t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component),M(t.default=n,"propTypes",{className:o.default.string,search:o.default.string,filter:o.default.string,children:o.default.any,activeChatId:o.default.string}),M(n,"defaultProps",{className:null,search:null,filter:null,children:null,activeChatId:null})},3578:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=n(64393),l=p(n(20270)),s=p(n(53766)),u=p(n(27850)),c=p(n(33467)),f=p(n(10737)),d=["search","filter","className","children","activeChatId"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(n=t?(n=g(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(){if(this instanceof a)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){var e=(a=this.props).search,t=a.filter,n=a.className,r=(a.children,a.activeChatId),a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,d),p=null;if(e)p=o.default.createElement(f.default,{search:e,activeChatId:r});else switch(t){case"groups":p=o.default.createElement(s.default,{filter:t,activeChatId:r});break;case"private":p=o.default.createElement(c.default,{filter:t,activeChatId:r});break;default:p=o.default.createElement(u.default,{filter:"recents",activeChatId:r})}return o.default.createElement(l.default,m({className:(0,i.classes)("app-menu-list",n),"data-menu-type":t},a),p)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),b(t.default=n,"propTypes",{search:a.default.string,filter:a.default.string,className:a.default.string,children:a.default.any,activeChatId:a.default.string}),b(n,"defaultProps",{search:null,filter:"recents",className:null,children:null,activeChatId:null})},33467:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(45697)),i=u(n(86424)),l=u(n(74101)),s=(u(n(73052)),["filter","className","children","activeChatId"]);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(n=t?(n=m(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(e){if(this instanceof a)return(e=n.call(this,e)).state={chats:null},e;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){var e=this;this.dataChangeHandler=l.default.subscribeAny((function(t){t.some((function(e){return e.isOne2One||e.isBot}))&&e.loadChats()})),this.loadChats()}},{key:"componentWillUnmount",value:function(){l.default.unsubscribe(this.dataChangeHandler)}},{key:"loadChats",value:function(){var e=this,t=[].concat(d(l.default.getPrivateChats()),d(l.default.getBotChats()));this.setState({chats:t},this._loaded?null:function(){e._loaded=!0})}},{key:"render",value:function(){var e=(a=this.props).filter,t=a.className,n=a.children,r=a.activeChatId,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,s),l=this.state.chats;return l&&l.length?o.default.createElement(i.default,f({className:t,activeChatId:r,chats:l,filterType:e},a),n):null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),y(t.default=n,"propTypes",{className:a.default.string,filter:a.default.string,children:a.default.any,activeChatId:a.default.string}),y(n,"defaultProps",{className:null,filter:null,children:null,activeChatId:null})},27850:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(45697)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),i=f(n(74101)),l=f(n(61997)),s=f(n(86424)),u=f(n(30947));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.filter,n=e.activeChatId,r=e.className,o=(e=e.children,(0,a.useRef)("menu-recent-".concat((0,l.default)(),"-end"))),c=(0,u.default)(),f=(m=d((0,a.useState)(10),2))[0],p=m[1],h=null==c?void 0:c.length;if((0,a.useEffect)((function(){var e;if(h)return e=new IntersectionObserver((function(t){t[0].isIntersecting&&(f<h?p((function(e){return Math.min(h,e+5)})):(e.disconnect(),e=null))})),e.observe(document.getElementById(o.current)),function(){var t;return null==(t=e)?void 0:t.disconnect()}}),[f,h]),!h)return null;var m=n?c.indexOf(n):-1,y=Math.max(m+10,f-1);return c=c.reduce((function(e,t,n){return(n<=y||null!=(n=i.default.getChat(t))&&n.unreadMessagesCount)&&e.push(t),e}),[]),m<0&&(m=i.default.getChat(n))&&!m.isSystem&&c.unshift(n),a.default.createElement(s.default,{className:r,activeChatId:n,chats:c,filterType:t,listItemProps:{hideOnLoading:!0}},e,a.default.createElement("div",{id:o.current,style:{height:1}}))}h.propTypes={className:o.default.string,activeChatId:o.default.string,filter:o.default.string,children:o.default.any},h.defaultProps={className:null,activeChatId:null,filter:null,children:null},t.default=(0,a.memo)(h)},10737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==b(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=m(n(45697)),a=m(n(3812)),i=n(64393),l=n(98649),s=m(n(85091)),u=m(n(60609)),c=m(n(61862)),f=n(68271),d=m(n(74101)),p=m(n(91705)),h=["search","filter","className","children","defaultPage","activeChatId","activeChatOnClick"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(n=t?(n=E(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===b(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return k(r)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var T=function(){O(o,r.Component);var e,t,n=C(o);function o(e){var t;return _(this,o),P(k(t=n.call(this,e)),"handleItemContextMenu",(function(e){var n=t.props.filter;(0,l.showContextMenu)("chat.menu",{event:e,chat:e.currentTarget.getAttribute("data-gid"),menuType:n,viewType:""})})),P(k(t),"handleItemClick",(function(e){t.props.activeChatOnClick&&(e=d.default.getChat(e.currentTarget.attributes["data-gid"].value),(0,f.setActiveChat)(e,{autoScrollBehavior:"always,start"}))})),P(k(t),"handleItemMouseEnter",(function(e){t.selectItem(e.currentTarget.attributes["data-gid"].value)})),P(k(t),"scrollToSelectItem",(function(){var e=t.state.select;e&&(e=document.getElementById("menuChatSearchListItem-".concat(e)),(0,i.scrollIntoView)(e,{behavior:"smooth",block:"nearest",ifNeed:!0}))})),t.state={select:"",chats:null,loading:!1},t}return S(o,[{key:"componentDidMount",value:function(){var e=this;(0,a.default)("up","chatsMenuSearch",(function(t){var n=e.chats,r=e.selectIndex,o=e.maxIndex;1<o?e.selectItem(null==(r=n[(r-1+o)%o])?void 0:r.gid):o&&e.selectItem(null==(r=n[0])?void 0:r.gid),t.preventDefault()})),(0,a.default)("down","chatsMenuSearch",(function(t){var n=e.chats,r=e.selectIndex,o=e.maxIndex;1<o?e.selectItem(null==(r=n[(r+1+o)%o])?void 0:r.gid):o&&e.selectItem(null==(r=n[0])?void 0:r.gid),t.preventDefault()})),(0,a.default)("enter","chatsMenuSearch",(function(t){e.props.activeChatOnClick&&e._selectedChat&&((0,f.setActiveChat)(e._selectedChat.gid,{autoScrollBehavior:"always,start"}),document.getElementById("chatsMenuSearchInput").blur()),t.preventDefault()})),(0,a.default)("esc","chatsMenuSearch",(function(e){document.getElementById("chatsMenuSearchInput").blur(),e.preventDefault()})),this.loadChats()}},{key:"componentDidUpdate",value:function(e){var t=(n=this.props).search,n=n.filter;e.search===t&&e.filter===n||this.loadChats()}},{key:"componentWillUnmount",value:function(){a.default.deleteScope("chatsMenuSearch"),this._unmounted=!0}},{key:"loadChats",value:(e=function*(){var e=(t=this.props).search,t=t.filter;e.length<2&&encodeURIComponent(e)===e||(this.setState({loading:!0}),e=yield d.default.searchChats(e,{chatType:t,excludeMemberIdList:!1,includeReadonly:!0,searchFromRemote:!0,includeNotification:!0}),this._unmounted||this.selectItem({select:null,chats:e,loading:!1}))},t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,l,"next",e)}function l(e){v(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return t.apply(this,arguments)})},{key:"selectItem",value:function(e){var t={};"object"===b(e)?Object.assign(t,e):t.select=e,this.setState(t,this.scrollToSelectItem)}},{key:"render",value:function(){var e=(o=this.props).search,t=(o.filter,o.className),n=o.children,o=(o.defaultPage,o.activeChatId,o.activeChatOnClick,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(o,h)),a=this.state,l=a.chats,f=[],d=null,m="overflow-y-auto scrollbar-hover";if(a.loading)m="overflow-hidden",f.push(r.default.createElement(p.default,{key:"spinner",style:{marginTop:4}}));else if(l&&l.length){var y=this.state.select,b=(y=y||(null==(a=l[0])?void 0:a.gid),this.chats=l,Math.min(l.length,50));this.maxIndex=b;for(var v=0;v<b;v+=1){var _=l[v],w=_.gid===y;w&&(this._selectedChat=_,this.selectIndex=v),f.push(r.default.createElement(s.default,{onMouseEnter:this.handleItemMouseEnter,onContextMenu:this.handleItemContextMenu,onClick:this.handleItemClick,onPointerDown:this.handleItemClick,key:_.gid,"data-gid":_.gid,gid:_.gid,showStatusDot:!0,id:"menuChatSearchListItem-".concat(_.gid),className:(0,i.classes)("item",{hover:w})}))}d=r.default.createElement("div",{className:"title"},c.default.string("chat.menu.searchResult")," (",l.length>b?c.default.format("common.moreThan",b):l.length,")"),l.length>b&&f.push(r.default.createElement(u.default,{key:"resultInfo",style:{pointerEvents:"none"},icon:"alert-circle-outline",className:"flex-middle item muted",title:r.default.createElement("span",{className:"title small"},c.default.string("chat.menu.resultTooMany"))}))}else d=r.default.createElement("div",{className:"title"},e.length<2&&encodeURIComponent(e)===e?c.default.string("chat.menu.searchTooShort"):c.default.format("chat.menu.emptySearchResultTip",e));return r.default.createElement("div",g({className:(0,i.classes)("app-menu-search-list ".concat(m," list compact"),t)},o),r.default.createElement("div",{className:"heading"},d),f,n)}}]),o}();P(T,"propTypes",{className:o.default.string,search:o.default.string,filter:o.default.string,children:o.default.any,defaultPage:o.default.number,activeChatId:o.default.string,activeChatOnClick:o.default.bool}),P(T,"defaultProps",{className:null,search:null,filter:null,children:null,defaultPage:1,activeChatId:null,activeChatOnClick:!0}),t.default=function(){O(t,T);var e=C(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"componentDidMount",value:function(){var e=this;(0,a.default)("up","chatsMenuSearch",(function(t){var n=e.chats,r=e.selectIndex,o=e.maxIndex;1<o?e.selectItem(null==(r=n[(r-1+o)%o])?void 0:r.gid):o&&e.selectItem(null==(r=n[0])?void 0:r.gid),t.preventDefault()})),(0,a.default)("down","chatsMenuSearch",(function(t){var n=e.chats,r=e.selectIndex,o=e.maxIndex;1<o?e.selectItem(null==(r=n[(r+1+o)%o])?void 0:r.gid):o&&e.selectItem(null==(r=n[0])?void 0:r.gid),t.preventDefault()})),(0,a.default)("enter","chatsMenuSearch",(function(t){e.props.activeChatOnClick&&e._selectedChat&&((0,f.setActiveChat)(e._selectedChat.gid,{autoScrollBehavior:"always,start"}),document.getElementById("chatsMenuSearchInput").blur()),t.preventDefault()})),(0,a.default)("esc","chatsMenuSearch",(function(e){document.getElementById("chatsMenuSearchInput").blur(),e.preventDefault()})),this.loadChats()}}]),t}()},63689:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=b(n(45697)),i=n(15973),l=n(68232),s=b(n(87137)),u=b(n(61862)),c=b(n(55072)),f=n(64393),d=b(n(3578)),p=b(n(93956)),h=n(98649),m=n(51943),y=["filterType","className","children","activeChatId"],g=["filterType","className","children","activeChatId"];function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=T(e);if(n=t?(n=T(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return P(o)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var x=function(){C(t,o.Component);var e=E(t);function t(n){var r;return S(this,t),j(P(r=e.call(this,n)),"handleMenuTypeBtnClick",(function(e){for(var t=(n=r.props).filterType,n=n.activeChatId,o=e.target;o&&(!o.classList||!o.classList.contains("btn"));)o=o.parentElement;(0,h.showContextMenu)("chats.menu",{event:e,activeChatId:n,filterType:t,options:{preventDefault:!0,stopPropagation:!0,position:{direction:"below-left",triggerElement:o}}})})),j(P(r),"handleCreateChatBtnClick",(function(e){r.state.isEnableDetachedConference?(0,h.showContextMenu)("menu.add",{event:e,filterType:r.props.filterType}):(0,l.showCreateChatDialog)()})),j(P(r),"handleSearchChange",(function(e){r.setState({search:e})})),j(P(r),"onClearSearch",(function(){r.searchControl.handleOnClearBtnClick(!1)})),j(P(r),"handleSearchFocusChange",(function(e){r.blurSearchTimer&&clearTimeout(r.blurSearchTimer),e?r.setState({searchFocus:e}):r.blurSearchTimer=setTimeout((function(){r.setState({searchFocus:!1}),r.blurSearchTimer=null,r.onClearSearch()}),200)})),r.state={search:"",searchFocus:!1,isEnableDetachedConference:!1},r}return M(t,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(){var e;return{isEnableDetachedConference:!(null==(e=(0,i.getCurrentUser)())||!e.isEnableDetachedConference)}}),(function(){(0,i.onUserLogin)((function(){e.setState((function(){return{isEnableDetachedConference:(0,i.getCurrentUser)().isEnableDetachedConference}}))}))}))}},{key:"render",value:function(){var e=this,t=(i=this.props).filterType,n=i.className,r=i.children,a=i.activeChatId,i=w(i,y),l=(h=this.state).search,h=h.searchFocus&&"string"==typeof l&&l.length;return o.default.createElement("div",_({className:(0,f.classes)("app-chats-menu single column",n,h?"has-search":"")},i),o.default.createElement("div",{className:"app-chats-menu-search flex space-around"},o.default.createElement(p.default,{ref:function(t){e.searchControl=t},hotkeyScope:"chatsMenuSearch",onFocusChange:this.handleSearchFocusChange,className:"app-chats-search ",onSearchChange:this.handleSearchChange,placeholder:u.default.string("common.search"),name:"chatsMenuSearchInput",changeDelay:500})),o.default.createElement("div",{className:"flex app-chats-menu-header"},o.default.createElement(c.default,{className:"rounded app-chats-menu-type-btn",label:u.default.string("chat.menu.".concat(t)),onClick:this.handleMenuTypeBtnClick},o.default.createElement(s.default,{name:"chevron-down"})),this.state.isEnableDetachedConference?null:o.default.createElement(o.default.Fragment,null,"groups"===t&&o.default.createElement(c.default,{className:"primary x-outline rounded btn-sm app-chats-menu-add-category-btn",onClick:function(){(0,m.showAddCategoryDialog)()}},o.default.createElement(s.default,{name:"mdi-plus"}),u.default.string("common.category")),o.default.createElement(c.default,{className:"primary x-outline rounded btn-sm app-chats-menu-create-btn",onClick:this.handleCreateChatBtnClick},o.default.createElement(s.default,{name:"mdi-plus"}),u.default.string("common.chat"))),this.state.isEnableDetachedConference?o.default.createElement(c.default,{className:"primary x-outline circle btn-sm app-chats-menu-create-btn !min-w-fit",onClick:this.handleCreateChatBtnClick},o.default.createElement(s.default,{name:"mdi-plus"})):null),o.default.createElement(d.default,{id:"appChatsMenuList",filter:t,activeChatId:a,className:"flex-auto"}),h?o.default.createElement(d.default,{id:"appChatsSearchList",search:l,filter:t,activeChatId:a,className:"dock"}):null,r)}}]),t}();j(x,"propTypes",{className:a.default.string,filterType:a.default.string,children:a.default.any,activeChatId:a.default.string}),j(x,"defaultProps",{className:null,filterType:null,children:null,activeChatId:null}),n=function(){C(t,x);var e=E(t);function t(){return S(this,t),e.apply(this,arguments)}return M(t,[{key:"render",value:function(){var e=this,t=(i=this.props).filterType,n=i.className,r=i.children,a=i.activeChatId,i=w(i,g),l=(s=this.state).search,s=s.searchFocus&&"string"==typeof l&&l.length;return o.default.createElement("div",_({className:(0,f.classes)("app-chats-menu single column",n,s?"has-search":"")},i),o.default.createElement("div",{className:"app-chats-menu-search flex space-around"},o.default.createElement(c.default,{icon:"mdi-arrow-down-drop-circle",className:"rounded muted",style:{marginRight:"5px"},onClick:function(){var e;null!=(e=window.webEmbed)&&e.postMessage("invokeEmbedMethod","toggleCollapse")}}),o.default.createElement(p.default,{ref:function(t){e.searchControl=t},hotkeyScope:"chatsMenuSearch",onFocusChange:this.handleSearchFocusChange,className:"app-chats-search ",onSearchChange:this.handleSearchChange,placeholder:u.default.string("chats.search.recents"),name:"chatsMenuSearchInput",changeDelay:500})),o.default.createElement(d.default,{id:"appChatsMenuList",filter:t,activeChatId:a,className:"flex-auto"}),s?o.default.createElement(d.default,{id:"appChatsSearchList",search:l,filter:t,activeChatId:a,className:"dock"}):null,r)}}]),t}(),t.default=n},84662:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(45697)),i=n(64393),l=f(n(92691)),s=f(n(74002)),u=f(n(30274)),c=["message","className","contentConverter"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e){var t=e.message,n=e.className,r=e.contentConverter;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,c),o.default.createElement("div",p({className:(0,i.classes)("center-content",n)},e),o.default.createElement(s.default,{date:t.date,avatar:{className:"avatar-sm flex-none",icon:"bell-outline text-secondary"}},o.default.createElement(u.default,{message:t,contentConverter:r})))}h.propTypes={message:a.default.instanceOf(l.default).isRequired,className:a.default.oneOfType([a.default.string,a.default.object,a.default.array]),contentConverter:a.default.func},h.defaultProps={className:null,contentConverter:null},t.default=(0,o.memo)(h)},84849:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=M(n(67294)),a=S(n(45697)),i=n(20491),l=n(78717),s=n(15973),u=n(64393),c=n(7066),f=S(n(87137)),d=S(n(92691)),p=M(n(73052)),h=S(n(81411)),m=S(n(57044)),y=S(n(55787)),g=S(n(55367)),b=S(n(41584)),v=S(n(99207)),_=S(n(74160)),w=["className","message","prevMessage","contentConverter","hideHeader","showedDivider","showReplied","avatarSize","ignoreStatus","hideActions","headDateFormat","selection","chosen","onClickMultiSelection"];function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=O(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){function t(){null!=A&&A(r.id)}var n=e.className,r=e.message,a=e.prevMessage,d=e.contentConverter,S=e.hideHeader,O=e.showedDivider,M=e.showReplied,E=e.avatarSize,P=e.ignoreStatus,T=e.hideActions,j=e.headDateFormat,x=e.selection,D=e.chosen,A=e.onClickMultiSelection,I=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,w),k((0,b.default)(),1)[0]),L=r.senderId,N=r.type,R=(S=!1===S||"auto"===S&&(O||!a||a.deleted||a.senderId!==L||a.type!==N||r.date-a.date>60*_.default.ui["message.interval.minute"]*1e3)?o.default.createElement(m.default,{message:r,avatarSize:E,staticUI:T,dateFormat:j}):null,O=x?o.default.createElement("div",{className:"checkbox-container",onClick:t},o.default.createElement("div",{className:(0,u.classes)("checkbox checkbox-sm",{checked:D.has(r.id)})},o.default.createElement("label",null))):null,L=r.replyTo,r.id);return N=r.cgid,a=r.index,E=M&&L?o.default.createElement(g.default,{replyTo:L,cgid:N,contentConverter:d}):null,T=r.isBulletin?o.default.createElement("div",{className:"app-message-bulletin-label rounded label accent"},I.string("chat.message.bulletin.type.".concat(r.bulletin.type))):null,x=(j=(0,p.isMessagePinnedInChat)(R,N))?o.default.createElement(f.default,{name:"pin",size:12,className:"app-message-pinned-badge"}):null,D=["app-message-bubble-item",n,{"has-header":S,"is-pinned":j,"has-reply":L}],DEBUG&&(n=(M=k((0,v.default)(N,a),2))[0],L=M[1],n&&D.push("is-unread"),L&&D.push("is-last-read")),o.default.createElement("div",C({className:u.classes.apply(void 0,D)},e,{id:"message-".concat(R)}),S,o.default.createElement("div",{className:"app-message-body"},O,o.default.createElement("div",{className:(0,u.classes)("app-message-bubble",{"is-transparent":r.isEmotionContent&&!E}),onClick:t,"data-id":R},E,T,o.default.createElement(h.default,{message:r,contentConverter:d}),x,o.default.createElement("div",{className:"app-message-hint hint"},(0,c.formatDate)(r.date,"yyyy-MM-dd hh:mm:ss"),j?", ".concat(I.string("chat.message.pinned")):null),!P&&r.isInLocal&&o.default.createElement(y.default,{isSendFailed:r.isSendFailed,isSending:r.isSending,handleDeleteBtnClick:function(){p.default.deleteLocalMessage(R)},handleResendBtnClick:function(){(0,s.isUserOnline)()?(0,i.sendChatMessage)(r):(0,l.executeCommand)("showMessager",I.string("chat.cannotSendOnOffline"),{type:"danger",icon:"alert"})}}))))}P.propTypes={message:a.default.instanceOf(d.default).isRequired,prevMessage:a.default.instanceOf(d.default),className:a.default.oneOfType([a.default.string,a.default.object,a.default.array]),hideHeader:a.default.oneOf(["auto",!0,!1]),hideActions:a.default.bool,contentConverter:a.default.func,showedDivider:a.default.bool,avatarSize:a.default.number,ignoreStatus:a.default.bool,showReplied:a.default.bool,headDateFormat:a.default.string,selection:a.default.bool,chosen:a.default.instanceOf(Set),onClickMultiSelection:a.default.func},P.defaultProps={prevMessage:null,className:null,hideHeader:"auto",hideActions:!1,contentConverter:null,showedDivider:!1,avatarSize:null,ignoreStatus:!1,showReplied:!0,headDateFormat:"hh:mm",selection:!1,chosen:new Set,onClickMultiSelection:null},t.default=(0,o.memo)(P)},78114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=g(n(67294)),o=m(n(45697)),a=g(n(2388)),i=n(64393),l=n(95214),s=m(n(55072)),u=m(n(87137)),c=m(n(88446)),f=n(16986),d=m(n(61862)),p=m(n(55263)),h=["card","className","baseClassName","header","children","fluidWidth","style"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==w(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,r,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=a?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(n=t?(n=O(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===w(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(o);function o(){if(this instanceof o)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this,t=(S=this.props).card,n=S.className,o=S.baseClassName,m=S.header,y=S.children,g=S.fluidWidth,v=S.style,S=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(S,h),O=t.image,M=t.title,C=t.subtitle,k=t.content,E=t.icon,P=t.actions,T=t.url,j=t.htmlContent,x=t.webviewContent,D=t.contentType,A=t.contentUrl,I=t.originContentType,L=t.menu,N=t.provider,R=t.clickable,F=null;return A&&("image"===D?F=r.default.createElement(c.default,{src:A,alt:A}):"video"===D?F=r.default.createElement("video",{controls:!0},r.default.createElement("source",{src:A,type:I})):"audio"===D&&(F=r.default.createElement("audio",{controls:!0,className:"fluid"},r.default.createElement("source",{src:A,type:I})))),D=M===T,A=M?r.default.isValidElement(M)?M:D?r.default.createElement("a",{className:"title",href:T},T):r.default.createElement("div",{className:"title"},M):null,I=C?r.default.isValidElement(C)?C:r.default.createElement("div",{className:"subtitle"},C):null,M=null,O?M=r.default.isValidElement(O)?O:r.default.createElement(c.default,{className:"img",src:O,alt:O}):E&&(C=r.default.createElement(u.default,{name:"earth",className:"muted icon-2x"}),M="object"===w(E)?(0,a.renderAvatar)(_({imageErrorView:C},E)):r.default.createElement(a.default,{auto:E,imageErrorView:C})),O=null,(0,f.isNotEmptyString)(k)&&(O=r.default.isValidElement(k)?k:x?r.default.createElement(p.default,b({fluidWidth:g,className:"relative"},k)):j?r.default.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:k}}):r.default.createElement("div",{className:"content"},k)),C=null!=(E=null==P?void 0:P.map((function(t){return r.default.createElement(s.default,{className:t.btnClass||"rounded accent x-outline",key:t.id||t.label,label:t.label,icon:t.icon,onClick:function(e,t){e.url&&(0,l.openUrl)(e.url,t.target)?t.stopPropagation():e.click&&(e.click(t),t.stopPropagation())}.bind(e,t)})})))?E:[],g=null!=(x=null==L?void 0:L.map((function(t){return r.default.createElement("a",{key:t.id||t.label,title:t.label,className:"btn rounded iconbutton",onClick:t.click?function(e,t){e.click&&(e.click(t),t.stopPropagation())}.bind(e,t):null,href:t.url},r.default.createElement(a.default,{auto:t.icon,className:"avatar-sm"}))})))?x:[],N&&g.push(r.default.createElement("a",{key:"provider",title:d.default.format("chat.message.provider.format",N.label||N.name),className:"btn rounded iconbutton",onClick:N.click,href:N.url},r.default.createElement(a.default,{auto:N.icon,className:"avatar-sm"}))),r.default.createElement("div",b({className:(0,i.classes)("app-message-card",o,n,{"app-link state":!0===R,"only-title":!O&&!I&&!C.length}),"data-url":T,style:_(_({},v),t.style)},S),F,m||A||M||I?r.default.createElement("header",{className:"row single"},r.default.createElement("div",{className:"cell flex-auto"},r.default.createElement("div",{className:"tile"},A,I)),M?r.default.createElement("div",{className:"cell flex-none"},r.default.createElement("div",{className:"tile center-content"},M)):null,m):null,O,C&&C.length?r.default.createElement("nav",{className:"nav actions divider-top"},C):null,T&&!D?r.default.createElement("footer",null,r.default.createElement("a",{href:T},T)):null,y,g&&g.length?r.default.createElement("div",{className:"app-message-card-menu"},g):null)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component),M(t.default=n,"propTypes",{baseClassName:o.default.string,card:o.default.object.isRequired,className:o.default.string,header:o.default.any,children:o.default.any,style:o.default.object,fluidWidth:o.default.oneOfType([o.default.number,o.default.func])}),M(n,"defaultProps",{baseClassName:"",className:"",header:null,style:null,children:null,fluidWidth:null})},34940:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(64393),l=n(16986),s=h(n(38358)),u=h(n(55072)),c=h(n(92691)),f=h(n(41584)),d=n(74933),p=["message","className","contentConverter"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.message,n=e.className,r=(e.contentConverter,e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,p),g((0,f.default)(),1)[0]),a=(b=g((0,o.useState)(!1),2))[0],c=b[1],h=(t=(b=t.codeContent).name,b.lot),m=b.lang,b=b.code,v=(0,o.useCallback)((function(){c(!a)}),[a]);return v=h?o.default.createElement("div",{className:"footer text-center"},o.default.createElement(u.default,{className:"btn-sm rounded text-gray block",icon:a?"chevron-double-up":"chevron-double-down",onClick:v,title:r.string(a?"chat.message.clickToCollapse":"chat.message.clickToExpand")})):null,b=(0,d.decodeEmojiMessage)(b),b=s.default.highlightAuto(b,m?[m]:void 0),o.default.createElement("div",y({},e,{className:(0,i.classes)("app-message-content-code",n,{"has-footer":h,collapsed:h&&!a})}),(0,l.isNotEmptyString)(t)?o.default.createElement("div",{className:"title"},t):null,o.default.createElement("pre",{className:"no-margin scrollbar-hover","data-lang":m||null},o.default.createElement("div",{className:"hint--left btn-copy-code app-link","data-url":"!copyCode/".concat(m||""),"data-hint":"".concat(r.string("common.copyCode"))},o.default.createElement(u.default,{className:"rounded primary-pale text-primary",icon:"code-not-equal-variant icon-2x"})),o.default.createElement("code",{className:m?"lang-".concat(m):null,dangerouslySetInnerHTML:{__html:b.value}})),v)}v.propTypes={message:a.default.instanceOf(c.default).isRequired,className:a.default.string,contentConverter:a.default.func},v.defaultProps={className:null,contentConverter:null},t.default=(0,o.memo)(v)},25322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageContentConferenceInvite=function(e){var t=e.message,n=e.conference,y=void 0!==(y=e.isNotified)&&y,b=(e=e.title,(0,h.default)().forceUpdate),v="DATASTORE::".concat(g.identify,"::").concat(g._name,"::OPERATED_CONFERENCE_MESSAGE_IDS"),_=(0,r.getStoreItem)(v,[]),w=Boolean(p.default)||_.includes(t.id)||n.isClosed||n.isNotStarted||n.isParticipant((0,d.getCurrentUserID)())||n.isIgnored((0,d.getCurrentUserID)()),S=[];return w||(S.push(o.default.createElement(a.default,{key:"conference-join",label:l.default.string("conference.join"),className:"rounded text-primary",click:function(){(0,i.executeCommand)("joinConference",n.number).then((function(){_.push(t.id),(0,r.setStoreItem)(v,_),b()})).catch((function(){b()}))}})),y&&S.push(o.default.createElement(a.default,{key:"conference-ignore",label:l.default.string("conference.ignore"),className:"rounded text-red",click:function(){(0,i.executeCommand)("ignoreConference",n.number).then((function(){_.push(t.id),(0,r.setStoreItem)(v,_),b()})).catch((function(){b()}))}}))),o.default.createElement("div",{className:"max-w-[594px] w-64"},o.default.createElement("div",{className:(0,f.classes)("px-[12px] py-1.5 rounded-tr-md",{"rounded-b-md":w})},o.default.createElement("div",{className:"flex justify-between items-center mb-2"},e?o.default.createElement("div",{className:"text-sm font-medium truncate"},e):o.default.createElement(s.ConferenceTopic,{conference:n,className:"text-sm font-medium truncate"}),p.default?null:o.default.createElement(u.default,{name:"mdi-dots-vertical",onClick:function(e){(0,c.showContextMenu)("message.conference-invite-card",{event:e,conference:n,message:t})},className:"btn rounded"})),o.default.createElement(s.ConferenceBrief,{conference:n,displayOptions:{topic:Boolean(e)}})),o.default.createElement("div",{className:"px-1 py-1 flex justify-between bg-zinc-100 rounded-b-md"},o.default.createElement(a.default,{label:l.default.string("common.viewDetail"),icon:"arrow-right-bold-circle",className:"text-accent rounded !pl-1.5",click:function(){(0,m.showConferenceDetailDialog)(n)}}),o.default.createElement("div",{className:"flex gap-1"},w?null:S)))},t=y(n(73052));var r=n(81595),o=y(n(67294)),a=y(n(55072)),i=n(78717),l=y(n(61862)),s=n(41698),u=y(n(87137)),c=n(98649),f=n(64393),d=n(15973),p=y(n(99605)),h=y(n(6015)),m=n(54572);function y(e){return e&&e.__esModule?e:{default:e}}var g=p.default?p.default.getSharedData("chatMessagesStore"):t.default},65441:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=n(64393),l=c(n(92691)),s=c(n(10352)),u=["message","className","contentConverter","imgHolderProps"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){var t=e.message,n=e.className;return e.contentConverter,e.imgHolderProps,e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),(t=t.emotionContent)?o.default.createElement(s.default,d({className:(0,i.classes)("app-message-content-emotion emoji-hd",n),name:t.content},e)):null}p.propTypes={message:a.default.instanceOf(l.default).isRequired,className:a.default.string,contentConverter:a.default.func,imgHolderProps:a.default.object},p.defaultProps={className:null,contentConverter:null,imgHolderProps:null},t.default=(0,o.memo)(p)},89971:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=n(64393),l=p(n(1528)),s=p(n(92691)),u=p(n(13409)),c=p(n(17234)),f=n(15973),d=["message","className","contentConverter"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.message,n=e.className,r=(e.contentConverter,e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,d),function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(""))),a=r[0],s=r[1],p=(r=(0,c.default)(t),(0,f.getCurrentUser)()),h=(0,o.useCallback)((function(e){var t=e.previewType;return"image"===t||"video"===t||"audio"===t?(s(e),t):"default"}),[]);return p=!(["doc","ppt","xls"].includes(r.previewType)&&!p.isServerSideIntegrated("collaboraOffice")),n=o.default.createElement(l.default,m({key:"file",className:(0,i.classes)("app-message-content-file flex-inline",n),file:r,onRequestPreview:h,canPreview:p&&!a},e)),(r=p&&a?o.default.createElement(u.default,m({key:"preview",className:"app-message-file-preview",message:t},e)):null)?[r,n]:n}g.propTypes={message:a.default.instanceOf(s.default).isRequired,className:a.default.string,contentConverter:a.default.func},g.defaultProps={className:null,contentConverter:null},t.default=(0,o.memo)(g)},96246:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(45697)),i=n(64393),l=f(n(61862)),s=f(n(92691)),u=n(35325),c=["message","className","contentConverter","imgHolderProps"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e){e.target.classList.add("broken"),e.target.setAttribute("data-broken",l.default.string("file.downloadFailed"))}function m(e){var t=e.message,n=e.className,r=(e.contentConverter,e.imgHolderProps),a=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,c),t.imageContent),l=t.id,s=t.cgid,f=a.content;return t=(0,o.useCallback)((function(){(0,u.showChatMessageImagePreivew)(s,l,{imageInfo:{src:f}})}),[f,l,s]),o.default.createElement("img",p({className:(0,i.classes)("app-message-content-image img-base64",n),onError:h,onDoubleClick:t,src:f,alt:a.type,style:r},e))}m.propTypes={message:a.default.instanceOf(s.default).isRequired,className:a.default.string,contentConverter:a.default.func,imgHolderProps:a.default.object},m.defaultProps={className:null,contentConverter:null,imgHolderProps:null},t.default=(0,o.memo)(m)},13409:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=y(n(61862)),l=n(35325),s=y(n(89212)),u=n(90534),c=y(n(17234)),f=y(n(32292)),d=n(99838),p=y(n(87137)),h=y(n(99207)),m=n(17531);function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t,n;"image"===e.previewType&&(t=e.viewUrl,n=e.remoteUrl,(t||n)&&(0,l.showChatMessageImagePreivew)(e.cgid,e.messageID,{imageInfo:{src:null!=t?t:n},id:"imageFile-".concat(e.gid)}))}t.default=(0,o.memo)((function(e){var t,n=e.message,r=e.className,l=(e=e.mediaHolderProps,(0,f.default)()),y=(0,c.default)(n),g=n.cgid,_=(n=n.index,v((0,h.default)(g,n),1)[0]);return"browser"!==(0,d.getPlatformType)()&&((0,o.useEffect)((function(){y&&(y.cacheThumbnailPath?y.checkCachePath(!0).then((function(e){e||(0,u.downloadFileToCache)(y,{isThumb:y.hasThumb})})):(0,u.downloadFileToCache)(y,{isThumb:y.hasThumb}))}),[y]),(0,o.useEffect)((function(){var e=new IntersectionObserver((function(e){e.find((function(e){return e.target.id===l&&0<e.intersectionRatio}))&&!_&&y.needAutoLoadOriginImage&&(0,m.downloadFile)(y)}));return e.observe(document.getElementById(l)),function(){return null==e?void 0:e.disconnect()}}),[y,l,_])),y?(n={width:(g=y).mediaWidth,height:g.mediaHeight,thumbnailWidth:g.thumbnailWidth,thumbnailHeight:g.thumbnailHeight,hint:g.name,mediaType:g.previewType||"image",sourceType:g.mimeType,brokenMessage:null!=(n=(0,u.getFileNetworkErrorMessage)(g))?n:i.default.string("file.downloadFailed")},(t=g.networking).error?(n.status="broken",n.onRequestReload=u.downloadFileToCache.bind(null,g,{showError:!0})):t.isInProgress?(n.status="loading",n.progress=t.progress,n.loadingText=i.default.string("file.loading"),g.isSendByMe&&(n.thumbnail=g.thumbnailViewUrl)):g.thumbnailViewUrl?(n.status="ok",n.source=g.thumbnailViewUrl,n.onDoubleClick=w.bind(null,g)):g.thumbnailRemoteUrl?(n.status="ok",n.source=g.thumbnailRemoteUrl,n.onDoubleClick=w.bind(null,g)):g.networking.isDownloadFail?(n.status="broken",n.onRequestReload=u.downloadFileToCache.bind(null,g,{showError:!0})):(n.status="loading",n.progress=t.progress,n.loadingText=i.default.string("file.loading")),g=n,e&&Object.assign(g,e),o.default.createElement(s.default,b({id:l,className:(0,a.classes)("app-message-content-media",r)},g),y.needLoadIamgeBtn?o.default.createElement("button",{className:"image-load btn btn-xs",onClick:u.downloadFileToCache.bind(null,y),type:"button"},o.default.createElement(p.default,{name:"cloud-download",color:"#fff",size:18}),o.default.createElement("span",null,i.default.string("menu.image.download"))):null)):null}))},83248:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=g(n(45697)),i=n(25322),l=g(n(91705)),s=n(44374),u=n(64393),c=n(16986),f=g(n(55072)),d=g(n(92691)),p=g(n(30274)),h=g(n(99588)),m=g(n(41584)),y=["message","className","contentConverter"];function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.message,n=e.className,r=e.contentConverter,a=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,y),_((0,m.default)(),1)[0]),d=(b=_((0,o.useState)(),2))[0],g=b[1];if(t.contentType.startsWith("zentao-")||t.isObjectContent&&null!=(b=t.objectContent)&&null!=(b=b.contentType)&&b.startsWith("zentao-"))return o.default.createElement(h.default,v({message:t,className:n},e));if("object"===t.contentType&&"conferenceInvite"===(null==(b=t.objectContent)?void 0:b.type))return d?o.default.createElement(i.MessageContentConferenceInvite,{message:t,conference:d,isNotified:!0,title:t.title}):((0,s.getAndFetchConference)(t.objectContent.conferenceNumber).then((function(e){g(e)})).catch(),o.default.createElement(l.default,{className:"p-3"}));var b=t.notification,w=(d=t.actions,t.title),S=t.subtitle,O=[];return b.url&&O.push(o.default.createElement(f.default,{btnClass:"",key:"primaryUrl",label:a.string("common.viewDetail"),icon:"arrow-right-bold-circle",type:"a",url:b.url,className:"text-accent"})),d&&d.forEach((function(e){O.push(o.default.createElement(f.default,{btnClass:"",key:e.label,label:e.label,icon:e.icon,type:"a",url:e.url,className:"text-".concat(e.type)}))})),a=(0,o.useCallback)((function(e){return r&&(e=r(e,t)),(0,c.isNotEmptyString)(S)&&w!==S&&(e="<h5>".concat(S,"</h5>").concat(e)),(0,c.isNotEmptyString)(w)?"<h4>".concat(w,"</h4>").concat(e):e}),[w,S,r,t]),o.default.createElement("div",v({className:(0,u.classes)("app-message-content-notification",n)},e),o.default.createElement(p.default,{message:t,contentConverter:a}),null!=O&&O.length?o.default.createElement("nav",{className:"actions nav secondary-pale"},O):null)}S.propTypes={message:a.default.instanceOf(d.default).isRequired,className:a.default.string,contentConverter:a.default.func},S.defaultProps={className:null,contentConverter:null},t.default=(0,o.memo)(S)},28918:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(44374),l=h(n(91705)),s=n(25322),u=h(n(99605)),c=n(7066),f=h(n(92691)),d=h(n(63002)),p=["message","sleepUrlCard"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=u.default?u.default.getSharedData("getAndFetchConference"):i.getAndFetchConference;function v(e){var t=e.message,n=e.sleepUrlCard,r=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,p),t.objectContent),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)()),i=a[0],u=a[1];return r&&r.type===f.default.OBJECT_TYPES.url&&r.url?(a="auto"===n?!(0,c.isToday)(t.date):n,o.default.createElement(d.default,y({sleep:a,message:t},e))):r&&r.type===f.default.OBJECT_TYPES.conferenceInvite&&r.conferenceNumber?i?o.default.createElement(s.MessageContentConferenceInvite,{conference:i,message:t}):(b(r.conferenceNumber).then((function(e){u(e)})).catch(),o.default.createElement(l.default,{className:"p-3"})):o.default.createElement("div",y({className:"box red-pale"},e),"[Unknown Object]",DEBUG?t.content:null)}v.propTypes={message:a.default.instanceOf(f.default).isRequired,sleepUrlCard:a.default.oneOf(["auto",!0,!1])},v.defaultProps={sleepUrlCard:"auto"},t.default=(0,o.memo)(v)},26356:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=c(n(92691)),l=c(n(41584)),s=c(n(84604)),u=["message","contentConverter"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.message,n=(e.contentConverter,e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),1!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,1):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,l.default)())[0]),r=t.getDataValue("deletedBy");return r&&r!==t.senderId?(r=(0,s.default)(r),o.default.createElement("div",e,n.format("chat.message.retracted.byAdmin",r))):(r=(0,s.default)(t.senderId),o.default.createElement("div",e,n.format("chat.message.retracted",r)))}p.propTypes={message:a.default.instanceOf(i.default).isRequired,className:a.default.string,contentConverter:a.default.any},p.defaultProps={className:"content muted",contentConverter:null},t.default=(0,o.memo)(p)},30274:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(45697)),i=u(n(92691)),l=n(20116),s=["message","contentConverter"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){var t=e.message,n=e.contentConverter;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,s),t=(0,l.renderChatMessageContent)(t,n),o.default.createElement("div",f({dangerouslySetInnerHTML:{__html:t}},e))}d.propTypes={message:a.default.instanceOf(i.default).isRequired,contentConverter:a.default.func,className:a.default.string},d.defaultProps={contentConverter:null,className:"content markdown-content"},t.default=(0,o.memo)(d)},73665:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=n(64393),l=c(n(92691)),s=c(n(30274)),u=["message","className","contentConverter"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){var t=e.message,n=e.className,r=e.contentConverter;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),o.default.createElement(s.default,d({className:(0,i.classes)("app-message-content-text content markdown-content",n,t.isBlockContent?"is-content-block":"",t.isPlainTextContent?"is-plain-text":""),message:t,contentConverter:r},e))}p.propTypes={message:a.default.instanceOf(l.default).isRequired,className:a.default.string,contentConverter:a.default.func},p.defaultProps={className:null,contentConverter:null},t.default=(0,o.memo)(p)},63002:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=h(n(55072)),l=h(n(65286)),s=h(n(61862)),u=n(32481),c=n(64393),f=h(n(55263)),d=h(n(78114)),p=["className","sleep","message","contentConverter"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=m;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e);var n,a,h=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=S(e);if(n=t?(n=S(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return w(o)}}(m);function m(e){var t;if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");O(w(t=h.call(this,e)),"getFluidCardWidth",(function(){var e=t.props.message.cgid;if(e=document.querySelector(e?"#chat-view-".concat(e.replace("&","_")," .app-message-list"):".app-chats .app-chat:not(.hidden) .app-message-list"))return e.clientWidth-80})),O(w(t),"loadSleep",(function(){t.setState({sleep:!1,loading:!0},(function(){t.getUrlMeta(!0)}))}));var n=e.message;return e=e.sleep,n=n.objectContent,t._url=n.url,t._objectContent=n,t.state={meta:n&&n.title?n:null,sleep:e},t}return t=m,(e=[{key:"componentDidMount",value:function(){this.state.sleep||this.getUrlMeta()}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"getUrlMeta",value:(n=function*(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=(n=this.state).meta,n=n.loading;if(!t||n){t=this._url;try{var r=yield(0,u.getUrlMeta)(t,e);if(this.unmounted)return;this.setState({meta:r,loading:!1}),l.default.emit("message.content.url.loaded")}catch(e){return this.unmounted?void 0:(DEBUG&&console.error("Get url meta error",e),this.setState({meta:{url:t,title:t},loading:!1}))}}},a=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){v(a,r,o,i,l,"next",e)}function l(e){v(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"tryGetUrlMeta",value:function(){var e=this;this.setState({loading:!0},(function(){e.getUrlMeta(!0)}))}},{key:"render",value:function(){var e=this,t=((t=this.props).className,t.sleep,t.message,t.contentConverter,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,p)),n=this._url,r=this.state,a=r.meta,l=r.loading;if(r.sleep)return r={icon:"",clickable:"title",url:n,title:n},h=o.default.createElement("div",{className:"flex-none has-padding-sm center-content"},o.default.createElement(i.default,{onClick:this.loadSleep,className:"iconbutton rounded text-accent hint--bottom-right","data-hint":s.default.string("chat.message.loadCard"),icon:"mdi-cards-playing-outline"})),o.default.createElement(d.default,b({header:h,card:r,className:(0,c.classes)("app-message-content-url relative")},t,{fluidWidth:this.getFluidCardWidth}));var u,h=g(g({clickable:"content",title:n,url:n,menu:[]},a),{},{icon:a&&!l?!1===a.icon?null:a.icon:"mdi-loading muted spin"});return l||(r=h.webviewContent,n=h.content,a&&r&&(u=n.src,l=n.style,a=g(g({},n),{},{style:g(g({},l),{},{width:l.width||800,maxWidth:"100%"})}),h.content=o.default.createElement(f.default,b({fluidWidth:this.getFluidCardWidth,className:"relative"},a,{ref:function(t){e.webview=t}})),h.clickable="header",h.menu.push({label:s.default.string("chat.message.refreshCard"),click:function(){e.webview?e.webview.webview.loadURL(u):e.tryGetUrlMeta()},icon:"mdi-refresh"}))),o.default.createElement(d.default,b({card:h,fluidWidth:this.getFluidCardWidth,className:(0,c.classes)("app-message-content-url relative",{"is-webview":h.webviewContent})},t))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),m}(o.PureComponent),O(t.default=n,"propTypes",{className:a.default.string,sleep:a.default.bool,message:a.default.object,contentConverter:a.default.func}),O(n,"defaultProps",{className:null,message:null,contentConverter:null,sleep:!1})},99588:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=n(64393),l=p(n(92691)),s=n(87137),u=p(n(41584)),c=p(n(55263)),f=n(46815),d=(n=p(n(94128)),["message","className"]);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=n.default.isType("browser");function S(e){var t=e.message,n=e.className,r=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,d),b((0,u.default)(),1)[0]),a=t.notification,l=t.title,p="",h=(S=b((0,o.useState)(!1),2))[0],v=S[1],_=(0,o.useRef)(),S=function(){e=function*(){var e=!h;v(e),e&&(e=(0,f.getAppExt)("zentao-integrated"),p=yield e.getEntryUrl(p,{disposition:"card"}),null!=_&&null!=(e=_.current)&&e.webview&&_.current.webview.loadURL(p))};var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,l,"next",e)}function l(e){g(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(){return t.apply(this,arguments)}}(),O=k=t.parseContent();if(O.content)try{O=JSON.parse(O.content)}catch(e){console.error(e)}var M,C,k="product"===k.parentType,E="",P=[],T=null==(T=(t=t.contentType.split("-"))[2])?void 0:T.toLowerCase(),j=null==(j=a.extra)||null==(j=j.split(",",1)[0])?void 0:j.toLowerCase(),x=(t=t[1],O instanceof Array&&1<O.length?P=[].concat(y(P),[O.map((function(e,t,n){var r=e.headTitle,a=e.headSubTitle,i=e.name,l=e.cardURL;return e=e.id,E=a?"".concat(r,"/").concat(a):r,a="mes".concat(t),o.default.createElement("div",{key:a,className:"notify-list-content"},o.default.createElement("div",{key:"item",className:"notify-list-item"},o.default.createElement("span",{className:"id"},e),w?o.default.createElement("a",{className:"name",href:l.replace("display=card","display=")},i):o.default.createElement("a",{className:"name",href:"xxc:openInApp/zentao-integrated/".concat(encodeURIComponent(l))},i)),n.length!==t+1?o.default.createElement("div",{key:"divider",className:"zentao-notification-divider"}):null)}))]):(O instanceof Object||O instanceof Array&&1===O.length)&&(x=(x=O)instanceof Array?O[0]:x,p=-1!==(null==(O=p=x.cardURL)?void 0:O.indexOf("?"))?"".concat(p,"&display=card&isNotice=1"):"".concat(p,"?display=card&isNotice=1"),x=(O=x).headTitle,C=O.headSubTitle,M=O.name,O=O.id,E=C?"".concat(x,"/").concat(C):x,C=a.url,P.push(o.default.createElement("div",{key:"content",className:h?"notify-list-content notify-list-content-detail":"notify-list-content"},o.default.createElement("div",{key:"item",className:"notify-list-item"},o.default.createElement("span",{className:"id"},O),w?o.default.createElement("a",{className:"name",href:p.replace("display=card","display=")},M):o.default.createElement("a",{className:"name",href:C},M),o.default.createElement("div",{className:"btn-content"},o.default.createElement("a",{className:"btn btn-sm btn-icon rounded",onClick:S},h?(0,s.renderIcon)("chevron-double-up"):(0,s.renderIcon)("chevron-double-down")))),h?o.default.createElement("div",{className:"zentao-notification-divider"}):null,h?o.default.createElement(c.default,{className:"notify-list-card-detail",src:p,ref:_,insertCss:"html body,#mainContent .cell {\n            background-color: #F8F8F8;\n        }\n        html body.xxc-embed #main {\n            top: 0px; !important;\n        }"}):null))),"notify-handle-view");return"story"!==t&&"feedback"!==t||"opened"!==T&&"changed"!==a&&"frombug"!==a&&"fromfeedback"!==a?("assigned"===T||"reviewed"===T&&"clarify"===j)&&(x="notify-handle-process"):x="notify-handle-review",o.default.createElement("div",m({className:(0,i.classes)("app-message-content-notification zentao-notification",n)},e),o.default.createElement("div",{className:"flex space-between notify-head-title",style:{marginRight:"10px"}},o.default.createElement("div",{className:"notify-action ".concat(x)},o.default.createElement("div",null,o.default.createElement("span",null,r.string("chat.message.notification.".concat(x))))),o.default.createElement("div",{key:"title",className:"notify-title strong"},l),o.default.createElement("div",{key:"head",className:"notify-list-head"},E?o.default.createElement("div",{className:"name"},k?(0,s.renderIcon)("icon-zt-product",{className:"muted"}):(0,s.renderIcon)("icon-zt-run",{className:"muted"}),"",E):null)),o.default.createElement("div",{className:"zentao-notification-divider2x"}),o.default.createElement("div",{className:"zentao-notification-msgview"},P))}S.propTypes={message:a.default.instanceOf(l.default).isRequired,className:a.default.string},S.defaultProps={className:null},t.default=(0,o.memo)(S)},81411:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=_(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=v(n(45697)),i=n(64393),l=v(n(92691)),s=v(n(88547)),u=v(n(34940)),c=v(n(89971)),f=v(n(13409)),d=v(n(73665)),p=v(n(26356)),h=v(n(83248)),m=v(n(28918)),y=v(n(65441)),g=v(n(96246)),b=["className","message"];function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e){var t=e.className,n=e.message,r=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,b),((r=n).retracted?p:r.isNotification?h:r.isFileContent?c:r.isEmotionContent?y:r.isImageContent?"base64"===r.imageContent.type?g:f:r.isObjectContent?m:r.isCodeContent?u:d).default);return o.default.createElement(s.default,null,o.default.createElement(r,w({className:(0,i.classes)("app-message-content",t),message:n},e)))}S.propTypes={message:a.default.instanceOf(l.default).isRequired,className:a.default.string,contentConverter:a.default.func},S.defaultProps={className:null,contentConverter:null},t.default=(0,o.memo)(S)},73404:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=n(64393),l=n(7066),s=c(n(41584)),u=["date","className","children"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function y(e){var t=e.date,n=e.className,r=e.children,a=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),p((0,s.default)(),1)[0]),c=null;return t&&(c=(0,l.formatDate)(t,"YYYY-M-d"),(0,l.isToday)(t)?c="".concat(a.string("time.today")," ").concat(c):(0,l.isYesterday)(t)?c="".concat(a.string("time.yesterday")," ").concat(c):(0,l.isSameWeek)(t)&&(c="".concat(a.string("week.".concat(m[(0,l.createDate)(t).getDay()]))," ").concat(c))),o.default.createElement("div",d({className:(0,i.classes)("app-message-divider",n)},e),o.default.createElement("div",{className:"content"},c,r))}y.propTypes={date:a.default.oneOfType([a.default.number,a.default.string,a.default.instanceOf(Date)]),className:a.default.string,children:a.default.node},y.defaultProps={date:null,className:null,children:null},t.default=(0,o.memo)(y)},57044:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=_(n(67294)),a=b(n(45697)),i=n(7066),l=b(n(74160)),s=n(98649),u=n(15973),c=n(95214),f=b(n(86625)),d=_(n(67940)),p=n(20116),h=n(15998),m=b(n(74101)),y=b(n(84431)),g=b(n(41584));function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.message,n=e.staticUI,r=e.avatarSize,a=(e=e.dateFormat,w((0,g.default)(),1)[0]),b=t.isNotification,v=t.senderId,_=t.cgid,S=!b&&(0,u.isCurrentUser)(v),O=l.default.ui["chat.hideChatAvatar"],M=l.default.ui["chat.mentionOthers"],C=0===v,k=C?t.data.sender||{id:0,displayName:a.format("common.xuanbot"),avatar:"".concat((0,u.getCurrentUser)().backendURL,"data/image/xuanbot.png")}:b?t.getSender():(0,p.getChatMessageSender)(t),E=!b&&!C||k.url?function(e,t,n){t?e.url&&(0,c.openUrl)(e.url):(0,s.showContextMenu)("member.profile",{event:n,showMentionBtn:!0,member:e,options:{onItemClick:function(){return!1}}})}.bind(this,k,b):null,P=(v=b||C?null:function(e,t,n){t=y.default.getMemberOrTemp(t),(0,s.showContextMenu)("chat.member",{event:n,member:t,chat:m.default.getChat(e)})}.bind(null,_,v),null);return O||(P=b||C?o.default.createElement(d.MemberAvatarCommon,{code:k.id||k.displayName,avatar:k.avatar,shape:k.id&&k.id.startsWith("ext-")?"rounded":"circle",className:E?"state":null,onContextMenu:v,onClick:E,size:r,displayName:k.id?null:k.displayName}):o.default.createElement(d.default,{shape:"circle",className:E?"state":null,memberID:b?0:k.id,onContextMenu:v,onClick:E,size:r})),O=S&&l.default.ui["chat.showMeAsMySenderName"]?a.string("chat.message.senderMe"):b||C?k.displayName:o.default.createElement(f.default,{memberID:k.id}),o.default.createElement("div",{className:"app-message-header"},P,o.default.createElement("header",null,n||b||!M||C?o.default.createElement("span",{onClick:E,className:"title text-dark"},O):o.default.createElement("a",{className:"title rounded text-dark",onContextMenu:v,onClick:h.mentionMemberInSendbox.bind(null,k.id,_)},O),o.default.createElement("small",{className:"time"},(0,i.formatDate)(t.date,e))))}O.propTypes={message:a.default.object.isRequired,staticUI:a.default.bool,avatarSize:a.default.number,dateFormat:a.default.string},O.defaultProps={staticUI:!1,avatarSize:30,dateFormat:"hh:mm"},t.default=(0,o.memo)(O)},12764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.message,n=e.prevMessage,f=e.className,p=void 0===(p=e.showDateDivider)?"auto":p,h=e.showReplied,m=e.unread;if(e=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c),!t||t.localDeleted)return null;var y=t.date,g=(p=!0!==p&&("auto"!==p||n&&(0,o.isSameDay)(y,n.date))?null:r.default.createElement(i.default,{className:"app-message-item",key:"divider",date:y}),y=t.isNotification,t.senderId);return y=!y&&(0,a.isCurrentUser)(g),g=[f,"app-message-item","app-message-type-".concat(t.type),"is-content-type-".concat(t.contentType),y?"is-send-by-me":null],m&&g.push("is-unread"),f=t.retracted,y=t.isBroadcast,y=f||y?(delete e.hideHeader,delete e.avatarSize,delete e.headDateFormat,delete e.hideActions,delete e.ignoreStatus,delete e.selection,delete e.chosen,delete e.onClickMultiSelection,m=(f?l:s).default,r.default.createElement(m,d({key:"message",className:g,message:t},e))):r.default.createElement(u.default,d({key:"message",className:g,message:t,prevMessage:n,showedDivider:!!p,showReplied:h},e)),r.default.createElement(r.default.Fragment,null,r.default.createElement("span",null,t.isSendFailed),p,y)};var r=f(n(67294)),o=n(7066),a=n(15973),i=f(n(73404)),l=f(n(78622)),s=f(n(84662)),u=f(n(84849)),c=["message","prevMessage","className","showDateDivider","showReplied","unread"];function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},17253:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=g(n(45697)),a=y(n(67294)),i=n(98649),l=y(n(92691)),s=g(n(73052)),u=n(64393),c=g(n(34160)),f=g(n(12764)),d=n(12341),p=n(73692),h=["messagesOrIndexes","cgid","needResort","reverse","listItemProps","header","footer","className","listRef","bubbleContextMenu","unreadMessageIndexes","fromHistory"];function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function g(e){return e&&e.__esModule?e:{default:e}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.messagesOrIndexes,n=e.cgid,r=e.needResort,o=e.reverse,m=e.listItemProps,y=e.header,g=e.footer,_=e.className,w=e.listRef,S=e.bubbleContextMenu,O=e.unreadMessageIndexes,M=e.fromHistory,C=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,h),(j=(0,a.useContext)(d.SelectionContext)).chosen),k=j.selection,E=j.startMultiSelection,P=j.onClickMultiSelection,T=(0,a.useCallback)((function(e,t){var n,r;(t=s.default.getMessage(t))&&(M?(r=(r=(0,i.getContextMenuItems)("message",n={event:e,message:t,startMultiSelection:E,options:{copySelect:"first",linkTarget:!0}})).filter((function(e){return!["message-retract","message-pin","message-unpin","message-reply"].includes(e.id)})),(0,p.showContextMenuWithItems)("message",r,n)):(0,i.showContextMenu)("message",{event:e,message:t,startMultiSelection:E,options:{copySelect:"first",linkTarget:!0}}))}),[E,M]),j=(0,a.useCallback)((function(e){var t;S&&"WEBVIEW"!==e.target.tagName&&(t=e.target.closest(".app-message-bubble"))&&(t=t.getAttribute("data-id"))&&("function"==typeof S?S:T)(e,+t)}),[S,T]),x=[];if(t.length){var D=r?(0,l.sortChatMessages)(t):t,A=O;if("number"==typeof(D=o&&D[0]<D[D.length-1]?v(D.reverse()):D)[0])for(var I=null,L=0;L<D.length;L++){var N=D[L],R="function"==typeof m?m(N):m,F=A&&A.has(null==(F=s.default.getMessage(N,n,"index"))?void 0:F.index);x.push(a.default.createElement(c.default,b({cgid:n,key:N,messageIndex:N,prevMessageIndex:I,unread:F,selection:k,chosen:C,onClickMultiSelection:P},R))),I=N}else for(var Y=null,B=0;B<D.length;B++){var U,W,z=D[B];z&&(U="function"==typeof m?m(z):m,W=A&&A.has(z),x.push(a.default.createElement(f.default,b({id:"message-".concat(z.id),prevMessage:Y,key:z.gid,message:z,unread:W,selection:k,chosen:C,onClickMultiSelection:P},U))),Y=z)}}return r="function"==typeof y?y():y,t="function"==typeof g?g():g,a.default.createElement("div",b({className:(0,u.classes)("app-message-list",_),onContextMenu:S?j:null,ref:w},e),r,x,t)}w.propTypes={messagesOrIndexes:o.default.oneOfType([o.default.arrayOf(o.default.number),o.default.arrayOf(o.default.instanceOf(l.default))]).isRequired,cgid:o.default.string,needResort:o.default.bool,listRef:o.default.oneOfType([o.default.object,o.default.func]),listItemProps:o.default.oneOfType([o.default.object,o.default.func]),className:o.default.any,header:o.default.any,footer:o.default.any,reverse:o.default.bool,bubbleContextMenu:o.default.oneOfType([o.default.func,o.default.bool]),unreadMessageIndexes:o.default.instanceOf(Set),fromHistory:o.default.bool},w.defaultProps={cgid:"",needResort:!1,listRef:null,listItemProps:null,header:null,footer:null,reverse:!1,className:null,bubbleContextMenu:!1,unreadMessageIndexes:null,fromHistory:!0},t.default=(0,a.memo)(w)},55367:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=p(n(87137)),l=n(64393),s=p(n(81411)),u=p(n(86625)),c=p(n(41584)),f=p(n(10562)),d=["replyTo","contentConverter","className","maxReplyLevel","cgid"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){e.stopPropagation()}var v={maxWidth:200,maxHeight:150};function _(e){var t=e.replyTo,n=e.contentConverter,r=e.className,a=e.maxReplyLevel,p=e.cgid,h=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,d),y((0,c.default)(),1)[0]),g=(t=y((0,f.default)(t,p,"id"),1)[0],(S=y((0,o.useState)(!1),2))[0]),w=S[1],S=(0,o.useCallback)((function(){w(!0)}),[]);if(!t)return null;var O=t.replyTo,M=null;return O&&!1!==a&&(M=g||0!==a?o.default.createElement(_,{cgid:p,maxReplyLevel:!(!g&&"number"==typeof a)||a-1,replyTo:O,contentConverter:n}):o.default.createElement("a",{className:"app-message-replied-expand-btn btn btn-sm circle lighten-4 muted",onClick:S},o.default.createElement(i.default,{name:"unfold-more-horizontal"})," ",o.default.createElement("small",null,h.string("chat.message.expandAllReplies")))),o.default.createElement("div",m({className:(0,l.classes)("app-message-replied",r),onContextMenu:b},e),M,o.default.createElement("a",{className:"sender",href:"xxc://showChatMessage/".concat(t.cgid,"/").concat(t.id)},o.default.createElement("div",{className:"single row flex-middle "},t.senderName?o.default.createElement("span",{className:"strong  text-dark"},t.senderName):o.default.createElement(u.default,{memberID:t.senderId,className:"strong text-dark"})," ",o.default.createElement("span",{className:"muted"},h.getShortTextOfDate(t.sendTime))," "),o.default.createElement(i.default,{name:"download",size:16,className:"text-primary x-rotate-180"})),t.isImageContent?o.default.createElement(s.default,{message:t,contentConverter:n,imgHolderProps:v}):o.default.createElement(s.default,{message:t,contentConverter:n}))}_.propTypes={replyTo:a.default.number.isRequired,contentConverter:a.default.func,className:a.default.string,maxReplyLevel:a.default.oneOfType([a.default.number,a.default.bool]),cgid:a.default.string.isRequired},_.defaultProps={contentConverter:null,className:null,maxReplyLevel:2},t.default=(0,o.memo)(_)},78622:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=y(n(45697)),i=n(64393),l=n(15998),s=y(n(92691)),u=n(15973),c=y(n(41584)),f=y(n(74002)),d=y(n(26356)),p=n(31239),h=y(n(74101)),m=["message","className","contentConverter"];function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.message,n=e.className,r=(e.contentConverter,e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,m),v((0,c.default)(),1)[0]),a=(y=v((0,o.useState)(!1),2))[0],s=y[1],y=!a&&t.canReedit((0,u.getCurrentUserID)());return a=(0,o.useCallback)((function(){t.canReedit((0,u.getCurrentUserID)())&&(s(!0),t.isCodeContent?(0,p.showChatCodeDialog)(h.default.getChat(t.cgid),{defaultValue:t.doReedit()}):(0,l.sendContentToChat)(t.doReedit(),"text",{cgid:t.cgid,clear:!1,skipDuplicateText:!0}))}),[t]),o.default.createElement("div",b({className:(0,i.classes)("center-content",n)},e),o.default.createElement(f.default,null,o.default.createElement(d.default,{message:t}),y?o.default.createElement("span",null," ",o.default.createElement("a",{className:"text-primary",onClick:a},r.string("chat.message.reedit"))):null))}w.propTypes={message:a.default.instanceOf(s.default).isRequired,className:a.default.oneOfType([a.default.string,a.default.object,a.default.array]),contentConverter:a.default.func},w.defaultProps={className:null,contentConverter:null},t.default=(0,o.memo)(w)},74002:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(a=n(45697))&&a.__esModule?a:{default:a},i=n(64393),l=n(7066),s=n(2388),u=["children","avatar","date","dateFormat","className","content"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){var t=e.children,n=e.avatar,r=e.date,a=e.dateFormat,c=e.className,d=e.content;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),o.default.createElement("div",f({className:(0,i.classes)("app-message-ribbon primary-pale",c)},e),n?(0,s.renderAvatar)(n):null,r?o.default.createElement("span",{style:{paddingRight:8}},(0,l.formatDate)(r,a)):null,d?o.default.createElement("div",{className:"content"},d):null,t)}d.propTypes={date:a.default.oneOfType([a.default.string,a.default.number,a.default.instanceOf(Date)]),avatar:a.default.any,dateFormat:a.default.string,className:a.default.string,content:a.default.node,children:a.default.node},d.defaultProps={date:null,avatar:null,dateFormat:"hh:mm",className:null,content:null,children:null},t.default=(0,o.memo)(d)},55787:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=c(n(87137)),l=c(n(91705)),s=c(n(41584)),u=["isSendFailed","isSending","className","handleResendBtnClick","handleDeleteBtnClick"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=(0,o.memo)((function(e){var t=e.isSendFailed,n=e.isSending,r=e.className,c=e.handleResendBtnClick,f=e.handleDeleteBtnClick,h=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),p((0,s.default)(),1)[0]),m=(0,o.useRef)();return(0,o.useEffect)((function(){var e,t=m.current,r="is-sending-long-time";if(n)return e=null!=t&&t.classList.contains(r)?null:setTimeout((function(){return t.classList.add(r)}),100),function(){e&&clearTimeout(e)};null!=t&&t.classList.contains(r)&&t.classList.remove(r)}),[n]),n||t?o.default.createElement("div",d({className:(0,a.classes)("app-message-status",r,{"is-sending":n,"is-send-failed":t}),ref:m},e),t?o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:"text"},h.string("chat.message.sendFailed")),o.default.createElement("nav",{className:"nav nav-sm app-message-status-actions"},o.default.createElement("a",{onClick:c},o.default.createElement(i.default,{name:"refresh"})," ",h.string("chat.message.resend")),o.default.createElement("a",{onClick:f},o.default.createElement(i.default,{name:"delete"})," ",h.string("common.delete")))):o.default.createElement(l.default,{iconClassName:"spin inline-block text-primary"})):null}))},62906:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(45697)),i=n(16986),l=u(n(56692)),s=["messageID","cgid","children","limitLength","prefix","formatCallback","type"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=e.messageID,n=e.cgid,r=e.children,a=e.limitLength,u=e.prefix,c=e.formatCallback,f=e.type;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,s),n=(0,l.default)(n,t,a,c),(0,i.isEmptyString)(n)?null:o.default.createElement(f,d(d({},e),{},{title:n}),[u,n,r])}p.propTypes={messageID:a.default.number.isRequired,cgid:a.default.string.isRequired,children:a.default.any,prefix:a.default.any,limitLength:a.default.number,formatCallback:a.default.func,type:a.default.string},p.defaultProps={children:null,prefix:null,limitLength:200,formatCallback:null,type:"span"},t.default=(0,o.memo)(p)},14733:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMessageInDialog=function(e,t,n){return o.default.show({className:"app-chat-message-view-dialog",content:r.default.createElement(a.default,{className:"space",message:e,cgid:t}),actions:!1,style:{minWidth:400}},n)};var r=i(n(67294)),o=i(n(48516)),a=i(n(26571));function i(e){return e&&e.__esModule?e:{default:e}}},26571:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(45697)),i=f(n(73052)),l=f(n(91705)),s=f(n(12764)),u=f(n(61862)),c=["message","cgid"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.message,n=e.cgid,r=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,c),m((0,o.useState)((function(){return"number"==typeof t?null:t})),2)),a=r[0],f=r[1];return(0,o.useEffect)((function(){"number"==typeof t&&function(){e=function*(){var e=yield i.default.asyncGetMessage(n,t);f(e)};var e,r=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(){return r.apply(this,arguments)}}()()}),[t,n]),a?o.default.createElement(s.default,p({message:a,ignoreStatus:!0,showDateDivider:!1,headDateFormat:"yyyy-MM-dd hh:ss"},e)):o.default.createElement(l.default,{className:"has-padding-lg",label:u.default.string("common.loading")})}g.propTypes={message:a.default.oneOfType([a.default.number,a.default.object]).isRequired,cgid:a.default.string},g.defaultProps={cgid:null},t.default=(0,o.memo)(g)},16451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMessagesPreviewDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=l(n(61862)),i=l(n(17253));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}n={show:t.showMessagesPreviewDialog=function(e,t,n){return o.default.show(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:"app-messages-preview-dialog",title:a.default.string("chat.sendbox.toolbar.previewDraft"),animation:"enter-from-bottom",style:{bottom:0,top:"auto",width:"65%",minWidth:400,position:"absolute"},actions:!1,contentClassName:"box",content:r.default.createElement(i.default,{listItemProps:{ignoreStatus:!0,showDateDivider:!1},messagesOrIndexes:e})},t),n)}},t.default=n},99500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionButtons=function(e){var t=e.chosen,n=e.endMultiSelection;return r.default.createElement("div",{className:"multi-selection-buttons white"},r.default.createElement(h,{key:"share-messages",disabled:0===t.size,icon:"mdi-share-all-outline",label:l.default.string("chat.share"),className:"btn-icon has-badge shadow-1",color:"#66adff",bgColor:"#DDF3F5",onClick:function(){var e=i.default.getMessages(d(t));(0,a.executeCommand)("showChatShareDialog",e),n()}}),r.default.createElement(h,{key:"copy-messages",disabled:0===t.size,onClick:function(){var e=d(t).sort((function(e,t){return e-t})).map((function(e){return(e=i.default.getMessage(e)).isImageContent?'<img src="'.concat(c.default.getMessageFile(e).getRemoteUrl({preview:!1,withSid:!0}),'" />'):e.isFileContent?e.fileContent.name:"<div>".concat(e.content,"</div>")})).join("\n");document.addEventListener("copy",(function(t){t.clipboardData.setData("text/html","<div>".concat(e,"</div>")),t.clipboardData.setData("text/plain",(0,u.strip)(e)),t.preventDefault()}),{once:!0}),document.execCommand("copy"),n(),(0,a.executeCommand)("showMessager",l.default.string("common.copied"),{type:"success",autoHide:!0})},color:"#04c2af",bgColor:"#d7f5f2",label:l.default.string("common.copy"),icon:"mdi-content-copy",className:(0,u.classes)("btn-icon has-badge shadow-1",{hidden:"browser"===s.default.type})}),r.default.createElement(h,{icon:"mdi-cancel",key:"cancel-multi-selection",color:"#3426af",bgColor:"#F8F5FF",label:l.default.string("chat.sidebar.cancelSelection"),className:"btn-icon has-badge shadow-1",onClick:n}))};var r=f(n(67294)),o=f(n(55072)),a=n(78717),i=f(n(73052)),l=f(n(61862)),s=f(n(94128)),u=n(64393),c=f(n(94592));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.disabled,n=e.onClick,a=e.label,i=e.icon,l=e.className,s=e.color;return e=e.bgColor,r.default.createElement("div",{className:"selection-button"},r.default.createElement(o.default,{disabled:void 0!==t&&t,onClick:n,icon:{name:i,className:"icon-3x",color:s},className:l,style:{backgroundColor:e}}),r.default.createElement("div",{className:"selection-button-label"},a))}},12341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionContext=void 0,n=((n=n(67294))&&n.__esModule?n:{default:n}).default.createContext({chosen:new Set,selection:!1,startMultiSelection:null,onClickMultiSelection:null}),t.SelectionContext=n},1805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){var t=o.default.getChat(e);return t?t.lastBulletinInfo:null}))),n=t[0],i=t[1];return(0,r.useEffect)((function(){function t(){var t=(o.default.getChat(e)||{}).lastBulletinInfo,r=n?n.expiration:0;r===(t?t.expiration:0)&&!r==!n||i(t)}t();var r=o.default.subscribe(e,t),a=n?setTimeout(t,n.expiration-Date.now()+2e3):0;return function(){o.default.unsubscribe(r),a&&clearTimeout(a)}}),[e,n]),n};var r=n(67294),o=(t=n(74101))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},10562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"id",l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return[o.default.getMessage(e,t,n)]}))),s=l[0],u=l[1],c=(0,r.useRef)();return(0,r.useEffect)((function(){if("id"===n&&o.default.hasCacheItem(e))return u([o.default.getMessage(e,t,n)]);c.current=e,u(null),function(){r=function*(){var r=yield o.default.asyncGetMessage(t,e,!0,n);c.current===e&&u([r])};var r,i=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function l(e){a(i,n,o,l,s,"next",e)}function s(e){a(i,n,o,l,s,"throw",e)}l(void 0)}))};return function(){return i.apply(this,arguments)}}()()}),[e,t,n]),null==s?[s]:s};var r=n(67294),o=(t=n(73052))&&t.__esModule?t:{default:t};function a(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},99207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,i=(n=a((0,r.useState)((function(){var n;return!(null==(n=o.default.getChat(e))||!n.isUnreadMessage(t))})),2))[0],l=n[1],s=(n=a((0,r.useState)((function(){var n=o.default.getChat(e);return!!n&&n.lastReadMessageIndex===t&&n.lastMessageIndex!==t})),2))[0],u=n[1];return(0,r.useEffect)((function(){var n=o.default.getChat(e);return l(!!n&&n.isUnreadMessage(t)),u(!!n&&n.lastReadMessageIndex===t&&n.lastMessageIndex!==t),o.default.unsubscribe.bind(o.default,o.default.subscribe(e,(function(e){l(e.isUnreadMessage(t)),u(e.lastReadMessageIndex===t&&e.lastMessageIndex!==t)})))}),[e,t]),[i,s]};var r=n(67294),o=(t=n(74101))&&t.__esModule?t:{default:t};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},61435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return o.default.getMessages(e,t,"index")}))),i=n[0],l=n[1];return n=e.join(","),(0,r.useEffect)((function(){return l(o.default.getMessages(e,t,"index")),o.default.unsubscribe.bind(o.default,o.default.subscribeByIndices(e,t,(function(){return l(o.default.getMessages(e,t,"index"))})))}),[t,n]),i};var r=n(67294),o=(t=n(73052))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},59440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return o.default.getList(e)}))),n=t[0],i=t[1];return(0,r.useEffect)((function(){return i(o.default.getList(e)),o.default.unsubscribe.bind(o.default,o.default.subscribe(e,i))}),[e]),n};var r=n(67294),o=(t=n(29795))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},17196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return u(e)}))),n=t[0],l=t[1];return(0,r.useEffect)((function(){function t(){var t=u(e);(0,o.isDiffList)(t,n)&&i.default.asyncGetMessages(e,t).then((function(){l(t)})).catch(console.error)}return t(),a.default.unsubscribe.bind(a.default,a.default.subscribe(e,t))}),[e,n]),n};var r=n(67294),o=n(7491),a=l(n(74101)),i=l(n(73052));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return(e=a.default.getChat(e,!1))?e.pinnedMessages:[]}},27149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1)),n=t[0],i=t[1];return(0,r.useEffect)((function(){if(i(!1),/\d+&\d+/.test(e))return o.chatTypingChannel.unsubscribe.bind(o.chatTypingChannel,o.chatTypingChannel.subscribe(e,(function(e){return i(e)})))}),[e]),n};var r=n(67294),o=n(5150);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(null!=(t=null==(t=o.default.getChat(e))?void 0:t.unreadMessagesCount)?t:0)),n=t[0],l=t[1];return(0,r.useEffect)((function(){return a.unsubscribeMessagesChange.bind(null,(0,a.subscribeUnreadMessagesChange)(l))}),[e]),n};var r=n(67294),o=(t=n(74101))&&t.__esModule?t:{default:t},a=n(37907);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},86575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return[o.default.getChat(e)]}))),n=t[0],i=t[1];return(0,r.useEffect)((function(){return i([o.default.getChat(e)]),o.default.unsubscribe.bind(o.default,o.default.subscribe(e,(function(e){return i([e])})))}),[e]),n};var r=n(67294),o=(t=n(74101))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},14393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(l)),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=(0,a.onFetchingHistory)((function(){return n(l())}));return function(){return(0,a.offFetchingHistoryEvent)(e)}}),[]),t};var r=n(67294),o=n(79429),a=n(23405);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){var e=(0,o.getFetchingTask)();return e?{task:e,fetching:e.isFetching,progress:e.progress}:{task:null,fetching:!1,progress:0}}},56692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,u){var c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(s(t,n,u))),f=c[0],d=c[1],p=(0,r.useRef)(!1);return(0,r.useEffect)((function(){p.current=!0;var r=s(t,n,u),l=(r?d(r):function(){r=function*(){var r=yield o.default.asyncGetMessage(e,t);p.current&&r&&d((0,a.getChatMessageSummaryText)(r,n,u))};var r,l=function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function l(e){i(a,n,o,l,s,"next",e)}function s(e){i(a,n,o,l,s,"throw",e)}l(void 0)}))};return function(){return l.apply(this,arguments)}}()(),o.default.subscribe(t,(function(){d(s(t,n,u))})));return function(){p.current=!1,o.default.unsubscribe(l)}}),[e,t,n,u]),f};var r=n(67294),o=(t=n(73052))&&t.__esModule?t:{default:t},a=n(20116);function i(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){return(e=o.default.getItemFromCache(e))?(0,a.getChatMessageSummaryText)(e,t,n):""}},60651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(t=u((0,r.useState)(t),2))[0],a=t[1],c=(t=u((0,r.useState)([]),2))[0],f=t[1],d=(t=u((0,r.useState)(!1),2))[0],p=t[1],h=(0,r.useRef)(),m=(0,r.useRef)(!0);return(0,r.useEffect)((function(){var t="".concat(e," ").concat(n&&n.pageID!==n.pageTotal?n.pageID:""),r=h.current&&h.current.includes(e);h.current!==t&&(h.current=t,function(){t=function*(){var t=h.current,i=(p(!0),u=yield o.default.fetchChatMessagesByPage(e,{pager:r?n:void 0,reverse:!r||m.current,putToCache:!1})).pager,l=u.list,s=u.nextPager,u=u.prevPager;h.current===t&&(i.nextPager=s,i.prevPager=u,2<=l.length&&(null==(t=l[0])?void 0:t.id)>(null==(s=l[1])?void 0:s.id)&&l.reverse(),f(l),a(i),p(!1))};var t,i=function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(){return i.apply(this,arguments)}}()())}),[e,n]),(0,r.useEffect)((function(){return function(){h.current=!1}}),[]),[c,n,d,function(e){if(n&&"object"===l(n)){var t;if((e=Math.max(1,Math.min(n.pageTotal,e)))===n.pageID)return!1;if(1<Math.abs(e-n.pageID))if(t=i(i({},n),{},{pageID:e,range:[0,Number.MAX_SAFE_INTEGER]}),1===e)m.current=!1;else{if(e!==n.pageTotal)return!1;m.current=!0}else t=e<n.pageID?n.prevPager:n.nextPager,m.current=e<n.pageID;return a(t),!0}return!1}]};var r=n(67294),o=(t=n(73052))&&t.__esModule?t:{default:t};function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},80797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},p=(t=u((0,r.useState)(null),2))[0],h=t[1],m=(t=u((0,r.useState)(null),2))[0],y=t[1],g=(t=u((0,r.useState)(0),2))[0],b=t[1],v=(0,r.useRef)(),_=(0,r.useRef)(null),w=void 0===(t=d.returnType)?"message":t,S=d.dateRange,O=d.minDate,M=d.limit;return(0,r.useEffect)((function(){var t=[e,JSON.stringify(n),O,S].join(",");if(t!==_.current){if(_.current=t,v.current&&(v.current.abort(),v.current=null),(0,a.isEmptyString)(e))return b(100),y([]),void h(null);!function(){t=function*(){var t=new i.default,r=(v.current=t,[]),a=[],s=(b(0),y(r),h(null),S?(0,o.getTimeBeforeDesc)(S):O);s=yield(0,l.searchChatsMessagesInDatabase)(e,n,{minDate:s,returnType:w,abortHandler:t,limit:M,beforeSearch:function(e){var n;v.current===t&&(a.push.apply(a,function(e){if(Array.isArray(e))return f(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||c(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h(e))},afterSearchChat:function(e,n,o,i){v.current===t&&o!==i.length-1&&(r.push(n),y([].concat(r)),-1<(o=a.indexOf(e))&&a.splice(o,1),h([].concat(a)),b((i.length-a.length)/i.length))}}),v.current===t&&(v.current=null,y(s),b(100),h(null))};var t,r=function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)}))};return function(){return r.apply(this,arguments)}}()()}}),[e,n,S,O,w,M]),(0,r.useEffect)((function(){return function(){v.current&&(v.current.abort(),v.current=null)}}),[]),{searching:!(!p||!p.length),searchProgress:g,searchResult:m,searchingChats:p}};var r=n(67294),o=n(7066),a=n(16986),i=(t=n(81233))&&t.__esModule?t:{default:t},l=n(938);function s(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},30947:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(i)),t=e[0],n=e[1];return(0,r.useEffect)((function(){return o.default.unsubscribe.bind(o.default,o.default.subscribeAny((function(){return n(i())})))}),[]),t.split(",").filter((function(e){return e.length}))};var r=n(67294),o=(t=n(74101))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=function(){return o.default.getRecentChats({maxRecentTime:0}).map((function(e){return e.gid})).join(",")}},98709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(o.default.getUnreadMessageCount())),t=e[0],n=e[1];return(0,r.useEffect)((function(){return a.unsubscribeMessagesChange.bind(null,(0,a.subscribeUnreadMessagesChange)(n))}),[]),t};var r=n(67294),o=(t=n(74101))&&t.__esModule?t:{default:t},a=n(37907);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},88666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showAboutDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=l(n(10176)),i=l(n(61862));function l(e){return e&&e.__esModule?e:{default:e}}n={show:t.showAboutDialog=function(e){return o.default.show({title:i.default.string("common.about"),actions:!1,id:"app-about-dialog",content:r.default.createElement(a.default,null)},e)}},t.default=n},10176:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=m(n(67294)),a=p(n(45697)),i=p(n(91230)),l=p(n(74160)),s=n(64393),u=m(n(61862)),c=p(n(76733)),f=p(n(78379)),d=["className"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(n=t?(n=b(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(){if(this instanceof a)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){var e=(t=this.props).className,t=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,d),n=l.default.ui["app.showPoweredBy"],r=("auto"===n&&(n="xuanxuan"!==i.default.name),u.default.string("app.homepage",l.default.pkg.homepage));return o.default.createElement("div",y({},t,{className:(0,s.classes)("app-about center-content space",e)}),o.default.createElement("section",{className:"text-center"},o.default.createElement("img",{src:(0,u.getMediaPath)("logo"),alt:"logo"}),o.default.createElement(c.default,{className:"space-sm"}),r?o.default.createElement("div",{className:"space-xl"},o.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn rounded text-primary strong",href:r},o.default.createElement("strong",null,r))):null,l.default.pkg.license?o.default.createElement("div",null,o.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn rounded",href:l.default.ui["license.url"]},l.default.ui["license.fullname"])):null,n||"xuanxuan"===i.default.name?o.default.createElement("div",null,o.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn rounded",href:"https://www.easycorp.cn/"},u.default.format("common.copyrightFormat",{year:(new Date).getFullYear(),name:u.default.string("app.companyName")}))):null,l.default.ui.about?o.default.createElement("div",null,l.default.ui.about):null,o.default.createElement("div",null,o.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn rounded",href:"https://twemoji.twitter.com/"},"Emoji icons by Twemoji with CC-BY 4.0")),n&&o.default.createElement(f.default,{className:"btn rounded strong text-important"}," https://xuanim.com")))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),v(t.default=n,"propTypes",{className:a.default.string}),v(n,"defaultProps",{className:null})},76733:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(67294)),a=c(n(74160)),i=n(7066),l=(y=n(94128))&&y.__esModule?y:{default:y},s=n(74543);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=a.default.pkg,y=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(n=t?(n=h(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(o)}}(u);function u(){var e,t=this,r=u;if(!(t instanceof r))throw new TypeError("Cannot call a class as a function");for(var o,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=function(){var t=(new Date).getTime();e.lastClickTime||(e.lastClickTime=t),e.clickTimes?t-e.lastClickTime<400?(e.clickTimes+=1,e.lastClickTime=t,5<=e.clickTimes&&l.default.call("ui.openDevTools")):(e.clickTimes=0,e.lastClickTime=0):e.clickTimes=1},(o="handleClick")in(t=p(e=n.call.apply(n,[this].concat(i))))?Object.defineProperty(t,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[o]=r,e}return t=u,(e=[{key:"render",value:function(){var e=(0,a.getSpecialVersionName)();return o.default.createElement("div",f({onClick:this.handleClick},this.props,{title:"build at ".concat((0,i.formatDate)(m.buildTime))}),"v",m.displayVersion||(0,s.simplifyVersion)(m.version),m.distributeTime?" (".concat((0,i.formatDate)(m.distributeTime,"YYYYMMDDHHmm"),")"):null,m.buildVersion?".".concat(m.buildVersion):null," ",e?" for ".concat(e):""," ",DEBUG?"[debug]":"")}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.PureComponent);t.default=y},87618:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=n(64393),l=n(16986),s=c(n(88621)),u=["cgid","className","children","hideOnLoading","type"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=e.cgid,n=e.className,r=e.children,a=e.hideOnLoading,c=e.type,f=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),t=(0,s.default)(t),(0,l.isEmptyString)(t));return a&&f?null:o.default.createElement(c,p({className:(0,i.classes)(n,f?"inline-block loading-holder relative loading-holder-line":"")},e),t,r)}h.propTypes={cgid:a.default.string.isRequired,className:a.default.string,type:a.default.string,children:a.default.any,hideOnLoading:a.default.bool},h.defaultProps={type:"span",className:"",children:null,hideOnLoading:!1},t.default=(0,o.memo)(h)},97217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showImgCropperDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=n(97591),i=l(n(61862));function l(e){return e&&e.__esModule?e:{default:e}}n={show:t.showImgCropperDialog=function(e,t,n){var l={current:{}};return o.default.show({id:"app-img-cropper-dialog",closeButton:!1,actions:[{type:"changeImg",className:"x-outline space-right",label:r.default.createElement("label",{className:"text-gray"},r.default.createElement("input",{id:"file-upload-button",type:"file",accept:".jpg,.jpeg,.png",style:{display:"none"},onChange:function(e){e.preventDefault(),e=e.target.files;var t=new FileReader;t.onload=function(){var e;t.result&&null!=(e=l.current)&&e.setImage(t.result)},e&&e.length&&t.readAsDataURL(e[0])},onClick:function(e){e.target.value=null}}),i.default.string("common.changeUploadPhoto")),click:function(){return!1}},{type:"submit"},{type:"cancel"}],onSubmit:function(){var e=null==(e=l.current)?void 0:e.cropperRef.current.getCroppedCanvas({width:100,height:100});if(!e)return!1;e=e.toDataURL(),t(e)},enableBackdropClick:!1,content:r.default.createElement(a.ImgCropper,{ref:l,isPreviewCircle:!0,inputImage:e})},n)}},t.default=n},99382:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(t=f(n(45697)),f(n(61862))),i=n(64393),l=f(n(87137)),s=f(n(91705)),u=f(n(64208)),c=f(n(26774));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){return e.title?e:{title:e.name,type:"group",id:e.id,list:e.children}}function v(e){var t=e.className,n=e.onSelectMenuItem,r=(e=m((0,o.useState)(0),2))[0],f=e[1],d=(e=m((0,o.useState)(!0),2))[0],y=e[1],g=(e=m((0,o.useState)(null),2))[0],v=e[1],_=(0,o.useRef)(!1);function w(e){f(e),n&&n(e)}return(0,o.useEffect)((function(){function e(){var t;return t=function*(){var e;_.current&&(y(!0),e=yield c.default.fetchDeptsTree(),_.current&&(v(e),y(!1)))},(e=function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}return _.current=!0,function(){e.apply(this,arguments)}(),function(){_.current=!1}}),[]),e={list:[{title:a.default.string("contacts.members.all"),id:"root",onClick:w.bind(null,0),className:r?"":"primary-pale text-primary"}],root:!0},d?e.list.push(o.default.createElement(s.default,null)):g&&(d=e.list).push.apply(d,p(g)),o.default.createElement(u.default,{className:"compact",rootClassName:(0,i.classes)("app-depts-tree",t),group:e,hideEmptyGroup:!1,itemConverter:b,headingCreator:function(e,t){if(e.root&&!e.title)return null;var n=t.isExpand?"chevron-down":"chevron-right";return o.default.createElement("a",{onClick:w.bind(null,e.id),className:(0,i.classes)("heading",{"primary-pale":e.id===r})},o.default.createElement(l.default,{onClick:t.handleHeadingClick,name:n,className:(0,i.classes)("state circle",{invisible:!e.list||!e.list.length})}),o.default.createElement("div",{className:(0,i.classes)("title",{"text-primary":e.id===r})},e.title))},defaultExpand:!0,toggleWithHeading:!1})}v.defaultProps={className:null,onSelectMenuItem:null},v.propTypes={className:t.default.string,onSelectMenuItem:t.default.func}},36940:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=n(64393),l=c(n(55072)),s=c(n(94128)),u=c(n(41584));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.className,n=e.primaryBtnText,r=e.cancelBtnText,a=e.primaryBtnClassName,c=e.cancelBtnClassName,f=e.onClickPrimary,p=(e=e.onClickCancel,d((0,u.default)(),1)[0]);return a=[o.default.createElement(l.default,{disabled:!f,key:"btn-confirm",className:a,onClick:f,label:n||p.string("common.confirm")}),o.default.createElement(l.default,{key:"btn-cancel",className:c,onClick:e,label:r||p.string("common.cancel")})],s.default.env.isOSX&&a.reverse(),o.default.createElement("div",{className:(0,i.classes)("actions toolbar",t)},a)}h.propTypes={className:a.default.oneOfType([a.default.string,a.default.object,a.default.array]),primaryBtnText:a.default.string,cancelBtnText:a.default.string,primaryBtnClassName:a.default.string,cancelBtnClassName:a.default.string,onClickPrimary:a.default.func,onClickCancel:a.default.func},h.defaultProps={className:"text-center has-padding-lg",primaryBtnText:null,cancelBtnText:null,primaryBtnClassName:"btn-wide bg-primary rounded",cancelBtnClassName:"gray x-outline cancel-btn btn-wide rounded",onClickPrimary:null,onClickCancel:null},t.default=(0,o.memo)(h)},52278:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showDisplaySourceSelector=t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=d(n(45697)),i=d(n(48516)),l=d(n(87137)),s=d(n(2388)),u=n(64393),c=d(n(11803)),f=n(99838);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var b=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(e){var t;if(this instanceof a)return(t=n.call(this,e)).state={selectedSourceID:e.selected},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"_handleSourceClick",value:function(e){var t=this;this.setState({selectedSourceID:e},(function(){var n=t.props.onSelectChange;n&&n(e)}))}},{key:"_handleSourceDoubleClick",value:function(e){var t=this;this.setState({selectedSourceID:e},(function(){var n=t.props.onDoubleClick;n&&n(e)}))}},{key:"render",value:function(){var e=this,t=this.props.sources,n=this.state.selectedSourceID,r=[],a=[];return t.forEach((function(t){var i=t.name,c="screen"===t.type;c&&("Entire Screen"===i?i=e.props.Lang.string("conference.entireScreen"):i.startsWith("Screen ")&&(i=i.replace(/^Screen /,e.props.Lang.string("conference.screenNamePrefix")))),t=o.default.createElement("div",{className:(0,u.classes)("app-display-source-item rounded state",{primary:n===t.id}),key:t.id,onClick:e._handleSourceClick.bind(e,t.id),onDoubleClick:e._handleSourceDoubleClick.bind(e,t.id)},o.default.createElement("div",{className:"app-display-source-thumbnail center-content"},t.thumbnail?o.default.createElement("img",{src:t.thumbnail,alt:i,className:"shadow"}):o.default.createElement(l.default,{name:c?"laptop-".concat((0,f.isOSType)("win")?"windows":"mac"):"application",size:56,className:"text-gray"})),o.default.createElement("div",{className:"app-display-source-name x-list-item flex-middle"},t.appIcon?o.default.createElement(s.default,{image:t.appIcon,size:24}):null,o.default.createElement("div",{className:"x-text-ellipsis title"},i))),(c?r:a).push(t)})),o.default.createElement("div",{className:"app-display-source-selector"},0<r.length&&o.default.createElement("div",{className:"app-display-source-section"},o.default.createElement("div",{className:"heading text-primary"},o.default.createElement(l.default,{name:"monitor"}),o.default.createElement("div",{className:"title strong"},this.props.Lang.string("conference.displayType.screen"))),o.default.createElement("div",{className:"row"},r)),0<a.length&&o.default.createElement("div",{className:"app-display-source-section"},o.default.createElement("div",{className:"heading text-primary"},o.default.createElement(l.default,{name:"application"}),o.default.createElement("div",{className:"title strong"},this.props.Lang.string("conference.displayType.window"))),o.default.createElement("div",{className:"row"},a)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);g(b,"propTypes",{sources:a.default.array.isRequired,Lang:a.default.object.isRequired,selected:a.default.string,onSelectChange:a.default.func,onDoubleClick:a.default.func}),g(b,"defaultProps",{selected:null,onSelectChange:null,onDoubleClick:null}),n={show:t.showDisplaySourceSelector=function(e,t,n){return new Promise((function(r,a){var l=e[0].id,s=!1,u=t.Lang,f="display-source-selector-dialog";i.default.show(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:f,id:f,title:u.string("conference.selectDisplaySourceToShare"),actions:[{type:"submit",label:u.string("common.confirmSelect")},{type:"cancel",label:u.string("common.cancel")}],onSubmit:function(){s=!0,r(l)},onHidden:function(){s||a(c.default.create("User canceled on select display source.","USER_CANCELED"))},content:o.default.createElement(b,{Lang:u,sources:e,selected:l,onSelectChange:function(e){l=e},onDoubleClick:function(e){s=!0,r(e),i.default.hide(f)}})},t),n)}))}},t.default=n},28784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b(n(45697)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),a=n(50943),i=b(n(74933)),l=b(n(74101)),s=b(n(61862)),u=b(n(84431)),c=n(16986),f=b(n(75738)),d=n(15998),p=n(78717),h=b(n(94128)),m=b(n(63607)),y=["placeholder","onReturnKeyDown","onPastedFiles","onPastedText","handleKey","defaultState","onRequestSuggestions","suggestionsItemRender","onClickMentionSuggestion","onClickMentionsMoreBtn","onChange","useFakeEmptyInput"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var E=h.default.access("fs");function P(e){var t=e.block,n=e.blockProps,r=(e=e.contentState,t.getEntityAt(0));return r&&"IMAGE"===(e=e.getEntity(r)).getType()?(r=e.getData(),o.default.createElement(m.default,{src:r.src,alt:r.alt,block:t,onDeleteBlock:n.onDeleteBlock})):null}P.propTypes={block:r.default.object.isRequired,blockProps:r.default.object.isRequired,contentState:r.default.object.isRequired};var T=function(e,t,n){for(var r,o=t.getText();null!==(r=e.exec(o));){var a=r.index;n(a,a+r[0].length)}},j=null,x=null;function D(e,t){e.classList.toggle("app-mention-not-in-group",!t),t?e.removeAttribute("data-hint"):e.setAttribute("data-hint",s.default.format("chat.sendbox.memberNotInGroup",e.getAttribute("data-member-name")))}function A(e){var t=e.decoratedText,n=e.children,r=null==(r=new RegExp(c.REGEXP_AT_USER).exec(t))?void 0:r[1],a=(0,o.useRef)();if((0,o.useEffect)((function(){var e=a.current;if(e){var t,n=document.getElementById(e);if(n)return(e=null==(e=n.closest(".app-chat-drafteditor"))?void 0:e.getAttribute("data-chat"))&&(t=l.default.getChat(e))&&t.isGroup?void l.default.tryFetchChatMembers(e).then((function(e){D(n,e&&e.has(+n.getAttribute("data-member")))})):D(n,!0)}}),[t]),r){if(j=j||s.default.string("chat.message.atAll"),"all"===r||r===j)return o.default.createElement("span",{"data-hint":j,className:"at-all text-accent"},n);if(t=u.default.guessMemberInCache(r))return r="mention-".concat(e.offsetKey),a.current=r,o.default.createElement("span",{className:"hint-fast text-accent",id:r,"data-member":t.id,"data-member-name":t.displayName},n)}return n}function I(e){var t=e.decoratedText,n=(e=e.children,t=t.trim(),i.default.mapUnicodeCharactersToShort());return(n=i.default.emojiList[n[t]])?(n="".concat(i.default.imagePathPNG+n.uc_base,".").concat(i.default.imageType),n="url(".concat(n,") left top / contain no-repeat"),o.default.createElement("span",{title:t,style:{width:16,height:16,display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",background:n,textAlign:"right",verticalAlign:"bottom",position:"relative",top:-2,fontSize:"16px",color:"transparent",caretColor:"var(--color-fore)"}},e)):e}function L(){return x=x||new a.DraftJS.CompositeDecorator([{strategy:function(e,t){T(new RegExp(c.REGEXP_AT_USER,"g"),e,t)},component:A},{strategy:function(e,t){T(i.default.regUnicode,e,t)},component:I},{strategy:function(e,t){T(/(https?):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,e,t)},component:function(e){var t=e.offsetKey;return e=e.children,o.default.createElement("span",{className:"text-accent","data-offset-key":t},e)}}])}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(n=t?(n=C(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===_(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return M(r)}}(r);function r(e){var t;if(this instanceof r)return k(M(t=n.call(this,e)),"handleEditorClick",(function(){t.focus(0)})),k(M(t),"handleDeleteBlock",(function(e,n){var r,o,i,l,s;e&&(l=(s=t.state.editorState).getCurrentContent(),i=e.getKey(),r=l.getBlockBefore(i),o=l.getBlockBefore(i),i=s.getSelection().merge({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:e.getLength()}),e=a.DraftJS.Modifier.applyEntity(l,i,null),l=a.DraftJS.EditorState.push(s,e,"apply-entity"),s=a.DraftJS.Modifier.removeRange(e,i,"backward"),e=a.DraftJS.EditorState.push(l,s,"remove-range"),r?e=a.DraftJS.EditorState.forceSelection(e,a.DraftJS.SelectionState.createEmpty(r.getKey()).merge({anchorOffset:r.getLength(),focusOffset:r.getLength()})):o&&(e=a.DraftJS.EditorState.forceSelection(e,a.DraftJS.SelectionState.createEmpty(o.getKey()))),t.onChange(e,n))})),k(M(t),"blockRendererFn",(function(e){if("atomic"===e.getType())return{component:P,editable:!1,props:{onDeleteBlock:t.handleDeleteBlock}}})),k(M(t),"getEditorRef",(function(e){t.editor=e})),k(M(t),"handleFakeInputChange",(function(e){t._fakeInputCompositionStarted||t.handleFakeInputCompositionEnd(e)})),k(M(t),"handleFakeInputCompositionStart",(function(){t._fakeInputCompositionStarted=!0})),k(M(t),"handleFakeInputCompositionEnd",(function(e){t.enableDraftEditor((function(){t.focus({moveCursorToEnd:!0})}),e.target.value)})),k(M(t),"handleFakeInputPaste",(function(e){var n,r=(e.clipboardData||e.originalEvent.clipboardData).items,o=[],a=w(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;"file"===i.kind&&o.push(i.getAsFile())}}catch(e){a.e(e)}finally{a.f()}t.enableDraftEditor((function(){t.focus((function(){t.handlePastedFiles(o)}))}),e.target.value)})),t.state={enabled:!e.useFakeEmptyInput||!!e.defaultState,editorState:e.defaultState?"string"==typeof e.defaultState?a.DraftJS.EditorState.createWithContent(a.DraftJS.ContentState.createFromText(e.defaultState),L()):e.defaultState:a.DraftJS.EditorState.createEmpty(L())},t.onChange=t.onChange.bind(M(t)),t.handleKeyCommand=t.handleKeyCommand.bind(M(t)),t.handleReturn=t.handleReturn.bind(M(t)),t.handlePastedText=t.handlePastedText.bind(M(t)),t.handlePastedFiles=t.handlePastedFiles.bind(M(t)),t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidCatch",value:function(e,t){this.forceUpdate(),DEBUG&&console.warn("DraftEditor throwed a error",e,t)}},{key:"componentWillUnmount",value:function(){this.lastFocusTimer&&(clearTimeout(this.lastFocusTimer),this.lastFocusTimer=null)}},{key:"enableDraftEditor",value:function(e,t){var n;this.state.enabled?e&&e():(n=L(),this.setState({enabled:!0,editorState:"string"==typeof t&&t.length?a.DraftJS.EditorState.createWithContent(a.DraftJS.ContentState.createFromText(t),n):a.DraftJS.EditorState.createEmpty(n)},e))}},{key:"getEditorState",value:function(){return this.state.editorState}},{key:"getContent",value:function(){var e=this.state.editorState;return e?e.getCurrentContent().getPlainText():""}},{key:"clearContent",value:function(){this.state.enabled&&this.onChange(a.DraftJS.EditorState.createEmpty(x))}},{key:"appendContent",value:function(e,t,n){var r=this;"string"==typeof e&&e.length&&this.enableDraftEditor((function(){"function"==typeof t&&(n=t,t={});var o=void 0!==(o=(s=t||{}).skipDuplicateText)&&o,i=void 0!==(i=s.replaceAfter)&&i,l=s.clear,s=void 0!==(s=s.appendSpaceBefore)&&s,u=r.state.editorState;if(void 0!==l&&l)u=a.DraftJS.EditorState.createEmpty(x);else if(o&&(l=u.getCurrentContent().getPlainText(),!0===o&&l.includes(e)||"end"===o&&l.trim().endsWith(e.trim())))return;e=e.replace(/(\r?\n)+$/g,""),o=u.getSelection(),"string"==typeof i&&i.length&&(l=o.getAnchorOffset(),c=o.getAnchorKey(),c=u.getCurrentContent().getBlockForKey(c).getText().substring(0,l).lastIndexOf(i),o=o.merge({anchorOffset:c,focusOffset:l})),s&&!e.startsWith(" ")&&(i=o.getAnchorKey(),c=u.getCurrentContent().getBlockForKey(i).getText(),0<(l=o.getStartOffset())&&" "!==c[l-1]&&(e=" ".concat(e))),s=o.getEndOffset(),i=o.getStartOffset();var c=u.getCurrentContent();l=s===i?a.DraftJS.Modifier.insertText(c,o,e):a.DraftJS.Modifier.replaceText(c,o,e),u=a.DraftJS.EditorState.push(u,l,"insert-fragment"),r.onChange(u,n)}))}},{key:"appendEmoji",value:function(e,t){var n=null;"string"==typeof e&&e.length?i.default.emojiList[e]&&(n=i.default.shortnameToUnicode(e)):"object"===_(e)&&e&&(e.shortname?n=i.default.shortnameToUnicode(e.shortname):e.uc_full?n=i.default.convert(e.uc_full):e.unicode&&(n=i.default.convert(e.unicode))),null===n?t&&t(n,e):this.appendContent("".concat(n," "),{appendSpaceBefore:!0},t)}},{key:"appendImage",value:function(e,t){var n=this;this.enableDraftEditor((function(){var r=(i=n.state.editorState).getCurrentContent(),o=((o=e.path||e.url||e.viewUrl)?o.startsWith("data:image")||o.startsWith("http://")||o.startsWith("https://")||o.startsWith("file://")||(o="file://".concat(o,"?t=").concat((new Date).getTime())):e.blob?o=URL.createObjectURL(e.blob):(e instanceof Blob||e instanceof File)&&(o=URL.createObjectURL(e)),r=r.createEntity("IMAGE","IMMUTABLE",{src:o,alt:e.name||"",image:e})).getLastCreatedEntityKey(),i=a.DraftJS.EditorState.set(i,{currentContent:r});n.onChange(a.DraftJS.AtomicBlockUtils.insertAtomicBlock(i,o," "),t)}))}},{key:"appendMentions",value:function(e,t,n){var r=this;this.enableDraftEditor((function(){"function"==typeof t&&(n=t,t={});var o=void 0!==(o=(l=t||{}).replaceAfter)&&o,i=void 0===(c=l.insertTrailingSpace)||c,l=void 0!==(c=l.clear)&&c,c=!0===o?"@":o;Array.isArray(e)||(e=[e]);var d,p,h=r.state.editorState,m=(l&&(h=a.DraftJS.EditorState.createEmpty(x)),"string"==typeof c&&c.length&&(l=(o=h.getSelection()).getAnchorOffset(),d=o.getAnchorKey(),d=h.getCurrentContent().getBlockForKey(d).getText().substring(0,l).lastIndexOf(c),c=o.merge({anchorOffset:d,focusOffset:l}),o=a.DraftJS.Modifier.replaceText(h.getCurrentContent(),c,""),h=a.DraftJS.EditorState.push(h,o,"insert-fragment")),w(e));try{for(m.s();!(p=m.n()).done;){var y=p.value,g=void 0,b=void 0,v=void 0;if("all"===y)g="@".concat(s.default.string("chat.message.atAll")),b=h.getCurrentContent().createEntity("MENTION","IMMUTABLE",{id:"all",mention:g}),v=a.DraftJS.Modifier.insertText(b,h.getSelection(),g,["MENTION"]);else{if(!(y=y instanceof f.default?y:u.default.guessMemberInCache(y)))continue;g=y.mentionText;var _=(b=h.getCurrentContent().createEntity("MENTION","IMMUTABLE",{id:y.id,mention:g})).getLastCreatedEntityKey();v=a.DraftJS.Modifier.insertText(b,h.getSelection(),g,["MENTION"],_)}h=a.DraftJS.EditorState.push(h,v,"insert-fragment"),i&&(v=a.DraftJS.Modifier.insertText(h.getCurrentContent(),h.getSelection()," "),h=a.DraftJS.EditorState.push(h,v,"insert-fragment"))}}catch(l){m.e(l)}finally{m.f()}r.onChange(h,n)}))}},{key:"getContentList",value:function(){var e,t,n=[];if(this.state.enabled)return e=this.state.editorState.getCurrentContent(),t="",e.getBlocksAsArray().forEach((function(r){var o,i,l,s;"atomic"===r.type?(t.length&&t.trim().length&&(n.push({type:"text",content:t}),t=""),(o=r.getEntityAt(0))&&(o=e.getEntity(o))&&n.push({type:"image",image:o.data.image})):(t.length&&(t+="\n"),i=r.text,l=[],s=0,r.findEntityRanges((function(e){return!!(e=e.getEntity())&&"MENTION"===a.DraftJS.Entity.get(e).getType()}),(function(e,t){var n=r.getEntityAt(e);n=a.DraftJS.Entity.get(n),l.push(i.substring(s,e),"[".concat(n.data.mention,"](@#").concat(n.data.id,")")),s=t})),l.push(i.substring(s,i.length)),t+=l.join(""))})),t.length&&t.trim().length&&(n.push({type:"text",content:t}),t=""),n}},{key:"focus",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"number"===(n=_(t))?t={delay:t}:"boolean"===n?t={moveCursorToEnd:t}:"function"===n&&(t={callback:t});var n=void 0===(n=t.delay)?100:n,r=t.callback,o=t.moveCursorToEnd;this.lastFocusTimer&&(clearTimeout(this.lastFocusTimer),this.lastFocusTimer=null),this.lastFocusTimer=setTimeout((function(){e.editor.focus(),e.lastFocusTimer=null,o&&e.moveCursorToEnd(),r&&r()}),n)}},{key:"onChange",value:function(e,t){var n=this,r=e.getCurrentContent();this.setState({editorState:e},(function(){t&&t(r);var e=n.props.onChange;e&&e(r)}))}},{key:"handleKeyCommand",value:function(e){var t=this.state.editorState;if("backspace"===e){var n=t.getSelection().getStartKey(),r=t.getCurrentContent();if(!r.getBlockForKey(n).getLength()&&(r=r.getBlockBefore(n))&&"atomic"===r.type)return this.handleDeleteBlock(r),"handled"}if(this.props.handleKey)return(n=a.DraftJS.RichUtils.handleKeyCommand(t,e))?(this.onChange(n),"handled"):"not-handled"}},{key:"handleReturn",value:function(e){var t=this.props.onReturnKeyDown;return t?t(e):"not-handled"}},{key:"handlePastedText",value:function(e,t){e=null==(n=e)?void 0:n.replace(/\r\n?/g,"\r\n");var n=this.props.onPastedText;return n?n(e,t):this.appendContent(e||t),"handled"}},{key:"handlePastedFiles",value:function(e){return E&&(e=e.filter((function(e){return!E.isDirectory(e.path)||((0,p.executeCommand)("showMessager",s.default.error("UPLOAD_FOLDER_NOT_SUPPORTED"),{type:"warning"}),!1)}))),(this.props.onPastedFiles||d.sendFilesToChat)(e),"handled"}},{key:"moveCursorToEnd",value:function(e){var t=this.state.editorState,n=(r=t.getCurrentContent().getBlockMap()).last().getKey(),r=r.last().getLength();n=new a.DraftJS.SelectionState({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:r}),r=a.DraftJS.EditorState.forceSelection(t,n),this.onChange(r,e)}},{key:"render",value:function(){var e=(l=this.props).placeholder,t=(l.onReturnKeyDown,l.onPastedFiles,l.onPastedText,l.handleKey,l.defaultState,l.onRequestSuggestions),n=l.suggestionsItemRender,r=l.onClickMentionSuggestion,i=l.onClickMentionsMoreBtn,l=(l.onChange,l.useFakeEmptyInput,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(l,y)),s=(u=this.state).editorState,u=u.enabled;return o.default.createElement("div",v({},l,{onClick:this.handleEditorClick}),u?o.default.createElement(a.AutocompleteEditor,{ref:this.getEditorRef,placeholder:e,editorState:s,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,blockRendererFn:this.blockRendererFn,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,onSuggestionSelect:r,onClickMoreSuggestionBtn:i,onRequestSuggestions:t,suggestionsItemRender:n,delay:500}):o.default.createElement("div",{className:"draft-editor-fake relative"},o.default.createElement("input",{type:"text",className:"input dock dock-top",required:!0,defaultValue:"",ref:this.getEditorRef,onCompositionStart:this.handleFakeInputCompositionStart,onCompositionEnd:this.handleFakeInputCompositionEnd,onChange:this.handleFakeInputChange,onPaste:this.handleFakeInputPaste}),o.default.createElement("div",{className:"public-DraftEditorPlaceholder-root"},e)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent),k(t.default=n,"propTypes",{placeholder:r.default.string,onChange:r.default.func,handleKey:r.default.bool,onReturnKeyDown:r.default.func,onPastedText:r.default.func,onPastedFiles:r.default.func,defaultState:r.default.any,onRequestSuggestions:r.default.func,suggestionsItemRender:r.default.func,onClickMentionSuggestion:r.default.func,onClickMentionsMoreBtn:r.default.func,useFakeEmptyInput:r.default.bool}),k(n,"defaultProps",{placeholder:null,onChange:null,onReturnKeyDown:null,onPastedText:null,onPastedFiles:null,handleKey:!1,defaultState:null,onRequestSuggestions:null,suggestionsItemRender:null,onClickMentionSuggestion:null,onClickMentionsMoreBtn:null,useFakeEmptyInput:!1})},38130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DYNAMIC_FORM_DIALOG_ID=void 0,t.showDynamicFormDialog=function(e,t){var n=e.title,s=e.inputs,u=e.dataHandler,f=(e=void 0===(e=e.submitLabel)?o.default.string("common.confirm"):e,r.default.createRef());return a.default.show({title:n,id:c,content:r.default.createElement(l.default,null,r.default.createElement(i.default,{ref:f,inputProps:s,dataHandler:function(e){a.default.hide(c,(function(){return u(e)}),!0)}})),actions:[{type:"submit",label:e},{type:"cancel"}],onSubmit:function(){var e=f.current;return e.requestSubmit?e.requestSubmit():e.submit(),!1}},t)},t.validateFormProps=function(e){var t;try{t=JSON.parse(e)}catch(e){return null}if(!t.title||!t.inputs||!t.inputs.length)return null;var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){var r;if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(t.inputs);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!o.name||!o.type)return null}}catch(e){r.e(e)}finally{r.f()}return t};var r=s(n(67294)),o=s(n(61862)),a=s(n(48516)),i=s(n(4500)),l=s(n(88547));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c="app-dynamic-form-dialog";t.DYNAMIC_FORM_DIALOG_ID=c},53255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showEmojiPopover=t.default=void 0;var r=c(n(67294)),o=c(n(98874)),a=c(n(21898)),i=c(n(61862)),l=c(n(15973)),s=c(n(74933)),u=n(53595);function c(e){return e&&e.__esModule?e:{default:e}}var f={people:{title:i.default.string("emoji.category.people",""),emoji:"smile"},nature:{title:i.default.string("emoji.category.nature",""),emoji:"hamster"},food:{title:i.default.string("emoji.category.food",""),emoji:"pizza"},activity:{title:i.default.string("emoji.category.activity",""),emoji:"soccer"},travel:{title:i.default.string("emoji.category.travel",""),emoji:"earth_americas"},objects:{title:i.default.string("emoji.category.objects",""),emoji:"bulb"},symbols:{title:i.default.string("emoji.category.symbols",""),emoji:"clock9"},flags:{title:i.default.string("emoji.category.flags",""),emoji:"flag_cn"}};n={show:t.showEmojiPopover=function(e,t,n){(0,u.initEmojiListForPicker)();var c="app-emoji-popover",d=l.default.userConfig.enableSearchInEmojiPicker;return a.default.show(e,r.default.createElement(o.default,{categories:f,style:{height:260,width:280},search:!!d||void 0,searchPlaceholder:d?i.default.string("common.search"):void 0,emojione:{imagePathPNG:s.default.imagePathPNG,imageType:s.default.imageType},onChange:function(e){t&&t(e),a.default.hide(c)}}),{id:c,width:280,height:261,cache:!0},n)}},t.default=n},73506:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=C(n(88666)),a=C(n(67629)),i=O(n(10176)),l=O(n(71214)),s=O(n(76733)),u=O(n(85110)),c=O(n(28784)),f=O(n(29009)),d=C(n(53255)),p=C(n(61964)),h=O(n(27607)),m=C(n(10503)),y=C(n(94602)),g=C(n(59846)),b=O(n(74112)),v=O(n(65169)),_=O(n(68634)),w=O(n(52721)),S=O(n(40919));function O(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=M(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}n=C(n(86208)),o={AboutDialog:o,MemberProfileDialog:a,About:i.default,MemberProfile:l.default,BuildInfo:s.default,Routes:u.default,DraftEditor:c.default,StatusDot:f.default,EmojiPopover:d,UserChangePasswordDialog:p,UserListItem:h.default,UserProfileDialog:m,HotkeySettingDialog:y,UserSettingDialog:g,MemberListItem:b.default,UserSetting:v.default,MemberList:_.default,SelectPanel:w.default,SelectPanelWithActions:S.default,SelectDialog:n},t.default=o},94602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showHotkeySettingDialog=t.default=void 0;var r=u(n(67294)),o=u(n(48516)),a=u(n(85978)),i=n(32355),l=u(n(61862)),s=n(4829);function u(e){return e&&e.__esModule?e:{default:e}}n={show:t.showHotkeySettingDialog=function(e,t,n,u){var c=t;return(0,i.disableGlobalShortcut)(),o.default.show({title:e,onHidden:i.enableGlobalShortcut,onSubmit:function(){c!==t&&n&&n(c)},content:r.default.createElement("div",null,r.default.createElement(a.default,{onlyMotifyKeysText:l.default.string("setting.hotkeys.cantSetOnlyModifyKeys"),defaultValue:t?(0,s.formatKeyDecoration)(t):"",onChange:function(e){c=e}}))},u)}},t.default=n},89378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),o=a(n(61862));function a(e){return e&&e.__esModule?e:{default:e}}n=(n=a(n(99605))).default?n.default.getSharedData("Lang"):o.default,r=(0,r.createContext)({lang:n,langName:o.default.name}),t.default=r},84360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showLanguageSwitchDialog=t.default=void 0;var r=i(n(67294)),o=i(n(48516)),a=i(n(15085));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return o.default.show({headingClassName:"dock dock-right dock-top",content:r.default.createElement(a.default,null),actions:!1},e)}n=n(78717),t.showLanguageSwitchDialog=l,(0,n.registerCommand)("showLanguageSwitchDialog",(function(){return l()}),null,{apiLevel:4}),n={show:l},t.default=n},15085:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(67294)),a=f(n(61862)),i=u(n(55072)),l=n(64393),s=u(n(65286));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(n=t?(n=p(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(u);function u(){if(this instanceof u)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=u,(e=[{key:"componentDidMount",value:function(){var e=this;this.onLangChangeHandler=(0,a.onLangChange)((function(){e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){s.default.off(this.onLangChangeHandler)}},{key:"render",value:function(){var e=(0,a.getAllLangList)(),t=a.default.name,n={minWidth:150,height:60,display:"flex",flexDirection:"column",padding:0};return o.default.createElement("div",{className:"app-lang-switcher"},o.default.createElement("header",{className:"heading"},o.default.createElement("strong",{className:"title"},a.default.string("common.selectLanguage"))),o.default.createElement("div",{className:"space-sm row",style:{maxWidth:520}},e.map((function(e){return o.default.createElement(i.default,{className:(0,l.classes)("has-margin-sm rounded",{"bg-primary text-white":t===e.name," gray x-outline":t!==e.name}),key:e.name,onClick:a.loadLanguage.bind(null,e.name),style:n},o.default.createElement("strong",{className:t!==e.name?"text-dark":""},e.label),e.labels&&e.labels[t]?o.default.createElement("div",{className:"small"},"(",e.labels[t],")"):"")}))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.PureComponent),t.default=n},63640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showLoginQRCode=t.default=void 0;var r=i(n(67294)),o=i(n(48516)),a=i(n(21409));function i(e){return e&&e.__esModule?e:{default:e}}n={show:t.showLoginQRCode=function(e){var t="login-qrcode-dialog";return o.default.show({actions:!1,closeButton:!1,id:t,content:r.default.createElement(a.default,{onRequestClose:function(){o.default.hide(t)}})},e)}},t.default=n},21409:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=_(n(45697)),a=v(n(67294)),i=_(n(79361)),l=_(n(2568)),s=n(64393),u=_(n(87137)),c=_(n(55072)),f=_(n(10352)),d=_(n(65286)),p=v(n(61862)),h=_(n(74160)),m=n(15973),y=n(13347),g=_(n(91705));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(n=t?(n=M(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return O(o)}}(o);function o(e){var t;if(this instanceof o)return C(O(t=n.call(this,e)),"setLoginCodeValue",function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){w(a,r,o,i,l,"next",e)}function l(e){w(a,r,o,i,l,"throw",e)}i(void 0)}))}}((function*(){var e,n,r,o,a,i;t._unmounted||(e=(i=t.user).serverName,n=i.account,a=i.server,i=i.tokenAuthWindow,r=a.protocol,o=a.hostname,a=a.port,null==t.token&&(t.token=yield(0,y.getAuthToken)()),t.token?(i=(0,l.default)("".concat(n).concat(t.token).concat(Math.round(Date.now()/1e3/(null!=i?i:20)))),t.setState({loginCodeValue:"".concat(r,"//").concat(n,":").concat(i+(0,l.default)(i),"~",0,"@").concat(o,":").concat(a,"/").concat(e).concat("#xuan")})):t.setState({loginCodeValue:"error"}))}))),C(O(t),"handleFlipClick",(function(){t.state.flip?t.clearLoginQRRefresh():t.setLoginQRRefresh(),t.setState((function(e){return{flip:""===e.flip?"flip":"",loginedAndCloseCountdown:-1}}))})),t.state={flip:"",loginCodeValue:"",downloadCodeValue:h.default.ui["mobile.getAppUrl"],loginedAndCloseCountdown:-1},t.user=(0,m.getCurrentUser)(),t.time=1e3*t.user.tokenAuthWindow,t._loginQRRefreshTimer=null,t._unmounted=!1,t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"componentDidMount",value:function(){var e=this;this.setLoginCodeValue(),this.setLoginQRRefresh(),this._handleLoginOnOtherDevice=(0,m.onUserLoginOnOtherDevice)((function(){e._unmounted||e.setState({loginedAndCloseCountdown:3},(function(){e.clearLoginQRRefresh(),clearInterval(e._coundDownTimer),e._coundDownTimer=setInterval((function(){0<e.state.loginedAndCloseCountdown?e.setState((function(e){return{loginedAndCloseCountdown:e.loginedAndCloseCountdown-1}})):(clearInterval(e._coundDownTimer),e._coundDownTimer=null,e.props.onRequestClose&&e.props.onRequestClose())}),1e3)}))}))}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,d.default.off(this._handleLoginOnOtherDevice),this.clearLoginQRRefresh(),clearInterval(this._coundDownTimer)}},{key:"setLoginQRRefresh",value:function(){this.clearLoginQRRefresh(),this._loginQRRefreshTimer=setInterval(this.setLoginCodeValue,this.time)}},{key:"clearLoginQRRefresh",value:function(){clearTimeout(this._loginQRRefreshTimer)}},{key:"getLoginQRCodeView",value:function(){var e=(t=this.state).loginCodeValue,t=t.loginedAndCloseCountdown;return"error"!==e?a.default.createElement("div",{className:"qrcode login"},a.default.createElement(i.default,{level:"H",size:300,fgColor:"#1687a7",value:e,imageSettings:t<0?{src:(0,p.getMediaPath)("icon"),height:40,width:40,excavate:!0}:null})):a.default.createElement("div",{className:"err-qrcode",style:{transform:"rotateY(0)"}},a.default.createElement("div",null,a.default.createElement(f.default,{name:":disappointed_relieved:",className:"text-center"}),a.default.createElement("p",null,p.default.string("qrcode.login.fail")),a.default.createElement(c.default,{icon:"refresh",className:"btn-wide bg-primary rounded",label:p.default.string("qrcode.login.refresh"),onClick:this.setLoginCodeValue})))}},{key:"render",value:function(){var e=(t=this.props).className,t=t.onRequestClose,n=(o=this.state).downloadCodeValue,r=o.flip,o=o.loginedAndCloseCountdown,l=(n=a.default.createElement("div",{className:"qrcode download"},a.default.createElement(a.Suspense,{fallback:a.default.createElement(g.default,{key:"spinner",iconSize:24})},a.default.createElement(i.default,{level:"H",size:300,fgColor:"#e97878",value:n}))),null);return 0<=o&&(l=a.default.createElement("div",{className:"dock lighten-9 text-success center-content column has-padding"},a.default.createElement(u.default,{size:7,name:"check-circle",className:"space"}),a.default.createElement("h4",null,p.default.format("mobile.logined.tip",o)))),a.default.createElement("div",null,a.default.createElement("header",{className:"heading"},a.default.createElement("div",{className:"title"},p.default.string(r?"mobile.download.title":"mobile.login.title")),a.default.createElement("nav",{style:{overflow:"visible"},title:p.default.string("common.close"),className:"nav"},a.default.createElement("a",{className:"close rounded",onClick:t},a.default.createElement(u.default,{name:"close"})))),a.default.createElement("div",{className:(0,s.classes)("qrcode-card center-content relative",e,r)},a.default.createElement("div",{className:"qrcode-card-inner"},this.getLoginQRCodeView(),n),l),a.default.createElement("div",{className:"text-center space has-padding-h"},a.default.createElement("a",{className:"btn text-primary",onClick:this.handleFlipClick},p.default.string(r?"mobile.login.tip":"mobile.download.tip"))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.PureComponent),C(t.default=n,"propTypes",{className:o.default.string,onRequestClose:o.default.func}),C(n,"defaultProps",{className:null,onRequestClose:null})},52677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMediaPreviewWindow=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e="string"==typeof e?{current:{src:e}}:e,o.default.has("nwc.openWindowAndCreateNwc")){var n=o.default.call("nwc.getNwcByID",t.id);if(n)return void n.showAndFocusWindow();var u=o.default.call("nwc.openWindowAndCreateNwc","gallery",{id:t.id,backgroundColor:(0,s.isDarkThemeMode)()?"#343434":"#ececec",title:a.default.string("media.preview"),minWidth:500,minHeight:300,overlayIcon:"gallery-win.png",maximizeAfterShow:!0,vibrancy:"popover"}),c=(u.shareData({Lang:a.default,obtainer:e}),(0,i.onUserLogout)((function(e,t,n,r){r||u.invoke("browserWindow.close")})));return u.once("window-closed",(function(){l.default.off(c)})),u}return n={prevText:a.default.string("image.prev"),nextText:a.default.string("image.next"),obtainText:a.default.string("common.rerequest"),zoomInText:a.default.string("image.zoomIn"),zoomOutText:a.default.string("image.zoomOut"),zoomResetText:a.default.string("image.zoomReset"),rotate90Text:a.default.string("image.rotate90")},(0,r.showMediaPreviewDialog)(e,{mediaPreviewProps:n})};var r=n(61323),o=u(n(94128)),a=u(n(61862)),i=n(15973),l=u(n(65286)),s=n(99838);function u(e){return e&&e.__esModule?e:{default:e}}},67940:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MemberAvatarCommon=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=h(n(2388)),l=h(n(87137)),s=h(n(88446)),u=h(n(29009)),c=n(58008),f=n(75738),d=h(n(84431)),p=["status","displayName","avatar","code"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n,r){var a=r.className,i=r.showStatusDot,d=r.size,p=r.memberID,h=r.shape,m=r.grayOffline;return h={size:d,icon:"account",iconSize:2,className:["user-avatar",h,a],onClick:r.onClick,onContextMenu:r.onContextMenu},m&&(0,f.isMemberOffline)(e)&&h.className.push("grayscale"),i&&(a=Math.floor(Math.min(20,2+.275*d)),h.badge=o.default.createElement(u.default,{status:e,size:a})),n&&(r=(0,c.getMemberAvatar)(n))?(r.startsWith("icon-")||r.startsWith("mdi-")?(h.skin={code:p,textColor:"white"},h.icon=r):(h.image=o.default.createElement(s.default,{src:r},o.default.createElement(l.default,{name:"account muted"})),h.imageClassName="circle",h.icon=null),h):("string"==typeof t&&t.length?(h.skin={code:p,textColor:"white"},h.label=t[0].toUpperCase(),h.icon=null):(h.skin={code:p,textColor:"white"},h.className.push("loading-holder")),h)}function w(e){var t=e.status,n=e.displayName,r=e.avatar,a=e.code;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,p),o.default.createElement(i.default,_(t,n,r,v(v({},e),{},{memberID:a})))}function S(e){var t,n=e.memberID,r=n?d.default.getMember(n):null,a=(t=y((0,o.useState)(r?r.avatar:null),2))[0],l=t[1],s=(t=y((0,o.useState)(r?r.statusName:null),2))[0],u=t[1],c=(r=(t=y((0,o.useState)(r?r.displayName:null),2))[0],t[1]);return(0,o.useEffect)((function(){var e,t=n?d.default.getMember(n):null;if(l(t?t.avatar:null),u(t?t.statusName:null),c(t?t.displayName:null),n)return e=d.default.subscribe(n,(function(e){e&&(l(e.avatar),u(e.statusName),c(e.displayName))})),function(){return d.default.unsubscribe(e)}}),[n]),o.default.createElement(i.default,_(s,r,a,e))}w.propTypes={status:a.default.any,className:a.default.oneOfType([a.default.array,a.default.object,a.default.string]),displayName:a.default.string,avatar:a.default.string,code:a.default.any,shape:a.default.string,showStatusDot:a.default.bool,size:a.default.number,grayOffline:a.default.bool},w.defaultProps={status:null,className:"",displayName:null,avatar:null,code:null,shape:"circle",showStatusDot:!1,size:24,grayOffline:!1},S.propTypes={memberID:a.default.number.isRequired,className:a.default.oneOfType([a.default.array,a.default.object,a.default.string]),shape:a.default.string,showStatusDot:a.default.bool,size:a.default.number,grayOffline:a.default.bool},S.defaultProps={className:"",shape:"circle",showStatusDot:!1,size:24,grayOffline:!1},t.default=(0,o.memo)(S),n=(0,o.memo)(w),t.MemberAvatarCommon=n},31165:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=s(n(45697)),i=s(n(24614)),l=["id","span"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){var t=e.id,n=e.span;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,l),t=(0,i.default)(t),n?o.default.createElement("span",e,t?t.name:""):o.default.createElement("div",e,t?t.name:"")}c.propTypes={id:a.default.number.isRequired,span:a.default.bool},c.defaultProps={span:!1},t.default=(0,o.memo)(c)},74112:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=n(16986),l=c(n(67940)),s=c(n(36567)),u=["memberID","title","children","className","avatarSize","avatarClassName","onClick"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=e.memberID,n=e.title,r=e.children,c=e.className,f=e.avatarSize,h=e.avatarClassName,m=e.onClick,y=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),p((0,s.default)(t),1)[0]);return y=n?o.default.isValidElement(n)?n:o.default.createElement("div",{className:"title x-text-ellipsis"},n):(n=y.displayName,(0,i.isEmptyString)(n)?o.default.createElement("div",{className:"title relative loading-holder relative loading-holder-line"}):o.default.createElement("div",{className:"title x-text-ellipsis"},n)),o.default.createElement("a",d({className:(0,a.classes)("app-member-list-item item",c),onClick:m},e),o.default.createElement(l.default,{showStatusDot:!0,className:h,size:f,memberID:t}),y,r)}m.defaultProps={title:null,children:null,className:"flex-middle",avatarSize:24,avatarClassName:null,onClick:null},t.default=(0,o.memo)(m)},68634:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=m(n(45697)),i=m(n(61862)),l=m(n(74160)),s=m(n(75738)),u=n(64393),c=m(n(60609)),f=m(n(74112)),d=m(n(84431)),p=n(15973),h=["chosen","members","className","listItemProps","itemRender","onItemClick","onItemContextMenu","avatarClassName","heading","startPageSize","morePageSize","defaultPage","contentRender","eventBindObject","selection"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(n=t?(n=_(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return v(o)}}(a);function a(e){var t;if(this instanceof a)return w(v(t=n.call(this,e)),"handleRequestMorePage",(function(){t.setState((function(e){return{page:e.page+1}}))})),w(v(t),"handleOnItemClick",(function(e){var n=d.default.getMember(e.currentTarget.attributes["data-id"].value),r=(o=t.props).onItemClick,o=o.eventBindObject;r&&r.call(o,n,e)})),w(v(t),"handleOnItemContextMenu",(function(e){var n,r=(o=t.props).onItemContextMenu,o=o.eventBindObject;r&&(n=d.default.getMember(e.currentTarget.attributes["data-id"].value),r.call(o,n,e))})),t.state={page:e.defaultPage},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){for(var e=(v=this.props).chosen,t=v.members,n=v.className,r=v.listItemProps,a=v.itemRender,l=(v.onItemClick,v.onItemContextMenu,v.avatarClassName),s=v.heading,d=v.startPageSize,m=v.morePageSize,y=(v.defaultPage,v.contentRender),b=(v.eventBindObject,v.selection),v=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(v,h),_=this.state.page,w=_?Math.min(t.length,d+(1<_?(_-1)*m:0)):t.length,S=[],O=null,M=0;M<w;M+=1){var C,k=t[M];b&&!(0,p.isCurrentUser)(k)&&(O=o.default.createElement("div",{className:(0,u.classes)("checkbox checkbox-sm",{checked:e.has(k.id)})},o.default.createElement("label",null))),a?S.push(a(k,O)):(C="function"==typeof r?r(k):r,S.push(o.default.createElement(f.default,g({"data-id":k.id,avatarClassName:l,onContextMenu:this.handleOnItemContextMenu,onClick:this.handleOnItemClick},C,{key:k.account,memberID:k.id}),y&&y(k),O)))}return(d=t.length-w)&&S.push(o.default.createElement(c.default,{key:"showMore",icon:"chevron-double-down",className:"flex-middle item muted",title:o.default.createElement("span",{className:"title small"},i.default.format("common.clickShowMoreFormat",d)),onClick:this.handleRequestMorePage})),o.default.createElement("div",g({},v,{className:(0,u.classes)("app-member-list list",n)}),s,S)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),w(t.default=n,"propTypes",{chosen:a.default.object,members:a.default.arrayOf(a.default.instanceOf(s.default)).isRequired,listItemProps:a.default.object,onItemClick:a.default.func,onItemContextMenu:a.default.func,itemRender:a.default.func,contentRender:a.default.func,className:a.default.string,avatarClassName:a.default.string,heading:a.default.any,startPageSize:a.default.number,morePageSize:a.default.number,defaultPage:a.default.number,eventBindObject:a.default.object,selection:a.default.bool}),w(n,"defaultProps",{chosen:null,listItemProps:null,onItemClick:null,onItemContextMenu:null,className:null,avatarClassName:null,itemRender:null,contentRender:null,heading:null,startPageSize:l.default.ui["page.start.size"]||20,morePageSize:l.default.ui["page.more.size"]||20,defaultPage:1,eventBindObject:null,selection:!1})},86625:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(99605)),i=c(n(22003)),l=n(64393),s=n(16986),u=(n=c(n(84604)),["memberID","className","children","hideOnLoading","type"]);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}var p=(a.default?i:n).default;t.default=(0,o.memo)((function(e){var t=e.memberID,n=void 0===(n=e.className)?"":n,r=e.children,a=void 0!==(a=e.hideOnLoading)&&a,i=void 0===(i=e.type)?"span":i,c=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),t=p(t),(0,s.isEmptyString)(t));return a&&c?null:o.default.createElement(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,l.classes)(n,c?"inline-block loading-holder relative loading-holder-line":"")},e),t,r)}))},18620:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(98649),i=s(n(86625)),l=s(n(87137));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}t.default=o.memo((function(e){var t=e.memberID,n=e.showIcon,r=e.icon,s=e.iconClick;return e=e.memberClick,o.createElement("div",{key:t,className:"x-outline whitespace-nowrap rounded-full pl-1 flex-none flex cursor-default items-center h-[20px] border-[var(--color-black)]"},o.createElement("div",{className:"cursor-pointer btn btn-sm !p-0 rounded text-nowrap",onClick:void 0===e?function(e){(0,a.showContextMenu)("member.profile",{event:e,params:["".concat(t),!1,!0]})}:e},o.createElement(i.default,{memberID:t})),(void 0===n||n)&&o.createElement(l.default,{name:void 0===r?"mdi-close":r,className:"cursor-pointer btn btn-sm !p-0 rounded ml-[-2px]",onClick:void 0===s?void 0:s}))}))},67629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMemberProfileDialog=t.default=void 0;var r=s(n(67294)),o=s(n(48516)),a=n(98649),i=n(87137),l=n(64393);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n={show:t.showMemberProfileDialog=function(e,t){"object"===u(e)&&(e=e.id);var n="member-".concat(e);return e=(0,a.getMenuItemsForContext)("member.profile",{params:[e]}).map((function(e){if(r.default.isValidElement(e))return e;var t=e.className,n=e.icon,o=e.label,a=(n=n&&(0,i.renderIcon)(n,{className:"item-left-icon"}),null);return r.default.isValidElement(o)?a=o:o&&(a=r.default.createElement("span",{className:"title"},o)),r.default.createElement("a",{key:e.label,className:(0,l.classes)("item",t)},n,a)})),o.default.show({actions:!1,id:n,headingClassName:"dock-right dock-top",className:"contextmenu-member_profile",content:r.default.createElement("div",{className:"list dropdown-menu has-icon-left"},e)},t)}},t.default=n},80904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==E(e)&&"function"!=typeof e)return{default:e};if((t=k(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=C(n(55072)),a=n(42012),i=n(83047),l=n(98649),s=C(n(67940)),u=C(n(29009)),c=C(n(87137)),f=C(n(61862)),d=n(16986),p=n(15973),h=C(n(94128)),m=C(n(36567)),y=C(n(91705)),g=n(58008),b=n(57485),v=n(58851),_=n(78717),w=C(n(45837)),S=C(n(31165)),O=C(n(43088)),M=n(28055);function C(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t=e.memberID,n=e.showMentionBtn,l=(e=e.disableButton,P((0,m.default)(t),1)[0]),C=(0,O.default)(t);if(!l)return r.default.createElement(y.default,null);var k=l.displayName,E=(k=[r.default.createElement("div",{key:"name",className:"item is-member-name"},r.default.createElement("div",{className:"circle state",onClick:l.avatar?function(){return(0,_.executeCommandLine)("viewMedia/".concat(encodeURIComponent((0,g.getMemberAvatar)(l.avatar))))}:null},r.default.createElement(s.default,{memberID:t,size:40})),(0,d.isEmptyString)(k)?r.default.createElement("div",{className:"content"},r.default.createElement("div",{className:"title loading-holder relative loading-holder-line space-xs",style:{width:80}}),r.default.createElement("div",{className:"subtitle loading-holder relative loading-holder-line",style:{width:60}})):r.default.createElement("div",{className:"content user-selectable"},r.default.createElement("div",{className:"title strong"},l.displayName," ",l.gender&&"u"!==l.gender?r.default.createElement(c.default,{name:"sprite-gender-".concat(l.gender)}):null),r.default.createElement("div",{className:"subtitle"},"@",l.account))),r.default.createElement("div",{key:"status",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},f.default.string("member.status")),r.default.createElement("div",{className:"title"},r.default.createElement(u.default,{status:C,label:!0})))],l.dept&&k.push(r.default.createElement("div",{key:"dept",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},f.default.string("member.dept.short")),r.default.createElement(S.default,{className:"title",id:l.dept}))),(0,d.isNotEmptyString)(l.role)&&k.push(r.default.createElement("div",{key:"role",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},f.default.string("member.role")),r.default.createElement(w.default,{className:"title",role:l.role}))),(0,d.isNotEmptyString)(l.email)&&k.push(r.default.createElement("div",{key:"email",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},f.default.string("member.profile.email")),r.default.createElement("div",{className:"title"},l.email))),(0,d.isNotEmptyString)(l.mobile)&&k.push(r.default.createElement("div",{key:"mobile",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},f.default.string("member.profile.mobile")),r.default.createElement("div",{className:"title"},l.mobile))),(0,d.isNotEmptyString)(l.phone)&&k.push(r.default.createElement("div",{key:"phone",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},f.default.string("member.profile.phone")),r.default.createElement("div",{className:"title"},l.phone))),(0,d.isNotEmptyString)(l.weixin)&&k.push(r.default.createElement("div",{key:"weixin",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},f.default.string("member.profile.weixin")),r.default.createElement("div",{className:"title"},l.weixin))),(0,d.isNotEmptyString)(l.qq)&&k.push(r.default.createElement("div",{key:"qq",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},"QQ"),r.default.createElement("div",{className:"title"},l.qq))),(0,d.isNotEmptyString)(l.address)&&k.push(r.default.createElement("div",{key:"address",className:"item user-selectable"},r.default.createElement("div",{className:"strong app-member-profile-menu-title"},f.default.string("member.profile.address")),r.default.createElement("div",{className:"title"},l.address))),(0,v.createOne2OneChatGid)((0,p.getCurrentUserID)(),t)),T=(C=!l.isDeleted,(0,b.canUseConference)(E,!0)),j=null,x=(0,p.getCurrentUser)();return T&&(j=x.isEnableDetachedConference?r.default.createElement(o.default,{key:"conferenceBtn","data-dismiss":!0,className:"btn btn-sm rounded gray x-outline",click:function(){return(0,a.createDetachedConference)(E,[],{audio:!0,video:!1,screen:!1},i.ConferenceType.default,f.default.format("conference.defaultOne2OneTopic",x.displayName))}},f.default.string("conference.create")):r.default.createElement("a",{key:"conferenceBtn","data-dismiss":!0,className:"btn btn-sm rounded gray x-outline",href:"xxc://createConference/".concat(E)},f.default.string("conference.create"))),(n||C||T||(0,p.isCurrentUser)(t))&&(C=[(0,p.isCurrentUser)(t)&&r.default.createElement("a",{key:"editInfoBtn","data-dismiss":!0,className:"btn btn-sm rounded gray x-outline",onClick:function(){return(0,M.showUserEditInfoDialog)(t)}},f.default.string("member.profile.editUserInfo")),C&&r.default.createElement("a",{key:"chatBtn","data-dismiss":!0,className:"btn btn-sm rounded accent",href:"#/chats/recents/".concat(E)},f.default.string("member.profile.sendMessage")),T&&j,n&&r.default.createElement("a",{key:"mentionBtn","data-dismiss":!0,className:"btn btn-sm rounded gray x-outline",href:"xxc://mentionMemberInSendbox/".concat(encodeURIComponent("#".concat(t)))},f.default.string("chat.atHim.".concat(l.gender),f.default.string("chat.atHim")))],h.default.env.isOSX&&C.reverse(),e||k.push(r.default.createElement("div",{key:"actions",className:"item row single flex-center actions"},C))),r.default.createElement(r.default.Fragment,null," ",k," ")}(0,l.addContextMenuCreator)("member.profile",(function(e){var t,n=!0===(((t=e.params)?t[1]:null)||e.showMentionBtn),o=!!t&&t[2];return"string"==typeof(t="object"===E(t=(t?t[0]:null)||e.memberID||e.member)&&t?t.id:t)&&("#"===t[0]&&(t=t.substring(1)),t=Number.parseInt(t,10)),[r.default.createElement(j,{key:"menu",memberID:t,showMentionBtn:n,disableButton:o})]}),{apiLevel:4}),t.default=(0,r.memo)(j)},71214:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(64393),l=h(n(87137)),s=h(n(67940)),u=h(n(41584)),c=h(n(36567)),f=h(n(24614)),d=h(n(41569)),p=["memberId","compact","className"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.memberId,n=e.compact,r=e.className,a=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,p),g((0,u.default)(),1)[0]),h=g((0,c.default)(t),1)[0],m=(0,d.default)(h.role),b=(0,f.default)(h.dept);return o.default.createElement("div",y({className:(0,i.classes)("app-member-profile space",r,{compact:n})},e),o.default.createElement("header",{className:"column has-padding-sm flex-middle"},h.avatar?o.default.createElement("a",{className:"circle",href:"xxc://viewMedia/".concat(encodeURIComponent(h.avatar))},o.default.createElement(s.default,{size:80,className:"flex-none",memberID:t,showStatusDot:!0})):o.default.createElement(s.default,{size:80,className:"flex-none",memberID:t,showStatusDot:!0}),o.default.createElement("div",{className:"profile-content"},o.default.createElement("div",{className:"title strong"},h.displayName,"",h.gender?"f"===h.gender?o.default.createElement(l.default,{name:"sprite-gender-f"}):o.default.createElement(l.default,{name:"sprite-gender-m"}):null),o.default.createElement("small",{className:"muted"},"@",h.account))),o.default.createElement("div",{className:"divider"}),m&&o.default.createElement("div",{className:"x-list-item has-padding-sm"},o.default.createElement("span",{className:"flex-none subtitle"},a.string("member.role")),o.default.createElement("input",{type:"input",className:"input clean",readOnly:!0,value:m})),b&&o.default.createElement("div",{className:"x-list-item has-padding-sm"},o.default.createElement("span",{className:"flex-none subtitle"},a.string("member.dept")),o.default.createElement("input",{type:"input",className:"input clean",readOnly:!0,value:b.name})),h.email&&o.default.createElement("div",{className:"x-list-item has-padding-sm"},o.default.createElement("span",{className:"flex-none subtitle"},a.string("member.profile.email")),o.default.createElement("input",{type:"input",className:"input clean",readOnly:!0,value:h.email})),h.mobile&&o.default.createElement("div",{className:"x-list-item has-padding-sm"},o.default.createElement("div",{className:"flex-none subtitle"},a.string("member.profile.mobile")),o.default.createElement("input",{type:"input",className:"input clean",readOnly:!0,value:h.mobile})),h.phone&&o.default.createElement("div",{className:"x-list-item has-padding-sm"},o.default.createElement("div",{className:"flex-none subtitle"},a.string("member.profile.phone")),o.default.createElement("input",{type:"input",className:"input clean",readOnly:!0,value:h.phone})))}v.propTypes={memberId:a.default.number.isRequired,className:a.default.string,compact:a.default.bool},v.defaultProps={className:null,compact:!1},t.default=(0,o.memo)(v)},45837:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=s(n(45697)),i=s(n(41569)),l=["role","span"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){var t=e.role,n=e.span,r=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,l),(0,i.default)(t));return n?o.default.createElement("span",e,r||t):o.default.createElement("div",e,r||t)}c.propTypes={role:a.default.string.isRequired,span:a.default.bool},c.defaultProps={span:!1},t.default=(0,o.memo)(c)},74249:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showMemberSelectDialog=t.default=t.MemberSelectDialog=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=d(n(45697)),i=d(n(61862)),l=d(n(48516)),s=d(n(36940)),u=d(n(61997)),c=d(n(93956)),f=d(n(42371));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var b=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(o)}}(a);function a(e){var t;if(this instanceof a)return g(m(t=n.call(this,e)),"handleClickMember",(function(e){t.setState({selection:e})})),g(m(t),"handleClickPrimaryBtn",(function(){t.props.onFinish&&t.props.onFinish(t.state.selection)})),g(m(t),"handleClickCancelBtn",(function(){t.props.onFinish&&t.props.onFinish(null)})),g(m(t),"handleSearchChange",(function(e){t.setState({searchValue:e}),console.log(e)})),t.state={chatGid:t.props.chatGid||null,selection:t.props.selection||null,searchValue:""},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){var e=(n=this.state).chatGid,t=n.selection,n=n.searchValue,r=(a=this.props).selectTip,a=a.excludes;return o.default.createElement("div",{className:"app-members-select app-select-panel dock"},o.default.createElement("div",{className:"dock single column divider-right",style:{width:300,paddingLeft:10,paddingRight:10}},o.default.createElement("header",{className:"flex-none"},o.default.createElement("div",{className:"title text-gray bold",style:{padding:"0.5rem 0"}},r||i.default.string("chat.group.transferTips")),o.default.createElement(c.default,{placeholder:i.default.string("common.search"),onSearchChange:this.handleSearchChange,style:{marginBottom:6},changeDelay:500})),o.default.createElement("div",{className:"flex-auto overflow-y-auto"},o.default.createElement(f.default,{chatGid:e,excludes:a,selection:t,searchValue:n,onClickMember:this.handleClickMember,onMembersChange:this.handleMembersChange}))),o.default.createElement(s.default,{className:"dock-bottom divider-top text-center has-padding-lg",onClickPrimary:t?this.handleClickPrimaryBtn:null,onClickCancel:this.handleClickCancelBtn}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent);g(t.MemberSelectDialog=b,"propTypes",{chatGid:a.default.string,selection:a.default.number,excludes:a.default.arrayOf(a.default.number),onFinish:a.default.func,selectTip:a.default.string}),g(b,"defaultProps",{chatGid:null,selection:null,excludes:null,onFinish:null,selectTip:null}),n={show:t.showMemberSelectDialog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=e.chatGid,r=e.selection,a=e.excludes,i=e.selectTip;return new Promise((function(e){var s=(0,u.default)();l.default.show({id:s,actions:!1,closeButton:!1,style:{width:300,height:500},content:o.default.createElement(b,{onFinish:function(t){l.default.hide(s),e(t)},chatGid:n,selection:r,excludes:a,selectTip:i})},t)}))}},t.default=n},42371:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=p(n(61862)),l=n(64393),s=p(n(60609)),u=p(n(91705)),c=p(n(74112)),f=p(n(84431)),d=p(n(74101));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)}))}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(n=t?(n=w(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(e){if(this instanceof a)return(e=n.call(this,e)).state={page:1,loading:!1,list:null,recTotal:0},e;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){this.loadNextPage(!0)}},{key:"componentDidUpdate",value:function(e){this.props.searchValue!==e.searchValue&&this.loadNextPage(!0),this.props.chatGid!==e.chatGid&&this.loadNextPage(!0)}},{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"getTotalPage",value:function(){return this.props.recPerPage?Math.ceil(this.state.recTotal/this.props.recPerPage):0}},{key:"hasNextPage",value:function(){return 0<this.state.recTotal&&this.state.page<this.getTotalPage()}},{key:"loadNextSearchPage",value:function(e){var t=this,n=this.props.onMembersChange,r=this.state,o=r.page,a=r.recTotal;this.setState({loading:!0,list:null},v((function*(){var r=(s=t.props).recPerPage,i=s.searchValue,l=s.chatGid,s=s.excludes;try{var u=yield f.default.searchFromRemote(i,{chat:l,exclude:s,pager:{recPerPage:r,recTotal:!e&&a||0,pageID:e?1:o+1}}),c=u.list,d=u.pager;c=c.map((function(e){return e.id}))}catch(s){c=[],console.error("Search members from server error",s)}n&&n(c),t._unmounted||t.setState({loading:!1,recTotal:d.recTotal,page:d.pageID,list:c})})))}},{key:"loadNextNoSearchPage",value:function(e){var t=this,n=this.props.onMembersChange;e=e?{recTotal:0,page:1,list:null}:{},Object.assign(e,{loading:!0}),this.setState(e,v((function*(){var e=t.props.chatGid,r=t.state.list,o=new Set(t.props.excludes);e=yield d.default.tryFetchChatMembers(e),e=Array.from(e).filter((function(e){return!o.has(e)})),r=[].concat(m(r||[]),m(e)),n&&n(r),t._unmounted||t.setState({loading:!1,recTotal:e.length,list:r})})))}},{key:"loadNextPage",value:function(e){""===this.props.searchValue?this.loadNextNoSearchPage(e):this.loadNextSearchPage(e)}},{key:"render",value:function(){var e=(d=this.props).selection,t=d.onClickMember,n=[],r=(d=this.state).page,a=d.loading,f=d.list,d=d.recTotal;if(r&&f){var p,h=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(f);try{for(h.s();!(p=h.n()).done;){var m=p.value;n.push(o.default.createElement(c.default,{memberID:m,key:m,onClick:t.bind(null,m)},o.default.createElement("div",{className:(0,l.classes)("checkbox checkbox-sm",{checked:m===e})},o.default.createElement("label",null))))}}catch(d){h.e(d)}finally{h.f()}}return a?n.push(o.default.createElement(u.default,{key:"spinner"})):0===d?n.push(o.default.createElement(s.default,{key:"notFound",icon:"information-outline",className:"flex-middle item muted disabled",title:o.default.createElement("span",{className:"title small"},i.default.string("common.notFoundOptions"))})):this.hasNextPage()&&(r=i.default.string("common.loadMore"),n.push(o.default.createElement(s.default,{key:"loadMore",icon:"chevron-double-down",className:"flex-middle item muted",title:o.default.createElement("span",{className:"title small"},r),onClick:this.loadNextPage.bind(this,!1)}))),o.default.createElement("div",{className:"list compact"},n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),S(t.default=n,"propTypes",{selection:a.default.number,excludes:a.default.array,onClickMember:a.default.func,recPerPage:a.default.number,chatGid:a.default.string,searchValue:a.default.string,onMembersChange:a.default.func}),S(n,"defaultProps",{selection:null,excludes:null,onClickMember:null,recPerPage:20,chatGid:"",searchValue:"",onMembersChange:null})},93881:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showMembersSelectDialog=t.default=t.MembersSelectDialog=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=y(n(61997)),l=y(n(61862)),s=y(n(48516)),u=y(n(87137)),c=y(n(74112)),f=y(n(93956)),d=y(n(33222)),p=y(n(85091)),h=y(n(99382)),m=y(n(74101));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var M=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=S(e);if(n=t?(n=S(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return w(o)}}(i);function i(e){var t;if(this instanceof i)return O(w(t=n.call(this,e)),"handleDeptMenuSelect",(function(e){t.setState({deptID:e})})),O(w(t),"handleClickMember",(function(e){var n=(r=t.state).selections,r=r.members;(n=new Set(n)).has(e)?n.delete(e):n.add(e),e=Array.from(n),t.setState({selections:e,selectAll:e.length===r.length})})),O(w(t),"handleMemberSearchChange",(function(e){t.setState({memberSearch:e})})),O(w(t),"handleSelectAll",(function(){var e=(r=t.state).members,n=r.selectAll,r=r.selections;t.setState({selectAll:!n,selections:n?r.filter((function(t){return!e.includes(t)})):Array.from(new Set([].concat(b(r),b(e))))})})),O(w(t),"handleSelectInvert",(function(){var e,n=(e=t.state).selections,r=(e=e.members).filter((function(e){return!n.includes(e)})),o=e.filter((function(e){return n.includes(e)})),a=Array.from(new Set([].concat(b(n),b(r)).filter((function(e){return!o.includes(e)}))));t.setState({selectAll:e.every((function(e){return a.includes(e)})),selections:a})})),O(w(t),"handleMembersChange",(function(e){t.setState((function(t){return{members:e,selectAll:e.every((function(e){return t.selections.includes(e)}))}}))})),O(w(t),"handleFilterByDept",(function(){t.setState({scope:"depts",cgid:""})})),O(w(t),"handleFilterByGroup",(function(){t.setState({scope:"groups",deptID:0})})),O(w(t),"handleChatSearchChange",(function(e){t.setState({chatSearch:e})})),O(w(t),"handleChatSelect",(function(e){t.setState({cgid:null==(e=e.currentTarget)||null==(e=e.attributes["data-gid"])?void 0:e.value})})),t.state={selections:t.props.selections||[],deptID:0,cgid:"",chatSearch:"",memberSearch:"",selectAll:!1,scope:e.scopes.includes("depts")?"depts":"groups",members:[]},t;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"render",value:function(){var e=this,t=(_=this.state).selections,n=_.deptID,r=_.memberSearch,i=_.selectAll,s=_.scope,y=_.chatSearch,g=_.cgid,b=(_=this.props).selectTip,v=_.excludes,_=_.scopes;return o.default.createElement("div",{className:"app-members-select app-select-panel"},o.default.createElement("div",{className:"dock-left single column divider-right",style:{width:200,paddingLeft:10,paddingRight:10}},o.default.createElement("header",{className:"flex-none heading nav nav-tabs",style:{padding:"10px 0"}},_.includes("depts")&&o.default.createElement("div",{className:(0,a.classes)("text-gray",{"btn btn-sm":1<_.length,active:1<_.length&&"depts"===s}),onClick:this.handleFilterByDept},l.default.string("chat.create.filterByDept")),_.includes("groups")&&o.default.createElement("div",{className:(0,a.classes)("text-gray",{"btn btn-sm":1<_.length,active:1<_.length&&"groups"===s}),onClick:this.handleFilterByGroup},l.default.string("chat.create.filterByGroup"))),"groups"===s&&o.default.createElement(f.default,{placeholder:l.default.string("common.search"),onSearchChange:this.handleChatSearchChange,style:{marginBottom:6},changeDelay:500}),o.default.createElement("div",{className:"flex-auto overflow-y-auto"},"depts"===s&&o.default.createElement(h.default,{onSelectMenuItem:this.handleDeptMenuSelect}),"groups"===s&&o.default.createElement("div",{className:"app-chats-menu-list list compact"},(y?m.default.searchGroupChats(y):m.default.getGroupsChats("recentFirst",!1,!1)).map((function(t){return o.default.createElement(p.default,{onClick:e.handleChatSelect,onPointerDown:e.handleChatSelect,key:t.gid,"data-gid":t.gid,gid:t.gid,id:"membersSelectChatSearchListItem-".concat(t.gid),className:(0,a.classes)("item",{"primary-pale":g===t.gid})})}))))),o.default.createElement("div",{className:"dock single column divider-right",style:{left:200,width:200,paddingLeft:10,paddingRight:10}},o.default.createElement("header",{className:"flex-none"},o.default.createElement("div",{className:"title text-gray",style:{padding:"10px 0",lineHeight:"22px"}},b||l.default.string("chat.create.groupsTip")),o.default.createElement(f.default,{placeholder:l.default.string("common.search"),onSearchChange:this.handleMemberSearchChange,style:{marginBottom:6},changeDelay:500})),o.default.createElement("div",{className:"checkboxs-select"},o.default.createElement("div",{className:(0,a.classes)("btn btn-sm rounded"),onClick:this.handleSelectInvert},l.default.string("common.selectInverse"),o.default.createElement("label",null)),o.default.createElement("div",{className:(0,a.classes)("checkbox checkbox-sm",{checked:i}),onClick:this.handleSelectAll},l.default.string("common.selectAll"),o.default.createElement("label",null))),o.default.createElement("div",{className:"flex-auto overflow-y-auto"},o.default.createElement(d.default,{cgid:g,deptID:n,excludes:v,selections:t,searchValue:r,onClickMember:this.handleClickMember,onMembersChange:this.handleMembersChange}))),o.default.createElement("div",{className:"dock-right single column",style:{width:200}},o.default.createElement("header",{className:"flex-none heading space-sm"},o.default.createElement("div",{className:"title text-primary"},l.default.string("chat.invite.choosed")," (",t.length,")")),o.default.createElement("div",{className:"list compact overflow-y-auto"},t.map((function(t){return o.default.createElement(c.default,{memberID:t,key:t,onClick:e.handleClickMember.bind(null,t)},o.default.createElement(u.default,{name:"sprite-selection-remove"}))})))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);O(t.MembersSelectDialog=M,"defaultProps",{selections:null,excludes:null,selectTip:null,scopes:["depts","groups"]}),n={show:t.showMembersSelectDialog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=e.selections,r=void 0===n?[]:n,a=void 0===(n=e.excludes)?[]:n,l=e.selectTip,u=e.id,c=e.scopes,f=e.rejectWhenCancel,d=o.default.createRef();return new Promise((function(e,n){var p=null!=u?u:(0,i.default)();s.default.show({enableBackdropClick:!1,id:p,onSubmit:function(){if(!d.current)return e([]),!0;var t=d.current.state.selections;return e(t),!0},onCancel:function(){return f?n(Error("cancel")):e([]),!0},closeButton:!1,style:{width:600,height:500},content:o.default.createElement(M,{ref:d,selections:r,excludes:a,selectTip:l,scopes:c})},t)}))}},t.default=n},33222:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(61862)),i=n(64393),l=h(n(60609)),s=h(n(91705)),u=h(n(26774)),c=h(n(74112)),f=h(n(84431)),d=n(74101),p=n(15973);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,l,"next",e)}function l(e){v(a,r,o,i,l,"throw",e)}i(void 0)}))}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=O(e);if(n=t?(n=O(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return S(o)}}(h);function h(e){if(this instanceof h)return M(S(e=n.call(this,e)),"_unmounted",void 0),e.state={page:1,loading:!1,list:null,recTotal:0},e;throw new TypeError("Cannot call a class as a function")}return t=h,(e=[{key:"componentDidMount",value:function(){this.loadNextPage(!0)}},{key:"componentDidUpdate",value:function(e){this.props.searchValue===e.searchValue&&this.props.deptID===e.deptID&&this.props.cgid===e.cgid||this.loadNextPage(!0)}},{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"getTotalPage",value:function(){return this.props.cgid?1:this.props.recPerPage?Math.ceil(this.state.recTotal/this.props.recPerPage):0}},{key:"hasNextPage",value:function(){return 0<this.state.recTotal&&this.state.page<this.getTotalPage()}},{key:"loadNextSearchPage",value:function(e){var t=this,n=this.props.onMembersChange,r=this.state,o=r.page,a=r.recTotal;this.setState({loading:!0,list:null},_((function*(){var r,i,l=(h=t.props).recPerPage,s=h.searchValue,u=h.deptID,c=h.excludes,d=h.cgid,h=h.excludeSelf,m=[];try{h&&c.push((0,p.getCurrentUserID)());var y=yield f.default.searchFromRemote(s,{dept:u,chat:d,exclude:c,pager:{recPerPage:l,recTotal:!e&&a||0,pageID:e?1:o+1}});"list"in y&&"pager"in y&&(m=y.list,r=y.pager),i=m.map((function(e){return e.id}))}catch(r){i=[],console.error("Search members from server error",r)}n&&n(i),t._unmounted||t.setState({loading:!1,recTotal:r.recTotal,page:r.pageID,list:i})})))}},{key:"loadNextNoSearchPage",value:function(e){var t=this,n=this.props.onMembersChange;e=e?{recTotal:0,page:1,list:null}:{},Object.assign(e,{loading:!0}),this.setState(e,_((function*(){var e=(a=t.props).recPerPage,r=a.deptID,o=a.cgid,a=a.excludeSelf,i=(s=t.state).list,l=s.page,s=s.recTotal,c=y(new Set(t.props.excludes)),f=(a&&c.push((0,p.getCurrentUserID)()),s?l+1:1);s=(a=yield _((function*(){var t;return o?{data:y(t=yield(0,d.fetchChatMembersFromRemote)(o)).filter((function(e){return!c.includes(e)})),pager:{recTotal:t.length,pageID:1}}:u.default.fetchMembersListOfDept(r,{pageID:f,recPerPage:e},c)}))()).pager,l=a.data,a=[].concat(y(i||[]),y(l)),n&&n(a),t._unmounted||t.setState({loading:!1,recTotal:s.recTotal,page:s.pageID,list:a})})))}},{key:"loadNextPage",value:function(e){""===this.props.searchValue?this.loadNextNoSearchPage(e):this.loadNextSearchPage(e)}},{key:"render",value:function(){var e=(d=this.props).selections,t=d.onClickMember,n=[],r=(d=this.state).page,u=d.loading,f=d.list,d=d.recTotal;if(r&&f){var p,h=new Set(e),m=function(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(f);try{for(m.s();!(p=m.n()).done;){var y=p.value;n.push(o.default.createElement(c.default,{memberID:y,key:y,onClick:t.bind(null,y)},o.default.createElement("div",{className:(0,i.classes)("checkbox checkbox-sm",{checked:h.has(y)})},o.default.createElement("label",null))))}}catch(d){m.e(d)}finally{m.f()}}return u?n.push(o.default.createElement(s.default,{key:"spinner"})):0===d?n.push(o.default.createElement(l.default,{key:"notFound",icon:"information-outline",className:"flex-middle item muted disabled",title:o.default.createElement("span",{className:"title small"},a.default.string("common.notFoundOptions"))})):this.hasNextPage()&&(r=a.default.string("common.loadMore"),n.push(o.default.createElement(l.default,{key:"loadMore",icon:"chevron-double-down",className:"flex-middle item muted",title:o.default.createElement("span",{className:"title small"},r),onClick:this.loadNextPage.bind(this,!1)}))),o.default.createElement("div",{className:"list compact"},n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(o.PureComponent),M(t.default=n,"defaultProps",{selections:[],excludes:[],excludeSelf:!0,onClickMember:null,recPerPage:100,deptID:0,cgid:"",searchValue:"",onMembersChange:null})},20882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openMindMapWindow=function(e){if(r.default.has("nwc.openWindowAndCreateNwc")){var t,n,s=r.default.call("nwc.getNwcByID","mindmap-".concat(e.fileName));if(!s)return(t=r.default.call("nwc.openWindowAndCreateNwc","mindmap",{id:"mindmap-".concat(e.fileName),backgroundColor:(0,o.isDarkThemeMode)()?"#343434":"#ececec",title:"".concat(a.default.string("file.preview")," - ").concat(null!=(s=e.fileName)?s:""),minWidth:500,minHeight:300,overlayIcon:"file-win.png",vibrancy:"popover"})).shareData({Lang:a.default,mindMapInfo:e}),n=(0,i.onUserLogout)((function(e,n,r,o){o||t.invoke("browserWindow.close")})),t.once("window-closed",(function(){l.default.off(n)})),t;s.showAndFocusWindow()}};var r=s(n(94128)),o=n(99838),a=s(n(61862)),i=n(15973),l=s(n(65286));function s(e){return e&&e.__esModule?e:{default:e}}},78379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=a(n(67294)),o=(t=a(n(45697)),a(n(61862)));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){return r.default.createElement("a",i({href:"https://xuanim.com",rel:"noopener noreferrer",target:"_blank"},e),o.default.string("common.poweredBy")," ",e.children)}l.propTypes={children:t.default.node},l.defaultProps={children:null}},85110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={chats:{_:"/chats",__:"/chats/:filterType/:id?",chat:{__:"/chats/:filterType/:id",id:function(e,t){return"/chats/".concat(t||":filterType","/").concat(e)}},recents:{__:"/chats/recents",id:function(e){return"/chats/recents/".concat(e)}},contacts:{__:"/chats/contacts",id:function(e){return"/chats/contacts/".concat(e)}},groups:{__:"/chats/groups",id:function(e){return"/chats/groups/".concat(e)}}},contacts:{_:"/contacts",__:"/contacts/:objectType?/:filterType?"},conference:{_:"/conference"},exts:{_:"/exts",app:{__:"/exts/app/:id",id:function(e){return"/exts/app/".concat(e)}}},apps:{__:"/:app/:filterType?/:id?/:params?"}}},86208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showSelectDialogWithPreview=t.showSelectDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=l(n(40919)),i=l(n(12764));function l(e){return e&&e.__esModule?e:{default:e}}n={show:t.showSelectDialog=function(e,t,n){var i=t.primaryBtnText,l=t.cancelBtnText,s=t.searchPlaceholderText,u=t.selections;return new Promise((function(t){var c="app-select-panel-dialog",f=r.default.createElement(a.default,{listBuilder:e,primaryBtnText:i,cancelBtnText:l,searchPlaceholderText:s,selections:u,onFinish:function(e){t(e),o.default.hide(c)}});o.default.show({id:c,className:"app-select-panel-dialog",actions:!1,content:f,closeButton:!1},n)}))},showSelectDialogWithPreview:t.showSelectDialogWithPreview=function(e,t,n,l){var s=n.primaryBtnText,u=n.cancelBtnText,c=n.searchPlaceholderText,f=n.selections;return new Promise((function(n){var d="app-select-panel-dialog",p=r.default.createElement(i.default,{message:t,showDateDivider:!1,dateFormatter:null,ignoreStatus:!0,className:"overflow-y-auto scrollbar-hover",style:{height:"130px"}});p=r.default.createElement(a.default,{listBuilder:e,primaryBtnText:s,cancelBtnText:u,searchPlaceholderText:c,selections:f,header:p,onFinish:function(e){n(e),o.default.hide(d)}}),o.default.show({id:d,className:"app-select-panel-dialog-with-preview",actions:!1,content:p,closeButton:!1},l)}))}},t.default=n},40919:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=c(n(61862)),l=c(n(52721)),s=c(n(55072)),u=(n=c(n(94128)),["onFinish","primaryBtnText","cancelBtnText","header"]);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var g=n.default.env.isOSX;n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(n=t?(n=m(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return h(o)}}(a);function a(e){var t;if(this instanceof a)return y(h(t=n.call(this,e)),"handleSelectionsChange",(function(e){t._unmounted||t.setState({selections:e})})),y(h(t),"handleConfirmBtnClick",(function(){var e=t.props.onFinish;e&&e(t.state.selections)})),y(h(t),"handleCancelBtnClick",(function(){var e=t.props.onFinish;e&&e()})),t.state={selections:null},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var e=((r=this.props).onFinish,r.primaryBtnText),t=r.cancelBtnText,n=r.header,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,u),a=this.state.selections;return a=[o.default.createElement(s.default,{disabled:!a||!a.length,key:"btn-confirm",className:"btn-wide bg-primary rounded",onClick:this.handleConfirmBtnClick,label:e||i.default.string("common.confirm")}),o.default.createElement(s.default,{key:"btn-cancel",className:"gray x-outline cancel-btn btn-wide rounded",onClick:this.handleCancelBtnClick,label:t||i.default.string("common.cancel")})],g&&a.reverse(),o.default.createElement("div",null,n,o.default.createElement(l.default,d({onSelectionsChange:this.handleSelectionsChange},r),o.default.createElement("div",{className:"actions toolbar dock-bottom divider-top text-center has-padding-lg"},a)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),y(t.default=n,"propTypes",{onFinish:a.default.func,primaryBtnText:a.default.string,cancelBtnText:a.default.string,message:a.default.object,header:a.default.element}),y(n,"defaultProps",{onFinish:null,primaryBtnText:"",cancelBtnText:"",message:null,header:null})},52721:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=y(n(45697)),i=y(n(64208)),l=y(n(61862)),s=n(64393),u=y(n(93956)),c=y(n(87137)),f=y(n(58851)),d=y(n(75738)),p=y(n(67940)),h=y(n(45508)),m=["listBuilder","onSelectionsChange","searchPlaceholderText","className","children","selections"];function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=O(e);if(n=t?(n=O(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return S(o)}}(a);function a(e){var t,r;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");return M(S(t=n.call(this,e)),"handSearchChange",(function(e){t.setState({search:e})})),M(S(t),"handleSelectAllBtnClick",(function(e,n,r){var o=t.state.selections;t.setSelections(t.selectGroupList(_({},o),e.list,n)),r.stopPropagation()})),M(S(t),"headingCreator",(function(e,n){if(!e.title)return!1;var r=n.isExpand?"chevron-down":"chevron-right",a=!1,i=t.state.selections;return i&&(a=t.isGroupListAllSelected(e.list,i)),o.default.createElement("header",{className:"heading",onClick:n.handleHeadingClick},o.default.createElement(c.default,{name:r}),o.default.createElement("div",{className:"title"},e.title),o.default.createElement("div",{className:"btn",onClick:t.handleSelectAllBtnClick.bind(S(t),e,a)},l.default.string("common.".concat(a?"unselectAll":"selectAll"))))})),e=e.selections,Array.isArray(e)&&(r={},e.forEach((function(e){r[e instanceof f.default?e.gid:e.id]=e})),e=r),t.state={selections:e,search:""},t._selectOrder=0,t}return t=a,(e=[{key:"setSelections",value:function(e){var t=this;this.setState({selections:e},(function(){var n=t.props.onSelectionsChange;n&&n(e&&Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){return e.order-t.order})).map((function(e){return e.originItem||e})))}))}},{key:"handleItemClick",value:function(e,t){var n=this.state.selections;(n=_({},n))[e]?delete n[e]:n[e]={originItem:t,order:this._selectOrder++},this.setSelections(n)}},{key:"itemConverter",value:function(e,t){var n={data:t=t.originItem?t.originItem:t,className:"flex-middle"};if(t instanceof f.default)Object.assign(n,{id:t.gid,title:t.name,avatar:o.default.createElement(h.default,{gid:t.gid})});else if(t instanceof d.default)Object.assign(n,{id:t.id,title:t.displayName,avatar:o.default.createElement(p.default,{memberID:t.id})});else{if("group"===t.type)return t;Object.assign(n,t)}var r=this.state.selections;return n.actions="option"===e?o.default.createElement("div",{className:(0,s.classes)("checkbox checkbox-sm",{checked:r&&r[n.id]})},o.default.createElement("label",null)):o.default.createElement(c.default,{name:"sprite-selection-remove"}),n.onClick=this.handleItemClick.bind(this,n.id,t),n}},{key:"selectGroupList",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return t&&t.length&&t.forEach((function(t){var o;"group"!==t.type||t instanceof f.default||t instanceof d.default?(o=t instanceof f.default?t.gid:t.id,r?e[o]&&delete e[o]:e[o]||(e[o]={originItem:t,order:n._selectOrder++})):n.selectGroupList(e,t.list,r)})),e}},{key:"isGroupListAllSelected",value:function(e,t){if(e&&e.length)for(var n=0;n<e.length;++n){var r=e[n];if("group"!==r.type||r instanceof f.default||r instanceof d.default){if(!t[r instanceof f.default?r.gid:r.id])return!1}else if(r.list&&!this.isGroupListAllSelected(r.list,t))return!1}return!0}},{key:"render",value:function(){var e=(a=this.props).listBuilder,t=(a.onSelectionsChange,a.searchPlaceholderText),n=a.className,r=a.children,a=(a.selections,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,m)),c=(f=this.state).selections,f=(e=e(f.search),c&&Object.keys(c).map((function(e){return c[e]})).sort((function(e,t){return e.order-t.order}))),d=f?f.length:0;return o.default.createElement("div",b({className:(0,s.classes)("app-select-panel dock",n)},a),o.default.createElement("div",{className:"dock-left single column"},o.default.createElement(u.default,{className:"flex-none space-sm",inputClassName:"circle",placeholder:t,onSearchChange:this.handSearchChange}),o.default.createElement(i.default,{group:e,rootClassName:"app-select-panel-tree flex-auto overflow-y-auto",className:"compact",itemConverter:this.itemConverter.bind(this,"option"),defaultExpand:!1,showMoreText:l.default.string("common.clickShowMoreFormat"),headingCreator:this.headingCreator})),o.default.createElement("div",{className:"dock-right single column"},o.default.createElement("header",{className:"flex-none heading space-sm"},o.default.createElement("div",{className:"title"},l.default.string("chat.invite.choosed")," (",d,")")),f&&o.default.createElement(i.default,{group:{root:!0,list:f},rootClassName:"app-select-panel-tree flex-auto overflow-y-auto",className:"compact",itemConverter:this.itemConverter.bind(this,"selected"),defaultExpand:!1,showMoreText:l.default.string("common.clickShowMoreFormat")})),r)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),M(t.default=n,"propTypes",{listBuilder:a.default.func,onSelectionsChange:a.default.func,className:a.default.string,searchPlaceholderText:a.default.string,children:a.default.any,selections:a.default.oneOfType([a.default.array,a.default.object])}),M(n,"defaultProps",{listBuilder:null,onSelectionsChange:null,className:null,searchPlaceholderText:null,children:null,selections:null})},41350:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showChatsHistoryWindow=void 0;var o=n(20882),a=n(44374),i=n(42809),l=D(n(94128)),s=D(n(61862)),u=n(15973),c=D(n(65286)),f=D(n(74101)),d=x(n(73052)),p=D(n(29795)),h=D(n(84431)),m=x(n(94592)),y=D(n(17531)),g=n(95126),b=n(90534),v=n(98649),_=n(35325),w=n(52677),S=n(9913),O=n(47238),M=n(68271),C=n(79429),k=n(23405),E=n(78717),P=n(95214),T=n(46815);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=j(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function D(e){return e&&e.__esModule?e:{default:e}}t.showChatsHistoryWindow=function(e){if(!l.default.has("nwc.openWindowAndCreateNwc"))return(0,i.showChatsHistoryDialog)(e,null);var t,n,r=(0,T.getAppExt)("zentao-integrated"),j=(0,u.getCurrentUser)(),x="chathistorywindow",D=l.default.call("nwc.getNwcByID",x);if(!D)return(t=l.default.call("nwc.openWindowAndCreateNwc","chathistory",{id:x,title:s.default.string("chats.history.title"),minWidth:1e3,width:1e3,minHeight:600,overlayIcon:"history-win.png",vibrancy:"popover"})).shareData({Lang:s.default,chatsStore:f.default,chatMessagesStore:d.default,chatMessagesListStore:p.default,membersStore:h.default,filesStore:m.default,cgid:e,isMessagePinnedInChat:d.isMessagePinnedInChat,user:j,zentaoExtension:r,getAndFetchConference:a.getAndFetchConference}),t.registerInvokeTarget("filesNetwork",y.default),t.registerInvokeTarget("openInCollabora",g.openInCollabora),t.registerInvokeTarget("file",{getFileData:m.getFileData,getP2pFilePath:m.getP2pFilePath,setP2pFilePath:m.setP2pFilePath,saveFile:b.saveFile,openFile:b.openFile,showFileInFolder:b.showFileInFolder}),t.registerInvokeTarget("contextMenu",{getContextMenuItems:v.getContextMenuItems}),t.registerInvokeTarget("preview",{showChatMessageImagePreivew:_.showChatMessageImagePreivew,showMediaPreviewWindow:w.showMediaPreviewWindow,openWebviewWindow:S.openWebviewWindow,openTextEditorWindow:O.openTextEditorWindow,openMindMapWindow:o.openMindMapWindow}),t.registerInvokeTarget("setActiveChat",M.setActiveChat),t.registerInvokeTarget("createConference",(function(e){(0,E.executeCommand)("createConference",e,"_",!1,"audio"),l.default.call("ui.showAndFocusWindow")})),t.registerInvokeTarget("history",{getFetchingTask:C.getFetchingTask,offFetchingHistoryEvent:k.offFetchingHistoryEvent,onFetchingHistory:k.onFetchingHistory,abortSyncHistory:k.abortSyncHistory}),t.registerInvokeTarget("openUrlInBrowser",P.openUrlInBrowser),n=(0,u.onUserLogout)((function(e,n,r,o){o||t.invoke("browserWindow.close")})),t.once("window-closed",(function(){c.default.off(n)})),t;setTimeout((function(){D.showAndFocusWindow()}),500)}},29009:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=n(75738),l=(n=n(61862))&&n.__esModule?n:{default:n},s=["size","className","style","status","label"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={unverified:"#ccc",disconnect:"#ccc",offline:"#ccc",logged:"#18ffff",online:"#00e676",busy:"#ffab00",away:"#ff1744",meeting:"#E040FB"};t.default=(0,o.memo)((function(e){var t=void 0===(t=e.size)?14:t,n=void 0===(n=e.className)?"circle":n,r=e.style,u=e.status,f=e.label,h=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,s),i.STATUS.getName(u));return r=d({backgroundColor:p[h],border:"1px solid #fff"},r),t&&(r.width=t,r.height=t),t=o.default.createElement("span",c({className:(0,a.classes)("status-dot",n,"status-".concat(h)),style:r},e)),f?(n=!0===f?l.default.string("member.status.".concat("unverified"===h?"offline":u)):f,o.default.createElement("div",{className:"app-member-status"},t,"  ",o.default.createElement("span",{className:"status-label muted"},n))):t}))},47238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openTextEditorWindow=void 0;var r=u(n(94128)),o=u(n(61862)),a=n(15973),i=u(n(65286)),l=n(99838),s=n(95214);function u(e){return e&&e.__esModule?e:{default:e}}t.openTextEditorWindow=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!r.default.has("nwc.openWindowAndCreateNwc"))throw new Error("Current platform does not support native window.");var n,u,c=r.default.call("nwc.getNwcByID",null==t?void 0:t.id);if(!c)return(n=r.default.call("nwc.openWindowAndCreateNwc","texteditor",{id:null==t?void 0:t.id,backgroundColor:(0,l.isDarkThemeMode)()?"#343434":"#ececec",title:"".concat(o.default.string("file.preview")).concat(e.title?" - ".concat(e.title):""),minWidth:500,minHeight:300,overlayIcon:"texteditor-win.png",maximizeAfterShow:!0})).shareData({Lang:o.default,textInfo:e}),n.registerInvokeTarget("openUrl",s.openUrl),u=(0,a.onUserLogout)(c=function(e,t,r,o){o||n.invoke("browserWindow.close")}),n.once("window-closed",(function(){var e;i.default.off(u),null!=t&&null!=(e=t.callback)&&e.call(t)})),{close:c};c.showAndFocusWindow()}},92371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showUpdateGuideDialog=t.default=void 0;var r=i(n(67294)),o=i(n(48516)),a=i(n(62300));function i(e){return e&&e.__esModule?e:{default:e}}n={show:t.showUpdateGuideDialog=function(e){var t="app-update-guide-dialog";return o.default.show({id:t,actions:!1,closeButton:!1,modal:!0,content:r.default.createElement(a.default,{onRequestClose:function(){return o.default.hide(t)}})},e)}},t.default=n},62300:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=m(n(45697)),i=n(64393),l=m(n(61862)),s=n(43058),u=m(n(65286)),c=m(n(10352)),f=m(n(15219)),d=n(15973),p=n(74543),h=["className","onRequestClose"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(n=t?(n=_(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return v(o)}}(a);function a(e){var t;if(this instanceof a)return w(v(t=n.call(this,e)),"notifyMeNextTime",(function(){(0,s.notifyMeNextTime)((0,d.getCurrentUser)());var e=t.props.onRequestClose;e&&e()})),w(v(t),"skipNewVersion",(function(){(0,s.skipNewVersion)((0,d.getCurrentUser)());var e=t.props.onRequestClose;e&&e()})),t.state={updaterStatus:(0,s.getUpdaterStatus)()},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){var e,t=this;(0,s.isUpdaterAvailable)()&&(this.onUpdateStatusChangeHandler=(0,s.onUpdaterStatusChanged)((function(e){t.setState({updaterStatus:e})})),(e=this.state.updaterStatus).needUpdateForce&&"ready"===e.status&&(0,s.downloadNewVersion)())}},{key:"componentWillUnmount",value:function(){(0,s.isUpdaterAvailable)()&&u.default.off(this.onUpdateStatusChangeHandler)}},{key:"render",value:function(){var e,t=(r=this.props).className,n=r.onRequestClose,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,h),a=(w=this.state.updaterStatus).needUpdate,u=w.serverUrl,d=w.updateInfo,m=w.progress,y=w.message,b=w.status,v=w.needUpdateForce,_=(0,p.simplifyVersion)(w.newVersion),w=(0,p.simplifyVersion)(w.currentVersion);return e=a?(a=(d=(a=d.readme||d.changeLog)&&(0,f.default)(a))?o.default.createElement("details",{className:"space-sm"},o.default.createElement("summary",{className:"strong space-sm text-primary state"},l.default.format("update.versionDetails",_)),o.default.createElement("div",{style:{maxHeight:400},className:"has-padding-sm primary-pale markdown-content overflow-y-auto",dangerouslySetInnerHTML:{__html:d}})):null,(0,s.isUpdaterAvailable)()?(d=null,"downloading"===b||"downloaded"===b?d=o.default.createElement("div",{className:"progress has-padding-v space divider"},0<m&&o.default.createElement("div",{className:"box rounded primary-pale relative space-xs"},o.default.createElement("div",{className:"rounded bar primary dock dock-left",style:{width:"".concat(100*m,"%"),transition:"all .4s"}})),o.default.createElement("div",{className:"title"},0<m&&o.default.createElement("strong",null,Math.floor(100*m),"% "),o.default.createElement("span",{className:"text-primary small"},y))):"downloadFail"===b&&(d=o.default.createElement("div",{className:"box danger-pale rounded text-danger space"},y)),m=null,"ready"===b?(m=o.default.createElement("button",{key:"updateNow",type:"button",className:"btn primary btn-wide",onClick:s.downloadNewVersion},l.default.string("update.updateNow")),v||(m=[m,o.default.createElement("button",{key:"notifyMeLater",type:"button",className:"btn text-primary btn-wide",onClick:this.notifyMeNextTime},l.default.string("update.notifyMeNextTime")),o.default.createElement("button",{key:"skipThisVersion",type:"button",className:"btn text-danger btn-wide",onClick:this.skipNewVersion},l.default.string("update.skipThisVersion"))])):"downloaded"===b?m=o.default.createElement("button",{type:"button",className:"btn primary btn-wide",onClick:s.quitAndInstall},l.default.string("update.restartToCompleteUpdate")):"downloadFail"===b?(m=o.default.createElement("button",{key:"retryUpdate",type:"button",className:"btn primary btn-wide",onClick:s.downloadNewVersion},l.default.string("update.retryUpdate")),v||(m=[m,o.default.createElement("button",{key:"close",type:"button",className:"btn btn-wide",onClick:n},l.default.string("common.close"))])):"downloading"!==b||v||(m=o.default.createElement("button",{type:"button",className:"btn primary btn-wide",onClick:n},l.default.string("update.closeAndDownloadInBackground"))),o.default.createElement("div",null,o.default.createElement("h3",null,v?l.default.format("update.clientRequiredUpdateToLoginServer",u):l.default.string("update.message.newVersionAvailable")),o.default.createElement("p",null,l.default.format("update.versionsFormat",_,w)),d,a,m&&o.default.createElement("div",{className:"text-center has-padding-v toolbar"},m))):o.default.createElement("div",null,o.default.createElement("h3",null,v?l.default.format("update.clientRequiredUpdateToLoginServer",u):l.default.string("update.message.newVersionAvailable")),o.default.createElement("p",null,l.default.format("update.versionsFormat",_,w)),a,o.default.createElement("p",null,l.default.string("update.contactAdminToUpdate")),o.default.createElement("div",{className:"text-center has-padding-v"},o.default.createElement("button",{type:"button",className:"btn primary btn-wide",onClick:v?n:this.skipNewVersion},l.default.string("common.close"))))):o.default.createElement("div",null,o.default.createElement(c.default,{name:":thumbsup:",className:"text-center space"}),o.default.createElement("h3",null,l.default.string("update.message.alreadyNew")),o.default.createElement("div",{className:"text-center has-padding-v"},o.default.createElement("button",{type:"button",className:"btn primary btn-wide",onClick:n},l.default.string("common.close")))),o.default.createElement("div",g({},r,{className:(0,i.classes)("app-update-guide has-padding-v",t)}),e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),w(t.default=n,"propTypes",{className:a.default.string,onRequestClose:a.default.func}),w(n,"defaultProps",{className:null,onRequestClose:null})},19815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestUpdateViewStyle=t.onUpdateViewStyle=t.initUpdateView=void 0;var r=i(n(65286)),o=n(78717),a=i(n(40254));function i(e){return e&&e.__esModule?e:{default:e}}var l="app.updateViewStyle";(0,o.registerCommand)("updateViewStyle",(function(e,t,n){t&&((n="string"==typeof(n=e.options&&void 0===n?e.options.style:n)?JSON.parse(n):n)&&(n.width&&"number"==typeof n.width&&(n.width="".concat(n.width,"px")),n.height&&"number"==typeof n.height&&(n.height="".concat(n.height,"px"))),r.default.emit("".concat(l,".").concat(t),n,e.options))}),null,{apiLevel:6}),t.requestUpdateViewStyle=function(e,t){(0,o.executeCommand)("updateViewStyle",e,t)},t.onUpdateViewStyle=function(e,t){return r.default.on("".concat(l,".").concat(e),t)},t.initUpdateView=function(){a.default.onHiddenHandler=function(e,t){t=t.listenUpdateStyle;var n=e.listenUpdateStyleHandler;t&&n&&(r.default.off(n),delete e.listenUpdateStyleHandler)},a.default.onShownHandler=function(e,t){t.listenUpdateStyle&&(e.listenUpdateStyleHandler=r.default.on("".concat(l,".").concat(e.id),(function(t){e.setStyle(t)})))}}},88621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)("")),n=t[0],i=t[1];return(0,r.useEffect)((function(){var t=o.default.getChat(e,!1,!0);return t&&i(t.name),o.default.unsubscribe.bind(o.default,o.default.subscribe(e,(function(e){i(e.name)})))}),[e]),n};var r=n(67294),o=(t=n(74101))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},36043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return[(0,a.getConferenceByCgid)(e)]}))),n=t[0],s=t[1];return(0,r.useEffect)((function(){return s([(0,a.getConferenceByCgid)(e)]),i.default.off.bind(i.default,(0,o.onConferenceChangeByCgid)(e,(function(e){return s([e])})))}),[e]),null==n?void 0:n[0]};var r=n(67294),o=n(10088),a=n(44374),i=(t=n(65286))&&t.__esModule?t:{default:t};function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},76763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,a.getCurrentUser)(),t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)([e])),n=t[0],l=t[1],u=(e=(t=e||{}).account,t.id);return(0,r.useEffect)((function(){function e(e){l([null!=e?e:(0,a.getCurrentUser)()])}e();var t=(0,a.onSwapUser)(e),n=(0,a.onUserLogin)(e),r=u?i.default.subscribe(u,e):null;return function(){o.default.off(t,n),r&&i.default.unsubscribe(r)}}),[e,u]),n};var r=n(67294),o=l(n(65286)),a=n(15973),i=l(n(84431));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},24614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return e?o.default.getDept(e):null}))),n=t[0],i=t[1];return(0,r.useEffect)((function(){return i(e?o.default.getDept(e):null),o.default.unsubscribe.bind(o.default,o.default.subscribeDeptChange(e,i))}),[e]),n};var r=n(67294),o=(t=n(26774))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},41584:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;return[(e=(0,r.useContext)(o.default)).lang,e=e.langName]};var r=n(67294),o=(t=n(89378))&&t.__esModule?t:{default:t}},84604:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){var t;return(null==(t=o.default.getMemberOrTemp(e))?void 0:t.displayName)||""}))),n=t[0],i=t[1];return(0,r.useEffect)((function(){var t;return i((null==(t=o.default.getMemberOrTemp(e))?void 0:t.displayName)||""),o.default.unsubscribe.bind(o.default,o.default.subscribe(e,(function(e){i(e.displayName)})))}),[e]),n};var r=n(67294),o=(t=n(84431))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},43088:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,a.default)(),n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return e?o.default.getMemberOrTemp(e).statusName:""}))),i=n[0],s=n[1];return(0,r.useEffect)((function(){if(s(e?o.default.getMemberOrTemp(e).statusName:""),e)return o.default.unsubscribe.bind(o.default,o.default.subscribe(e,(function(e){return s(e.statusName)})))}),[e]),t?i:"offline"};var r=n(67294),o=i(n(84431)),a=i(n(61142));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},36567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return[o.default.getMemberOrTemp(e)]}))),n=t[0],i=t[1];return(0,r.useEffect)((function(){return i([o.default.getMemberOrTemp(e)]),o.default.unsubscribe.bind(o.default,o.default.subscribe(e,(function(e){return i([e])})))}),[e]),n};var r=n(67294),o=(t=n(84431))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},42207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,a.default)().current,t=i((0,r.useState)(s(e)),2),n=t[0],l=t[1];return(0,r.useEffect)((function(){l(s((0,o.createRoutePath)(e)))}),[e]),n},t.getNavbarActiveID=s;var r=n(67294),o=n(40910),a=(t=n(71891))&&t.__esModule?t:{default:t};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){e=(0,o.createRoutePath)(e);var t=(e=i((0,o.getRoutePathArray)(e),4))[0],r=e[1],a=e[2];return e=e[3],"exts"===t&&n.g.ExtsRuntime?r&&("app"!==r||a&&"home"!==a)&&"app"===r?(r="".concat(a).concat(e?"/".concat(e):""),(null==(a=document.getElementById("appNavbarExts"))?void 0:a.querySelector('.nav-item[data-id="'.concat(r,'"]')))?r:"apps"):"apps":t}n.g.$getNavbarActiveID=s},41569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return e?o.default.getRoleName(e):null}))),n=t[0],i=t[1];return(0,r.useEffect)((function(){return i(e?o.default.getRoleName(e):null),o.default.unsubscribe.bind(o.default,o.default.subscribeRoleChange(e,i))}),[e]),n};var r=n(67294),o=(t=n(26774))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},71891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)({current:(0,o.getRoutePath)()})),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=(0,o.onRoutePathChange)((function(e,t){return n({current:e,previous:t})}));return o.offRoutePathChange.bind(null,e)}),[]),t};var r=n(67294),o=n(40910);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},74689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return[(0,a.getUserConfig)(e),a.getUserConfig]}))),n=t[0],l=t[1];return(0,r.useEffect)((function(){return l([(0,a.getUserConfig)(e),a.getUserConfig]),o.default.off.bind(o.default,(0,a.onUserConfigChange)((function(t){e&&void 0===t[e]||l([(0,a.getUserConfig)(e),a.getUserConfig])})))}),[e]),n};var r=n(67294),o=(t=n(65286))&&t.__esModule?t:{default:t},a=n(15973);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},61142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((0,o.isUserOnline)())),t=e[0],n=e[1];return(0,r.useEffect)((function(){return a.default.off.bind(a.default,(0,o.onUserStatusChange)((function(){return n((0,o.isUserOnline)())})))}),[]),t};var r=n(67294),o=n(15973),a=(t=n(65286))&&t.__esModule?t:{default:t};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},53751:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((0,o.isUserVerified)())),t=e[0],n=e[1];return(0,r.useEffect)((function(){return a.default.off.bind(a.default,(0,o.onUserStatusChange)((function(){return n((0,o.isUserVerified)())})))}),[]),t};var r=n(67294),o=n(15973),a=(t=n(65286))&&t.__esModule?t:{default:t};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},61964:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showUserChangePasswordDialog=t.default=t.UserChangePassword=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=b(n(45697)),i=b(n(2568)),l=b(n(48516)),s=b(n(70389)),u=b(n(68788)),c=n(64393),f=n(16986),d=b(n(61862)),p=b(n(55072)),h=b(n(94128)),m=b(n(24260)),y=n(15973),g=["onFinish","className","header","disableCancel"];function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var C=h.default.env.isOSX,k=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=O(e);if(n=t?(n=O(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return S(o)}}(a);function a(e){var t;if(this instanceof a)return M(S(t=n.call(this,e)),"handleCancelBtnClick",(function(){t.props.onFinish&&t.props.onFinish(!1)})),M(S(t),"handleConfirmBtnClick",(function(){var e=(n=t.state).password1,n=n.password2;return(0,f.isEmptyString)(e)?t.setState({message:d.default.format("user.changePassword.inputRequired",d.default.string("user.changePassword.newPassword"))}):e.length<6?t.setState({message:d.default.string("user.changePassword.denySimplePassword")}):(0,f.isEmptyString)(n)?t.setState({message:d.default.format("user.changePassword.inputRequired",d.default.string("user.changePassword.newPasswordRepeat"))}):e!==n?t.setState({message:d.default.string("user.changePassword.passwordNotSame")}):(n=(0,y.getCurrentUser)().authKeyInfo)&&"password"===n.type&&n.key===(0,i.default)(e)?t.setState({message:d.default.string("user.changePassword.notChanged")}):(t.setState({doing:!0}),void m.default.changeUserPassword(e).then((function(){t.setState({doing:!1}),t.props.onFinish&&t.props.onFinish(!0)})).catch((function(e){t.setState({message:d.default.error(e)||d.default.string("user.changePassword.failed"),doing:!1})})))})),t.state={password1:"",password2:"",message:"",doing:!1},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"handleInputChange",value:function(e,t){var n;this.setState((M(n={},e,t),M(n,"message",""),n))}},{key:"render",value:function(){var e=((r=this.props).onFinish,r.className),t=r.header,n=r.disableCancel,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,g),a=(u=this.state).message,i=u.doing,l=u.password1,u=u.password2,h=[o.default.createElement(p.default,{key:"btn-confirm",onClick:this.handleConfirmBtnClick,className:"text-white btn-wide rounded bg-primary has-margin-sm",label:d.default.string("user.changePassword.btn.confirm")})];return n||(h.push(o.default.createElement(p.default,{key:"btn-cancel",onClick:this.handleCancelBtnClick,className:"btn-wide rounded gray x-outline has-margin-sm",label:d.default.string("common.cancel")})),C&&h.reverse()),o.default.createElement("div",_({className:(0,c.classes)("app-user-change-pwd",e)},r),t,a&&o.default.createElement("div",{className:"box danger rounded space-sm"},a),o.default.createElement(s.default,{inputType:"password",className:a&&((0,f.isEmptyString)(l)||l!==u)?"has-error":"",disabled:i,onChange:this.handleInputChange.bind(this,"password1"),defaultValue:l,label:d.default.string("user.changePassword.newPassword")}),o.default.createElement(s.default,{inputType:"password",className:a&&((0,f.isEmptyString)(u)||l!==u)?"has-error":"",disabled:i,onChange:this.handleInputChange.bind(this,"password2"),defaultValue:u,label:d.default.string("user.changePassword.newPasswordRepeat")}),o.default.createElement("div",{className:"has-padding-v text-center"},h))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);M(t.UserChangePassword=k,"propTypes",{onFinish:a.default.func,header:a.default.node,className:a.default.string,disableCancel:a.default.bool}),M(k,"defaultProps",{onFinish:null,header:null,className:null,disableCancel:!1}),n={show:t.showUserChangePasswordDialog=function(e){var t="user-change-pwd";return l.default.show({actions:!1,id:t,className:"app-user-change-pwd-dialog",content:o.default.createElement(k,{onFinish:function(e){l.default.hide(t),e&&u.default.show(d.default.string("user.changePassword.success"),{type:"success",autoHide:!0})}}),title:d.default.string("user.changePassword.heading")},e)}},t.default=n},28055:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showUserEditInfoDialog=t.default=t.UserEditInfo=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=g(n(48516)),i=g(n(70389)),l=g(n(68788)),s=n(64393),u=n(16986),c=g(n(61862)),f=g(n(55072)),d=g(n(94128)),p=g(n(24260)),h=g(n(21205)),m=g(n(18922)),y=g(n(84431));function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var O=d.default.env.isOSX,M=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(n=t?(n=w(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _(o)}}(a);function a(e){var t,r;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");return S(_(r=n.call(this,e)),"membersChangeHandler",void 0),S(_(r),"handleInputChange",(function(e,t){var n;switch(e){case"realname":n="nameMsg";break;case"email":n="emailMsg";break;case"mobile":n="mobileMsg";break;case"phone":n="phoneMsg"}var o={};n&&(o[n]=""),o[e]=t,r.setState(o)})),S(_(r),"handleCancelBtnClick",(function(){r.props.onFinish&&r.props.onFinish(!1)})),S(_(r),"handleConfirmBtnClick",(function(){var e=(s=r.state).realname,t=s.gender,n=s.email,o=s.mobile,a=s.phone,i=s.weixin,l=s.qq,s=s.address,f=!1;(0,u.isEmptyString)(e)&&(f=!0,r.setState({nameMsg:c.default.format("user.changePassword.inputRequired",c.default.string("member.profile.realname"))})),n&&!(0,u.checkEmailFormat)(n)&&(f=!0,r.setState({emailMsg:c.default.string("user.editInfo.emailError")})),o&&!(0,u.checkMobileFormat)(o)&&(f=!0,r.setState({mobileMsg:c.default.string("user.editInfo.mobileError")})),a&&!(0,u.checkPhoneFormat)(a)&&(f=!0,r.setState({phoneMsg:c.default.string("user.editInfo.telError")})),f||(r.setState({doing:!0}),p.default.changeUser({realname:e,gender:t,email:n,mobile:o,phone:a,weixin:i,qq:l,address:s}).then((function(){r.setState({doing:!1}),r.props.onFinish&&r.props.onFinish(!0)})).catch((function(e){r.setState({nameMsg:c.default.error(e)||c.default.string("user.editInfo.failed"),doing:!1})})))})),e=y.default.getMember(e.memberID),r.state={realname:null!=(t=null==e?void 0:e.realname)?t:"",gender:null!=(t=null==e?void 0:e.gender)?t:"",email:null!=(t=null==e?void 0:e.email)?t:"",mobile:null!=(t=null==e?void 0:e.mobile)?t:"",phone:null!=(t=null==e?void 0:e.phone)?t:"",weixin:null!=(t=null==e?void 0:e.weixin)?t:"",qq:null!=(t=null==e?void 0:e.qq)?t:"",address:null!=(t=null==e?void 0:e.address)?t:"",nameMsg:"",doing:!1,member:e,emailMsg:"",mobileMsg:"",phoneMsg:""},r}return t=a,(e=[{key:"componentDidMount",value:function(){var e=this,t=this.props.memberID;this.membersChangeHandler=y.default.subscribe(t,(function(t){e.setState({member:t,realname:t.realname||"",gender:t.gender||"",email:t.email||"",mobile:t.mobile||"",phone:t.phone||"",weixin:t.weixin||"",qq:t.qq||"",address:t.address||""})}))}},{key:"componentWillUnmount",value:function(){y.default.unsubscribe(this.membersChangeHandler)}},{key:"render",value:function(){var e=(t=this.props).className,t=t.disableCancel,n=(g=this.state).nameMsg,r=g.doing,a=g.member,l=g.realname,d=g.gender,p=g.emailMsg,y=g.mobileMsg,g=g.phoneMsg,b=[o.default.createElement(f.default,{key:"btn-confirm",onClick:this.handleConfirmBtnClick,className:"text-white btn-wide rounded bg-primary has-margin-sm",label:c.default.string("member.profile.save")})];return t||(b.push(o.default.createElement(f.default,{key:"btn-cancel",onClick:this.handleCancelBtnClick,className:"btn-wide rounded gray x-outline has-margin-sm",label:c.default.string("common.cancel")})),O&&b.reverse()),o.default.createElement("form",{className:(0,s.classes)("app-user-edit-info",e,"min-w-[320px]","pt-2"),onSubmit:function(e){return e.preventDefault()}},o.default.createElement("div",{className:n?"flex items-center user-info-item mb0":"flex items-center user-info-item"},o.default.createElement(i.default,{inputType:"text",className:n&&((0,u.isEmptyString)(l)||l.length<2)?"has-error":"inline-block",disabled:r,onChange:this.handleInputChange.bind(this,"realname"),defaultValue:a.realname,label:c.default.string("member.profile.realname"),helpText:n,isLabelInline:!0}),o.default.createElement("i",{className:"inline-block text-red"},"*")),o.default.createElement("div",{className:"flex items-center user-info-item"},o.default.createElement("span",{className:"inline-block user-info-edit-label text-right"},c.default.string("member.profile.gender")),o.default.createElement(h.default,{onChange:this.handleInputChange.bind(this,"gender"),className:"inline-block"},o.default.createElement(m.default,{name:"chat-category",label:c.default.string("member.gender.m"),value:"m",checked:"m"===d,className:"inline-block",disabled:r}),o.default.createElement(m.default,{name:"chat-category",label:c.default.string("member.gender.f"),value:"f",checked:"f"===d,className:"inline-block",disabled:r}))),o.default.createElement("div",{className:p?"flex items-center user-info-item mb0":"flex items-center user-info-item"},o.default.createElement(i.default,{inputType:"text",disabled:r,onChange:this.handleInputChange.bind(this,"email"),className:p?"has-error":"",defaultValue:a.email,label:c.default.string("member.profile.email"),helpText:p,isLabelInline:!0})),o.default.createElement("div",{className:y?"flex items-center user-info-item mb0":"flex items-center user-info-item"},o.default.createElement(i.default,{inputType:"text",disabled:r,onChange:this.handleInputChange.bind(this,"mobile"),className:y?"has-error":"",defaultValue:a.mobile,label:c.default.string("member.profile.mobile"),helpText:y,isLabelInline:!0})),o.default.createElement("div",{className:g?"flex items-center user-info-item mb0":"flex items-center user-info-item"},o.default.createElement(i.default,{inputType:"text",disabled:r,onChange:this.handleInputChange.bind(this,"phone"),className:g?"has-error":"",defaultValue:a.phone,label:c.default.string("member.profile.phone"),helpText:g,isLabelInline:!0})),o.default.createElement("div",{className:"flex items-center user-info-item"},o.default.createElement(i.default,{inputType:"text",disabled:r,onChange:this.handleInputChange.bind(this,"weixin"),defaultValue:a.weixin,label:c.default.string("member.profile.weixin"),isLabelInline:!0})),o.default.createElement("div",{className:"flex items-center user-info-item"},o.default.createElement(i.default,{inputType:"text",disabled:r,onChange:this.handleInputChange.bind(this,"qq"),defaultValue:a.qq,label:"QQ",isLabelInline:!0})),o.default.createElement("div",{className:"flex items-center user-info-item"},o.default.createElement(i.default,{inputType:"text",disabled:r,onChange:this.handleInputChange.bind(this,"address"),defaultValue:a.address,label:c.default.string("member.profile.address"),isLabelInline:!0})),o.default.createElement("div",{className:"text-center py-2"},b))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);S(t.UserEditInfo=M,"defaultProps",{onFinish:null,className:null,disableCancel:!1}),n={show:t.showUserEditInfoDialog=function(e,t){var n="user-edit-info";return a.default.show({actions:!1,id:n,className:"app-user-edit-info-dialog",content:o.default.createElement(M,{onFinish:function(e){a.default.hide(n),e&&l.default.show(c.default.string("user.editInfo.saveSuccess"),{type:"success",autoHide:!0})},memberID:e}),title:c.default.string("user.editInfo.heading")},t)}},t.default=n},27607:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(a=n(45697))&&a.__esModule?a:{default:a},i=n(64393),l=n(67940),s=["user","avatarSize","avatarClassName","className","children"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(n=t?(n=p(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var n=d(r);function r(){if(this instanceof r)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"shouldComponentUpdate",value:function(e){return e.children!==this.props.children||e.className!==this.props.className||e.avatarSize!==this.props.avatarSize||e.avatarClassName!==this.props.avatarClassName||e.user!==this.props.user||e.user.account!==this.props.user.account||e.user.avatar!==this.props.user.avatar||e.user.realname!==this.props.user.realname||e.user.server!==this.props.user.server}},{key:"render",value:function(){var e=(u=this.props).user,t=u.avatarSize,n=u.avatarClassName,r=u.className,a=u.children,u=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(u,s);return o.default.createElement("a",c({},u,{className:(0,i.classes)("app-user-list-item item",r)}),o.default.createElement(l.MemberAvatarCommon,{className:n,size:t,code:e.account,avatar:e.avatar,displayName:e.displayName}),o.default.createElement("div",{className:"content"},o.default.createElement("div",{className:"title"},e.displayName," ",o.default.createElement("small",{className:"muted"},"@",e.account)),o.default.createElement("div",{className:"subtitle"},e.serverUrl)),a)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),h(t.default=n,"propTypes",{user:a.default.object.isRequired,className:a.default.string,avatarSize:a.default.number,avatarClassName:a.default.string,children:a.default.any}),h(n,"defaultProps",{avatarSize:30,className:"flex-middle",avatarClassName:null,children:null})},10503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showUserProfileDialog=t.default=void 0;var r=a(n(15973)),o=a(n(67629));function a(e){return e&&e.__esModule?e:{default:e}}n={show:t.showUserProfileDialog=function(e){var t=r.default.user;if(t)return o.default.show(t,e);e&&e(!1)}},t.default=n},59846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showUserSettingDialog=t.default=void 0;var r=f(n(67294)),o=f(n(48516)),a=f(n(61862)),i=f(n(65169)),l=n(71255),s=n(32355),u=n(15973),c=n(82587);function f(e){return e&&e.__esModule?e:{default:e}}n={show:t.showUserSettingDialog=function(e){var t=null;return(0,s.disableGlobalShortcut)(),o.default.show({title:a.default.string("common.setting"),id:"app-user-setting-dialog",actions:[{type:"submit",label:a.default.string("common.save"),click:function(){var e,n;t&&(n={"local.ui.zoomFactor":(e=t.getSettings())["local.ui.zoomFactor"]},Object.keys(n).forEach((function(t){e[t]&&delete e[t]})),(0,u.getUserConfig)().set(e),(0,l.setLocalConfig)(n),(0,c.applyZoomFactor)(n["local.ui.zoomFactor"]))}},{type:"cancel",order:8e3}],onHidden:s.enableGlobalShortcut,content:r.default.createElement(i.default,{ref:function(e){t=e},settings:(0,u.getUserConfig)().plain(),localSettings:(0,l.getAllLocalConfig)()})},e)}},t.default=n},65169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==w(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=b(n(45697)),a=b(n(74160)),i=b(n(5833)),l=n(64393),s=n(4829),u=b(n(85978)),c=b(n(61862)),f=b(n(53158)),d=b(n(74379)),p=b(n(61997)),h=b(n(94128)),m=n(15973),y=b(n(48516)),g=["settings","localSettings","className"];function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return!e["ui.notify.enableSound"]}function P(e){return j||!e["ui.notify.flashTrayIcon"]}function T(e){return!e["ui.notify.enableWindowNotification"]}var j=h.default.isType("browser"),x=h.default.modules.fs;n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(n=t?(n=C(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===w(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(o);function o(e){if(this instanceof o)return(e=n.call(this,e)).state=O(O({},e.props.settings),e.props.localSettings),e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"cacheFilePath",get:function(){return this._cacheFilePath||(this._cacheFilePath=!j&&h.default.call("os.createUserDataPath",(0,m.getCurrentUser)().identify,"",""),this._cacheFilePath)}},{key:"cachePathExist",get:function(){return this._cachePathExist||(this._cachePathExist=!j&&x.pathExistsSync(this.cacheFilePath),this._cachePathExist)}},{key:"getSettings",value:function(){return this.state}},{key:"setSettings",value:function(e){this.setState(O({},e))}},{key:"changeConfig",value:function(e,t){var n=e.name;"object"===w(t)&&t.target&&(t="checkbox"===t.target.type?t.target.checked:t.target.value),e.setConverter&&(t=e.setConverter(t)),this.setState(k({},n,t))}},{key:"renderConfigItem",value:function(e){if(e.hidden){var t=e.hidden;if(t="function"==typeof e.hidden?e.hidden(this.state):t)return null}switch(e.type){case"boolean":return this.renderBooleanItem(e);case"select":return this.renderSelectItem(e);case"hotkey":return this.renderHotkeyItem(e);case"zoomFactor":return this.renderZoomFactor(e);case"button":return this.renderButtonItem(e);case"text":return this.renderTextItem(e)}return null}},{key:"renderHotkeyItem",value:function(e){var t=this.state[e.name];return e.getConverter&&(t=e.getConverter(t)),r.default.createElement(u.default,{onlyMotifyKeysText:c.default.string("setting.hotkeys.cantSetOnlyModifyKeys"),key:e.name,defaultValue:t,labelStyle:{flex:1},onChange:this.changeConfig.bind(this,e),label:e.caption,className:(0,l.classes)("flex",e.className)})}},{key:"renderSelectItem",value:function(e){var t=this.state[e.name],n=(e.getConverter&&(t=e.getConverter(t)),(0,p.default)());return r.default.createElement("div",{className:(0,l.classes)("control flex selectbox",e.className),key:e.name},r.default.createElement("label",{htmlFor:n},e.caption),r.default.createElement(d.default,{selectProps:{id:n},value:t,options:e.options,onChange:this.changeConfig.bind(this,e),selectClassName:"rounded"}))}},{key:"renderBooleanItem",value:function(e){var t=this.state[e.name];return t=!!(t=e.getConverter?e.getConverter(t):t),r.default.createElement("div",{className:(0,l.classes)("control",e.className),key:e.name},r.default.createElement(f.default,{checked:t,label:e.caption,description:e.description,onChange:this.changeConfig.bind(this,e)}))}},{key:"renderZoomFactor",value:function(e){var t=this.state[e.name]||1,n=(0,p.default)();return r.default.createElement("div",{className:(0,l.classes)("rangebox control flex single flex-middle",e.className),key:e.name},r.default.createElement("label",{htmlFor:n},e.caption),r.default.createElement("input",{className:"flex-auto",id:n,type:"range",min:"0.50",max:"2.00",step:"0.10",value:t,onChange:this.changeConfig.bind(this,e)}),r.default.createElement("div",{className:"flex-none"},"".concat(Math.floor(100*t),"%")))}},{key:"renderButtonItem",value:function(e){return r.default.createElement("div",{className:(0,l.classes)("btn rounded gray x-outline",e.className),key:e.name,onClick:e.click},e.caption)}},{key:"renderTextItem",value:function(e){return r.default.createElement("div",{className:(0,l.classes)(e.className),key:e.name},e.text)}},{key:"render",value:function(){var e=this,t=((n=this.props).settings,n.localSettings,n.className),n=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,g),o=[{name:"chats",title:c.default.string("setting.section.chats"),items:[{type:"boolean",name:"ui.chat.sendTypingStatus",caption:c.default.string("setting.chats.sendTypingStatus"),hidden:j},{type:"boolean",name:"ui.chat.sendBigFileOnline",caption:c.default.string("setting.chats.sendBigFileOnline")}]},{name:"notification",title:c.default.string("setting.section.notification"),items:[{type:"boolean",name:"ui.notify.enableSound",caption:c.default.string("setting.notification.enableSoundNotification")},{type:"select",name:"ui.notify.playSoundCondition",className:"level-2",options:[{value:"",label:c.default.string("setting.notification.onNeed")},{value:"onWindowBlur",label:c.default.string("setting.notification.onWindowBlur")},{value:"onWindowHide",label:c.default.string("setting.notification.onWindowHide")}],hidden:E,caption:c.default.string("setting.notification.playSoundCondition")},{type:"boolean",className:"level-2",name:"ui.notify.muteOnUserIsBusy",hidden:E,caption:c.default.string("setting.notification.muteOnUserIsBusy")},{type:"boolean",name:"ui.notify.flashTrayIcon",hidden:j,caption:c.default.string("setting.notification.flashTrayIcon")},{type:"select",name:"ui.notify.flashTrayIconCondition",className:"level-2",options:[{value:"onWindowBlur",label:c.default.string("setting.notification.onWindowBlur")},{value:"onWindowHide",label:c.default.string("setting.notification.onWindowHide")}],hidden:P,caption:c.default.string("setting.notification.flashTrayIconCondition")},{type:"boolean",name:"ui.notify.enableWindowNotification",caption:c.default.string("setting.notification.enableWindowNotification")},{type:"select",name:"ui.notify.windowNotificationCondition",className:"level-2",options:[{value:"",label:c.default.string("setting.notification.onNeed")},{value:"onWindowBlur",label:c.default.string("setting.notification.onWindowBlur")},j?null:{value:"onWindowHide",label:c.default.string("setting.notification.onWindowHide")}],hidden:T,caption:c.default.string("setting.notification.windowNotificationCondition")},{type:"boolean",className:"level-2",hidden:T,name:"ui.notify.safeWindowNotification",caption:c.default.string("setting.notification.safeWindowNotificationTip")}]},{name:"windows",hidden:j,title:c.default.string("setting.section.windows"),items:[{type:"boolean",name:"ui.app.hideWindowOnOpenAtLogin",caption:c.default.string("setting.windows.hideWindowOnOpenAtLogin")},{type:"boolean",name:"ui.app.hideWindowOnBlur",caption:c.default.string("setting.windows.hideWindowOnBlur")},{type:"boolean",name:"ui.app.removeFromTaskbarOnHide",caption:c.default.string("setting.windows.removeFromTaskbarOnHide")},{type:"select",name:"ui.app.onClose",hidden:!h.default.has("ui.showQuitConfirmDialog"),options:[{value:"ask",label:c.default.string("setting.windows.askEveryTime")},{value:"minimize",label:c.default.string("setting.windows.minimizeMainWindow")},{value:"close",label:c.default.string("setting.windows.quitApp")}],caption:c.default.string("setting.windows.onClickCloseButton")},{type:"zoomFactor",name:"local.ui.zoomFactor",hidden:!h.default.has("ui.setZoomFactor"),caption:c.default.string("setting.windows.zoomFactor")}]},{name:"hotkeys",hidden:j,title:c.default.string("setting.section.hotkeys"),items:[{type:"select",name:"shortcut.sendMessage",options:a.default.ui["hotkey.sendMessageOptions"].map(s.formatKeyDecoration),caption:c.default.string("setting.hotkeys.sendMessage")},{hidden:j,type:"hotkey",name:"shortcut.captureScreen",caption:c.default.string("setting.hotkeys.globalCaptureScreen")},{type:"hotkey",hidden:j,name:"shortcut.focusWindow",caption:c.default.string("setting.hotkeys.globalFocusWindow")}]},{name:"advanced",title:c.default.string("setting.section.advanced"),hidden:j,items:[{type:"boolean",name:"ui.chat.initConference",description:c.default.string("setting.advanced.initConferenceDescription"),caption:c.default.string("setting.advanced.initConference"),hidden:j}]},{name:"reset",title:c.default.string("setting.section.reset"),items:[{type:"button",name:"openCacheFilePath",className:"block dark app-reset-btn ",caption:c.default.string("setting.section.openCacheFilePath"),hidden:!this.cachePathExist,click:function(){e.cachePathExist&&h.default.has("ui.openFileItem")?h.default.call("ui.openFileItem",e.cacheFilePath):y.default.alert(c.default.string("setting.openCacheFilePath.noCache"))}},{type:"text",name:"openCacheFilePath.tip",className:"inline-block has-padding-h text-gray cache-tip-position",text:c.default.string("setting.openCacheFilePath.tip"),hidden:!this.cachePathExist},{type:"button",name:"reset",className:"".concat(this.cachePathExist?"block":""," dark app-reset-btn"),caption:c.default.string("setting.reset.btn"),click:function(){e.setSettings(i.default)}},{type:"text",name:"reset.tip",className:"inline-block has-padding-h text-gray ".concat(this.cachePathExist?"reset-tip-position":"reset-tip-position-nocache"),text:c.default.string("setting.reset.tip")}]}];return r.default.createElement("div",_({},n,{className:(0,l.classes)("app-user-setting space",t)}),o.map((function(t){return t.hidden?null:r.default.createElement("section",{key:t.name,className:"space app-setting-group-".concat(t.name)},r.default.createElement("header",{className:"heading divider space-sm"},r.default.createElement("strong",{className:"title text-gray"},t.title)),r.default.createElement("div",{className:"items"},t.items.map((function(t){return e.renderConfigItem(t)}))))})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component),k(t.default=n,"propTypes",{settings:o.default.object.isRequired,localSettings:o.default.object,className:o.default.string}),k(n,"defaultProps",{className:null,localSettings:null})},21531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showWebviewDialog=t.default=void 0;var r=s(n(67294)),o=s(n(48516)),a=s(n(4062)),i=s(n(61997)),l=s(n(61862));function s(e){return e&&e.__esModule?e:{default:e}}n={show:t.showWebviewDialog=function(e,t,n){var s,u=t&&t.width,c=t&&t.height,f=(t&&t.size&&("lg"===t.size?(u=u||window.innerWidth-40,c=c||window.innerHeight-40):"full"===t.size&&(u=u||"100%",c=c||"100%")),"number"==typeof c&&(c="".concat(c,"px")),"number"==typeof u&&(u="".concat(u,"px")),(0,i.default)());return t.isMaximizeOnPopup&&(s=n,n=function(){var e=document.getElementById(f);e&&e.classList.toggle("fullscreen"),s&&s()}),o.default.show({id:f,style:{width:u||860,height:c||640},headingClassName:"dock dock-right dock-top",actions:!1,animation:"enter-from-bottom fade",contentClassName:"no-padding flex stretch",listenUpdateStyle:!0,content:r.default.createElement(a.default,{displayId:f,src:e,options:t,lang:l.default,isMaximizeOnPopup:t.isMaximizeOnPopup,title:t.title||null})},n)}},t.default=n},4062:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=y(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=m(n(45697)),i=n(64393),l=m(n(55263)),s=n(2388),u=n(87137),c=n(28350),f=n(95214),d=m(n(74160)),p=m(n(94128)),h=["className","onLoadingChange","onPageTitleUpdated","src","options","displayId","title","favicon","onRequestOpenUrl","titleBarStyle","lang","isMaximizeOnPopup"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=S(e);if(n=t?(n=S(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return w(o)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=m;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e);var n,r,a=_(m);function m(e){var t,n;if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");O(w(n=a.call(this,e)),"handleFaviconUpdated",(function(e){e.favicons&&e.favicons.length&&n.setState({favicon:e.favicons[0]})})),O(w(n),"handlePageTitleChange",(function(e,t){var r=n.props.onPageTitleUpdated;e!==n.state.title&&n.setState({title:e}),r&&r(e,t)})),O(w(n),"handleLoadingChange",(function(e){n.setState({loading:e});var t=n.props.onLoadingChange;if(t){for(var r=arguments.length,o=new Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];t.apply(void 0,[e].concat(o))}})),O(w(n),"handleReloadBtnClick",(function(){n.setState({loading:!0},(function(){n.webview.reloadWebview()}))})),O(w(n),"handleReloadBtnContextMenu",(function(e){var t;(0,c.showContextMenu)({x:e.clientX,y:e.clientY,direction:"below-left",triggerElement:e.target},[{label:null!=(t=null==(t=n.props.lang)?void 0:t.string("webview.foreceReload"))?t:"Force Reload",click:function(){n.webview.reloadWebview(!0)}}]),e.preventDefault()})),O(w(n),"handleStopBtnClick",(function(){n.webview&&n.webview.webview&&n.webview.webview.stop&&n.webview.webview.stop()})),O(w(n),"handleGoBackBtnClick",(function(){n.webview&&n.webview.webview&&n.webview.webview.goBack&&n.webview.webview.goBack()})),O(w(n),"handleGoForwardBtnClick",(function(){n.webview&&n.webview.webview&&n.webview.webview.goForward&&n.webview.webview.goForward()})),O(w(n),"handleOpenBtnClick",(function(){var e=n.webview&&n.webview.webview&&n.webview.webview.getURL?n.webview.webview.getURL():n.props.src;n.props.onRequestOpenUrl?n.props.onRequestOpenUrl(e):(0,f.openUrlInBrowser)(e)})),O(w(n),"handleMaximizeBtnClick",(function(){var e=n.props.displayId;e&&(e=document.getElementById(e))&&(e.classList.toggle("fullscreen"),n.setState({isMaximize:e.classList.contains("fullscreen")}))})),O(w(n),"handleDevBtnClick",(function(){n.webview&&n.webview.webview&&n.webview.webview.openDevTools()})),O(w(n),"handleCopyUrlBtnClick",(function(){var e;n.webview&&n.webview.webview&&(e=n.webview.webview.getURL?n.webview.webview.getURL():n.props.src,p.default.call("clipboard.writeText",e))})),O(w(n),"getWebviewRef",(function(e){n.webview=e}));var r="function"==typeof e.src?"":e.src,o=(null!=(o=e.options)?o:{}).initialTitle;return n.state={favicon:null!=(t=e.favicon)?t:"mdi-web",actualSrc:r,title:null!=(t=null!=(t=e.title)?t:o)?t:r,loading:!1,isMaximize:e.isMaximizeOnPopup},n}return t=m,(e=[{key:"componentDidMount",value:function(){var e=this.webview.webview;e&&e.addEventListener&&e.addEventListener("page-favicon-updated",this.handleFaviconUpdated),this.getActualUrl()}},{key:"getActualUrl",value:(n=function*(){var e=this.props.src;"function"==typeof e&&(e=yield e(this),this.setState({actualSrc:e}))},r=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)})},{key:"reloadWebview",value:function(){this.webviewId&&document.getElementById(this.webviewId).reload()}},{key:"render",value:function(){var e=(f=this.props).className,t=(f.onLoadingChange,f.onPageTitleUpdated,f.src,f.options),n=f.displayId,r=f.title,a=(f.favicon,f.onRequestOpenUrl,f.titleBarStyle),c=f.lang,f=(f.isMaximizeOnPopup,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(f,h)),p=(m=this.state).isMaximize,m=m.actualSrc,y=this.webview&&this.webview.webview,b=!d.default.ui["webview.frame.hiddenNavButtons"];return o.default.createElement("div",g({className:(0,i.classes)("webview-frame column",e)},f),o.default.createElement("div",{className:"heading flex-none shadow-2",style:a},(0,s.renderAvatar)({auto:this.state.loading?"mdi-loading spin muted":this.state.favicon,size:26}),o.default.createElement("div",{title:this.state.title,className:"title x-text-ellipsis strong"},this.state.title),o.default.createElement("nav",{className:"nav",style:{marginRight:40}},DEBUG?o.default.createElement("a",{onClick:this.handleDevBtnClick},(0,u.renderIcon)("auto-fix")):null,DEBUG?o.default.createElement("a",{onClick:this.handleCopyUrlBtnClick},(0,u.renderIcon)("link")):null,o.default.createElement("a",{"data-hint":c.string("webview.openInBrowser"),onClick:this.handleOpenBtnClick},(0,u.renderIcon)("open-in-new")),b&&o.default.createElement("a",{"data-hint":c.string("webview.goBack"),className:y&&y.canGoBack&&y.canGoBack()?"":"disabled",onClick:this.handleGoBackBtnClick},(0,u.renderIcon)("arrow-left")),b&&o.default.createElement("a",{"data-hint":c.string("webview.goForward"),className:y&&y.canGoForward&&y.canGoForward()?"":"disabled",onClick:this.handleGoForwardBtnClick},(0,u.renderIcon)("arrow-right")),this.state.loading?o.default.createElement("a",{className:"hint--bottom-right","data-hint":c.string("webview.stopLoad"),onClick:this.handleStopBtnClick},(0,u.renderIcon)("close-circle-outline")):o.default.createElement("a",{className:"hint--bottom-right","data-hint":c.string("webview.reload"),onClick:this.handleReloadBtnClick,onContextMenu:this.handleReloadBtnContextMenu},(0,u.renderIcon)("reload")),n?o.default.createElement("a",{className:"hint--bottom-right","data-hint":c.string("webview.maximize"),onClick:this.handleMaximizeBtnClick},(0,u.renderIcon)(p?"window-restore":"window-maximize")):null)),o.default.createElement(l.default,g({modalId:n,ref:this.getWebviewRef,className:"flex-auto relative",src:m},t,{onLoadingChange:this.handleLoadingChange,onPageTitleUpdated:r?null:this.handlePageTitleChange})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),m}(o.Component),O(t.default=n,"propTypes",{className:a.default.string,onLoadingChange:a.default.func,onPageTitleUpdated:a.default.func,options:a.default.object,displayId:a.default.any,favicon:a.default.string,src:a.default.oneOfType([a.default.string,a.default.func]).isRequired,title:a.default.string,titleBarStyle:a.default.object,onRequestOpenUrl:a.default.func,lang:a.default.object.isRequired,isMaximizeOnPopup:a.default.bool}),O(n,"defaultProps",{className:null,onLoadingChange:null,onPageTitleUpdated:null,options:null,displayId:null,favicon:null,title:null,titleBarStyle:null,onRequestOpenUrl:null,isMaximizeOnPopup:!1})},9913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openWebviewWindow=function(e){if(!i.default.has("nwc.openWindowAndCreateNwc"))return function(){return d.apply(this,arguments)}(e);var t,n,u,f=i.default.call("nwc.getNwcByID",null==e?void 0:e.id);if(!f)return t=i.default.call("nwc.openWindowAndCreateNwc","webview",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.id,backgroundColor:(0,a.isDarkThemeMode)()?"#343434":"#ececec",title:"".concat(l.default.string("file.preview")).concat(e.title?" - ".concat(e.title):""),minWidth:1024,minHeight:700,width:1024,height:700,overlayIcon:"webview-win.png"},e.windowOptions)),n=function(e,n,r,o){o||t.invoke("browserWindow.close")},u=(0,o.onUserLogout)(n),t.once("window-closed",(function(){r.default.off(u)})),t.shareData({lang:l.default,sourceUrl:e.source,favicon:e.favicon,title:e.title,theme:e.theme,titleBarStyle:e.titleBarStyle,webviewOptions:e.options}),t.registerInvokeTarget("openUrl",s.openUrl),{close:n};f.showAndFocusWindow()};var r=u(n(65286)),o=n(15973),a=n(99838),i=u(n(94128)),l=u(n(61862)),s=n(95214);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function d(){var e;return e=function*(e){var t=("function"==typeof(e=e.source)&&(e=yield e()),yield i.default.call("ui.openExternal",e)),n=(0,o.onUserLogout)((function(){t.close()}));return t.onbeforeunload=function(){r.default.off(n)},{close:t.close}},(d=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,l,"next",e)}function l(e){f(a,r,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}},55263:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==w(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(n(67294)),o=g(n(45697)),a=n(64393),i=g(n(61997)),l=n(95214),s=n(19815),u=g(n(65286)),c=n(16986),f=g(n(91705)),d=g(n(94128)),p=n(13544),h=g(n(74160)),m=g(n(61862)),y=n(15973);function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var P=d.default.isType("electron"),T={"-1":"IO_PENDING","-2":"FAILED","-3":"ABORTED","-4":"INVALID_ARGUMENT","-5":"INVALID_HANDLE","-6":"FILE_NOT_FOUND","-7":"TIMED_OUT","-8":"FILE_TOO_BIG","-9":"UNEXPECTED","-10":"ACCESS_DENIED","-11":"NOT_IMPLEMENTED","-12":"INSUFFICIENT_RESOURCES","-13":"OUT_OF_MEMORY","-14":"UPLOAD_FILE_CHANGED","-15":"SOCKET_NOT_CONNECTED","-16":"FILE_EXISTS","-17":"FILE_PATH_TOO_LONG","-18":"FILE_NO_SPACE","-19":"FILE_VIRUS_INFECTED","-20":"BLOCKED_BY_CLIENT","-21":"NETWORK_CHANGED","-22":"BLOCKED_BY_ADMINISTRATOR","-23":"SOCKET_IS_CONNECTED","-24":"BLOCKED_ENROLLMENT_CHECK_PENDING","-25":"UPLOAD_STREAM_REWIND_NOT_SUPPORTED","-26":"CONTEXT_SHUT_DOWN","-27":"BLOCKED_BY_RESPONSE","-29":"CLEARTEXT_NOT_PERMITTED","-30":"BLOCKED_BY_CSP","-31":"H2_OR_QUIC_REQUIRED","-100":"CONNECTION_CLOSED","-101":"CONNECTION_RESET","-102":"CONNECTION_REFUSED","-103":"CONNECTION_ABORTED","-104":"CONNECTION_FAILED","-105":"NAME_NOT_RESOLVED","-106":"INTERNET_DISCONNECTED","-107":"SSL_PROTOCOL_ERROR","-108":"ADDRESS_INVALID","-109":"ADDRESS_UNREACHABLE","-110":"SSL_CLIENT_AUTH_CERT_NEEDED","-111":"TUNNEL_CONNECTION_FAILED","-112":"NO_SSL_VERSIONS_ENABLED","-113":"SSL_VERSION_OR_CIPHER_MISMATCH","-114":"SSL_RENEGOTIATION_REQUESTED","-115":"PROXY_AUTH_UNSUPPORTED","-116":"CERT_ERROR_IN_SSL_RENEGOTIATION","-117":"BAD_SSL_CLIENT_AUTH_CERT","-118":"CONNECTION_TIMED_OUT","-119":"HOST_RESOLVER_QUEUE_TOO_LARGE","-120":"SOCKS_CONNECTION_FAILED","-121":"SOCKS_CONNECTION_HOST_UNREACHABLE","-122":"ALPN_NEGOTIATION_FAILED","-123":"SSL_NO_RENEGOTIATION","-124":"WINSOCK_UNEXPECTED_WRITTEN_BYTES","-125":"SSL_DECOMPRESSION_FAILURE_ALERT","-126":"SSL_BAD_RECORD_MAC_ALERT","-127":"PROXY_AUTH_REQUESTED","-130":"PROXY_CONNECTION_FAILED","-131":"MANDATORY_PROXY_CONFIGURATION_FAILED","-133":"PRECONNECT_MAX_SOCKET_LIMIT","-134":"SSL_CLIENT_AUTH_PRIVATE_KEY_ACCESS_DENIED","-135":"SSL_CLIENT_AUTH_CERT_NO_PRIVATE_KEY","-136":"PROXY_CERTIFICATE_INVALID","-137":"NAME_RESOLUTION_FAILED","-138":"NETWORK_ACCESS_DENIED","-139":"TEMPORARILY_THROTTLED","-140":"HTTPS_PROXY_TUNNEL_RESPONSE_REDIRECT","-141":"SSL_CLIENT_AUTH_SIGNATURE_FAILED","-142":"MSG_TOO_BIG","-145":"WS_PROTOCOL_ERROR","-147":"ADDRESS_IN_USE","-148":"SSL_HANDSHAKE_NOT_COMPLETED","-149":"SSL_BAD_PEER_PUBLIC_KEY","-150":"SSL_PINNED_KEY_NOT_IN_CERT_CHAIN","-151":"CLIENT_AUTH_CERT_TYPE_UNSUPPORTED","-153":"SSL_DECRYPT_ERROR_ALERT","-154":"WS_THROTTLE_QUEUE_TOO_LARGE","-156":"SSL_SERVER_CERT_CHANGED","-159":"SSL_UNRECOGNIZED_NAME_ALERT","-160":"SOCKET_SET_RECEIVE_BUFFER_SIZE_ERROR","-161":"SOCKET_SET_SEND_BUFFER_SIZE_ERROR","-162":"SOCKET_RECEIVE_BUFFER_SIZE_UNCHANGEABLE","-163":"SOCKET_SEND_BUFFER_SIZE_UNCHANGEABLE","-164":"SSL_CLIENT_AUTH_CERT_BAD_FORMAT","-166":"ICANN_NAME_COLLISION","-167":"SSL_SERVER_CERT_BAD_FORMAT","-168":"CT_STH_PARSING_FAILED","-169":"CT_STH_INCOMPLETE","-170":"UNABLE_TO_REUSE_CONNECTION_FOR_PROXY_AUTH","-171":"CT_CONSISTENCY_PROOF_PARSING_FAILED","-172":"SSL_OBSOLETE_CIPHER","-173":"WS_UPGRADE","-174":"READ_IF_READY_NOT_IMPLEMENTED","-176":"NO_BUFFER_SPACE","-177":"SSL_CLIENT_AUTH_NO_COMMON_ALGORITHMS","-178":"EARLY_DATA_REJECTED","-179":"WRONG_VERSION_ON_EARLY_DATA","-180":"TLS13_DOWNGRADE_DETECTED","-181":"SSL_KEY_USAGE_INCOMPATIBLE","-200":"CERT_COMMON_NAME_INVALID","-201":"CERT_DATE_INVALID","-202":"CERT_AUTHORITY_INVALID","-203":"CERT_CONTAINS_ERRORS","-204":"CERT_NO_REVOCATION_MECHANISM","-205":"CERT_UNABLE_TO_CHECK_REVOCATION","-206":"CERT_REVOKED","-207":"CERT_INVALID","-208":"CERT_WEAK_SIGNATURE_ALGORITHM","-210":"CERT_NON_UNIQUE_NAME","-211":"CERT_WEAK_KEY","-212":"CERT_NAME_CONSTRAINT_VIOLATION","-213":"CERT_VALIDITY_TOO_LONG","-214":"CERTIFICATE_TRANSPARENCY_REQUIRED","-215":"CERT_SYMANTEC_LEGACY","-217":"CERT_KNOWN_INTERCEPTION_BLOCKED","-218":"SSL_OBSOLETE_VERSION","-219":"CERT_END","-300":"INVALID_URL","-301":"DISALLOWED_URL_SCHEME","-302":"UNKNOWN_URL_SCHEME","-303":"INVALID_REDIRECT","-310":"TOO_MANY_REDIRECTS","-311":"UNSAFE_REDIRECT","-312":"UNSAFE_PORT","-320":"INVALID_RESPONSE","-321":"INVALID_CHUNKED_ENCODING","-322":"METHOD_NOT_SUPPORTED","-323":"UNEXPECTED_PROXY_AUTH","-324":"EMPTY_RESPONSE","-325":"RESPONSE_HEADERS_TOO_BIG","-327":"PAC_SCRIPT_FAILED","-328":"REQUEST_RANGE_NOT_SATISFIABLE","-329":"MALFORMED_IDENTITY","-330":"CONTENT_DECODING_FAILED","-331":"NETWORK_IO_SUSPENDED","-332":"SYN_REPLY_NOT_RECEIVED","-333":"ENCODING_CONVERSION_FAILED","-334":"UNRECOGNIZED_FTP_DIRECTORY_LISTING_FORMAT","-336":"NO_SUPPORTED_PROXIES","-337":"HTTP2_PROTOCOL_ERROR","-338":"INVALID_AUTH_CREDENTIALS","-339":"UNSUPPORTED_AUTH_SCHEME","-340":"ENCODING_DETECTION_FAILED","-341":"MISSING_AUTH_CREDENTIALS","-342":"UNEXPECTED_SECURITY_LIBRARY_STATUS","-343":"MISCONFIGURED_AUTH_ENVIRONMENT","-344":"UNDOCUMENTED_SECURITY_LIBRARY_STATUS","-345":"RESPONSE_BODY_TOO_BIG_TO_DRAIN","-346":"RESPONSE_HEADERS_MULTIPLE_CONTENT_LENGTH","-347":"INCOMPLETE_HTTP2_HEADERS","-348":"PAC_NOT_IN_DHCP","-349":"RESPONSE_HEADERS_MULTIPLE_CONTENT_DISPOSITION","-350":"RESPONSE_HEADERS_MULTIPLE_LOCATION","-351":"HTTP2_SERVER_REFUSED_STREAM","-352":"HTTP2_PING_FAILED","-354":"CONTENT_LENGTH_MISMATCH","-355":"INCOMPLETE_CHUNKED_ENCODING","-356":"QUIC_PROTOCOL_ERROR","-357":"RESPONSE_HEADERS_TRUNCATED","-358":"QUIC_HANDSHAKE_FAILED","-360":"HTTP2_INADEQUATE_TRANSPORT_SECURITY","-361":"HTTP2_FLOW_CONTROL_ERROR","-362":"HTTP2_FRAME_SIZE_ERROR","-363":"HTTP2_COMPRESSION_ERROR","-364":"PROXY_AUTH_REQUESTED_WITH_NO_CONNECTION","-365":"HTTP_1_1_REQUIRED","-366":"PROXY_HTTP_1_1_REQUIRED","-367":"PAC_SCRIPT_TERMINATED","-370":"INVALID_HTTP_RESPONSE","-371":"CONTENT_DECODING_INIT_FAILED","-372":"HTTP2_RST_STREAM_NO_ERROR_RECEIVED","-373":"HTTP2_PUSHED_STREAM_NOT_AVAILABLE","-374":"HTTP2_CLAIMED_PUSHED_STREAM_RESET_BY_SERVER","-375":"TOO_MANY_RETRIES","-376":"HTTP2_STREAM_CLOSED","-377":"HTTP2_CLIENT_REFUSED_STREAM","-378":"HTTP2_PUSHED_RESPONSE_DOES_NOT_MATCH","-379":"HTTP_RESPONSE_CODE_FAILURE","-380":"QUIC_CERT_ROOT_NOT_KNOWN","-381":"QUIC_GOAWAY_REQUEST_CAN_BE_RETRIED","-400":"CACHE_MISS","-401":"CACHE_READ_FAILURE","-402":"CACHE_WRITE_FAILURE","-403":"CACHE_OPERATION_NOT_SUPPORTED","-404":"CACHE_OPEN_FAILURE","-405":"CACHE_CREATE_FAILURE","-406":"CACHE_RACE","-407":"CACHE_CHECKSUM_READ_FAILURE","-408":"CACHE_CHECKSUM_MISMATCH","-409":"CACHE_LOCK_TIMEOUT","-410":"CACHE_AUTH_FAILURE_AFTER_READ","-411":"CACHE_ENTRY_NOT_SUITABLE","-412":"CACHE_DOOM_FAILURE","-413":"CACHE_OPEN_OR_CREATE_FAILURE","-501":"INSECURE_RESPONSE","-502":"NO_PRIVATE_KEY_FOR_CERT","-503":"ADD_USER_CERT_FAILED","-504":"INVALID_SIGNED_EXCHANGE","-505":"INVALID_WEB_BUNDLE","-506":"TRUST_TOKEN_OPERATION_FAILED","-507":"TRUST_TOKEN_OPERATION_SUCCESS_WITHOUT_SENDING_REQUEST","-601":"FTP_FAILED","-602":"FTP_SERVICE_UNAVAILABLE","-603":"FTP_TRANSFER_ABORTED","-604":"FTP_FILE_BUSY","-605":"FTP_SYNTAX_ERROR","-606":"FTP_COMMAND_NOT_SUPPORTED","-607":"FTP_BAD_COMMAND_SEQUENCE","-701":"PKCS12_IMPORT_BAD_PASSWORD","-702":"PKCS12_IMPORT_FAILED","-703":"IMPORT_CA_CERT_NOT_CA","-704":"IMPORT_CERT_ALREADY_EXISTS","-705":"IMPORT_CA_CERT_FAILED","-706":"IMPORT_SERVER_CERT_FAILED","-707":"PKCS12_IMPORT_INVALID_MAC","-708":"PKCS12_IMPORT_INVALID_FILE","-709":"PKCS12_IMPORT_UNSUPPORTED","-710":"KEY_GENERATION_FAILED","-712":"PRIVATE_KEY_EXPORT_FAILED","-713":"SELF_SIGNED_CERT_GENERATION_FAILED","-714":"CERT_DATABASE_CHANGED","-800":"DNS_MALFORMED_RESPONSE","-801":"DNS_SERVER_REQUIRES_TCP","-802":"DNS_SERVER_FAILED","-803":"DNS_TIMED_OUT","-804":"DNS_CACHE_MISS","-805":"DNS_SEARCH_EMPTY","-806":"DNS_SORT_ERROR","-808":"DNS_SECURE_RESOLVER_HOSTNAME_RESOLUTION_FAILED"},j=["window.getXXCViewID = function(){return '{id}';};","window.getXXCCardFullWidth = function(){return {cardWidth};};","window.callXXCCommand = function(command, options, ...params) {","var url = command + '/';",'if (typeof options === "string") url += [options, ...params].map(x => encodeURIComponent(x)).join("/");','else if (Array.isArray(options)) url += options.map(x => encodeURIComponent(x)).join("/");','else if (typeof options === "object") {',"url += '?';","for (const name in options) {","if (options.hasOwnProperty(name)) {","if (url[url.length - 1] !== '?') url += '&';","url += name + '=' + encodeURIComponent(options[name]);","}","}","}","window.open('xxc:' + url, '_blank');","};","window.setXXCViewStyle = function(style, options) {","if (style && typeof style !== 'string') style = JSON.stringify(style);","var commandLine = 'updateViewStyle/{id}'","if (style !== undefined) commandLine += '/' + encodeURIComponent(style);","window.callXXCCommand(commandLine, options);","};","window.showXXCView = function(show) {if(show === undefined) show = true; setXXCViewStyle(null, {show: !!show})};","window.adjustXXCViewHeight = function(height, onlyIncrease) {","height = height || document.body.clientHeight;","if (onlyIncrease && window.lastXXCViewHeight && height < window.lastXXCViewHeight) return;","window.lastXXCViewHeight = height;","window.setXXCViewStyle({height: height});","return height;","};","if ({autoHeight}) window.adjustXXCViewHeight();",'window.dispatchEvent(new Event("xuan-ready"));',"window.xuanReady = true;"].join("\n");n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(n=t?(n=k(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===w(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return C(r)}}(o);function o(e){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");E(C(t=n.call(this,e)),"handleWebviewElementReady",(function(e){e=e.target,(t._webview=e).addEventListener("did-start-loading",t.handleLoadingStart),e.addEventListener("did-finish-load",t.handleLoadingStop),e.addEventListener("did-stop-loading",t.handleLoadingStop),e.addEventListener("page-title-updated",t.handlePageTitleChange),e.addEventListener("did-fail-load",t.handleLoadFail),e.addEventListener("new-window",t.handleNewWindow),e.addEventListener("dom-ready",t.handleDomReady),e.addEventListener("will-navigate",t.handleWillNavigate)})),E(C(t),"handleWillNavigate",(function(e){var n=t.props.onNavigate;n&&n(e.url,e)})),E(C(t),"handleNewWindow",(function(e){var n,r=e.url;if(r.startsWith("xxc://webview/alert/"))return t.setState((function(e){return e=e.alertMessages||[],{alertMessages:[].concat(S(e),[decodeURIComponent(r.substring("xxc://webview/alert/".length))])}}));t._lastNewWindowEvent&&t._lastNewWindowEvent.url===r&&e.timeStamp-t._lastNewWindowEvent.timeStamp<=1e3||(t._lastNewWindowEvent={timeStamp:e.timeStamp,url:r},(n=t.props.modalId)&&(r=r.replace("closeModal","closeModal/".concat(n))),e.preventDefault(),(0,l.openUrl)(r,null,e,{modalId:n}))})),E(C(t),"handlePageTitleChange",(function(e){t.pageTitle=e.title;var n=t.props.onPageTitleUpdated;n&&n(e.title,e.explicitSet)})),E(C(t),"handleLoadingStart",(function(){var e=t.props.onLoadingChange;e&&e(!0),t.setState({errorCode:null,errorDescription:null})})),E(C(t),"handleLoadFail",(function(e){var n,r=e.errorCode,o=e.errorDescription,a=e.validatedURL;-3!==r&&((n=t.props.onLoadingChange)&&n(!1,r,o,a),t.setState({errorCode:r,errorDescription:o,domReady:!0}),DEBUG&&console.error("Cannot load webview",e))})),E(C(t),"handleLoadingStop",(function(){var e=t.props.onLoadingChange;e&&e(!1),t.setState({domReady:!0})})),E(C(t),"handleDomReady",(function(){var e,n,r,o=C(t).webview,a=(p=t.props).onDomReady,i=p.fluidWidth,l=p.showCondition,s=p.style,u=p.insertCss,f=p.executeJavaScript,d=p.onExecuteJavaScript,p=p.injectData,h=(u&&(o.insertCSS(u),DEBUG&&console.log("Webview.insertCSS",u)),o.executeJavaScript((0,c.formatString)(j,{id:t.webviewId,autoHeight:s&&"auto"===s.height,cardWidth:"function"==typeof i?i():i||0})+(p?"\nwindow.getXXCInjectData = function() {return ".concat(JSON.stringify(p),";}"):""),!1),f&&(n=!1,"object"===w(f)?(e=f.code,u=f.userGesture,n=void 0!==u&&u):e=f,o.executeJavaScript(e,n).then((function(){"function"==typeof d&&d(),DEBUG&&console.log("Webview.executeJavaScript",{code:e,userGesture:n,webview:o})})).catch((function(t){DEBUG&&console.log("Webview.executeJavaScript with error",{code:e,userGesture:n,webview:o,error:t})}))),t.props.injectForm);h&&("string"==typeof h&&(h=JSON.parse(h)),r=["(function(){"],Object.keys(h).forEach((function(e){var t;e&&"$"!==e[0]&&(t=(t=h[e])&&t.replace(/`/g,"\\`"),r.push("document.querySelectorAll('".concat(e,"').forEach(ele => {if(ele.tagName === 'INPUT' || ele.tagName === 'SELECT' || ele.tagName === 'TEXTAREA') {ele.value = `").concat(t,"`;}});")))})),["click","submit","focus","input","paste"].forEach((function(e){var t=h["$".concat(e)];t&&r.push("document.querySelectorAll('".concat(t,"').forEach(ele => {ele.dispatchEvent(new Event('").concat(e,"'));});"))})),r.push("}());"),s=r.join("\n"),DEBUG&&console.log("Webview.injectForm",{injectForm:h,injectScriptCode:s}),o.executeJavaScript(s,!1).then((function(){DEBUG&&console.log("Webview.injectForm.finish",h)})).catch()),a&&a(o),i={domReady:!0},t.state.loading&&"domReady"===l&&(i.loading=!1),t.setState(i)})),E(C(t),"handleClickAlertButton",(function(){return t.setState((function(e){return(e=e.alertMessages||[]).length?(e.shift(),{alertMessages:S(e)}):{alertMessages:e}}))})),t.webviewId=(0,i.default)();var r=e.type;return t.isWebview="auto"===r&&P||"webview"===r,t.isIframe=!t.isWebview,t.state={errorCode:null,errorDescription:null,domReady:!1,extraStyle:null,alertMessages:null,loading:"immediately"!==e.showCondition},t}return t=o,(e=[{key:"componentDidMount",value:function(){var e,t,n,r=this;this.isIframe&&(e=this.webview.iframe,t=!0,e.onload=function(){"loading"!==e.contentWindow.document.readyState?(r.handleDomReady(),r.handleLoadingStop()):(r.handleLoadingStart(),t&&(t=!0,e.contentWindow.document.addEventListener("DOMContentLoaded",(function(){r.handleDomReady()}))))},"loading"!==e.contentWindow.document.readyState&&this.handleDomReady()),this.webviewUpdateStyleHandler=(0,s.onUpdateViewStyle)(this.webviewId,(function(e,t){t&&((n=r.state.loading)&&(t.show||!1===t.hide||"false"===t.hide)?r.setState({loading:!1}):n||!t.hide&&!1!==t.show&&"false"!==t.show||r.setState({loading:!0}));var n=r.props.modalId;n?(0,s.requestUpdateViewStyle)(n,e):void 0!==e&&r.setState({extraStyle:e})})),this.state.loading&&(n=this.props.maxLoadingTime,this.loadingTimerID=setTimeout((function(){r.setState({loading:!1}),r.loadingTimerID=null}),n))}},{key:"componentWillUnmount",value:function(){var e=this.webview;e&&(this.isWebview?(e.removeEventListener("did-start-loading",this.handleLoadingStart),e.removeEventListener("did-stop-loading",this.handleLoadingStop),e.removeEventListener("page-title-updated",this.handlePageTitleChange),e.removeEventListener("did-fail-load",this.handleLoadFail),e.removeEventListener("new-window",this.handleNewWindow),e.removeEventListener("dom-ready",this.handleDomReady),e.removeEventListener("will-navigate",this.handleWillNavigate)):this.isIframe&&(e=e.iframe)&&(e.onoad=null)),u.default.off(this.webviewUpdateStyleHandler),this.loadingTimerID&&(clearTimeout(this.loadingTimerID),this.loadingTimerID=null)}},{key:"webview",get:function(){if(this.isWebview)return this._webview;var e=document.getElementById(this.webviewId);return e=e&&this.isIframe?{contentWindow:e.contentWindow,iframe:e,reload:function(){e.contentWindow.location.reload()},insertCSS:function(t){var n=e.contentWindow.document,r=n.createElement("style");r.innerHTML=t,n.head.appendChild(r)},executeJavaScript:function(t,n,r){var o=e.contentWindow.document,a=o.createElement("script");a.innerHTML=t,o.body.appendChild(a),r&&r()},loadURL:function(t){e.contentWindow.location.href=t},getURL:function(){return e.contentWindow.location.href},get src(){return e.contentWindow.location.href},stop:function(){e.contentWindow.stop()}}:e}},{key:"reloadWebview",value:function(){var e=this.webview;e&&(0<arguments.length&&void 0!==arguments[0]&&arguments[0]?e.reloadIgnoringCache():e.reload())}},{key:"render",value:function(){var e=(s=this.props).className,t=s.src,n=s.style,o=s.hideBeforeDOMReady,i=s.loadingContent,l=s.nodeintegration,s=s.useMobileAgent,u=(v=this.state).errorCode,c=v.errorDescription,d=v.domReady,g=v.extraStyle,b=v.loading,v=v.alertMessages;(n=_(_(_({minHeight:"30px"},n),this.webviewStyle),g)).width&&"number"==typeof n.width&&(n.width="".concat(n.width,"px")),n.height&&"number"==typeof n.height&&(n.height="".concat(n.height,"px")),this.webviewStyle=n,g=(0,y.getCurrentUser)()||{account:"default",backendURL:"default"};var w,S,O=[];return t&&(this.isWebview?(w="file://".concat(process.env.APP_ROOT,"/assets/webview-preload.js"),S=(0,p.loadLazyModule)("react-electron-web-view"),O.push(r.default.createElement("div",{key:"webview",className:(0,a.classes)("webview fade in",e,{in:!o||d,"is-loading":b}),style:n},r.default.createElement(S,{src:t,className:"dock fluid-v fluid",nodeintegration:!!l||void 0,preload:w,useMobileAgent:s||void 0,onDidAttach:this.handleWebviewElementReady,useragent:"".concat(navigator.userAgent," xuanxuan/").concat(h.default.pkg.name,"/").concat(h.default.pkg.version),allowpopups:!0,webpreferences:"nativeWindowOpen = no, disableDialogs = ".concat(this.props.disableDialogs),partition:"persist:".concat(g.account,"+").concat(g.backendURL)}),Array.isArray(v)&&0<v.length&&r.default.createElement("div",{className:"dock darken center-content"},r.default.createElement("div",{className:"rounded layer box"},r.default.createElement("p",null,v[0]),r.default.createElement("button",{type:"button",className:"btn rounded primary btn-wide",onClick:this.handleClickAlertButton},m.default.string("common.confirm","OK"))))))):O.push(r.default.createElement("div",{className:(0,a.classes)("webview fade in",e,{in:!o||d,"is-loading":b}),style:n},r.default.createElement("iframe",{title:t,id:this.webviewId,src:t,sandbox:"allow-forms allow-modals allow-pointer-lock allow-popups allow-presentation allow-scripts allow-same-origin",scrolling:"auto",allowTransparency:"true",hidefocus:!0,frameBorder:"0",className:"dock fluid-v fluid no-margin user-selectable"}))),u&&O.push(r.default.createElement("div",{className:"dock box gray overflow-auto",key:"errorTip",style:{top:40}},r.default.createElement("h1",null,"ERROR ",u,": ",T["".concat(u)]),r.default.createElement("h2",null,t),r.default.createElement("div",null,c)))),t&&!b||!1===i||(S=null,S=r.default.isValidElement(i)?i:r.default.createElement("div",{className:"fluid center-content column"},r.default.createElement("div",{className:"has-padding-xl"},r.default.createElement(f.default,null)),r.default.createElement("div",{className:"content muted small x-text-ellipsis"},i||this.pageTitle||t)),O.push(r.default.createElement("div",{key:"loading",className:"webview-loading has-padding-sm center-content flex-auto"},S))),1<O.length?O:O[0]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent),E(t.default=n,"propTypes",{className:o.default.string,onLoadingChange:o.default.func,onPageTitleUpdated:o.default.func,src:o.default.string,insertCss:o.default.string,executeJavaScript:o.default.oneOfType([o.default.string,o.default.object]),onExecuteJavaScript:o.default.func,onNavigate:o.default.func,onDomReady:o.default.func,injectForm:o.default.any,injectData:o.default.any,useMobileAgent:o.default.bool,nodeintegration:o.default.bool,hideBeforeDOMReady:o.default.bool,style:o.default.object,type:o.default.string,modalId:o.default.string,fluidWidth:o.default.oneOfType([o.default.number,o.default.func]),showCondition:o.default.oneOf(["immediately","domReady","manual"]),loadingContent:o.default.node,maxLoadingTime:o.default.number,disableDialogs:o.default.bool}),E(n,"defaultProps",{className:null,onLoadingChange:null,onPageTitleUpdated:null,src:null,insertCss:null,executeJavaScript:null,onExecuteJavaScript:null,onNavigate:null,injectForm:null,injectData:null,onDomReady:null,useMobileAgent:!1,nodeintegration:!1,hideBeforeDOMReady:!0,style:null,modalId:null,fluidWidth:null,type:"auto",showCondition:"immediately",loadingContent:null,maxLoadingTime:1e4,disableDialogs:!0})},30505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConferenceByCondition=function(e,t,n,r){return c.apply(this,arguments)};var r=s(n(24260)),o=n(15973),a=s(n(74101)),i=s(n(83047)),l=n(44374);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function c(){var e;return e=function*(e,t,n,s){var u;return(t=yield r.default.sendAndListen({method:"conferenceGetByCondition",params:[e,{isCreateByMe:t},{pageID:n,recPerPage:s}]},!0)).isSuccess&&t.data&&Array.isArray(t.data)?(n="closed"===e?t.data.filter((function(e){return Boolean(null==e?void 0:e.number)})).map((function(e){var t=new i.default({name:e.name,number:e.number,isOne2One:!1,status:e.status,room:e.room||e.rid});return t.update(e),t})):(t.data.filter((function(e){return Boolean(null==e?void 0:e.number)})).forEach((function(e){(0,l.updateConference)(e)})),t.data.filter((function(e){return Boolean(null==e?void 0:e.number)})).map((function(e){return(0,l.getConference)(e.number)}))),{conferences:"onGoing"===e?((s=n).sort((function(e,t){return t.openedDate-e.openedDate})),u=(0,o.getCurrentUserID)(),s.sort((function(e,t){var n=0;return e.participants.has(u)&&(n+=f.joined),e.isCurrentUserInvited&&(n+=f.invited),e.cgid&&a.default.getChat(e.cgid)&&(n+=f.hasChat),(e.isIgnored(u)||e.haveJoinedOrIgnoredBefore(u))&&(n+=f.ignore),e=0,t.participants.has(u)&&(e+=f.joined),t.isCurrentUserInvited&&(e+=f.invited),t.cgid&&a.default.getChat(t.cgid)&&(e+=f.hasChat),(t.isIgnored(u)||t.haveJoinedOrIgnoredBefore(u))&&(e+=f.ignore),e-n})),s):n,pager:{pageID:null!=(e=t.pager.pageID)?e:1,recPerPage:null!=(s=t.pager.recPerPage)?s:8,recTotal:null!=(n=t.pager.recTotal)?n:0}}):{conferences:[],pager:{pageID:1,recPerPage:8,recTotal:0}}},(c=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,l,"next",e)}function l(e){u(a,r,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}var f={ignore:1,leave:10,hasChat:100,invited:1e3,joined:1e4}},72205:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConferenceAppCardBrief=function(e){var t=e.conference,n=void 0!==(n=e.showNote)&&n,r=void 0!==(r=e.bigText)&&r,g=(e=void 0===(e=e.showParticipants)||e,function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),1!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||_(e,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.default)())[0]),b=[],w=(0,a.default)(t.startTime||t.openedDate);C=w.isSame((0,a.default)(),"day")?"".concat(i.default.string("common.time.today")," ").concat(w.format("HH:mm")):w.isSame((0,a.default)().add(1,"day"),"day")?"".concat(i.default.string("common.time.tomorrow")," ").concat(w.format("HH:mm")):w.format("MM-DD HH:mm");var S,O=null,M=null;t.endTime&&(S=(0,a.default)(t.endTime),O=" - ".concat(S.format("HH:mm")),S.day()!==(0,a.default)(t.startTime).day()&&(O+=" ".concat(i.default.string("common.morrow"))),M=" ".concat((0,y.calculateDuration)(w,S))),b.push(l.createElement(l.Fragment,{key:"conference.app.card.time"},l.createElement("div",null,g.string("conference.time")),l.createElement("div",{className:"font-bold relative bottom-[0.5px]"},C,O,M))),b.push(l.createElement(l.Fragment,{key:"conference.app.card.number"},l.createElement("div",null,g.string("conference.number")),l.createElement("div",{className:"flex gap-1 items-center cursor-pointer w-fit",onClick:function(e){e.stopPropagation(),e=s.default.access("clipboard");var n=(0,u.addSpaceForConferenceNumber)(t.number);e.write?e.write({text:n}):e.writeText&&e.writeText(n),(0,c.showMessager)(i.default.format("common.copyConferenceNumber.messager",n),{autoHide:2400})}},(0,u.addSpaceForConferenceNumber)(t.number),l.createElement(f.default,{color:"var(--color-primary)",name:"mdi-content-copy",size:1})))),b.push(l.createElement(l.Fragment,{key:"conference.app.card.openedBy"},l.createElement("div",null,g.string("conference.openedBy")),l.createElement("div",null,l.createElement("div",{className:"truncate flex items-center cursor-pointer w-fit",onClick:function(e){e.stopPropagation(),(0,d.showContextMenu)("member.profile",{event:e,showMentionBtn:!1,member:t.openedBy,options:{onItemClick:function(){return!1}}})}},l.createElement(p.default,{size:16,memberID:t.openedBy,className:"mr-1"}),l.createElement(h.default,{memberID:t.openedBy})))));var C=t.isClosed?Array.from(t.subscribers):Array.from(new Set([].concat(v(null!=(w=t.participantsList)?w:[]),v(null!=(S=t.invitee)?S:[]))));return e&&C.length&&b.push(l.createElement(l.Fragment,{key:"conference.invite.card.participants"},l.createElement("div",null,g.string("conference.participants")),l.createElement("div",{className:"truncate-2"},C.map((function(e,t,n){return l.createElement(h.default,{memberID:e,key:e},t!==n.length-1?g.string("common.separator"):null)}))))),n&&t.note&&b.push(l.createElement(l.Fragment,{key:"conference.app.card.note"},l.createElement("div",null,g.string("common.notes")),l.createElement("div",null,t.note))),l.createElement("div",{className:(0,m.classes)("grid gap-y-1 gap-x-2 text-justify",{small:!r}),style:{gridTemplateColumns:"fit-content(60%) 1fr"}},b)};var o=b(n(41584)),a=b(n(30381)),i=b(n(61862)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),s=b(n(94128)),u=n(57485),c=n(68788),f=b(n(87137)),d=n(98649),p=b(n(67940)),h=b(n(86625)),m=n(64393),y=n(67994);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function v(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},80583:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConferenceAppCard=function(e){var t=e.conference;return a.createElement("div",{className:"x-outline h-[200px] w-[260px] p-2 rounded shadow-md transition-all flex flex-col justify-between hover:border-[var(--color-primary)]",onClick:function(){(0,s.showConferenceDetailDialog)(t)}},a.createElement("div",null,a.createElement("div",{className:"flex items-center justify-between mb-2"},a.createElement("div",{"data-hint":t.topic},a.createElement("div",{className:"font-bold truncate max-w-[210px]"},t.topic)),a.createElement(o.default,{icon:"mdi-dots-vertical",className:"relative left-1 rounded",click:function(e){e.stopPropagation(),(0,l.showContextMenu)("conference.app.card.actions",{event:e,conference:t})}})),a.createElement(i.ConferenceAppCardBrief,{conference:t})),a.createElement(u.ConferenceCardButton,{conference:t}))};var o=(t=n(55072))&&t.__esModule?t:{default:t},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),i=n(72205),l=n(98649),s=n(54572),u=n(14668);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},54572:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CONFERENCE_DETAIL_DIALOG_ID=void 0,t.ConferenceAppDetailCard=S,t.showConferenceDetailDialog=function(e){a.default.show({id:C,style:{width:450},title:o.createElement("span",{className:"text-[14px] strong text-gray-900 dark:text-gray-50"},e.topic),content:o.createElement(S,{conference:e}),actions:!1,headerButtons:[{id:"conference.app.card.actions",iconName:"mdi-dots-vertical",onClick:function(t){(0,p.showContextMenu)("conference.app.card.actions",{event:t,conference:e})}}]})};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=y(n(48516)),i=n(72205),l=y(n(84431)),s=y(n(26774)),u=y(n(61862)),c=y(n(91705)),f=y(n(86625)),d=y(n(67940)),p=n(98649),h=n(64393),m=n(14668);function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.conference,n=(0,o.useMemo)((function(){var e;return t.isClosed?Array.from(t.subscribers):Array.from(new Set([].concat(v(null!=(e=t.participantsList)?e:[]),v(null!=(e=t.invitee)?e:[]))))}),[]),r=(e=b((0,o.useState)(null),2))[0],a=e[1],f=((0,o.useEffect)((function(){n.length?l.default.asyncGetMembers(n).then((function(e){var t=new Map;t.set(0,{deptName:u.default.string("member.dept.none"),members:[]}),null!=e&&e.forEach((function(e){var n;e.dept?(n=t.get(e.dept))?n.members.push(e):t.set(e.dept,{deptName:s.default.getDeptName(e.dept),members:[e]}):t.get(0).members.push(e)})),a(t)})).catch():a((new Map).set(0,{deptName:u.default.string("member.dept.none"),members:[]}))}),[]),e=null!=(e=null==(e=t.participants)?void 0:e.size)?e:0,new Set([].concat(v(null!=(f=t.participants)?f:[]),v(null!=(f=t.invitee)?f:[]))).size);return o.createElement("div",{className:"text-[12px] text-gray-600 dark:text-gray-50 pt-1 pb-3"},o.createElement("div",{className:"shadow-divider pb-[20px]"},o.createElement(i.ConferenceAppCardBrief,{conference:t,showNote:!0,bigText:!0,showParticipants:!1})),o.createElement("div",{className:"flex gap-1 items-end mt-[20px] mb-[17px]"},o.createElement("div",null,u.default.string("conference.participantsList")),!t.isClosed&&o.createElement("div",{className:"text-[12px] text-gray-400 dark:text-gray-600"},"(",u.default.format("conference.detail.joinStatus",f,e),")")),r?o.createElement(M,{conference:t,deptMemberMap:r}):o.createElement(c.default,null),o.createElement("div",{className:"flex flex-col items-stretch pt-[20px] pb-[10px] px-28"},o.createElement(m.ConferenceCardButton,{conference:t})))}function O(e){return function(t){(0,p.showContextMenu)("member.profile",{event:t,showMentionBtn:!1,member:e,options:{onItemClick:function(){return!1}}})}}function M(e){var t=e.conference,n=(e=e.deptMemberMap).get(0),r=(e=Array.from(e.entries()).filter((function(e){return 0!==b(e,1)[0]})),1);return o.createElement("div",{className:(0,h.classes)("title my-1 grid gap-y-[8px] gap-x-[10px] max-h-[300px] overflow-y-auto pb-[20px]",{"shadow-divider":!t.isClosed}),style:{gridTemplateColumns:"minmax(0, 80px) minmax(0, 1fr) minmax(0, 1fr)"}},e.map((function(e){var n=(e=b(e,2))[0],a=(e=e[1]).deptName,i=(e=e.members,Math.ceil(e.length/2)),l=r;return r+=i,o.createElement(o.Fragment,{key:"dept-".concat(n)},o.createElement("div",{className:"truncate text-gray-500 dark:text-gray-400 mt-[8px]",style:{gridRow:"".concat(l," / span ").concat(i),gridColumn:1}},a),e.map((function(e,n){var r=s.default.getRoleName(e.role);return o.createElement("div",{key:"member-".concat(e.id),className:(0,h.classes)("flex items-end",{"mt-[8px]":0===Math.trunc(n/2)}),style:{gridColumn:n%2==0?2:3}},o.createElement("div",{className:"relative bottom-0.5 cursor-pointer",onClick:O(e.id)},o.createElement(d.default,{size:16,memberID:e.id,className:"mr-1"}),t.participants.has(e.id)&&o.createElement("img",{className:"absolute -bottom-[13px] right-[3px] w-2.5 h-2.5",src:k,alt:"check"})),o.createElement("div",{className:"truncate cursor-pointer",onClick:O(e.id)},o.createElement(f.default,{memberID:e.id}),r&&o.createElement("span",{className:"text-[10px] ml-1"},"(",r,")")))})))})),0<n.members.length&&o.createElement("div",{className:"truncate text-gray-500 dark:text-gray-400 mt-[8px]",style:{gridRow:"".concat(r),gridColumn:1}},n.deptName),n.members.map((function(e,n){var r=s.default.getRoleName(e.role);return o.createElement("div",{key:"member-".concat(e.id),className:(0,h.classes)("flex items-end",{"mt-[8px]":0===Math.trunc(n/2)}),style:{gridColumn:n%2==0?2:3}},o.createElement("div",{className:"relative bottom-0.5 cursor-pointer",onClick:O(e.id)},o.createElement(d.default,{size:16,memberID:e.id,className:"mr-1"}),t.participants.has(e.id)&&o.createElement("img",{className:"absolute -bottom-[13px] right-[3px] w-2.5 h-2.5",src:k,alt:"check"})),o.createElement("div",{className:"truncate cursor-pointer",onClick:O(e.id)},o.createElement(f.default,{memberID:e.id}),r&&o.createElement("span",{className:"text-[10px] ml-1"},"(",r,")")))})))}var C="CONFERENCE_DETAIL_DIALOG";t.CONFERENCE_DETAIL_DIALOG_ID=C;var k="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48cGF0aCBmaWxsPSIjMERCQjdEIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iI0VBRjVGRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Im00IDI0IDUtNSAxMCAxMEwzOSA5bDUgNS0yNSAyNUw0IDI0WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},15411:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(r=_(o.useState([]),2))[0],t=r[1],n=(0,l.useSignal)(!1),r=_((0,i.default)(),1)[0],a=(y=(0,d.default)()).updateSymbol,m=y.forceUpdate,y=(0,p.getCurrentUser)(),g=(0,l.useSignal)(!1);return(0,o.useEffect)((function(){n.value||(n.value=!0,(0,s.getConferenceByCondition)(S.value.type,S.value.createByMe,S.value.pageID,S.value.recPerPage).then((function(e){t(e.conferences),S.value=v(v({},S.value),{},{pageID:e.pager.pageID,recTotal:e.pager.recTotal,recPerPage:e.pager.recPerPage,pageTotal:Math.ceil(e.pager.recTotal/e.pager.recPerPage)}),n.value=!1,g.value=!1})).catch((function(){n.value=!1,g.value=!0,DEBUG&&console.log("getConferenceByCondition error")})))}),[S.value.type,S.value.createByMe,S.value.pageID,a,y]),(0,o.useEffect)((function(){var e=c.default.on("conference.app.grid.update",m);return function(){return c.default.off(e)}}),[]),a=null,a=g.value?o.createElement("div",{className:"text-gray pt-2 ml-6"},r.string("error.HTTP_STATUS_500")):n.value?o.createElement("div",{className:"text-gray pt-2 ml-0.5 h-full flex justify-center items-center"},o.createElement(h.default,null)):0===e.length?o.createElement("div",{className:"text-gray pt-2 ml-6"},r.string("conference.app.search.noData")):o.createElement("div",{className:"flex gap-4 flex-wrap content-start py-2 px-5 flex-grow overflow-y-auto overflow-x-hidden"},e.map((function(e){return o.createElement(u.ConferenceAppCard,{key:e.number,conference:e})}))),o.createElement(o.Fragment,null,o.createElement(O,{forceUpdate:m}),a,"onGoing"!==S.value.type&&o.createElement(f.default,{className:"self-end",page:S.value.pageID,recPerPage:S.value.recPerPage,recTotal:S.value.recTotal,pageTotal:S.value.pageTotal,onPageChange:function(e){S.value=v(v({},S.value),{},{pageID:e})}}))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=y(n(55072)),i=y(n(41584)),l=n(59726),s=n(30505),u=n(80583),c=y(n(65286)),f=y(n(82371)),d=y(n(6015)),p=n(15973),h=y(n(91705)),m=n(64393);function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=(0,l.signal)({type:"onGoing",createByMe:!1,pageID:1,recPerPage:8,recTotal:0,pageTotal:0});function O(e){e=e.forceUpdate;var t=_((0,i.default)(),1)[0];return o.createElement("div",{className:"flex items-center justify-between mt-2 pt-2 pl-2.5 x-outline border-0 border-t"},o.createElement("div",{className:"flex items-center"},o.createElement("div",{className:"flex ml-3 mr-4 items-center gap-2"},o.createElement("div",{className:(0,m.classes)("flex justify-center",{"font-bold border-0 border-b-2 border-[var(--color-primary)] border-solid":"onGoing"===S.value.type})},o.createElement("div",{className:"p-1 hover:bg-gray-700/10 cursor-pointer",onClick:function(){S.value={createByMe:!1,type:"onGoing",pageID:1,recPerPage:8,recTotal:0,pageTotal:0}}},t.string("conference.app.onGoing"))),o.createElement("div",{className:(0,m.classes)("flex justify-center",{"font-bold border-0 border-b-2 border-[var(--color-primary)] border-solid":"scheduled"===S.value.type})},o.createElement("div",{className:"p-1 hover:bg-gray-700/10 cursor-pointer",onClick:function(){S.value={createByMe:!1,type:"scheduled",pageID:1,recPerPage:8,recTotal:0,pageTotal:0}}},t.string("conference.app.scheduled"))),o.createElement("div",{className:(0,m.classes)("flex justify-center",{"font-bold border-0 border-b-2 border-[var(--color-primary)] border-solid":"closed"===S.value.type})},o.createElement("div",{className:"p-1 hover:bg-gray-700/10 cursor-pointer",onClick:function(){S.value={createByMe:!1,type:"closed",pageID:1,recPerPage:8,recTotal:0,pageTotal:0}}},t.string("conference.app.closed")))),o.createElement("div",{className:"flex pl-5 x-outline border-0 border-l items-center gap-1 checkbox"},o.createElement("input",{type:"checkbox",id:"createByMe",name:"createByMe",checked:S.value.createByMe,onChange:function(e){S.value=v(v({},S.value),{},{pageID:1,recPerPage:8,recTotal:0,pageTotal:0,createByMe:e.currentTarget.checked})}}),o.createElement("label",{className:"before:!rounded",htmlFor:"createByMe"},t.string("conference.app.createByMe")))),o.createElement(a.default,{className:"rounded mr-2",label:t.string("common.refresh"),click:e,icon:"mdi-refresh"}))}},14668:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConferenceCardButton=function(e){var t=e.conference,n=(e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),1!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,1):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.default)())[0],(0,l.default)().forceUpdate);return t.isParticipant((0,s.getCurrentUserID)())?o.createElement(u.default,{className:"x-outline text-primary !bg-[var(--color-primary-90)] rounded hover:!bg-[var(--color-primary)] hover:!text-[var(--color-white)] transition-all",label:a.default.string("conference.switchToConferenceWindow"),click:function(e){e.stopPropagation(),(0,c.isOpenedConferenceWindow)(t.number)&&(0,c.openConferenceWindow)(t.number)}}):t.isOpen&&t.isCurrentUserInvited&&!t.isIgnored((0,s.getCurrentUserID)())?o.createElement("div",{className:"flex gap-2"},o.createElement(u.default,{className:"x-outline text-primary !bg-[var(--color-primary-90)] rounded hover:!bg-[var(--color-primary)] hover:!text-[var(--color-white)] transition-all flex-grow",label:e.string("conference.join"),click:function(e){e.stopPropagation(),(0,f.executeCommand)("joinConference",t.number).then((function(){n()}))}}),o.createElement(u.default,{className:"x-outline rounded flex-grow",label:e.string("conference.ignore"),click:function(e){e.stopPropagation(),(0,f.executeCommand)("ignoreConference",t.number).then((function(){n()}))}})):t.isNotStarted||t.isOpen?o.createElement(u.default,{className:"x-outline text-primary !bg-[var(--color-primary-90)] rounded hover:!bg-[var(--color-primary)] hover:!text-[var(--color-white)] transition-all",label:e.string("conference.join"),click:function(e){e.stopPropagation(),(0,f.executeCommand)("joinConference",t.number).then((function(){n()}))}}):null};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=p(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=d(n(61862)),i=d(n(41584)),l=d(n(6015)),s=n(15973),u=d(n(55072)),c=n(73630),f=n(78717);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},31524:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=b((0,c.default)(),1)[0],n=(0,p.getCurrentUser)(),r=(0,h.default)().forceUpdate;return(0,o.useEffect)((function(){var e=(0,p.onUserLogin)(r),t=(0,p.onUserLogout)(r);return function(){m.default.off(e,t)}}),[]),o.createElement("div",{className:(0,a.classes)("dock app-conferences-view white",e.className,{hidden:e.hidden})},o.createElement("div",{className:"h-screen flex flex-col"},o.createElement("header",{className:"app-page-header heading user-app-dragable"},o.createElement("div",{className:"title"},t.string("common.audioVideoConference"))),o.createElement(_,null),n&&o.createElement(d.default,null)))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=n(76774),l=n(57125),s=n(30712),u=n(22821),c=y(n(41584)),f=n(19397),d=y(n(15411)),p=n(15973),h=y(n(6015)),m=y(n(65286));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){var e=[{id:"create",title:(e=b((0,c.default)(),1)[0]).string("conference.create"),icon:s.BsCameraVideo,iconSize:24,onClick:function(){(0,u.createConferenceProcedures)()}},{id:"appointment",title:e.string("conference.appointment"),icon:l.BsCalendar,iconSize:20,onClick:function(){(0,f.showConferenceAppointmentDialog)()}},{id:"join",title:e.string("conference.joinConference"),icon:i.CgEnter,iconSize:20,onClick:function(){(0,u.showDetachedConferenceJoinDialog)()}}];return o.createElement("div",{className:"flex gap-5 px-3"},e.map((function(e){return o.createElement("div",{className:"basis-[130px]",key:e.id},o.createElement("div",{className:"m-2 flex gap-1 bg-[var(--color-primary)] items-center h-[60px] w-full rounded btn text-[var(--color-white)] px-4 shadow",onClick:e.onClick},o.createElement(e.icon,{size:e.iconSize}),o.createElement("span",null,e.title)))})))}},19397:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.showConferenceAppointmentDialog=function(){a.default.show({style:A,enableBackdropClick:!1,id:D,title:i.default.string("conference.appointment"),content:o.createElement(x,{type:"create"}),actions:!1})},t.showConferenceAppointmentEditDialog=function(e){a.default.show({style:A,enableBackdropClick:!1,id:D,title:i.default.string("conference.edit"),content:o.createElement(x,{type:"edit",conference:e}),actions:!1})};var o=k(n(67294)),a=k(n(48516)),i=M(n(61862)),l=M(n(70389)),s=M(n(41584)),u=M(n(87137)),c=n(87094),f=M(n(18620)),d=n(93881),p=M(n(61721)),h=n(59726),m=M(n(30381)),y=n(15973),g=M(n(36940)),b=M(n(32887)),v=n(42012),_=n(83047),w=M(n(65286)),S=n(68788),O=n(78717);function M(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=C(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function E(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){E(a,r,o,i,l,"next",e)}function l(e){E(a,r,o,i,l,"throw",e)}i(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.type,n=e.conference,r=T((0,s.default)(),1)[0],i=(r.name!==m.default.locale()&&m.default.locale(r.name||"zh-cn"),o.useRef(!1)),M=(e=T((0,o.useState)(n?n.topic:""),2))[0],C=e[1],k=(0,h.useSignal)(n&&n.startTime?(0,m.default)(n.startTime):(0,m.default)().add(30,"minute")),E=(0,h.useSignal)(n&&n.endTime?(0,m.default)(n.endTime).diff(k.value,"minutes"):30),j=(e=T((0,o.useState)(null!=(e=null==n?void 0:n.reminderTime)?e:10),2))[0],x=e[1],A=(e=T((0,o.useState)(n?Array.from(n.invitee).filter((function(e){return e!==(0,y.getCurrentUserID)()})):[]),2))[0],I=e[1],L=(e=T((0,o.useState)(null!=(e=null==n?void 0:n.note)?e:""),2))[0],N=e[1],R=((0,o.useEffect)((function(){var e=!1,t=(0,h.effect)((function(){e&&(k.value||E.value)&&(i.current=!0),e=!0}));return function(){return t()}}),[]),e=(0,o.useCallback)((function(){(0,d.showMembersSelectDialog)({selections:A,excludes:[(0,y.getCurrentUserID)()],rejectWhenCancel:!0}).then((function(e){I(e),i.current=!0})).catch((function(e){if("cancel"!==e.message)throw e}))}),[A]),(0,o.useMemo)((function(){return[{value:"0",label:r.string("conference.reminderTime.none")},{value:"5",label:r.string("conference.reminderTime.5Minutes")},{value:"10",label:r.string("conference.reminderTime.10Minutes")},{value:"15",label:r.string("conference.reminderTime.15Minutes")},{value:"30",label:r.string("conference.reminderTime.30Minutes")},{value:"60",label:r.string("conference.reminderTime.1Hour")},{value:"120",label:r.string("conference.reminderTime.2Hours")},{value:"1440",label:r.string("conference.reminderTime.1Day")},{value:"2880",label:r.string("conference.reminderTime.2Days")}]}),[r]));return o.createElement(o.Fragment,null,o.createElement("form",null,o.createElement(l.default,{name:"topic",value:M,label:r.string("conference.topic"),inputProps:c.topicInputProps,placeholder:r.format("conference.defaultAppointmentTopic",(0,y.getCurrentUser)().displayName),onChange:function(e){C(e),i.current=!0}}),o.createElement(p.default,{startTimeSignal:k,timeRangeSignal:E}),o.createElement("div",{className:"control"},o.createElement("label",null,r.string("conference.participantsList")),o.createElement("div",{className:"input rounded min-h-[24px] max-h-[120px] w-full flex flex-wrap gap-1 overflow-x-auto"},o.createElement("div",{className:"text-primary !bg-[var(--color-primary-90)] whitespace-nowrap rounded-full pl-1 flex-none btn btn-sm flex items-center h-[20px] pr-0",onClick:e},o.createElement(u.default,{name:"mdi-plus",className:"!p-0 ml-[-2px]"}),o.createElement("div",{className:"!p-0 text-nowrap text-primary mr-1.5"},r.string("conference.status.open.invite"))),A.map((function(e){return o.createElement(f.default,{key:e,memberID:e,iconClick:function(){return I(A.filter((function(t){return t!==e})))}})})))),o.createElement("div",{className:"control"},o.createElement("label",{htmlFor:"reminderTime"},r.string("conference.reminderTime")),o.createElement("div",{className:"select"},o.createElement("select",{name:"reminderTime",id:"reminderTime",className:"rounded",value:j,onChange:function(e){x(parseInt(e.currentTarget.value,10)),i.current=!0}},R.map((function(e){return o.createElement("option",{key:e.value,value:e.value},e.label)}))))),o.createElement("div",{className:"control"},o.createElement("label",{htmlFor:"note"},r.string("common.notes")),o.createElement("textarea",{id:"note",name:"note",style:{width:"100%"},className:"input rounded resize-none",rows:5,maxLength:150,value:L,onChange:function(e){N(e.currentTarget.value),i.current=!0}}))),o.createElement(g.default,{onClickCancel:P((function*(){i.current&&!(yield a.default.confirm(r.string("conference.appointment.cancelConfirm")))||b.default.hide(D)})),onClickPrimary:P((function*(){var e=k.value.second(0).format("YYYY-MM-DD HH:mm:ss"),o=k.value.clone().add(E.value,"minutes").second(0).format("YYYY-MM-DD HH:mm:ss"),i=(A.unshift((0,y.getCurrentUserID)()),!1);if(!(0,m.default)().isBefore(k.value,"minute")){if(!(yield a.default.confirm(r.string("conference.appointment.finishConfirm"))))return;i=!0}if("create"===t)(0,v.createDetachedConference)(void 0,A,void 0,i?_.ConferenceType.default:_.ConferenceType.scheduled,M||r.format("conference.defaultAppointmentTopic",(0,y.getCurrentUser)().displayName),"",e,o,j,L);else{if(!(0,m.default)(n.startTime).isAfter((0,m.default)().add(5,"minutes"))&&!(yield(0,a.showConfirm)(r.format("conference.editApproachingMeetingConfirm"))))return;try{yield(0,v.editConference)(n.number,"",A,_.ConferenceType.scheduled,M||r.format("conference.defaultAppointmentTopic",(0,y.getCurrentUser)().displayName),"",e,o,j,L)}catch(e){(0,S.showMessager)(e.message,{type:"danger"})}i&&(0,O.executeCommand)("joinConference",n.number),w.default.emit("conference.app.grid.update")}b.default.hide(D)}))}))}var D="conference-appointment-dialog-id",A={width:392}},79913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAT_TOOLBAR_CONFERENCE_CONTEXT_MENU_ID=void 0,t.createChatToolbarConferenceMenuItem=function(e){var t=(0,o.getAllActiveConferenceByCgid)(e.gid).slice().reverse(),n=(0,a.getCurrentUserID)(),s=t.filter((function(e){return e.isParticipant(n)})),c=t.filter((function(e){return e.isCurrentUserInvited&&!s.includes(e)&&!e.isIgnored(n)})),f=(t=t.filter((function(e){return!c.includes(e)&&!s.includes(e)})),[{id:"createConference",label:u.default.string("conference.create"),click:function(){(0,i.createConferenceProcedures)(e)}}]);return(s.length||c.length)&&((f=(0,l.tryAddDividerItem)(f)).push({label:u.default.string("conference.contextMenu.aboutMe"),disabled:!0}),f=[].concat(g(f),g([].concat(g(s),g(c)).map((function(e){return r.default.createElement(S,{key:e.number,conference:e})}))))),t.length&&((f=(0,l.tryAddDividerItem)(f)).push({label:u.default.string("conference.contextMenu.other"),disabled:!0}),f=[].concat(g(f),g(t.map((function(e){return r.default.createElement(S,{key:e.number,conference:e})}))))),f},t.isShowChatConferenceMenuItem=void 0;var r=h(n(67294)),o=n(44374),a=n(15973),i=n(22821),l=n(98649),s=n(64393),u=h(n(61862)),c=n(59726),f=n(28350),d=h(n(32887)),p=h(n(41698));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,c.signal)(!1),_=(t.isShowChatConferenceMenuItem=v,(0,c.signal)({isHover:!1,mouseEvent:null,conference:null})),w="CHAT_TOOLBAR_CONFERENCE_CONTEXT_MENU";function S(e){function t(t){switch(t.type){case"mouseenter":_.value={isHover:!0,mouseEvent:t,conference:e.conference};break;case"mouseleave":var n=t.relatedTarget&&(null==(n=t.relatedTarget.classList)?void 0:n.contains("display-backdrop")),r=t.relatedTarget&&(null==(r=t.relatedTarget.classList)?void 0:r.contains("chat-conference-invite-card"));n||r||(_.value=y(y({},_.value),{},{isHover:!1}))}}var n=e.conference.isParticipant((0,a.getCurrentUserID)());return r.default.createElement("a",{className:"item !py-0.5",onMouseEnter:t,onMouseLeave:t},r.default.createElement("span",{className:(0,s.classes)("title !pl-2  truncate",{"font-bold":n,"text-primary":n})},e.conference.topic))}t.CHAT_TOOLBAR_CONFERENCE_CONTEXT_MENU_ID=w;var O="",M="CONFERENCE_MENU_ITEM_PREVIEW";(0,c.effect)((function(){var e,t;_.value.isHover?(e=(t=_.value.mouseEvent.currentTarget.getBoundingClientRect()).x-400,t=t.y,O=_.value.conference.number,(0,f.showContextMenu)({x:e,y:t},[],{content:r.default.createElement(p.default,{conference:_.value.conference,actionButtonsClickCallback:function(){v.value=!1},isTopButtons:!0}),id:"".concat(M).concat(_.value.conference.number),backdrop:!1,menuClassName:"!p-0"})):d.default.hide("".concat(M).concat(O))})),(0,c.effect)((function(){v.value||(d.default.hide(w),d.default.hide("".concat(M).concat(O)))}))},22821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFERENCE_CREATE_DIALOG_ID=void 0,t.createConferenceProcedures=function(e){return y.apply(this,arguments)},t.showDetachedConferenceCreateDialog=m,t.showDetachedConferenceJoinDialog=function(){o.default.show({enableBackdropClick:!1,id:h,title:i.default.string("conference.joinConference"),content:r.default.createElement(a.default,{type:"join"}),closeButton:!0,actions:!1})};var r=d(n(67294)),o=d(n(48516)),a=d(n(87094)),i=d(n(61862)),l=n(93881),s=n(13501),u=n(42012),c=n(15973),f=n(83047);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var h="conference-create-dialog";function m(e,t){o.default.show({enableBackdropClick:!1,id:h,title:i.default.string("conference.create"),content:r.default.createElement(a.default,{type:"create",chat:e,invitee:t}),closeButton:!0,actions:!1})}function y(){var e;return e=function*(e){if(e&&e.isOne2One)(0,u.createDetachedConference)(e.gid,e.gid.split("&").map((function(e){return+e})).filter((function(e){return e!==(0,c.getCurrentUserID)()})),void 0,f.ConferenceType.default,i.default.format("conference.defaultOne2OneTopic",e.name));else{var t,n={value:!1};try{e&&(t=yield(0,s.showChatMembersSelectDialog)(e.gid,{rejectWhenCancel:!0,openMembersSelectDialog:n,excludes:[(0,c.getCurrentUserID)()],selectTip:i.default.string("conference.selectParticipants")})),n.value&&(t=yield(0,l.showMembersSelectDialog)({selections:t,rejectWhenCancel:!0,excludes:[(0,c.getCurrentUserID)()],selectTip:i.default.string("conference.selectParticipants")}))}catch(e){return}m(e,t)}},(y=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,l,"next",e)}function l(e){p(a,r,o,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}t.CONFERENCE_CREATE_DIALOG_ID=h},41698:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConferenceActions=Y,t.ConferenceBrief=F,t.ConferenceTopic=R,t.default=function(e){var t=e.conference,n=void 0===(n=e.actionButtonsClickCallback)?null:n,r=void 0!==(r=e.isTopButtons)&&r,a=void 0!==(a=e.showFirstConferenceTip)&&a;return e=void 0!==(e=e.hideBrief)&&e,e=t.isOne2One||e?null:o.default.createElement(o.default.Fragment,null,o.default.createElement(R,{conference:t}),o.default.createElement(F,{conference:t})),o.default.createElement("div",{className:"chat-conference-invite-card flex flex-column w-[400px] p-3 gap-2.5 whitespace-pre select-text"},L.value&&a&&(0,f.getCurrentUser)().config.firstTimeConferenceTip?o.default.createElement(N,null):null,r?null:e,o.default.createElement(Y,{conference:t,actionButtonsClickCallback:n}),r?e:null)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=M(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=O(n(86625)),i=O(n(67940)),l=n(14227),s=n(98649),u=O(n(55072)),c=n(64393),f=(t=O(n(61862)),n(15973)),d=n(59726),p=n(57485),h=O(n(99605)),m=O(n(84431)),y=O(n(26774)),g=n(27638),b=n(41425),v=O(n(41584)),_=O(n(30381)),w=n(83047),S=n(67994);function O(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=P(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function k(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=h.default?h.default.getSharedData("membersStore"):m.default,A=h.default?h.default.getSharedData("deptsStore"):y.default,I=h.default?h.default.getSharedData("Lang"):t.default,L=(0,d.signal)(1);function N(){return o.default.createElement("div",{className:"flex justify-between items-center border border-gray-50 p-1 rounded text-gray-500",style:{backgroundColor:"var(--color-warning-pale)"}},o.default.createElement("div",null,I.string("conference.inviteCard.firstTip")),o.default.createElement(u.default,{icon:"mdi-close",click:function(){(0,f.getCurrentUser)().config.firstTimeConferenceTip=!1,L.value++}}))}function R(e){var t=e.conference;return e=e.className,o.default.createElement("div",{className:null!=e?e:"text-base font-medium truncate"},t.topic)}function F(e){var t=e.conference,n=(e=e.displayOptions,e=x({topic:!1,number:!0,startTime:!0,openedBy:!0,participants:!0,departments:!0,note:t.type===w.ConferenceType.scheduled},e),E((0,v.default)(),1)[0]);n.name!==_.default.locale()&&_.default.locale(n.name||"zh-cn");var r,i,l,s,u=(R=E((0,o.useState)(null),2))[0],f=R[1],d=o.default.useRef(null),m=o.default.useRef(null),y=(R=E((0,o.useState)(!1),2))[0],O=R[1],M=(R=E((0,o.useState)(!1),2))[0],P=R[1],T=(R=E((0,o.useState)(!1),2))[0],j=R[1],L=(R=E((0,o.useState)(!1),2))[0],N=R[1],R=((0,o.useEffect)((function(){var e=null,t=0;return d.current&&d.current.clientWidth?O(d.current.clientHeight<d.current.scrollHeight||d.current.clientWidth<d.current.scrollWidth):e=setInterval((function(){10<t&&clearInterval(e),t++,d.current&&d.current.clientWidth&&(O(d.current.clientHeight<d.current.scrollHeight||d.current.clientWidth<d.current.scrollWidth),clearInterval(e))}),100),function(){e&&clearInterval(e)}}),[]),(0,o.useEffect)((function(){var e=null,t=0;return u&&!T&&(m.current&&m.current.clientWidth?j(m.current.clientHeight<m.current.scrollHeight||m.current.clientWidth<m.current.scrollWidth):e=setInterval((function(){10<t&&clearInterval(e),t++,m.current&&m.current.clientWidth&&(j(m.current.clientHeight<m.current.scrollHeight||m.current.clientWidth<m.current.scrollWidth),clearInterval(e))}),100)),function(){e&&clearInterval(e)}}),[u]),[]),F=(e.topic&&t.topic&&R.push(o.default.createElement(o.default.Fragment,{key:"conference.invite.card.topic"},o.default.createElement("div",null,I.string("conference.topic")),o.default.createElement("div",null,t.topic))),e.number&&t.number&&R.push(o.default.createElement(o.default.Fragment,{key:"conference.invite.card.number"},o.default.createElement("div",null,I.string("conference.number")),o.default.createElement("div",null,(0,p.addSpaceForConferenceNumber)(t.number)))),e.startTime&&t.startTime&&(i=(r=(0,_.default)(t.startTime||t.openedDate)).isSame((0,_.default)(),"day")?"".concat(n.string("common.time.today")," ").concat(r.format("HH:mm")):r.isSame((0,_.default)().add(1,"day"),"day")?"".concat(n.string("common.time.tomorrow")," ").concat(r.format("HH:mm")):r.format("MM-DD HH:mm"),l=s=null,t.endTime&&(F=(0,_.default)(t.endTime),s=" - ".concat(F.format("HH:mm")),F.day()!==(0,_.default)(t.startTime).day()&&(s+=" ".concat(n.string("common.morrow"))),l=" ".concat((0,S.calculateDuration)(r,F))),R.push(o.default.createElement(o.default.Fragment,{key:"conference.invite.card.time"},o.default.createElement("div",null,I.string("conference.time")),o.default.createElement("div",null,i,s,l)))),e.openedBy&&R.push(o.default.createElement(o.default.Fragment,{key:"conference.invite.card.openedBy"},o.default.createElement("div",null,I.string("conference.openedBy")),o.default.createElement("div",{className:"truncate"},o.default.createElement(a.default,{memberID:t.openedBy})))),Array.from(new Set([].concat(k(null!=(n=t.participantsList)?n:[]),k(null!=(r=t.invitee)?r:[])))));return e.participants&&F.length&&R.push(o.default.createElement(o.default.Fragment,{key:"conference.invite.card.participants"},o.default.createElement("div",null,I.string("conference.participants")),o.default.createElement("div",{className:"flex justify-between truncate break-keep"},o.default.createElement("div",{className:(0,c.classes)({truncate:!M,"whitespace-normal":M}),ref:d},F.map((function(e,t,n){return o.default.createElement(a.default,{memberID:e,key:e},t!==n.length-1?I.string("common.separator"):null)})),M?o.default.createElement("span",{className:"cursor-pointer inline-flex align-middle",onClick:function(){P(!1)}},o.default.createElement(b.IoChevronUpSharp,{color:"var(--color-primary)",size:"14px"})):null),y&&!M?o.default.createElement("span",{className:"cursor-pointer inline-flex align-middle",onClick:function(){P(!0)}},o.default.createElement(g.IoChevronDownSharp,{color:"var(--color-primary)",size:"14px"})):null))),!h.default&&e.departments&&F.length&&(null===u&&D.asyncGetMembers(F).then((function(e){var t,n=new Set,r=C(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.dept&&n.add(o.dept)}}catch(e){r.e(e)}finally{r.f()}var a,i=new Set,l=C(n);try{for(l.s();!(a=l.n()).done;){var s=a.value;i.add(A.getDeptName(s))}}catch(e){l.e(e)}finally{l.f()}f(Array.from(i).filter((function(e){return Boolean(e)})))})).catch((function(e){DEBUG&&console.error(e),f([])})),null!=u&&u.length&&R.push(o.default.createElement(o.default.Fragment,{key:"conference.invite.card.departments"},o.default.createElement("div",null,I.string("member.dept")),o.default.createElement("div",{className:"flex justify-between truncate break-keep"},o.default.createElement("div",{className:(0,c.classes)({truncate:!L,"whitespace-normal":L}),ref:m},u.map((function(e,t,n){return o.default.createElement("span",{key:e},e,t!==n.length-1?I.string("common.separator"):null)})),L?o.default.createElement("span",{className:"cursor-pointer inline-flex align-middle",onClick:function(){N(!1)}},o.default.createElement(b.IoChevronUpSharp,{color:"var(--color-primary)",size:"14px"})):null),T&&!L?o.default.createElement("span",{className:"cursor-pointer inline-flex align-middle",onClick:function(){N(!0)}},o.default.createElement(g.IoChevronDownSharp,{color:"var(--color-primary)",size:"14px"})):null))),e.note&&t.note&&R.push(o.default.createElement(o.default.Fragment,{key:"conference.invite.card.note"},o.default.createElement("div",null,I.string("common.notes")),o.default.createElement("div",null,t.note)))),o.default.createElement("div",{className:"grid gap-y-1 gap-x-2 text-justify",style:{gridTemplateColumns:"fit-content(60%) 1fr"}},R)}function Y(e){var t=e.conference,n=(e=e.actionButtonsClickCallback,null==(n=(0,s.getMenuItemsForContext)("conference.actions",{conference:t,independentMode:l.isUsedIndependentConferenceWindow}))?void 0:n.filter((function(e){return e.primary})).map((function(e){return o.default.createElement(u.default,{"data-hint":e.hint||e.label,className:(0,c.classes)("rounded whitespace-nowrap",e.color||"primary"),disabled:e.disabled,key:e.id,icon:e.icon,label:e.label,hoverLabel:e.hoverLabel,url:e.url,click:e.click})})));return o.default.createElement("div",{className:"flex justify-between gap-4"},o.default.createElement("div",{className:"truncate"},o.default.createElement(i.default,{size:26,memberID:t.openedBy,className:"mr-1.5"}),o.default.createElement(a.default,{memberID:t.openedBy}),I.string(t.isCurrentUserInvited?"conference.inviteTip":"conference.status.creating")),o.default.createElement("div",{className:"flex gap-1.5",onClick:e},n))}},87094:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.topicInputProps=t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=_(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=v(n(70389)),i=v(n(87137)),l=n(89848),s=v(n(61862)),u=v(n(48516)),c=n(22821),f=n(83047),d=n(42012),p=n(93881),h=n(78717),m=n(15973),y=n(57485),g=v(n(55072)),b=v(n(18620));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=document.getElementById("conference-ready-card-invitee-list");t&&(t.scrollLeft+=e.deltaY+e.deltaX)}var M={maxLength:16};t.topicInputProps=M,t.default=function(e){var t,n=w((0,o.useReducer)((function(e){return!e}),!0),2),r=n[0],v=(n=n[1],w((0,o.useReducer)((function(e){return!e}),!1),2)),_=v[0],S=v[1],C=(v=w((0,o.useState)(!1),2))[0],k=v[1],E=(0,o.useRef)(),P=(v=w((0,o.useState)("create"===e.type&&e.invitee||[]),2))[0],T=v[1],j=(v=w((0,o.useState)(!1),2))[0],x=v[1],D=(0,o.useRef)(null),A=(v=w((0,o.useState)(""),2))[0],I=v[1],L=(v=(0,o.useCallback)((function(e){e=e.replace(/[^ \d]/g,""),e=(0,y.addSpaceForConferenceNumber)((0,y.removeStringSpace)(e)),D.current&&D.current.setValue(e),x(9<=(0,y.removeStringSpace)(e).length)}),[]),(0,o.useCallback)((function(){if(!E.current)return!1;var t,n,o;"create"===e.type?(t=(t=new FormData(E.current).get("topic"))||(e.chat?e.chat.isOne2One?s.default.format("conference.defaultOne2OneTopic",null==(n=e.chat)?void 0:n.name):s.default.format("conference.defaultGroupTopic",null==(n=e.chat)?void 0:n.name):s.default.format("conference.defaultTopic",(0,m.getCurrentUser)().displayName)),(0,d.createDetachedConference)(null==(n=e.chat)?void 0:n.gid,P,{audio:r,video:_,screen:!1},f.ConferenceType.default,t),u.default.remove(c.CONFERENCE_CREATE_DIALOG_ID)):"join"===e.type&&(o=new FormData(E.current).get("topic")||"",o=(0,y.removeStringSpace)(o),(0,d.fetchConferenceByNumber)(o).then((function(){(0,h.executeCommand)("joinConference",o,{audio:r,video:_}),u.default.remove(c.CONFERENCE_CREATE_DIALOG_ID)})).catch((function(){I(s.default.string("conference.joinNotFound"))})))}),[r,_,P,e])),N=(0,o.useCallback)((function(){(0,p.showMembersSelectDialog)({selections:P,rejectWhenCancel:!0}).then((function(e){T(e)})).catch((function(e){if("cancel"!==e.message)throw e}))}),[P]),R=((0,o.useEffect)((function(){var e;return _&&(0,l.createMediaStream)(l.MEDIA_TYPES.video).then((function(t){if(!t)return k(!0),void S();e=t,k(!1);var n=document.getElementById("conference-ready-card-video-preview");t&&n&&n instanceof HTMLVideoElement&&(n.srcObject=t)})).catch((function(){k(!0)})),function(){e&&e.getTracks().forEach((function(e){return e.stop()}))}}),[_]),C=C?o.default.createElement("div",{className:"text-center text-muted"},s.default.string("conference.error.noVideo")):_?o.default.createElement("video",{className:"w-full m-0 rounded",id:"conference-ready-card-video-preview",autoPlay:!0}):o.default.createElement(i.default,{name:"mdi-video-off",className:"text-gray-300",size:80}),"");return"create"===e.type&&(R=e.chat?e.chat.isOne2One?s.default.format("conference.defaultOne2OneTopic",null==(t=e.chat)?void 0:t.name):s.default.format("conference.defaultGroupTopic",null==(t=e.chat)?void 0:t.name):s.default.format("conference.defaultTopic",(0,m.getCurrentUser)().displayName)),o.default.createElement("form",{ref:E,className:"flex flex-column gap-2 mb-4"},o.default.createElement(a.default,{className:"w-[300px]",inputClassName:"text-sm text-center placeholder:text-sm rounded",name:"topic",placeholder:"create"===e.type?R:s.default.string("conference.numberInputTip"),inputProps:"create"===e.type?M:void 0,onChange:"join"===e.type?v:void 0,ref:D,helpText:A,helpTextClassName:"text-danger mx-auto !my-0 w-fit"}),o.default.createElement("div",{className:"w-[300px] bg-gray-100 rounded flex justify-center items-center aspect-[4/3]"},C),"create"===e.type&&o.default.createElement("div",{id:"conference-ready-card-invitee-list",className:"w-[300px] pb-1 flex flex-nowrap overflow-x-auto gap-1 scrollbar-light",onWheel:O},P.map((function(e){return o.default.createElement(b.default,{key:e,memberID:e,iconClick:function(){return T(P.filter((function(t){return t!==e})))}})}))),o.default.createElement("div",{className:"flex space-between gap-3 mt-1 items-center"},o.default.createElement("div",{className:"flex gap-3"},o.default.createElement("div",{"data-hint":s.default.string("conference.ready.toggleAudio")},o.default.createElement(i.default,{name:r?"mdi-microphone":"mdi-microphone-off",className:"text-xl cursor-pointer",onClick:n})),o.default.createElement("div",{"data-hint":s.default.string("conference.ready.toggleVideo")},o.default.createElement(i.default,{name:_?"mdi-video":"mdi-video-off",className:"text-xl cursor-pointer",onClick:S}))),o.default.createElement("div",{className:"flex gap-2 items-center"},"create"===e.type&&o.default.createElement("div",{"data-hint":s.default.string("conference.status.open.invite")},o.default.createElement(i.default,{name:"mdi-account-multiple-plus",className:"text-xl cursor-pointer",onClick:N})),o.default.createElement(g.default,{disabled:"join"===e.type&&!j,className:"btn-wide bg-primary rounded",label:s.default.string("create"===e.type?"conference.create":"conference.joinConference"),click:L}))))}},16276:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,i,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=w(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),s=_(n(45697)),u=_(n(10352)),c=_(n(55072)),f=n(64393),d=_(n(65286)),p=_(n(61862)),h=n(32360),m=n(44374),y=n(10088),g=_(n(94128)),b=n(68271),v=["cgid","className","children"];function _(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function P(e,t,n){if(document.body.classList.toggle("conference-video-fullscreen",t||e),document.body.classList.toggle("conference-video-fullscreen-only",t),document.body.classList.toggle("conference-video-expand-only",!t&&e),o!==t&&(t?"number"!=typeof a&&(a=0,document.addEventListener("mousemove",x,!0)):"number"==typeof a&&(a&&clearTimeout(a),a=null,document.removeEventListener("mousemove",x),document.body.classList.remove("conference-video-mouse-active"),document.body.classList.remove("conference-video-mouse-unactive"))),n||o!==t){if((e=g.default.access("ui.isFullscreen"))&&e()===t)return void(o=t);g.default.call("ui.setFullScreen",t)}o=t}function T(e){i!==e&&(i=e,document.body.classList.toggle("conference-video-mouse-active",e),document.body.classList.toggle("conference-video-mouse-unactive",!e))}function j(){T(!1)}function x(){a&&clearTimeout(a),o&&(T(!0),a=setTimeout(j,6e3))}n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=k(e);if(n=t?(n=k(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return C(o)}}(o);function o(e){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");return E(C(t=n.call(this,e)),"_handleWindowLeaveFullscreen",(function(){t.state.fullscreen&&t.setState({fullscreen:!1},t._handleStateChange.bind(C(t),!0,!1))})),E(C(t),"_handleConferenceChange",(function(e){var n,r,o,a,i;e?(n=(0,h.isConferenceVideoPublished)(e),r=(0,h.isConferenceScreencastPublished)(e),o=(0,h.getVideoMediaStream)(e),a=(0,h.getScreencastMediaStream)(e),i=r||n||a||o,t.setState((function(e){return{videoStream:o,screencastStream:a,hasVideoOrScreencast:i,isScreencastPublished:r,fullscreen:!(e.fullscreen&&!i)&&e.fullscreen}}),t._handleStateChange.bind(C(t),!0,!0))):t.setState({videoStream:!1,screencastStream:!1,expand:!1,hasVideoOrScreencast:!1,isScreencastPublished:!1,fullscreen:!1},t._handleStateChange.bind(C(t),!0,!1))})),E(C(t),"handleFullscreenButtonClick",(function(){t.setState((function(e){return{fullscreen:!e.fullscreen,expand:!e.fullscreen}}),t._handleStateChange.bind(C(t),!0,!1))})),E(C(t),"handleExpandButtonClick",(function(){t.setState((function(e){return{expand:!e.expand}}),t._handleStateChange.bind(C(t),!1,!1))})),e=(0,m.getConference)(e.cgid).room,t.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fullscreen:!1,expand:!1},e?{isScreencastPublished:(0,h.isConferenceScreencastPublished)(e),videoStream:(0,h.getVideoMediaStream)(e),screencastStream:(0,h.getScreencastMediaStream)(e)}:{videoStream:!1,screencastStream:!1,hasVideoOrScreencast:!1}),(t.state.videoStream||t.state.screencastStream)&&(t.state.hasVideoOrScreencast=!0),t.fullscreenable=g.default.has("ui.setFullScreen"),t}return t=o,(e=[{key:"componentDidMount",value:function(){var e=this;this.conferenceChangeHandler=(0,y.onConferenceChange)(this.props.cgid,(function(t){e.handleConferenceChangeTimer&&clearTimeout(e.handleConferenceChangeTimer),e.conferenceRoom=t.room,e.handleConferenceChangeTimer=setTimeout((function(){e.unmounted||(e.handleConferenceChangeTimer=null,e._handleConferenceChange(e.conferenceRoom))}),500)})),this.chatActiveHandler=(0,b.onActiveChat)((function(t){e.state.fullscreen&&t!==e.props.cgid&&e.setState({fullscreen:!1,expand:!1},e._handleStateChange.bind(e,!0,!1))})),this._handleStateChange(!1,!0),g.default.call("ui.onLeaveFullscreen",this._handleWindowLeaveFullscreen)}},{key:"componentWillUnmount",value:function(){g.default.call("ui.offLeaveFullscreen",this._handleWindowLeaveFullscreen),d.default.off(this.conferenceChangeHandler,this.chatActiveHandler),this.handleConferenceChangeTimer&&clearTimeout(this.handleConferenceChangeTimer),P(!1,!1,!0),this.unmounted=!0}},{key:"_updateVideoStream",value:function(){var e,t;this.videoRef&&(e=(t=this.state).videoStream,(t=t.screencastStream)?this.videoRef.srcObject!==t&&(this.videoRef.srcObject=t):e&&this.videoRef.srcObject!==e&&(this.videoRef.srcObject=e))}},{key:"_handleStateChange",value:function(e,t){var n=(a=this.state).expand,r=a.fullscreen,o=a.videoStream,a=a.screencastStream;P(n,r,e),t&&(o||a)&&this._updateVideoStream()}},{key:"render",value:function(){var e=this,t=((n=this.props).cgid,n.className),n=(n.children,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,v)),r=(d=this.state).videoStream,o=d.screencastStream,a=d.fullscreen,i=d.expand,s=d.hasVideoOrScreencast,d=d.isScreencastPublished;return s?(s=null,s=d?l.default.createElement("div",{className:"fluid-v center-content column"},l.default.createElement(u.default,{name:":satellite:"}),l.default.createElement("div",{className:"lead animate-flash-light"},p.default.string("conference.screenSharing"))):o||r?l.default.createElement("video",{className:"conference-video-element",autoPlay:!0,muted:!0,ref:function(t){e.videoRef=t}}):l.default.createElement("div",{className:"fluid-v center-content"},p.default.string("common.loading")),l.default.createElement("div",S({className:(0,f.classes)("conference-video relative",t,{"user-app-dragable":i||a})},n),s,!d&&l.default.createElement("div",{className:"conference-video-bars"},this.fullscreenable?l.default.createElement(c.default,{icon:a?"fullscreen-exit":"fullscreen",className:"dark rounded hint--bottom-right",click:this.handleFullscreenButtonClick,"data-hint":p.default.string(a?"common.exitFullscreen":"common.enterFullscreen")}):l.default.createElement(c.default,{icon:i?"arrow-collapse":"arrow-expand",className:"dark rounded hint--bottom-right",click:this.handleExpandButtonClick,"data-hint":p.default.string(i?"common.restore":"common.expand")})))):null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(l.Component),E(t.default=n,"propTypes",{cgid:s.default.string.isRequired,className:s.default.string,children:s.default.any}),E(n,"defaultProps",{className:null,children:null})},36443:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(45697)),i=f(n(87137)),l=n(14227),s=n(57485),u=f(n(74112)),c=["conference","member","children"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(n=t?(n=m(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(){if(this instanceof a)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){var e,t=(a=this.props).conference,n=a.member,r=a.children,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,c),f=null,d=(0,s.getMemberStatusInConference)(t,n);return d&&(e=(0,l.getConferenceIcon)(t,d),f=o.default.createElement("span",{"data-hint":(0,l.getConferenceStatusText)(t,d),className:"hint--left text-".concat((0,l.getConferenceColor)(t,d))},o.default.createElement(i.default,{name:e.startsWith("sprite-")?"".concat(e," icon-sm"):e}))),o.default.createElement(u.default,p({"data-id":n.id,showStatusDot:!1,avatarSize:20,onContextMenu:this.handleItemContextMenu,onClick:this.handleMemberItemClick,key:n.account,memberID:n.id},a),f&&o.default.createElement("div",{className:"icons flex-none single row flex-middle"},f),r)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),y(t.default=n,"propTypes",{conference:a.default.object.isRequired,member:a.default.object.isRequired,children:a.default.any}),y(n,"defaultProps",{children:null})},17916:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=n(64393),l=p(n(61862)),s=p(n(79216)),u=p(n(98805)),c=p(n(12011)),f=p(n(31066)),d=["hidden","className","objectType","filterType","match"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(n=t?(n=g(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(){if(this instanceof a)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){var e=(a=this.props).hidden,t=a.className,n=a.objectType,r=a.filterType,a=(a.match,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,d));return o.default.createElement("div",m({className:(0,i.classes)("dock app-contacts",t,{hidden:e})},a),o.default.createElement("header",{className:"app-page-header heading dock dock-top user-app-dragable"},o.default.createElement("div",{className:"title"},l.default.string("contacts"))),o.default.createElement("div",{className:"app-contacts-side dock dock-left"},o.default.createElement("nav",{className:"dock dock-top nav nav-pills nav-sm justified shadow-1"},["members","groups"].map((function(e){return o.default.createElement("a",{key:e,href:"#/contacts/".concat(e),className:(0,i.classes)({active:e===n})},l.default.string("contacts.nav.".concat(e)))}))),"members"===n?o.default.createElement(s.default,{activeGroupID:r,className:"dock overflow-y-auto scrollbar-hover"}):o.default.createElement(c.default,{className:"dock overflow-y-auto scrollbar-hover",filterType:r})),o.default.createElement("div",{className:"app-contacts-main dock dock-right"},"members"===n?o.default.createElement(u.default,{deptID:r}):o.default.createElement(f.default,{filterType:r})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),b(t.default=n,"propTypes",{hidden:a.default.bool,className:a.default.string,objectType:a.default.string.isRequired,filterType:a.default.string.isRequired,match:a.default.object.isRequired}),b(n,"defaultProps",{hidden:!1,className:null})},98805:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=M(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=O(n(45697)),i=n(64393),l=n(16986),s=O(n(61862)),u=n(40910),c=O(n(60609)),f=O(n(87137)),d=n(98649),p=O(n(67940)),h=O(n(45508)),m=O(n(26774)),y=O(n(84431)),g=O(n(74101)),b=O(n(82371)),v=O(n(93956)),_=O(n(91705)),w=n(15973),S=["className","deptID","recPerPage","defaultPage"];function O(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){k(a,r,o,i,l,"next",e)}function l(e){k(a,r,o,i,l,"throw",e)}i(void 0)}))}}function P(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D(e);if(n=t?(n=D(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return x(o)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e);var n,r=j(a);function a(e){var t;if(this instanceof a)return A(x(t=r.call(this,e)),"handleRoutePathChange",(function(e){e.startsWith("#/contacts")||t.clearSearchValue()})),A(x(t),"handleItemContextMenu",(function(e){var t=e.currentTarget.getAttribute("data-gid");t?(0,d.showContextMenu)("chat.menu",{event:e,chat:t,menuType:"groups"}):(0,d.showContextMenu)("member",{event:e,member:e.currentTarget.getAttribute("data-member")})})),A(x(t),"handlePageChange",(function(e){""!==t.state.searchValue?t.setState({pageID:e},t.searchMembers):t.loadDeptMembers({pageID:e})})),A(x(t),"handleSearchChange",(function(e){t.setState({searchValue:e,pageID:1,recTotal:0},(function(){t.searchMembers()}))})),A(x(t),"clearSearchValue",(function(){""!==t.state.searchValue&&t.searchControl.handleOnClearBtnClick()})),t.state={pageID:e.defaultPage,recTotal:0,membersIDList:[],searchValue:"",searchResult:[]},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){this.loadDeptMembers(),this.routePathChangeEventID=(0,u.onRoutePathChange)(this.handleRoutePathChange),PERF_MARK("switchToContactsMembersEnd","switchToContactsMembersBegin","switchToContactsMembersTime")}},{key:"componentDidUpdate",value:function(e){var t=this.state.searchValue,n=this.props.deptID;e.deptID!==n&&(""===t?this.loadDeptMembers({pageID:1}):this.searchMembers())}},{key:"componentWillUnmount",value:function(){this.membersChangeHandler&&y.default.unsubscribe(this.membersChangeHandler),this.deptsChangeHandler&&m.default.unsubscribe(this.deptsChangeHandler),(0,u.offRoutePathChange)(this.routePathChangeEventID),this._unmounted=!0}},{key:"loadDeptMembers",value:function(e){var t=this,n=(this.membersChangeHandler&&(y.default.unsubscribe(this.membersChangeHandler),this.membersChangeHandler=null),this.deptsChangeHandler&&(m.default.unsubscribe(this.deptsChangeHandler),this.deptsChangeHandler=null),this.props.deptID);this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({membersIDList:[],loading:!0},e),E((function*(){var e=t.props.recPerPage,r={loading:!1};(e=yield m.default.fetchMembersListOfDept("root"===n?0:n,{pageID:t.state.pageID||1,recPerPage:e}))?(r.pageID=e.pager.pageID,r.recPerPage=e.pager.recPerPage,r.recTotal=e.pager.recTotal,r.membersIDList=e.data):r.membersIDList=[],t._unmounted||(t.setState(r,(function(){t.state.membersIDList.length&&(t.membersChangeHandler=y.default.subscribe(t.state.membersIDList,t.forceUpdate.bind(t,null)))})),t.deptsChangeHandler=m.default.subscribeDeptChange(n,t.forceUpdate.bind(t,null)))})))}},{key:"searchMembers",value:(n=E((function*(){var e,t,n,r=this,o=(n=this.state).searchValue,a=n.pageID,i=n.recTotal,l=(n=this.props).deptID,s=n.recPerPage;""===o?this.setState({searchResult:[]},(function(){r.loadDeptMembers({pageID:1})})):this.setState({loading:!0},E((function*(){try{var n=yield y.default.searchFromRemote(o,{dept:"root"===l?0:l,pager:{pageID:a,recPerPage:s,recTotal:i}});e=n.list,t=n.pager,e=e.map((function(e){return e.id}))}catch(n){e=[],console.error("Search members from server error",n)}r._unmounted||r.setState({searchResult:e,loading:!1,recTotal:t.recTotal||e.length,pageID:t.pageID||1})})))})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=(a=this.props).className,n=a.deptID,r=a.recPerPage,a=(a.defaultPage,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,S)),u=(E=this.state).pageID,d=E.membersIDList,O=E.loading,M=E.recTotal,k=E.searchValue,E=E.searchResult,P=null;return O||0===(P=(""===k?d:E).map((function(t){var n=y.default.getMemberOrTemp(t),r=(0,w.isCurrentUser)(t)?null:g.default.getContactChat(t),a=null,i=r?(r.mute&&(a=o.default.createElement(f.default,{name:"bell-off",className:"icon-sm muted"})),o.default.createElement(h.default,{showStar:!0,size:30,gid:r.gid})):o.default.createElement(p.default,{size:30,memberID:n.id}),s=n.displayName;return o.default.createElement(c.default,{"data-gid":r&&r.gid,"data-member":r?null:t,onContextMenu:e.handleItemContextMenu,key:n.id,className:"rounded flex-middle",avatar:i,title:(0,l.isEmptyString)(s)?o.default.createElement("span",{className:"inline-block loading-holder relative loading-holder-line"},s):s,subtitle:m.default.getRoleName(n.role),href:"xxc://showContextMenu/member.profile/".concat(n.id),actions:a})}))).length&&P.push(o.default.createElement(c.default,{key:"notFound",icon:"information-outline",className:"flex-middle item muted disabled",title:o.default.createElement("span",{className:"title small"},s.default.string("common.notFoundOptions"))})),o.default.createElement("div",C({className:(0,i.classes)("dock app-contacts-view",t)},a),o.default.createElement("header",{className:"heading dock dock-top"},o.default.createElement("div",{className:"title"},n&&"root"!==n?m.default.getDeptName(n):s.default.string("contacts.members.all"),O?o.default.createElement(_.default,{key:"spinner",style:{display:"inline-block"},iconSize:18}):null),o.default.createElement(v.default,{placeholder:s.default.string("common.search"),onSearchChange:this.handleSearchChange,ref:function(t){e.searchControl=t},style:{width:170},changeDelay:500}),o.default.createElement(b.default,{page:u,recPerPage:r,recTotal:M,showFirstLast:!0,onPageChange:this.handlePageChange})),o.default.createElement("div",{className:"content dock dock-bottom overflow-y-auto scrollbar-hover"},o.default.createElement("div",{className:"app-member-list list compact"},P)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),A(t.default=n,"propTypes",{className:a.default.string,deptID:a.default.string.isRequired,recPerPage:a.default.number,defaultPage:a.default.number}),A(n,"defaultProps",{className:null,recPerPage:50,defaultPage:1})},79216:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=h(n(45697)),i=n(64393),l=h(n(61862)),s=h(n(64208)),u=h(n(87137)),c=h(n(26774)),f=n(15973),d=h(n(91705)),p=["className","activeGroupID","showCompany"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(n=t?(n=w(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _(o)}}(a);function a(e){var t;if(this instanceof a)return S(_(t=n.call(this,e)),"itemConverter",(function(e){return e.title?e:{title:e.name,type:"group",id:e.id,list:e.children}})),S(_(t),"headingCreator",(function(e,n){if(e.root&&!e.title)return null;var r=t.props.activeGroupID,a=n.isExpand?"chevron-down":"chevron-right";return o.default.createElement("a",{href:"#/contacts/members/".concat(e.id),className:(0,i.classes)("heading",{active:"".concat(e.id)===r})},o.default.createElement(u.default,{onClick:n.handleHeadingClick,name:a,className:(0,i.classes)("state",{invisible:!e.list||!e.list.length})}),o.default.createElement("div",{className:"title"},e.title))})),S(_(t),"getDefaultExpand",(function(e){if(e.root)return!0;var n=t.props.activeGroupID;return!(!n||"root"===n)&&(n=(n=c.default.getDept(n))&&n.parentsSet)&&n.has(e.id)})),t.state={loading:!0,deptsTree:null},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){var e=c.default.getDeptsTree();e?this.setState({deptsTree:e,loading:!1},this.subscribeDeptsChange.bind(this)):this.subscribeDeptsChange()}},{key:"componentWillUnmount",value:function(){c.default.unsubscribe(this.handleDeptsChange)}},{key:"subscribeDeptsChange",value:function(){var e=this;this.handleDeptsChange=c.default.subscribeDeptsChange((function(){e.setState({deptsTree:c.default.getDeptsTree(),loading:!1})}))}},{key:"render",value:function(){var e=(r=this.props).className,t=r.activeGroupID,n=r.showCompany,r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,p),a=this.state,u=a.deptsTree;return a.loading?o.default.createElement(d.default,null):(a={list:u||[],root:!0},n&&(u=(0,f.getCurrentUser)(),a.list=[{title:u&&u.company||l.default.string("contacts.members.all"),id:"root",href:"#/contacts/members/root",className:"root"===t?"active":""}].concat(g(a.list))),o.default.createElement(s.default,y({className:"compact",rootClassName:(0,i.classes)("app-depts-tree",e),group:a,hideEmptyGroup:!1,itemConverter:this.itemConverter,headingCreator:this.headingCreator,defaultExpand:this.getDefaultExpand,toggleWithHeading:!1},r)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),S(t.default=n,"propTypes",{className:a.default.string,activeGroupID:a.default.string,showCompany:a.default.bool}),S(n,"defaultProps",{className:null,activeGroupID:null,showCompany:!0})},36141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(17916)),o=s(n(98805)),a=s(n(79216)),i=s(n(66052)),l=s(n(12011));function s(e){return e&&e.__esModule?e:{default:e}}n=s(n(31066)),r={ContactsHome:r.default,ContactsView:o.default,DeptsTree:a.default,ContactsIndex:i.default,GroupsMenu:l.default,GroupsView:n.default},t.default=r},12011:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(45697)),i=n(64393),l=u(n(61862)),s=["className","filterType"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(n=t?(n=p(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(){if(this instanceof a)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){var e=(n=this.props).className,t=n.filterType,n=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,s);return o.default.createElement("div",f({className:(0,i.classes)("app-groups-menu list compact",e)},n),["joined","created","public"].map((function(e){return o.default.createElement("a",{className:(0,i.classes)("item",{active:e===t}),key:e,href:"#/contacts/groups/".concat(e)},o.default.createElement("span",{className:"title"},l.default.string("contacts.groups.".concat(e))))})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),h(t.default=n,"propTypes",{className:a.default.string,filterType:a.default.string}),h(n,"defaultProps",{className:null,filterType:null})},31066:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=_(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=v(n(45697)),i=v(n(23848)),l=n(64393),s=v(n(61862)),u=v(n(60609)),c=v(n(45508)),f=n(45498),d=v(n(68788)),p=v(n(55072)),h=v(n(87137)),m=n(98649),y=v(n(74160)),g=v(n(74101)),b=["className","filterType","startPageSize","morePageSize","defaultPage"];function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=k(e);if(n=t?(n=k(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return C(o)}}(a);function a(e){var t;if(this instanceof a)return E(C(t=n.call(this,e)),"handleRequestMorePage",(function(){t.setState((function(e){return{page:e.page+1}}))})),E(C(t),"handleItemContextMenu",(function(e){(0,m.showContextMenu)("chat.menu",{event:e,chat:e.currentTarget.getAttribute("data-gid"),menuType:"groups"})})),E(C(t),"handleRefreshBtnClick",(function(){t.tryLoadPublicChats(!0)})),t.state={publicGroups:[],loading:!1,page:e.defaultPage},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.tryLoadPublicChats(),this.dataChangeHandler=g.default.subscribeAny((function(){e.forceUpdate()})),PERF_MARK("switchToContactsGroupsEnd","switchToContactsGroupsBegin","contactsGroupsViewRenderTime")}},{key:"componentDidUpdate",value:function(){this.tryLoadPublicChats()}},{key:"componentWillUnmount",value:function(){g.default.unsubscribe(this.dataChangeHandler),this._isMounted=!1}},{key:"tryLoadPublicChats",value:function(){var e=this,t=this.props.filterType;!this.state.loading&&"public"===t&&(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||t!==this.lastFilterType)&&(this.lastFilterType=t,this.setState({loading:!0},function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,l,"next",e)}function l(e){O(a,r,o,i,l,"throw",e)}i(void 0)}))}}((function*(){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(yield(0,i.default)(g.default.fetchPublicChats())),n=t[0];if(t=t[1],e._isMounted)return n?(e.setState({loading:!1}),d.default.show(s.default.error(n),{type:"danger"})):void e.setState({loading:!1,publicGroups:t})}))))}},{key:"render",value:function(){var e=(a=this.props).className,t=a.filterType,n=a.startPageSize,r=a.morePageSize,a=(a.defaultPage,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,b)),i=(d=this.state).publicGroups,d=d.loading,m=null,y=null;if("joined"===t?y=(0,f.getGroupsChats)("default"):"created"===t?y=(0,f.getGroupsChats)("default",!1,!0):"public"===t&&(y=i),y&&y.length){for(var g=(i=this.state.page)?Math.min(y.length,n+(1<i?(i-1)*r:0)):y.length,v=(m=[],0);v<g;v+=1){var _=y[v],S=null;"public"!==t&&(_.mute?S=o.default.createElement(h.default,{name:"bell-off",className:"icon-sm muted"}):_.star&&(S=o.default.createElement("div",{className:"is-star relative"}))),m.push(o.default.createElement(u.default,{key:_.gid,"data-gid":_.gid,onContextMenu:this.handleItemContextMenu,className:"rounded flex-middle",avatar:o.default.createElement(c.default,{showStar:!0,isPublic:"public"===t,avatarSize:30,gid:_.gid,chat:_}),title:o.default.createElement("div",{className:"title","data-hint":_.name},o.default.createElement("div",{className:"x-text-ellipsis"},_.name)),href:("public"===t?"xxc://confirmJoinPublicChat/":"#/chats/recents/").concat(_.gid),actions:S}))}(n=y.length-g)&&m.push(o.default.createElement(u.default,{key:"showMore",icon:"chevron-double-down",className:"flex-middle muted",title:o.default.createElement("span",{className:"title small"},s.default.format("common.clickShowMoreFormat",n)),onClick:this.handleRequestMorePage,style:{border:"none"}}))}else m=[o.default.createElement(u.default,{key:"notFound",icon:"information-outline",className:"flex-middle item muted disabled",title:o.default.createElement("span",{className:"title small"},s.default.string("common.notFoundOptions"))})];return o.default.createElement("div",w({className:(0,l.classes)("dock app-groups-view",e)},a),o.default.createElement("header",{className:"heading dock dock-top"},o.default.createElement("div",{className:"title"},s.default.string("contacts.groups.".concat(t))," ","public"===t&&(d?o.default.createElement(h.default,{name:"loading spin"}):o.default.createElement(p.default,{className:"text-primary rounded",label:s.default.string("common.refresh"),onClick:this.handleRefreshBtnClick})))),o.default.createElement("div",{className:"content dock dock-bottom overflow-y-auto scrollbar-hover"},o.default.createElement("div",{className:"app-groups-list list compact"},m)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),E(t.default=n,"propTypes",{className:a.default.string,filterType:a.default.string.isRequired,startPageSize:a.default.number,morePageSize:a.default.number,defaultPage:a.default.number}),E(n,"defaultProps",{className:null,startPageSize:y.default.ui["page.start.size"]||20,morePageSize:y.default.ui["page.more.size"]||20,defaultPage:1})},66052:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=c(n(45697)),i=n(39711),l=c(n(85110)),s=c(n(17916)),u=n(15973);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(n=t?(n=y(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(o)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var n=h(r);function r(){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return g(m(e=n.call.apply(n,[this].concat(a))),"renderFromRoute",(function(t){var n=(t=t.match)&&t.params&&t.params.objectType||e._objectType||"members";return null==(t=t&&t.params&&t.params.filterType)&&(t=e._filterTypes&&void 0!==e._filterTypes[n]?e._filterTypes[n]:"members"===n?"root":"joined"),e._objectType=n,e._filterTypes||(e._filterTypes={}),e._filterTypes[n]=t,o.default.createElement(s.default,d({objectType:n,filterType:t},e.props))})),e}return t=r,(e=[{key:"componentDidMount",value:function(){PERF_MARK("contactsViewRendered","switchToContactsBegin","contactsViewLoadTime")}},{key:"render",value:function(){return(0,u.isUserVerified)()?o.default.createElement(i.Route,{path:l.default.contacts.__},this.renderFromRoute):null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component),g(t.default=n,"propTypes",{match:a.default.object.isRequired})},34916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(45780)),o=c(n(80097)),a=c(n(73506)),i=c(n(34236)),l=c(n(6196)),s=c(n(45714)),u=c(n(36141));function c(e){return e&&e.__esModule?e:{default:e}}o={chats:o.default,common:a.default,exts:r.default,index:i.default,login:l.default,main:s.default,contacts:u.default},a=n.g.externalViews=o,t.default=a},72573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=u(n(67294)),o=(t=u(n(45697)),n(64393)),a=n(94592),i=n(90534),l=u(n(87137)),s=["url","click","icon","title","label"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){var t=(0,a.getFileData)(e.file),n=e.className,u=e.canPreview,d=e.onRequestPreview,p=e.canViewMessageContext;return e=e.canViewMessage,(t=(0,i.getFileMenuItems)(t,{canPreview:u,onRequestPreview:d,canViewMessageContext:p,canViewMessage:e})).length?r.default.createElement("div",{className:(0,o.classes)("app-file-actions",n)},t.map((function(e){if(!e||"object"!==f(e)||"divider"===(null==e?void 0:e.type))return null;var t=e.url,n=e.click,o=e.icon,a=e.title,i=e.label;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,s),t?e.href=t:n&&(e.onClick=n),r.default.createElement("a",c({},e,{title:null!=i?i:a}),r.default.createElement(l.default,{name:o}))}))):null}d.propTypes={file:t.default.oneOfType([t.default.string,t.default.object]).isRequired,canPreview:t.default.oneOfType([t.default.func,t.default.bool]),onRequestPreview:t.default.oneOfType([t.default.bool,t.default.func]),canViewMessageContext:t.default.bool,canViewMessage:t.default.bool,className:t.default.string},d.defaultProps={canPreview:!0,onRequestPreview:null,canViewMessageContext:!1,canViewMessage:!1,className:null}},80992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=u(n(67294)),o=(t=u(n(45697)),n(64393)),a=n(94592),i=u(n(7807)),l=u(n(83532)),s=["file","className","size"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e){var t=e.file,n=e.className,u=void 0===(u=e.size)?20:u,f=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,s),t=(0,a.getFileData)(t),(0,l.default)(t.name));return f.startsWith("sprite-")&&20<u&&(f+="-large"),r.default.createElement(i.default,c({skin:{code:t.extName,pale:!0},size:u||20,progress:t.networking.progress,className:(0,o.classes)("flex-none shadow",u<=20?"rounded":"rounded-lg",n),icon:f},e))}f.propTypes={file:t.default.oneOfType([t.default.string,t.default.object]).isRequired,size:t.default.number,className:t.default.string},f.defaultProps={size:20,className:null}},81015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=f(n(67294)),o=(t=f(n(45697)),n(64393)),a=n(16986),i=n(94592),l=n(90534),s=n(61862),u=f(n(87137)),c=f(n(86625));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=(0,i.getFileData)(e.file),n=e.infos;return!0===n?n=["size","progress","error"]:!1===n?n=[]:"string"==typeof n&&(n=n.split(",")),e.showSender&&!n.includes("sender")&&n.push("sender"),e.showDate&&!n.includes("date")&&n.push("date"),r.default.createElement("ul",{className:(0,o.classes)("app-file-infos",e.className)},n.map((function(e){var n=function(e,t){switch(t){case"size":var n=(0,a.formatBytes)(e.size);return e.networking.isInProgress?r.default.createElement("span",null,r.default.createElement("span",{className:"text-primary"},(0,a.formatBytes)(Math.min(e.size,e.networking.loaded))),"/",n):n;case"progress":return e.networking.isInProgress?"".concat(Math.floor(e.networking.progress),"%"):null;case"error":return(n=(0,l.getFileNetworkErrorMessage)(e))?n.length<6?n:r.default.createElement(u.default,{name:"alert","data-hint":n,className:"text-danger"}):null;case"sender":return r.default.createElement(c.default,{className:"btn btn-xs text-primary rounded",href:"@#".concat(e.senderId),type:"a",memberID:e.senderId});case"date":return(0,s.getShortTextOfDate)(e.time);default:return null}}(t,e);return n?r.default.createElement("li",{key:e,className:"app-file-info","data-info":e},n):null})))}d.propTypes={file:t.default.oneOfType([t.default.string,t.default.object]).isRequired,infos:t.default.oneOfType([t.default.string,t.default.array,t.default.bool]),showDate:t.default.bool,showSender:t.default.bool,className:t.default.string},d.defaultProps={infos:!0,showDate:!1,showSender:!1,className:null}},1528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=f(n(67294)),o=(t=f(n(45697)),n(64393)),a=f(n(81015)),i=f(n(80992)),l=f(n(72573)),s=n(94592),u=f(n(41584)),c=["className","file","showIcon","iconSize","showDate","showSender","multiLines","divider","compact","actions","infos","onRequestPreview","canPreview","canViewMessageContext","canViewMessage"];function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=e.className,n=e.file,f=e.showIcon,h=e.iconSize,m=e.showDate,y=e.showSender,g=e.multiLines,b=e.divider,v=e.compact,_=e.actions,w=e.infos,S=e.onRequestPreview,O=e.canPreview,M=e.canViewMessageContext,C=e.canViewMessage,k=(e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,c),(0,s.getFileData)(n)),E=p((0,u.default)(),1)[0];return r.default.createElement("div",d({className:(0,o.classes)("app-file-list-item item flex-middle single",t,{compact:v,divider:b,"multi-lines":g,"has-cache-file":!!k.cachePath,editable:n.editable})},e),f?r.default.createElement(i.default,{className:"flex-none",file:k,size:null!=h?h:v?20:30}):null,r.default.createElement("div",{className:"content"},n.editable&&r.default.createElement("div",{className:(0,o.classes)("label circle accent",{"label-sm":!v,"label-xs":v})},E.string("file.collabora.abbr")),r.default.createElement("div",{className:"title x-text-ellipsis",title:k.name},k.name),r.default.createElement(a.default,{file:k,infos:w,showDate:m,showSender:y})),_?r.default.createElement(l.default,{className:"flex-none",file:k,canPreview:O,onRequestPreview:S,canViewMessageContext:M,canViewMessage:C}):null)}m.propTypes={file:t.default.oneOfType([t.default.object,t.default.string]).isRequired,showIcon:t.default.bool,iconSize:t.default.number,showDate:t.default.bool,showSender:t.default.bool,multiLines:t.default.bool,divider:t.default.bool,compact:t.default.bool,actions:t.default.bool,infos:t.default.oneOfType([t.default.array,t.default.string,t.default.bool]),onRequestPreview:t.default.func,canPreview:t.default.oneOfType([t.default.func,t.default.bool]),canViewMessageContext:t.default.bool,canViewMessage:t.default.bool,className:t.default.string},m.defaultProps={showIcon:!0,iconSize:null,showDate:!1,showSender:!1,multiLines:!1,divider:!1,compact:!1,actions:!0,infos:"size,progress,error",onRequestPreview:null,canPreview:!0,canViewMessageContext:!1,canViewMessage:!1,className:null}},60645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=c(n(67294)),o=(t=c(n(45697)),c(n(61862))),a=c(n(87137)),i=n(64393),l=c(n(1528)),s=c(n(77632)),u=(n=c(n(74160)),["className","files","itemProps","itemRender","startPageSize","morePageSize","showIcon","iconSize","showDate","showSender","multiLines","divider","compact","actions","infos","onRequestPreview","canPreview","canViewMessageContext","canViewMessage","onClickItem"]);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){return e=e.totalCount-e.loadedCount,r.default.createElement("div",{className:"row single flex-middle flex-center has-padding muted state"},r.default.createElement(a.default,{name:"chevron-double-down"}),r.default.createElement("span",{className:"title small"},o.default.format("common.clickShowMoreFormat",e)))}function p(e){var t=e.className,n=e.files,o=e.itemProps,a=e.itemRender,c=e.startPageSize,p=e.morePageSize,h=e.showIcon,m=e.iconSize,y=e.showDate,g=e.showSender,b=e.multiLines,v=e.divider,_=e.compact,w=e.actions,S=e.infos,O=e.onRequestPreview,M=e.canPreview,C=e.canViewMessageContext,k=e.canViewMessage,E=e.onClickItem;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,u),r.default.createElement(s.default,f({className:(0,i.classes)("app-file-list",t),count:n.length,startPageSize:c,morePageSize:p,loadMoreText:d},e),(function(e,t){var i=n[e];if(a)return a(i,e,t);if(!i)return null;var s={key:null!=(s=i.messageID)?s:i.gid,file:i,showIcon:h,iconSize:m,showDate:y,showSender:g,multiLines:b,divider:v,compact:_,actions:w,infos:S,onRequestPreview:O,canPreview:M,canViewMessageContext:C,canViewMessage:k,"data-file":i.gid,onClick:E?E.bind(null,i):null};return"function"==typeof o?s=o(i,s,e,t):o&&(s=Object.assign(s,o)),r.default.createElement(l.default,s)}))}p.propTypes={files:t.default.array.isRequired,itemProps:t.default.oneOfType([t.default.object,t.default.func]),itemRender:t.default.func,startPageSize:t.default.number,morePageSize:t.default.number,showIcon:t.default.bool,iconSize:t.default.number,showDate:t.default.bool,showSender:t.default.bool,multiLines:t.default.bool,divider:t.default.bool,compact:t.default.bool,actions:t.default.bool,infos:t.default.oneOfType([t.default.array,t.default.string,t.default.bool]),onRequestPreview:t.default.func,canPreview:t.default.oneOfType([t.default.func,t.default.bool]),canViewMessageContext:t.default.bool,canViewMessage:t.default.bool,onClickItem:t.default.func,className:t.default.string},p.defaultProps={itemProps:null,itemRender:null,startPageSize:n.default.ui["page.start.size"]||20,morePageSize:n.default.ui["page.more.size"]||20,showIcon:!0,iconSize:null,showDate:!1,showSender:!1,multiLines:!1,divider:!1,compact:!1,actions:!0,infos:!0,onRequestPreview:null,canPreview:!0,canViewMessageContext:!1,canViewMessage:!1,onClickItem:null,className:null}},73543:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.P2pCheckbox=h;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=(t=c(n(45697)),n(64393)),i=n(71255),l=c(n(61862)),s=n(15973),u=c(n(87137));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){function t(){f?(0,s.getUserConfig)().set("ui.chat.sendBigFileOnline",!r):(0,i.setLocalConfig)("sendCurrentFilesByP2p",!r),c(!r)}var n=d((0,o.useState)(!1),2),r=n[0],c=n[1],f=e.isSizeLimit;return e.canUseP2p?f?o.default.createElement("div",{className:(0,a.classes)("checkbox checkbox-sm checkbox-p2p",{checked:r}),onClick:t},o.default.createElement("label",null),o.default.createElement("span",null,l.default.string("file.upload.p2p.always"))):o.default.createElement("div",{className:(0,a.classes)("checkbox checkbox-sm checkbox-p2p",{checked:r}),onClick:t},o.default.createElement("label",null),o.default.createElement("span",null,l.default.string("file.upload.p2p.label")),o.default.createElement("span",{"data-p2p-hint":l.default.string("file.upload.p2p.hint")},o.default.createElement(u.default,{name:"mdi-information"}))):o.default.createElement("div",{style:{color:"#A3A2BC",fontSize:12,padding:"0.5rem 0.5rem 0 0.5rem"}},l.default.string("chat.sendbox.toolbar.file.online.unusable"))}h.propTypes={isSizeLimit:t.default.bool,canUseP2p:t.default.bool},h.defaultProps={isSizeLimit:!1,canUseP2p:!0}},94822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(o.default.getChatFiles(e))),n=t[0],i=t[1];return(0,r.useEffect)((function(){return o.default.loadChatFiles(e),o.default.unsubscribe.bind(o.default,o.default.subscribeAny((function(t){t.some((function(t){return t.cgid===e}))&&i(o.default.getChatFiles(e))})))}),[e]),n};var r=n(67294),o=(t=n(94592))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},17234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(e=o.default.getMessageFile(e)).gid,n=(e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)([e])),e[0]),i=e[1];return(0,r.useEffect)((function(){return o.default.unsubscribe.bind(o.default,o.default.subscribe(t,(function(e){return i([e])})))}),[t]),n[0]};var r=n(67294),o=(t=n(94592))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},38400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(o.default.getChatUploadingFiles(e))),n=t[0],i=t[1];return(0,r.useEffect)((function(){return i(o.default.getChatUploadingFiles(e)),o.default.unsubscribe.bind(o.default,o.default.subscribeAny((function(t){t.some((function(t){return t.cgid===e}))&&i(o.default.getChatUploadingFiles(e))})))}),[e]),n};var r=n(67294),o=(t=n(94592))&&t.__esModule?t:{default:t};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},22003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){var t;return(null==(t=a.getMemberOrTemp(e))?void 0:t.displayName)||""}))),n=t[0],i=t[1];return(0,r.useEffect)((function(){var t;return i((null==(t=a.getMemberOrTemp(e))?void 0:t.displayName)||""),a.unsubscribe.bind(a,a.subscribe(e,(function(e){i(e.displayName)})))}),[e]),n};var r=n(67294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=null===(n=(t=n(99605))&&t.__esModule?t:{default:t}).default||void 0===n.default?void 0:n.default.getSharedData("membersStore")},97833:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(67294)),a=f(n(65286)),i=p(n(61862)),l=f(n(68896)),s=f(n(14478)),u=f(n(53751)),c=f(n(89378));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=(0,o.memo)((function(){var e=(0,u.default)(),t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(i.default.name)),n=t[0],r=t[1];return(0,o.useEffect)((function(){return a.default.off.bind(a.default,(0,i.onLangChange)((function(e){return r(e.name)})))}),[]),(0,o.useEffect)((function(){document.body.classList.toggle("app-login-showed",!e)}),[e]),t=(0,o.useMemo)((function(){return{lang:i.default,langName:n}}),[n]),o.default.createElement(c.default.Provider,{value:t},o.default.createElement("div",{id:"appView",className:"affix".concat(e?" hide-login":"")},o.default.createElement(l.default,{className:"dock-left",hidden:e}),o.default.createElement(s.default,{className:"dock"})))}))},34236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(97833));function o(e){return e&&e.__esModule?e:{default:e}}n=o(n(13346)),r={AppView:r.default,Index:n.default},t.default=r},13346:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(39711),i=c(n(88547)),l=c(n(97833)),s=c(n(78341)),u=c(n(46783));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.default=(0,o.memo)((function(){return o.default.createElement(a.HashRouter,null,o.default.createElement(i.default,null,o.default.createElement(l.default,null)),o.default.createElement(s.default,{key:"windowControls"}),o.default.createElement(u.default,{key:"autoReconnectBar",className:"dock-top"}))}))},78341:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=l(n(35622)),i=l(n(94128));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.default=(0,o.memo)((function(){if(i.default.isType("browser"))return null;var e=i.default.call("ui.getWindowStateController");return o.default.createElement(a.default,{controller:e})}))},6196:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(989)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(39276)),i=s(n(76646));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}n=s(n(68896)),o={Form:o.default,SwapUserDialog:a,Index:n.default,SwapUser:i.default},t.default=o},989:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=A(n(67294)),a=x(n(45697)),i=x(n(23848)),l=x(n(55072)),s=x(n(53158)),u=x(n(87137)),c=x(n(74160)),f=x(n(70389)),d=x(n(48516)),p=n(98649),h=x(n(65286)),m=A(n(61862)),y=n(15973),g=A(n(61629)),b=n(72749),v=n(13347),_=n(82587),w=n(43058),S=x(n(94128)),O=A(n(11803)),M=n(64393),C=n(16986),k=x(n(88666)),E=n(92371),P=n(89688),T=n(39276),j=["className"];function x(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=D(t))&&t.has(e))return t.get(e);var n,o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]);return a.default=e,t&&t.set(e,a),a}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function L(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Y(a,r,o,i,l,"next",e)}function l(e){Y(a,r,o,i,l,"throw",e)}i(void 0)}))}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=H(e);if(n=t?(n=H(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return z(o)}}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var G=S.default.modules.ui,q=!0,$=["HTTP_STATUS_401","HTTP_STATUS_402","HTTP_STATUS_403","HTTP_STATUS_405",O.Codes.INVALID_TOKEN,O.Codes.INVALID_URL];n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e);var n,r=W(a);function a(e){var t;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");V(z(t=r.call(this,e)),"handleRememberPasswordChanged",(function(e){var n=(r=t.state).ldap,r=r.autoLogin;t.setState({rememberMe:e,ldap:!e&&n,autoLogin:!!e&&r})})),V(z(t),"handleAutoLoginChanged",(function(e){var n=(r=t.state).ldap,r=r.rememberMe;t.setState({autoLogin:e,ldap:!e&&n,rememberMe:!!e||r})})),V(z(t),"handleLDAPChanged",function(){var e=B((function*(e){var n,r;!e||t.hasShowedLDAPConfirm?t.changeLDAP(e):(n=(r=R(yield(0,i.default)(d.default.confirm(m.default.string("login.ldap.confirm"),{actions:[{type:"cancel"},{type:"submit",label:m.default.string("common.continue")}],style:{maxWidth:500}})),2))[0],r=r[1],n?DEBUG&&console.error("Modal.confirm error",n):(r&&t.changeLDAP(e),t.hasShowedLDAPConfirm=!0))}));return function(t){return e.apply(this,arguments)}}()),V(z(t),"handleLoginBtnClick",(function(){t.setState({logging:!0,message:""},B((function*(){var e,n=t.state.serverUrl;c.default.ui["login.skipHTTPSecurityAlert"]||!n.toLowerCase().startsWith("http://")?t.login():(e=(n=R(yield(0,i.default)(d.default.confirm(o.default.createElement("div",null,o.default.createElement("h4",null,m.default.format("login.nonSecurity.confirm",n)),o.default.createElement("div",{className:"text-gray"},m.default.string("login.nonSecurity.detail"))),{actions:[{type:"cancel"},{type:"submit",label:m.default.string("login.nonSecurity.btn"),className:"danger-pale text-danger"}],style:{maxWidth:500},className:"app-login-nonSecurity-dialog"})),2))[0],n=n[1],e?DEBUG&&console.error("Modal.confirm error",e):n?t.login():t.setState({logging:!1,message:""}))})))})),V(z(t),"handleSwapUserBtnClick",(function(){var e=(r=t.state).serverUrl,n=r.account,r=r.showServerInput;n=e&&n?g.default.createIdentify(e,n):null,(0,T.showSwapUserDialog)(n,t._lockServer||!r?e:null,(function(e){e={serverUrl:g.default.simplifyServerUrl(e.serverUrl),account:e.account,password:e.authKey||e.password,message:""},t.setState(e)}))})),V(z(t),"handleServerUrlChange",(function(e){t.handleInputFieldChange("serverUrl",e)})),V(z(t),"handleAccountChange",(function(e){t.handleInputFieldChange("account",e)})),V(z(t),"handlePasswordChange",(function(e){t.handleInputFieldChange("password",e)})),V(z(t),"handleSettingBtnClick",(function(e){var n=(o=t.state).ldap,r=o.logging,o=o.showServerInput;(0,p.showContextMenu)("login.setting",{event:e,ldap:n,logging:r,showServerInput:t._lockServer||o,onLdapChange:t.handleLDAPChanged,onRequestShowServerInput:function(){t.setState({showServerInput:!0})},showAbout:function(){k.default.show()}})})),V(z(t),"handleDiagnoseNetworkBtnClick",(function(){var e=t.state.loginError;(0,P.showNetDiagnosticsDialog)((e&&e.getExtras?e.getExtras("user"):null)||t._loginUserData,e)})),V(z(t),"_getPasswordInputRef",(function(e){t._passwordInput=e})),PERF_MARK("loginFormCreateStart");var n=((e=N(N({server:"",account:"",password:"",ldap:!1,rememberMe:!0,autoLogin:!1,showServerInput:!1},c.default.ui.defaultUser),(0,M.getSearchParam)())).authKey||(e.password?e.authKey="".concat(g.AUTH_PASSWORD_FLAG).concat(e.password):e.token&&(e.authKey="".concat(g.AUTH_TOKEN_FLAG).concat(e.token))),t._lockServer=!(!e.server||!e.lock),{serverUrl:e.server,account:e.account,password:e.authKey,rememberMe:e.rememberMe,autoLogin:e.autoLogin,ldap:e.ldap,showServerInput:PERF,message:"",messageDetail:"",logging:!1}),l=(!(l=(0,y.getLastSavedUser)())||n.account&&n.account!==l.account||(t._lockServer||(n.serverUrl=l.serverUrl||l.server||""),n.account=l.account||"",n.password=e.password?e.authKey:l.rememberMe?l.authKey:"",n.rememberMe=l.rememberMe,n.autoLogin=l.autoLogin,n.ldap=l.ldap),n.serverUrl?n.serverUrl=g.default.simplifyServerUrl(n.serverUrl):n.showServerInput=!0,e=!1,G.isFirstMainWindow&&(e=!G.isFirstMainWindow()),n.ldap&&(n.rememberMe=!1,n.autoLogin=!1),(0,C.isNotEmptyString)(n.serverUrl)&&(0,C.isNotEmptyString)(n.account)&&(0,C.isNotEmptyString)(n.password));return t._isFirstShowLoginForm=q,t._autoLoginOnOpen=q&&!PERF&&!e&&l&&(n.autoLogin||(0,_.isAutoLoginNextTime)()),q=!1,t._autoLoginOnOpen&&(n.logging=!0),t.state=n,t}return t=a,(e=[{key:"componentDidMount",value:function(){var e=this;this._autoLoginOnOpen?(document.body.classList.add("app-auto-logging"),this.login().then((function(e){(0,y.emitUserAutoLoginEvent)(e?"success":"fail")})).finally((function(){document.body.classList.remove("app-auto-logging")}))):this._isFirstShowLoginForm&&(0,y.emitUserAutoLoginEvent)("skip"),this._userList=(0,b.getUserListFromStore)(),this.onLangChangeHandler=(0,m.onLangChange)((function(){e.forceUpdate()})),PERF_MARK("loginFormCreated","loginFormCreateStart","loginFormCreateTime")}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,h.default.off(this.onLangChangeHandler)}},{key:"login",value:(n=B((function*(){var e,t=this,n=(this.showUpdateDialogTask&&(clearTimeout(this.showUpdateDialogTask),this.showUpdateDialogTask=null),s=this.state).account,r=s.password,o=s.serverUrl,a=s.rememberMe,l=s.ldap,s=s.autoLogin,u=(o=(o=o.trim()).endsWith("/")?o.slice(0,-1):o,null);try{o=o.startsWith("http://")||o.startsWith("https://")?2<(u=new URL(o)).pathname.split("/").length?"".concat(u.protocol,"//").concat(u.hostname):o:2<(u=new URL("http://".concat(o))).pathname.split("/").length?u.hostname:o,this._loginUserData={server:o,account:n,authKey:r,rememberMe:a,autoLogin:s,ldap:l},PERF_MARK("loginBegin");var c=R(yield(0,i.default)((0,v.login)(this._loginUserData)),1)[0];if(this._unmounted)return!1}catch(s){c="Failed to construct 'URL': Invalid URL"===s.message?new O.default(O.Codes.INVALID_URL):s.message}return c?(e=O.default.create(c),DEBUG&&(console.collapse("Login.error","redBg",e.message,"redPale"),console.error({error:e}),console.groupEnd()),u={message:m.default.error(e),logging:!1,loginError:e,showDiagnoseBtn:!$.find((function(t){return t===e.code}))},(o="HTTP_STATUS_401"===e.code||e.code===O.Codes.INVALID_TOKEN)&&(u.password=""),this.setState(u,o?function(){var e;null!=(e=t._passwordInput)&&e.focus()}:null),"CLIENT_REQUIRE_UPDATE"===e.code&&(0,E.showUpdateGuideDialog)(),PERF_MARK("loginEndWithError","loginBegin","loginTime"),!1):(this.setState({logging:!1,showServerInput:!1}),r=(n=(0,w.getUpdaterStatus)()).needUpdateOptional,a=n.skipped,r&&!a&&(this.showUpdateDialogTask=setTimeout(E.showUpdateGuideDialog,3e3)),PERF_MARK("loginEnd","loginBegin","loginTime"),!0)})),function(){return n.apply(this,arguments)})},{key:"handleInputFieldChange",value:function(e,t){var n,r=(n=this.state).account,o=n.password,a=n.serverUrl;(n={account:r,password:o,serverUrl:a,message:""})[e]=t,"account"===e&&(null!=o&&o.startsWith(g.AUTH_TOKEN_FLAG)||null==o||!o.length)&&(r=this._userList.find((function(e){return e.server===a&&e.account===t})),n.password=(null==r?void 0:r.authKey)||""),this.setState(n)}},{key:"changeLDAP",value:function(e){var t=(n=this.state).autoLogin,n=n.rememberMe;this.setState({ldap:e,rememberMe:!e&&n,autoLogin:!e&&t}),e&&this.handleInputFieldChange("password","")}},{key:"render",value:function(){var e=this,t=(n=this.props).className,n=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,j),r=(v=this.state).serverUrl,a=v.account,i=void 0===(i=v.password)?"":i,c=v.rememberMe,d=v.autoLogin,p=v.message,h=v.logging,y=v.loginError,b=v.showDiagnoseBtn,v=v.showServerInput,_=i.includes(g.AUTH_TOKEN_FLAG),w=(0,C.isNotEmptyString)(r)&&(0,C.isNotEmptyString)(a)&&(0,C.isNotEmptyString)(i),S=o.default.createElement("button",{"data-hint":m.default.string("login.swapUser"),onClick:this.handleSwapUserBtnClick,type:"button",className:"app-login-control-btn dock-right dock-top btn iconbutton rounded hint--bottom-right"},o.default.createElement(u.default,{name:"sprite-switch-account"})),O=o.default.createElement("button",{"data-hint":m.default.string("login.password.clear"),onClick:function(){return e.setState({password:""})},type:"button",className:"app-login-control-btn dock-right dock-top btn iconbutton rounded hint--bottom-right"},o.default.createElement(u.default,{name:"mdi-backspace-outline",className:"text-primary"}));return r=o.default.createElement(f.default,{value:r,autoFocus:!0,disabled:h,label:m.default.string("login.serverUrl.label"),placeholder:m.default.string("login.serverUrl.hint"),onChange:this.handleServerUrlChange,className:"relative app-login-server-control"},S),o.default.createElement("form",I({className:(0,M.classes)("app-login-form",t),onSubmit:function(e){return e.preventDefault()}},n),p&&o.default.createElement("div",{className:"app-login-message danger box"},p," ",y&&b?o.default.createElement("a",{className:"small label rounded darken-2 x-outline",onClick:this.handleDiagnoseNetworkBtnClick},m.default.string("diagnostics.diagnoseNetwork")," "):null),v?r:null,o.default.createElement(f.default,{autoFocus:!v,value:a,disabled:h,label:m.default.string("login.account.label"),placeholder:m.default.string("login.account.hint"),onChange:this.handleAccountChange,className:"relative app-login-control"},v?null:S),o.default.createElement(f.default,{value:_?i.slice(0,32):i,disabled:h,className:"space-lg relative app-login-control",inputType:"password",label:m.default.string("login.password.label"),onChange:this.handlePasswordChange,inputProps:_?{disabled:!0}:{},ref:this._getPasswordInputRef},_?O:null),o.default.createElement("button",{id:"loginBtn",type:"submit",disabled:!w||h,className:(0,M.classes)("btn block rounded space-xl btn",w?"primary bg-primary":"gray"),onClick:this.handleLoginBtnClick},m.default.string(h?"login.btn.logging":"login.btn.label")),o.default.createElement("div",{className:"row"},o.default.createElement(s.default,{disabled:h,checked:c,onChange:this.handleRememberPasswordChanged,className:"cell",label:m.default.string("login.rememberMe")}),o.default.createElement(s.default,{disabled:h,checked:d,onChange:this.handleAutoLoginChanged,className:"cell",label:m.default.string("login.autoLogin")}),o.default.createElement(l.default,{className:"iconbutton rounded hint--bottom-right settings-btn",icon:"sprite-settings",onClick:this.handleSettingBtnClick,"data-hint":m.default.string("login.moreLoginSettings")})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),V(t.default=n,"propTypes",{className:a.default.string}),V(n,"defaultProps",{className:null})},68896:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=m(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=h(n(989)),l=h(n(87137)),s=n(61862),u=h(n(94128)),c=h(n(41584)),f=h(n(74160)),d=n(61629),p=n(13347);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=!u.default.access("env").isOSX;n="browser"!==u.default.type?function(e){var t=e.className,n=void 0!==(r=e.hidden)&&r,r=e.children,u=(e=b((0,o.useState)(!1),2))[0],f=e[1];return(0,c.default)(),(0,o.useEffect)((function(){var e;if(n)return e=setTimeout((function(){f(!0)}),3e3),function(){return clearTimeout(e)};f(!1)}),[n]),u&&n?null:(e=(0,a.getSearchParam)("loginTip"),o.default.createElement("div",{className:(0,a.classes)("app-login center-content",t)},o.default.createElement("div",{className:"drag-area user-app-dragable dock"}),(0,s.isSupportMultiLanguages)()&&o.default.createElement("header",{className:(0,a.classes)("has-padding-sm dock-right dock-top user-app-no-dragable",_?"lang-switch-moved":"")},o.default.createElement("a",{href:"xxc:showLanguageSwitchDialog",className:"btn darken text-white rounded muted"},o.default.createElement(l.default,{name:"web"}),"",o.default.createElement("small",null,(0,s.getLangDisplayName)()))),o.default.createElement("section",null,o.default.createElement("header",{className:"text-center space-sm app-login-logo"},o.default.createElement("img",{src:(0,s.getMediaPath)("logo-inverse"),alt:"logo"})),o.default.createElement(i.default,{className:"rounded layer has-padding-xl user-app-no-dragable"}),e&&o.default.createElement("div",{className:"app-login-tip small text-center has-padding-v muted text-white"},e),r)))}:function(e){var t,n=e.children,r=(e=e.hidden,(t=b((0,o.useState)(),2))[0]),i=t[1],l=(t=b((0,o.useState)("waiting"),2))[0],s=t[1],u=b((0,c.default)(),1)[0];return(0,o.useEffect)((function(){var e=function(){var e=g(g({server:"",account:"",password:"",ldap:!1,rememberMe:!0},f.default.ui.defaultUser),(0,a.getSearchParam)());return e.authKey||(e.password?e.authKey="".concat(d.AUTH_PASSWORD_FLAG).concat(e.password):e.token&&(e.authKey="".concat(d.AUTH_TOKEN_FLAG).concat(e.token))),e}();if(!(e&&e.server&&e.account&&e.authKey))return s("error"),void i(u.string("login.loginParamsRequired"));s("logging"),(0,p.login)(e).then((function(){s("loggined")})).catch((function(e){i(u.error(e)),s("failed")}))}),[u]),e||"loggined"===l||"waiting"===l?null:(t=null,r||"failed"===l?t=o.default.createElement("div",{className:"has-padding-lg"},r||u.string("login.loginFailed")):"logging"===l&&(t=o.default.createElement("div",null,o.default.createElement("div",{className:"lds-ring",style:{display:"inline-block",position:"relative",width:"64px",height:"64px"}},o.default.createElement("div",null),o.default.createElement("div",{style:{animationDelay:"-0.45s"}}),o.default.createElement("div",{style:{animationDelay:"-0.3"}}),o.default.createElement("div",{style:{animationDelay:"-0.15s"}})),o.default.createElement("div",{className:"text-primary strong small"},u.string("login.logging")))),o.default.createElement("div",{className:"dock app-login-simple center-content"},t,n))},t.default=n},89688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showNetDiagnosticsDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=l(n(83173)),i=l(n(61862));function l(e){return e&&e.__esModule?e:{default:e}}n={show:t.showNetDiagnosticsDialog=function(e,t,n){return"function"==typeof t&&(n=t,t=null),o.default.show({title:i.default.string("diagnostics.diagnoseNetwork"),actions:!1,id:"app-net-diagnostics-dialog",style:{left:10,right:10,bottom:0,top:30},className:"app-net-diagnostics-dialog dock",animation:"enter-from-bottom",content:r.default.createElement(a.default,{user:e,loginError:t})},n)}},t.default=n},83173:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=g(n(45697)),i=n(64393),l=g(n(2388)),s=g(n(87137)),u=g(n(55072)),c=g(n(61862)),f=n(55471),d=g(n(91705)),p=n(7066),h=g(n(94128)),m=g(n(74160)),y=["loginError","user","className"];function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=S(e);if(n=t?(n=S(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return w(o)}}(a);function a(e){var t;if(this instanceof a)return O(w(t=n.call(this,e)),"copyDiagnoseLogs",(function(){h.default.call("clipboard.writeText",t.getDiagnoseLogs().join("\n\n")),t.setState({copied:!0},(function(){setTimeout((function(){t.setState({copied:!1})}),3e3)}))})),O(w(t),"exportDiagnoseLogs",(function(){h.default.call("dialog.showSaveFileDialog",t.getDiagnoseLogs().join("\n\n"),{filename:"".concat(m.default.pkg.name,"-diagnostics-").concat((0,p.formatDate)(new Date,"yyyyMMddhhmmss"),".log")})})),O(w(t),"expandAllResults",(function(){var e,n=(e=t.state).expandStates;(e=e.results)&&(e.forEach((function(e){n[e.id]=!0})),t.setState({expandStates:n}))})),O(w(t),"scrollToBottom",(function(){var e;t.containerElement&&(e=t.containerElement.parentElement)&&(e.scrollTop=e.scrollHeight)})),t.state={waiting:null,results:[],copied:!1,expandStates:{}},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){this.diagnose()}},{key:"componentWillUnmount",value:function(){this.unMounted=!0}},{key:"diagnose",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this.props,r=n.user,o=n.loginError;this.setState({waiting:!0,results:[],expandStates:{}},(function(){return(0,f.diagnoseNetwork)(r,t?null:o,(function(t){var n=e.state.results;n.push(t),e.unMounted||e.setState({results:n},e.scrollToBottom)})).then((function(t){e.unMounted||e.setState({results:t,waiting:!1},e.scrollToBottom)})).catch((function(t){var n=e.state.results;n.push({type:"error",id:n.length,message:"".concat(c.default.string("diagnostics.diagnoseUnexpectedInterruption"),"").concat(t.message),detail:t.stack}),e.unMounted||e.setState({results:n,waiting:!1},e.scrollToBottom)}))}))}},{key:"getDiagnoseLogs",value:function(){return this.state.results.map((function(e){var t=["".concat((0,p.formatDate)(e.time,"yyyy-MM-dd hh:mm:ss.SSS")," [").concat(e.type.toUpperCase(),"] ").concat(e.code?"[".concat(e.code,"] "):"").concat(e.message)];return e.detail&&t.push(e.detail),t.join("\n")}))}},{key:"toggleResult",value:function(e,t){var n=this.state.expandStates;n[e]=t,this.setState({expandStates:n})}},{key:"render",value:function(){var e=this,t=((n=this.props).loginError,n.user,n.className),n=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,y),r=(b=this.state).waiting,a=b.results,f=b.copied,g=b.expandStates,b=null,_=(r&&(b=o.default.createElement("div",{className:"center-content space-sm"},o.default.createElement(d.default,{className:"flex-inline"}),o.default.createElement("div",{className:"has-padding lead"},c.default.string("diagnostics.waitForDiagnosing")))),[]),w=null;if(a&&a.length){for(var S=0;S<a.length;++S){var O=a[S],M="info"===O.type?"gray":"error"===O.type?"danger":O.type,C="error"===O.type?"alert":"warning"===O.type?"alert-outline":"success"===O.type?"checkbox-marked-circle":"information-outline",k=g[O.id],E=null,P=((k=void 0===k?"error"===O.type||"warning"===O.type:k)&&O.detail&&(E=o.default.createElement("div",{className:"app-net-diagnostic-result-section"},o.default.createElement("div",{className:"heading"},o.default.createElement(s.default,{name:"android-messages",className:"muted-light"}),o.default.createElement("div",{className:"title strong"},c.default.string("diagnostics.detail"),":")),o.default.createElement("pre",{className:"code"},O.detail))),null),T=(k&&O.suggestions&&O.suggestions.length&&(Array.isArray(O.suggestions)||(O.suggestions=[O.suggestions]),P=o.default.createElement("div",{className:"app-net-diagnostic-result-section"},o.default.createElement("div",{className:"heading"},o.default.createElement(s.default,{name:"lightbulb",className:"muted-light"}),o.default.createElement("div",{className:"title strong"},c.default.string("diagnostics.suggestions"),":")),o.default.createElement("ul",{className:"code"},O.suggestions.map((function(e){return o.default.createElement("li",null,e)})),O.code&&m.default.pkg.errorsURL?o.default.createElement("li",null,o.default.createElement("a",{className:"text-primary",href:"".concat(m.default.pkg.errorsURL,"#").concat(O.code)},c.default.string("diagnostics.moreSuggestions"))):null))),null);(O.detail||O.suggestions&&O.suggestions.length)&&(T=o.default.createElement("nav",null,o.default.createElement(u.default,{onClick:this.toggleResult.bind(this,O.id,!k),icon:"chevron-".concat(k?"up":"down"),className:"btn-lg rounded"}))),_.push(o.default.createElement("div",{className:"app-net-diagnostic-result ".concat(M,"-pale"),key:O.id},o.default.createElement("div",{className:"app-net-diagnostic-result-border ".concat(M)}),o.default.createElement("div",{className:"heading text-".concat("gray"===M?"black":M)},o.default.createElement("div",{className:"strong app-net-diagnostic-result-index"},"#",S+1),o.default.createElement("small",{className:"muted-light"},(0,p.formatDate)(O.time,"hh:mm:ss.SSS")," "),o.default.createElement(l.default,{icon:C}),o.default.createElement("div",{className:"title"},O.code?o.default.createElement("strong",null,"[",O.code,"] "):null,O.message),T),(E||P)&&o.default.createElement("div",{className:"".concat(M,"-pale")},E,P)))}r||(w=o.default.createElement("div",{className:"app-net-diagnostic-actions has-padding-v center-content"},o.default.createElement(u.default,{label:c.default.string("diagnostics.restartDiagnose"),className:"has-margin-xs primary bg-primary rounded",onClick:this.diagnose.bind(this,!0)}),h.default.has("clipboard.writeText")&&o.default.createElement(u.default,{disabled:f,label:c.default.string(f?"diagnostics.copiedDiagnoseLogs":"diagnostics.copyDiagnoseLogs"),className:"has-margin-xs primary x-outline rounded",onClick:this.copyDiagnoseLogs}),h.default.has("dialog.showSaveFileDialog")&&o.default.createElement(u.default,{label:c.default.string("diagnostics.exportDiagnoseLogs"),className:"has-margin-xs primary x-outline rounded",onClick:this.exportDiagnoseLogs}),!!m.default.pkg.contactURL&&o.default.createElement(u.default,{label:c.default.string("diagnostics.contactUs"),className:"has-margin-xs primary x-outline rounded",url:m.default.pkg.contactURL}),o.default.createElement(u.default,{label:c.default.string("diagnostics.expandAllDetail"),className:"has-margin-xs primary x-outline rounded",onClick:this.expandAllResults})))}return o.default.createElement("div",v({className:(0,i.classes)("app-net-diagnostic",t),ref:function(t){e.containerElement=t}},n),o.default.createElement("div",{className:"app-net-diagnostic overflow-y-auto user-selectable"},_),b||w)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),O(t.default=n,"propTypes",{loginError:a.default.object,user:a.default.object.isRequired,className:a.default.string}),O(n,"defaultProps",{loginError:null,className:null})},39276:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showSwapUserDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=l(n(76646)),i=l(n(61862));function l(e){return e&&e.__esModule?e:{default:e}}n={show:t.showSwapUserDialog=function(e,t,n,l){var s="app-login-swap-user";return o.default.show({title:i.default.string("login.swapUser"),actions:!1,id:s,style:{width:400},content:r.default.createElement(a.default,{identify:e,server:t,onSelectUser:function(e){o.default.hide(s),n&&n(e)}})},l)}},t.default=n},76646:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=h(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=p(n(45697)),i=p(n(87137)),l=p(n(61862)),s=p(n(61629)),u=n(72749),c=n(64393),f=p(n(27607)),d=["identify","server","className","onSelectUser"];function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(n=t?(n=b(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return g(o)}}(a);function a(e){var t;if(this instanceof a)return v(g(t=n.call(this,e)),"handleMouseLeave",(function(){t.setState({hover:""})})),t.state={hover:""},t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"getUserList",value:function(){var e,t;return this.userList&&!(0<arguments.length&&void 0!==arguments[0]&&arguments[0])||(this.userList=(0,u.getUserListFromStore)(),(e=this.props.server)&&(t=s.default.simplifyServerUrl(e),this.userList=this.userList.filter((function(e){return s.default.simplifyServerUrl(e.server)===t})))),this.userList}},{key:"handleMouseEnter",value:function(e){this.setState({hover:e})}},{key:"handleDeleteBtnClick",value:function(e,t){(0,u.removeUserFromStore)(e.identify),this.userList=null,this.forceUpdate(),t.stopPropagation()}},{key:"render",value:function(){var e=this,t=(a=this.props).identify,n=(a.server,a.className),r=a.onSelectUser,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(a,d),u=this.state.hover;return o.default.createElement("div",m({},a,{className:(0,c.classes)("app-swap-user list has-padding-v",n)}),this.getUserList().map((function(n){var a=(n=s.default.create(n)).identify,d=u===a,p=a===t;return o.default.createElement(f.default,{key:n.identify,user:n,onMouseEnter:e.handleMouseEnter.bind(e,a),onMouseLeave:e.handleMouseLeave,className:(0,c.classes)("flex-middle",{"primary-pale":p}),onClick:r.bind(null,n)},d?o.default.createElement("button",{style:{zIndex:10},title:l.default.string("common.remove"),onClick:e.handleDeleteBtnClick.bind(e,n),type:"button",className:"btn iconbutton rounded"},o.default.createElement(i.default,{name:"delete text-danger"})):p?o.default.createElement("div",{className:"checkbox checkbox-sm checked"},o.default.createElement("label",null)):null)})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),v(t.default=n,"propTypes",{className:a.default.string,identify:a.default.string,server:a.default.string,onSelectUser:a.default.func}),v(n,"defaultProps",{className:null,identify:null,server:null,onSelectUser:null})},46783:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=b(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(64393),i=n(15973),l=g(n(61862)),s=g(n(65286)),u=n(13347),c=n(75738),f=g(n(2388)),d=n(78717),p=g(n(94128)),h=g(n(74160)),m=n(16986),y=n(727);function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=S(e);if(n=t?(n=S(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return w(o)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e);var n=_(r);function r(e){if(this instanceof r)return O(w(e=n.call(this,e)),"onUserStatusChangeHandler",void 0),O(w(e),"connectTimes",void 0),O(w(e),"startConnectTime",void 0),O(w(e),"countTimer",void 0),O(w(e),"disconnectNotificationTimerId",void 0),e.state={userStatus:c.STATUS.$.unverified,tick:0,connecting:!1,disconnect:!1,failMessage:"",isShortDisconnect:!1,hasSetTrayOffline:!1},e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"componentDidMount",value:function(){var e=this;this.onUserStatusChangeHandler=(0,i.onUserStatusChange)((function(){var t=(0,i.getUserStatus)();if(e.state.userStatus!==t){if(e.setState({userStatus:t}),c.STATUS.isSame(t,c.STATUS.$.disconnect))return e.startConnect(),e.disconnectNotificationTimerId&&clearTimeout(e.disconnectNotificationTimerId),void(e.disconnectNotificationTimerId=setTimeout((function(){p.default.call("ui.showAndFocusWindow")}),(0,m.convertTimes)(h.default.ui["app.timeToShowMainWindowAfterOffline"])));e.setState({hasSetTrayOffline:!1}),e.stopConnect(),p.default.call("ui.setTrayToGray",!1),e.disconnectNotificationTimerId&&(clearTimeout(e.disconnectNotificationTimerId),e.disconnectNotificationTimerId=null)}}))}},{key:"componentWillUnmount",value:function(){s.default.off(this.onUserStatusChangeHandler),clearInterval(this.countTimer),this.countTimer=null,clearTimeout(this.disconnectNotificationTimerId),this.disconnectNotificationTimerId=null}},{key:"connect",value:function(){var e=this;this.setState({connecting:!0,failMessage:""}),(0,u.reconnect)().catch((function(t){DEBUG&&(console.collapse("Login.error","redBg",l.default.error(t),"redPale"),console.error(t),console.groupEnd()),"HTTP_STATUS_401"===t.code?(e.logout(),(0,d.executeCommand)("showMessager",l.default.error("HTTP_STATUS_401"),{rootClassName:"message-kickoff-confirm",type:"danger",icon:"alert"})):"SER_ERR"===t.code&&(e.logout(),(0,d.executeCommand)("showMessager",l.default.error(t),{rootClassName:"message-kickoff-confirm ",type:"danger",icon:"alert"})),e.connectTimes+=1,e.setState({failMessage:l.default.error(t),connecting:!1,tick:5*e.connectTimes})}))}},{key:"startConnect",value:function(){var e=this;this.connectTimes=0,this.setState({connecting:!1,disconnect:!0,tick:0,isShortDisconnect:!0}),this.startConnectTime=Date.now(),this.countTimer=setInterval((function(){var t=(n=e.state).connecting,n=n.tick,r={};if(!t){if(n<1)return e.connect();r.tick=n-1}r.isShortDisconnect=Date.now()-e.startConnectTime<=15e3,r.isShortDisconnect||e.state.hasSetTrayOffline||((t=(0,i.getCurrentUser)())&&(0,y.updateUserInfoOnTray)(t),p.default.call("ui.setTrayToGray"),r.hasSetTrayOffline=!0),e.setState(r)}),1e3)}},{key:"stopConnect",value:function(){this.setState({connecting:!1,disconnect:!1,isShortDisconnect:!1}),clearInterval(this.countTimer),this.countTimer=null}},{key:"reconnectNow",value:function(){this.state.connecting||(this.connectTimes=Math.min(1,Math.floor(this.connectTimes/2)),this.connect())}},{key:"logout",value:function(){this.stopConnect(),(0,u.logout)(!0)}},{key:"render",value:function(){var e=this,t=(i=this.state).connecting,n=i.disconnect,r=i.tick,i=i.isShortDisconnect;return!n||i?null:(i=this.props.className,t=t?o.default.createElement("div",{className:"heading yellow shadow-1"},o.default.createElement(f.default,{size:24,icon:"loading spin"}),o.default.createElement("div",{className:"title small"},h.default.ui["app.shortenReconnectMessage"]?l.default.string("login.autoConnect.connecting.short"):l.default.string("login.autoConnect.connecting")),!h.default.ui["app.hideLogout"]&&o.default.createElement("nav",{className:"nav nav-sm"},o.default.createElement("a",{onClick:function(){return e.logout()}},l.default.string("login.autoConnect.logout")))):o.default.createElement("div",{className:"heading yellow rounded shadow-1"},o.default.createElement(f.default,{size:24,icon:r%2==0?"lan-disconnect":"lan-connect"}),o.default.createElement("div",{className:"title small"},h.default.ui["app.shortenReconnectMessage"]?l.default.string("login.autoConnect.wait.short"):o.default.createElement(o.default.Fragment,null,l.default.format(this.connectTimes?"login.autoConnect.failedAndWait":"login.autoConnect.wait",Math.max(0,r)),this.state.failMessage?o.default.createElement("span",{"data-hint":this.state.failMessage,className:"hint--bottom"},l.default.string("login.autoConnect.errorDetail")):null)),o.default.createElement("nav",{className:"nav nav-sm"},o.default.createElement("a",{onClick:function(){return e.reconnectNow()}},l.default.string("login.autoConnect.connectIM")),!h.default.ui["app.hideLogout"]&&o.default.createElement("a",{onClick:function(){return e.logout()}},l.default.string("login.autoConnect.logout")))),o.default.createElement("div",{className:(0,a.classes)("app-auto-reconnect-bar center-content",i,{"app-user-disconnet":n})},t))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.PureComponent),O(t.default=n,"defaultProps",{className:null})},2663:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=d(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=f(n(45697)),i=f(n(45780)),l=f(n(31524)),s=f(n(85110)),u=f(n(44884)),c=(n=f(n(66052)),["match","location","history","staticContext"]);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var g=[{path:s.default.chats._,view:u.default},{path:s.default.contacts._,view:n.default},{path:s.default.conference._,view:l.default}];i.default&&g.push({path:s.default.exts._,view:i.default}),u=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(n=t?(n=m(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(a);function a(){if(this instanceof a)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"render",value:function(){var e=(t=this.props).match,t=(t.location,t.history,t.staticContext,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,c));return o.default.createElement("div",p({className:"app-main-container user-app-no-dragable dock"},t),g.map((function(t){return e.url.startsWith(t.path)?(t.active=!0,o.default.createElement(t.view,{className:"app-container",key:t.path,match:e})):t.active?o.default.createElement(t.view,{className:"app-container",key:t.path,match:e,hidden:!0}):null})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component),y(t.default=u,"propTypes",{match:a.default.any,location:a.default.any,history:a.default.any,staticContext:a.default.any}),y(u,"defaultProps",{match:null,location:null,history:a.default.any,staticContext:a.default.any})},45714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(79873)),o=i(n(2663)),a=i(n(46783));function i(e){return e&&e.__esModule?e:{default:e}}n=i(n(14478)),r={Navbar:r.default,CacheContainer:o.default,Index:n.default,AutoReconnectBar:a.default},t.default=r},14478:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=y(n(45697)),i=n(39711),l=n(64393),s=y(n(85110)),u=n(15973),c=y(n(79873)),f=y(n(2663)),d=n(61862),p=y(n(65286)),h=(n(65958),["className"]),m=["className"];function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=k(e);if(n=t?(n=k(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var P=function(){O(t,o.Component);var e=C(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"componentDidMount",value:function(){var e=this;this.onUserConfigChange=(0,u.onUserConfigChange)((function(){e.forceUpdate()})),this.onLangChangeHandler=(0,d.onLangChange)((function(){e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){p.default.off(this.onUserConfigChange,this.onLangChangeHandler)}},{key:"render",value:function(){var e=(t=this.props).className,t=v(t,h);return o.default.createElement("div",b({className:(0,l.classes)("app-main",e)},t),o.default.createElement(c.default,{className:"dock-left"}),o.default.createElement(i.Route,{path:"/",exact:!0,render:function(){return o.default.createElement(i.Redirect,{to:"/chats"})}}),o.default.createElement(i.Route,{path:"/index",exact:!0,render:function(){return o.default.createElement(i.Redirect,{to:"/chats"})}}),o.default.createElement(i.Route,{path:s.default.apps.__,exact:!0,component:f.default}))}}]),t}();E(P,"propTypes",{className:a.default.string}),E(P,"defaultProps",{className:null}),n=function(){O(t,P);var e=C(t);function t(){_(this,t),n=e.call(this);var n,r=document.createElement("style");return r.innerHTML="\n        @font-face {\n            font-family: ZentaoIcon;\n            font-style: normal;\n            font-weight: 400;\n            src: url(../../../theme/zui/fonts/ZentaoIcon.eot?v=1.27);\n            src: url(../../../theme/zui/fonts/ZentaoIcon.eot?#iefix&v=1.27) format('embedded-opentype'),url(../../../theme/zui/fonts/ZentaoIcon.woff?v=1.27) format('woff'),url(../../../theme/zui/fonts/ZentaoIcon.ttf?v=1.27) format('truetype'),url(../../../theme/zui/fonts/ZentaoIcon.svg#regular?v=1.27) format('svg')\n        }       \n                        \n        [class^=\"icon-zt-\"],\n        [class*=\" icon-zt-\"] {\n            font-family: 'ZentaoIcon' !important;\n            font-style: normal;\n            font-weight: normal;\n            font-variant: normal;\n            text-transform: none;\n            line-height: 1;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n        }\n\n        .icon-zt-product:before {content: \"\\e98f\";}\n        .icon-zt-project:before {content: \"\\e99c\";}    \n          ",document.body.append(r),n}return S(t,[{key:"render",value:function(){var e=(t=this.props).className,t=v(t,m);return o.default.createElement("div",b({className:(0,l.classes)("app-main",e)},t),o.default.createElement(i.Route,{path:"/",exact:!0,render:function(){return o.default.createElement(i.Redirect,{to:"/chats"})}}),o.default.createElement(i.Route,{path:"/index",exact:!0,render:function(){return o.default.createElement(i.Redirect,{to:"/chats"})}}),o.default.createElement(i.Route,{path:s.default.apps.__,exact:!0,component:f.default}))}}]),t}(),t.default=n},85411:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(45697)),i=n(64393),l=u(n(2388)),s=["id","label","icon","iconClassName","hint","url","className","click","active","noticeCount","children"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){var t=e.id,n=e.label,r=e.icon,a=e.iconClassName,u=e.hint,c=e.url,d=e.className,p=e.click,h=e.active,m=e.noticeCount,y=e.children;return e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,s),o.default.createElement("a",f({className:(0,i.classes)("nav-item hint--right",d,{active:h}),href:c,"data-hint":null!=u?u:n,"data-id":t,onClick:p},e),o.default.createElement(l.default,{size:30,auto:r,className:a}),"number"==typeof m&&o.default.createElement("div",{className:"label label-sm dock-right dock-top circle red badge fade zoom".concat(m?" in":"")},m),y)}d.propTypes={id:a.default.string.isRequired,icon:a.default.string.isRequired,iconClassName:a.default.string,label:a.default.string,hint:a.default.string,url:a.default.string,className:a.default.string,click:a.default.func,active:a.default.bool,noticeCount:a.default.number,children:a.default.node},d.defaultProps={iconClassName:null,label:null,hint:null,url:null,className:null,click:null,active:!1,noticeCount:null,children:null},t.default=(0,o.memo)(d)},60947:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=g(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(15973),i=y(n(6015)),l=y(n(65286)),s=n(14227),u=n(51572),c=y(n(98709)),f=y(n(42207)),d=y(n(85411)),p=y(n(74101)),h=y(n(61862)),m=n(37907);function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(){(0,m.tryEmitUnreadMessagesChange)(p.default.getUnreadMessageCount())}t.default=(0,o.memo)((function(){var e,t=(0,c.default)(),r=(0,f.default)(),p=(0,i.default)().forceUpdate;return(0,o.useEffect)((function(){document.body.setAttribute("data-nav-id",r)}),[r]),(0,o.useEffect)((function(){var e=(0,a.onUserLogin)(p),t=(0,a.onUserLogout)(p);return function(){l.default.off(e,t)}}),[]),o.default.createElement("nav",{className:"app-nav-main"},(t=[{id:"chats",label:h.default.string("navbar.chats.label"),noticeCount:t,url:"#/chats",icon:"sprite-nav-chat",className:"app-nav-chats",click:v},{id:"contacts",label:h.default.string("navbar.contacts.label"),url:"#/contacts",icon:"sprite-nav-contact"}],s.isUsedIndependentConferenceWindow&&null!=(e=(0,a.getCurrentUser)())&&e.isEnableDetachedConference&&(0,a.getCurrentUser)().isVersionSupport(u.VersionSupport.conferenceAppAndAppointment)&&t.push({id:"conference",label:h.default.string("common.audioVideoConference"),url:"#/conference",icon:"mdi-video"}),n.g.ExtsRuntime&&t.push({id:"apps",label:h.default.string("navbar.exts.label"),url:"#/exts",icon:"sprite-nav-app"}),t.map((function(e){return o.default.createElement(d.default,b({key:e.id,"data-id":e.id,active:e.id===r},e))}))))}))},24469:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=n(67940),i=s(n(60337)),l=s(n(76763));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=(0,o.memo)((function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),1!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,1):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,l.default)())[0];return e?o.default.createElement("nav",{className:"app-nav-user dock-bottom"},o.default.createElement("a",{className:"circle flex-none",onClick:i.default},o.default.createElement(a.MemberAvatarCommon,{status:e.statusName,displayName:e.displayName,avatar:e.avatar,code:e.id||e.account,showStatusDot:!0,size:36}))):null}))},79873:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=c(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=u(n(45697)),i=n(64393),l=u(n(24469)),s=u(n(60947));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e){var t=n.g.ExtsRuntime;return o.default.createElement("div",{className:(0,i.classes)("app-navbar with-avatar-on-top",e.className),id:"appNavbar"},o.default.createElement("div",{className:"app-navbar-drag-area user-app-dragable dock"}),o.default.createElement(l.default,null),o.default.createElement(s.default,null),t&&t.ExtsNavbarView&&o.default.createElement(t.ExtsNavbarView,null))}f.propTypes={className:a.default.string},f.defaultProps={className:""},t.default=(0,o.memo)(f)},60337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=C(n(67294)),o=n(98649),a=n(15973),i=C(n(61629)),l=C(n(61862)),s=n(13347),u=n(43058),c=C(n(82587)),f=C(n(74160)),d=n(78717),p=n(4547),h=n(48516),m=C(n(79358)),y=C(n(71060)),g=n(63640),b=n(59846),v=n(92371),_=n(88666),w=n(84360),S=n(61964),O=C(n(29009)),M=C(n(67940));function C(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}(0,o.addContextMenuCreator)("profile.menu",(function(){var e,t,n=(0,a.getCurrentUser)(),o=[],C=n&&n.status,E=C&&i.default.STATUS.getName(C);return o.push({id:"viewProfile",className:"app-user-profile-menu-name",icon:r.default.createElement(M.default,{memberID:n.id,size:30}),label:r.default.createElement("div",{className:"content"},r.default.createElement("div",{className:"title strong"},n.displayName),r.default.createElement("div",{className:"subtitle"},n.account)),url:"xxc://showMemberProfile/".concat(n.id)}),o.push("divider"),[i.default.STATUS.getName(i.default.STATUS.$.online),i.default.STATUS.getName(i.default.STATUS.$.busy),i.default.STATUS.getName(i.default.STATUS.$.meeting),i.default.STATUS.getName(i.default.STATUS.$.away)].forEach((function(e){o.push({id:"switchStatus-".concat(e),icon:r.default.createElement(O.default,{status:e}),label:l.default.string("member.status.".concat(e)),checked:E===e,click:function(){return(0,s.changeUserStatus)(e)}})})),o.push("divider"),"xxb"===n.backendType&&n.isVersionSupport("tokenAuth")&&o.push({id:"changeAvatar",label:l.default.string("usermenu.changeAvatar"),click:function(){var e=n.authKeyForServer,t=n.backendURL,r=n.account,o=n.requestType,a=n.requestFix,i=(0,p.generateRequestURL)("","user","changeavatar",{},{requestFix:"_",requestType:o});t=(0,p.generateRequestURL)(t,"im","authorize",{account:r,token:e,device:f.default.system.device||"desktop",url:i},{requestFix:a,requestType:o}),(0,d.executeCommand)("openUrlInDialog",t,{title:l.default.string("usermenu.changeAvatar")})}}),n.ldap||o.push({id:"changePassword",label:l.default.string("usermenu.changePassword"),click:S.showUserChangePasswordDialog}),o.push({id:"switchLanguage",label:l.default.string("common.switchLanguage"),click:w.showLanguageSwitchDialog},{id:"setting",label:l.default.string("usermenu.setting"),click:b.showUserSettingDialog}),f.default.ui["qrcode.login.enable"]&&(0,a.getCurrentUser)().hasAuthToken&&o.push({id:"mobileQr",label:l.default.string("usermenu.login.qr"),click:g.showLoginQRCode}),o.push("divider"),o.push({id:"about",label:l.default.string("usermenu.about"),click:_.showAboutDialog}),(0,u.getUpdaterStatus)().needUpdate&&o.push({id:"foundNewVersion",label:l.default.string("update.foundNewVersion"),click:v.showUpdateGuideDialog}),o.push("divider"),o.push({id:"logout",label:l.default.string("usermenu.logout"),click:(e=function*(){if(0<m.default.getRTCAllSender().length||0<y.default.getRTCAllReceiver().length){if(!(yield(0,h.showConfirm)(l.default.string("file.upload.p2p.exitHint.content"))))return;m.default.clearRTCSender(),y.default.clearRTCReceiver()}(0,s.logout)()},t=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){k(a,r,o,i,l,"next",e)}function l(e){k(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return t.apply(this,arguments)})}),c.default.canQuit&&o.push({id:"exit",label:l.default.string("usermenu.exit"),click:c.default.quit}),o}),{apiLevel:4}),t.default=function(e){var t={triggerElement:e.currentTarget||e.target,direction:"below-left",offsetX:-45,offsetY:5};(0,o.showContextMenu)("profile.menu",{event:e,options:{position:t,className:"app-user-profile-menu",style:{minWidth:188}}})}},91103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(31239),o=n(86033),a=n(78717),i=U(n(74101)),l=n(68271),s=n(92371),u=n(68788),c=n(67629),f=n(21531),d=n(19815),p=n(48516),h=n(59702),m=n(32286),y=n(65835),g=n(14992),b=n(82847),v=n(53255),_=n(94602),w=n(99270),S=n(56654),O=n(39113),M=n(30010),C=n(46243),k=n(68232),E=(n(80904),n(32887)),P=n(28350),T=n(52278),j=n(54881),x=n(14733),D=n(35325),A=n(52677),I=n(9913),L=n(47238),N=n(41350),R=U(n(61862)),F=n(67819),Y=n(38130),B=n(15998);function U(e){return e&&e.__esModule?e:{default:e}}function W(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){(0,p.setLangObj)(e),(0,a.registerCommand)("showChatSendCodeDialog",(function(e,t){(t="string"==typeof(t=t||e.chat||(0,l.getActiveChatGid)())?i.default.getChat(t):t)&&(0,r.showChatCodeDialog)(t)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatShareDialog",(function(e,t){e=e.message,(0,o.showChatShareDialog)(e||t)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatSendDialog",(function(e){return(0,o.showChatSendDialog)(e)}),null,{apiLevel:4}),(0,a.registerCommand)("showUpdateGuideDialog",(function(e,t){return(0,s.showUpdateGuideDialog)(t)})),(0,a.registerCommand)("showMessager",(function(e,t,n){return(0,u.showMessager)(t,e.options,n)}),null,{apiLevel:5}),(0,a.registerCommand)("showAlert",(function(e,t,n){return(0,p.showAlert)(t,e.options,n)}),null,{apiLevel:5}),(0,a.registerCommand)("showConfirm",(function(e,t,n){return(0,p.showConfirm)(t,e.options,n)}),null,{apiLevel:5}),(0,a.registerCommand)("showPrompt",(function(e,t,n,r){return(0,p.showPrompt)(t,n,e.options,r)}),null,{apiLevel:5}),(0,a.registerCommand)("showModal",(function(e,t){return(0,p.showModal)(e.options,t)}),null,{apiLevel:5}),(0,a.registerCommand)("showMemberProfile",(function(e,t,n){return(0,c.showMemberProfileDialog)(t||e.member||e.options&&e.options.memberId,n)}),null,{apiLevel:4}),(0,a.registerCommand)("openWebviewDialog",(function(e,t,n,r){return(0,f.showWebviewDialog)(t||e.url,n||e.options,r)}),null,{apiLevel:5}),(0,a.registerCommand)("openFormAndSendToServerBySendbox",(function(e,t,n,r){var o;(t=(0,Y.validateFormProps)(t))&&(e=e.targetElement.closest(".app-message-bubble"),o=null,e&&(o=e.getAttribute("data-id")),t.dataHandler=function(e){for(var t="",r=0,a=Object.entries(e);r<a.length;r++){var i=(l=z(a[r],2))[0],l=l[1];t+="".concat(i,"=").concat(l,"&")}t+="messageId=".concat(o),(0,B.sendContentToChat)("".concat(n," ").concat(t),{send:!0,clear:!0})},(0,Y.showDynamicFormDialog)(t,r))}),null,{apiLevel:6}),(0,a.registerCommand)("showEmojiPopover",(function(e,t,n,r){return(0,v.showEmojiPopover)(t,n,r)}),null,{apiLevel:4}),(0,a.registerCommand)("showHotkeySettingDialog",(function(e,t,n,r,o){return(0,_.showHotkeySettingDialog)(t,n,r,o)}),null,{apiLevel:6}),(0,a.registerCommand)("showChatGroupSettingsDialog",(function(e,t,n,r){return(0,h.showChatGroupSettingsDialog)(t,n,r)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatAvatarSettingsDialog",(function(e,t,n){return(0,F.showChatAvatarSettingsDialog)(t,n)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatCommittersSettingDialog",(function(e,t,n,r){return(0,m.showChatCommittersSettingDialog)(t,n,r)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatHistoryDialog",(function(e,t,n,r){return(0,y.showChatHistoryDialog)(t,n,r)}),null,{apiLevel:2}),(0,a.registerCommand)("showCreateChatDialog",(function(e,t,n){return(0,k.showCreateChatDialog)(t,n)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatInviteDialog",(function(e,t,n,r){return(0,g.showChatInviteDialog)(t,n,r)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatTipPopover",(function(e,t,n){return(0,b.showChatTipPopover)(t,n)})),(0,a.registerCommand)("showChangeFontPopover",(function(e,t,n){return(0,w.showChangeFontPopover)(t,n)})),(0,a.registerCommand)("showChatAddCategoryDialog",(function(e,t,n){return(0,S.showChatAddCategoryDialog)(t,n)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatBulletinSettingDialog",(function(e,t,n){return(0,O.showChatBulletinSettingDialog)(t,n)}),null,{apiLevel:4}),(0,a.registerCommand)("showConfirmSendFilesDialog",(function(e,t,n,r){return(0,M.showConfirmSendFilesDialog)(t,n,r)}),null,{apiLevel:4}),(0,a.registerCommand)("showChatMentionsDialog",(function(e,t,n){return(0,j.showChatMentionsDialog)(t,n)}),null,{apiLevel:4}),(0,a.registerCommand)("showMessageInDialog",(function(e,t,n,r){return(0,x.showMessageInDialog)(t,n,r)}),null,{apiLevel:4}),(0,a.registerCommand)("showTodoEditDialog",(function(e,t,n){return(0,C.showTodoEditDialog)(t,n)}),null,{apiLevel:6}),(0,a.registerCommand)("showDisplaySourceSelector",(function(t,n,r,o){return(0,T.showDisplaySourceSelector)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Lang:e},r),o)})),(0,a.registerCommand)("contextMenu",(function(e,t,n,r,o){e=void 0===(e=e.options)?{}:e,"string"==typeof(t=t||e.position)&&(t=JSON.parse(t)),"string"==typeof(n=n||e.items)&&(n=JSON.parse(n)),"string"==typeof(r=r||e.props)&&(r=JSON.parse(r)),(0,P.showContextMenu)(t,n,r,o)})),(0,a.registerCommand)("closeDisplay",(function(e,t,n){t=t||e.displayId,void 0===n&&(n=void 0===e.removeModal||e.removeModal),(0,E.displayHide)(t,null,n)}),null,{apiLevel:2}),(0,a.registerCommand)("closeModal",(function(e,t,n){return(0,a.executeCommandWithContext)("closeDisplay",e,t,n)}),null,{apiLevel:2}),(0,a.registerCommand)("viewMedia",(function(e,t,n){return(0,A.showMediaPreviewWindow)(t,n)}),null,{apiLevel:2}),(0,a.registerCommand)("viewChatMessageImage",(function(e,t,n,r){(0,D.showChatMessageImagePreivew)(t,n,r)}),null,{apiLevel:2}),(0,a.registerCommand)("openWebviewWindow",(function(e,t,n){return(0,I.openWebviewWindow)(t,n)}),null,{apiLevel:2}),(0,a.registerCommand)("openTextEditor",(function(e,t,n){return(0,L.openTextEditorWindow)(t,n)}),null,{apiLevel:2}),(0,a.registerCommand)("showChatsHistoryWindow",(function(e,t){return(0,N.showChatsHistoryWindow)(t)}),null,{apiLevel:2}),(0,a.registerCommand)("showConfirmCloseWithP2p",(function(e){return(0,a.executeCommandWithContext)("showConfirm",e,R.default.string("file.upload.p2p.exitHint.content"))})),(0,d.initUpdateView)()}},46243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showTodoEditDialog=t.default=void 0;var r=l(n(67294)),o=l(n(48516)),a=l(n(92810)),i=l(n(61862));function l(e){return e&&e.__esModule?e:{default:e}}n={show:t.showTodoEditDialog=function(e,t){var n="app-todo-editor-dialog";return o.default.show({title:i.default.string(e.id?"todo.edit":"todo.create"),id:n,actions:!1,style:{width:600},content:r.default.createElement(a.default,{defaultTodo:e,onRequestClose:function(){return o.default.hide(n)}})},t)}},t.default=n},92810:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n])}return o.default=e,t&&t.set(e,o),o}(n(67294)),a=b(n(45697)),i=n(64393),l=n(16986),s=n(7066),u=b(n(61862)),c=b(n(70389)),f=b(n(74379)),d=b(n(55072)),p=n(77325),h=n(68788),m=b(n(94128)),y=b(n(48516)),g=["className","defaultTodo","onRequestClose"];function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function k(e){return e?60*(e=e.split(":").map((function(e){return Number.parseInt(e,10)})))[0]+e[1]:0}var E=m.default.env.isOSX;n=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(n=t?(n=M(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return O(o)}}(a);function a(e){var t;if(this instanceof a)return C(O(t=n.call(this,e)),"handleSubmitBtnClick",(function(){t.checkTodo()&&t.setState({loading:!0},(function(){var e=t.state.todo;(0,p.createTodo)(e).then((function(e){var n={loading:!1};return e&&e.id?((0,h.showMessager)(u.default.string("todo.createSuccess"),{type:"success",autoHide:!0}),t.props.onRequestClose&&t.props.onRequestClose()):n.errorMessage=u.default.error("COMMON_ERROR"),t.setState(n),e})).catch((function(e){return y.default.alert(u.default.error(e))}))}))})),t.state={todo:e.defaultTodo||{},loading:!1,errorMessage:"",errorControl:""},t.state.todo.date||(t.state.todo.date=(0,s.formatDate)(new Date,"yyyy-MM-dd")),t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"handleTodoChange",value:function(e,t){var n=(r=this.state).todo,r=r.errorControl;n[e]=t,t={todo:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),errorMessage:""},e===r&&(t.errorControl=""),this.setState(t)}},{key:"checkTodo",value:function(){var e=this.state.todo;if((0,l.isEmptyString)(e.name))return this.setState({errorControl:"name",errorMessage:u.default.format("common.requiredField.format",u.default.string("todo.label.name"))}),!1;if((0,l.isEmptyString)(e.date))return this.setState({errorControl:"date",errorMessage:u.default.format("common.requiredField.format",u.default.string("todo.label.date"))}),!1;var t=(0,l.isEmptyString)(e.begin),n=(0,l.isEmptyString)(e.end);return t!==n?(this.setState({errorControl:t?"begin":"end",errorMessage:u.default.string("todo.beginAndEndBothRequired")}),!1):!(!t&&!n&&(t=k(e.begin),k(e.end)<t)&&(this.setState({errorControl:"end",errorMessage:u.default.string("todo.beginMustBeforeEnd")}),1))}},{key:"render",value:function(){var e=this,t=(r=this.props).className,n=(r.defaultTodo,r.onRequestClose),r=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(r,g),a=(p=this.state).todo,l=p.loading,s=p.errorMessage,p=p.errorControl;return n=[o.default.createElement(d.default,{key:"confirm",className:"primary btn-wide rounded bg-primary has-margin-sm",label:u.default.string("common.confirm"),onClick:this.handleSubmitBtnClick}),o.default.createElement(d.default,{key:"cancel",className:"btn-wide rounded gray x-outline has-margin-sm",label:u.default.string("common.cancel"),onClick:n})],E&&n.reverse(),o.default.createElement("div",_({},r,{className:(0,i.classes)("app-todo-editor relative load-indicator has-padding-v",t,{loading:l,disabled:l})}),s?o.default.createElement("div",{className:"box red rounded space-sm"},s):null,o.default.createElement(c.default,{className:"name"===p?"has-error":"",defaultValue:a.name,label:u.default.string("todo.label.name"),autoFocus:!0,placeholder:u.default.string("common.required"),onChange:this.handleTodoChange.bind(this,"name")}),o.default.createElement("div",{className:"control".concat("desc"===p?" has-error":"")},o.default.createElement("label",null,u.default.string("todo.label.desc")),o.default.createElement("textarea",{className:"textarea rounded",rows:"10",value:a.desc,placeholder:"".concat(u.default.string("todo.label.desc")," (").concat(u.default.string("todo.input.desc.hint"),")"),onChange:function(t){return e.handleTodoChange("desc",t.target.value)}})),o.default.createElement("div",{className:"row gutter-sm"},o.default.createElement("div",{className:"cell"},o.default.createElement("div",{className:"control"},o.default.createElement("label",null,u.default.string("todo.label.pri")),o.default.createElement(f.default,{value:a.pri,options:[1,2,3,4,""],onChange:this.handleTodoChange.bind(this,"pri")}))),o.default.createElement("div",{className:"cell"},o.default.createElement(c.default,{className:"date"===p?"has-error":"",inputType:"date",defaultValue:a.date,label:u.default.string("todo.label.date"),placeholder:u.default.string("todo.label.date")+u.default.string("common.required"),onChange:this.handleTodoChange.bind(this,"date")})),o.default.createElement("div",{className:"cell"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"cell"},o.default.createElement(c.default,{className:"begin"===p?"has-error":"",inputType:"time",defaultValue:a.begin,label:u.default.string("todo.label.begin"),onChange:this.handleTodoChange.bind(this,"begin")})),o.default.createElement("div",{className:"cell"},o.default.createElement(c.default,{className:"end"===p?"has-error":"",inputType:"time",defaultValue:a.end,label:u.default.string("todo.label.end"),onChange:this.handleTodoChange.bind(this,"end")}))))),o.default.createElement("div",{className:"actions toolbar text-center"},n))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent),C(t.default=n,"propTypes",{className:a.default.string,defaultTodo:a.default.object,onRequestClose:a.default.func}),C(n,"defaultProps",{className:null,defaultTodo:null,onRequestClose:null})},68196:(e,t,n)=>{"use strict";(n=n(67294))&&n.__esModule},90756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmbed=function(){return p},t.sendEmbedMessage=h,t=n(64393);var r=n(78717),o=n(13347),a=n(40910),i=(c=n(65286))&&c.__esModule?c:{default:c};function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,f=(0,t.getSearchParam)("origin"),d=(0,t.getSearchParam)("embedId"),p=f&&d&&window.parent!==window;function h(e){if(p){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{window.parent.postMessage([d,e,n],f)}catch(t){if(console.info('Cannot send embed message for type "'.concat(e,'"'),n),Array.isArray(n))return void window.parent.postMessage([d,e,JSON.parse(JSON.stringify(n))],f);console.error('Cannot send embed message for type "'.concat(e,'"'),n)}}}p&&(window.webEmbed={origin:f,embedId:d,postMessage:h},window.addEventListener("message",(function(e){if(Array.isArray(e.data)){e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),3!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e)||s(e,3)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.data);var t=e[0],n=e[1],a=e[2];if(d===t)switch(n){case"executeCommand":r.executeCommand.apply(void 0,l(a));break;case"executeCommandLine":r.executeCommandLine.apply(void 0,l(a));break;case"requestLogin":i.default.emit.apply(i.default,["requestLogin"].concat(l(a)));break;case"logout":(0,o.logout)();break;default:console.info('Unknown message type "'.concat(n,'" with params'),a)}}}),!1),h("start"),(c=(0,t.getSearchParam)("embedCss"))&&((t=doc.createElement("style")).appendChild(doc.createTextNode(c)),document.body.appendChild(t)),(0,a.onRoutePathChange)((function(e,t){h("routeChange",e,t)}),!1),DEBUG&&(n.g.$sendEmbedMessage=h))},40487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},63886:function(e,t){!function(e){"use strict";function t(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))}function n(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var r=function(e){};function o(e){r(e)}var a=!0;(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]");var i,l,s,u,c="undefined"==typeof navigator?void 0:navigator,f=null==c?void 0:c.clipboard,d=null===(i=null==f?void 0:f.read)||void 0===i?void 0:i.bind(f),p=null===(l=null==f?void 0:f.readText)||void 0===l?void 0:l.bind(f),h=null===(s=null==f?void 0:f.write)||void 0===s?void 0:s.bind(f),m=null===(u=null==f?void 0:f.writeText)||void 0===u?void 0:u.bind(f),y="undefined"==typeof window?void 0:window,g=null==y?void 0:y.ClipboardItem,b=y;function v(){return"undefined"==typeof ClipboardEvent&&void 0!==b.clipboardData&&void 0!==b.clipboardData.setData}function _(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){if(""===(e=b.clipboardData.getData("Text")))throw new Error("Empty clipboard or could not read plain text from clipboard");return[2,e]}))}))}var w=function(){this.success=!1};function S(e,t,n){for(var r in o("listener called"),e.success=!0,t){var a=t[r],i=n.clipboardData;i.setData(r,a),"text/plain"===r&&i.getData(r)!==a&&(o("setting text/plain failed"),e.success=!1)}n.preventDefault()}function O(e){var t=new w,n=S.bind(this,t,e);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return t.success}function M(e,t){C(e);var n=O(t);return k(),n}function C(e){var t=document.getSelection();if(t){var n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}function k(){var e=document.getSelection();e&&e.removeAllRanges()}function E(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){if(t="text/plain"in e,v()){if(!t)throw new Error("No `text/plain` value was specified.");if(r=e["text/plain"],b.clipboardData.setData("Text",r))return[2,!0];throw new Error("Copying failed, possibly because the user rejected it.")}var r;return O(e)?(o("regular execCopy worked"),[2,!0]):navigator.userAgent.indexOf("Edge")>-1?(o('UA "Edge" => assuming success'),[2,!0]):M(document.body,e)?(o("copyUsingTempSelection worked"),[2,!0]):function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var n=M(t,e);return document.body.removeChild(t),n}(e)?(o("copyUsingTempElem worked"),[2,!0]):function(e){o("copyTextUsingDOM");var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var n=t;t.attachShadow&&(o("Using shadow DOM."),n=t.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=e,n.appendChild(r),document.body.appendChild(t),C(r);var a=document.execCommand("copy");return k(),document.body.removeChild(t),a}(e["text/plain"])?(o("copyTextUsingDOM worked"),[2,!0]):[2,!1]}))}))}function P(){return t(this,void 0,void 0,(function(){return n(this,(function(e){if(p)return o("Using `navigator.clipboard.readText()`."),[2,p()];if(v())return o("Reading text using IE strategy."),[2,_()];throw new Error("Read is not supported in your browser.")}))}))}function T(e,t){for(var n=0,r=e;n<r.length;n++)if(-1!==r[n].types.indexOf(t))return!0;return!1}var j=function(){function e(e,t){var n;for(var r in void 0===t&&(t={}),this.types=Object.keys(e),this._items={},e){var o=e[r];this._items[r]="string"==typeof o?x(r,o):o}this.presentationStyle=null!==(n=null==t?void 0:t.presentationStyle)&&void 0!==n?n:"unspecified"}return e.prototype.getType=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this._items[e]]}))}))},e}();function x(e,t){return new Blob([t],{type:e})}function D(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){var e=r.result;"string"==typeof e?t(e):n("could not convert blob to string")})),r.readAsText(e)}))]}))}))}function A(e){return t(this,void 0,void 0,(function(){var t,r,o,a,i,l,s;return n(this,(function(n){switch(n.label){case 0:t={},r=0,o=e.types,n.label=1;case 1:return r<o.length?(a=o[r],i=t,l=a,[4,e.getType(a)]):[3,4];case 2:i[l]=n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return s={},e.presentationStyle&&(s.presentationStyle=e.presentationStyle),[2,new g(t,s)]}}))}))}function I(e){var t={};return t["text/plain"]=x(e,"text/plain"),new j(t)}function L(e,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,e.getType(r)];case 1:return[4,D(t.sent())];case 2:return[2,t.sent()]}}))}))}function N(e){return t(this,void 0,void 0,(function(){var t,r,o,a,i,l;return n(this,(function(n){switch(n.label){case 0:t={},r=0,o=e.types,n.label=1;case 1:return r<o.length?(a=o[r],i=t,l=a,[4,L(e,a)]):[3,4];case 2:i[l]=n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return[2,t]}}))}))}e.ClipboardItem=j,e.read=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return d?(o("Using `navigator.clipboard.read()`."),[2,d()]):(e=I,[4,P()]);case 1:return[2,[e.apply(void 0,[t.sent()])]]}}))}))},e.readText=P,e.setDebugLog=function(e){r=e},e.suppressWarnings=function(){a=!1},e.write=function(e){return t(this,void 0,void 0,(function(){var t,r,i,l;return n(this,(function(n){switch(n.label){case 0:return h&&g?(o("Using `navigator.clipboard.write()`."),[4,Promise.all(e.map(A))]):[3,5];case 1:t=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,h(t)];case 3:return[2,n.sent()];case 4:if(r=n.sent(),!T(e,"text/plain")&&!T(e,"text/html"))throw r;return[3,5];case 5:return i=T(e,"text/plain"),a&&!i&&o("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call suppressWarnings() to suppress this warning."),l=E,[4,N(e[0])];case 6:if(!l.apply(void 0,[n.sent()]))throw new Error("write() failed");return[2]}}))}))},e.writeText=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){if(m)return o("Using `navigator.clipboard.writeText()`."),[2,m(e)];if(!E(function(e){var t={};return t["text/plain"]=e,t}(e)))throw new Error("writeText() failed");return[2]}))}))},Object.defineProperty(e,"__esModule",{value:!0})}(t)},57966:e=>{function t(){for(var e,t=0,n="";t<arguments.length;)(e=arguments[t++])&&(e=function e(t){var n,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r);else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}(e))&&(n&&(n+=" "),n+=e);return n}e.exports=t,e.exports.clsx=t},74247:function(e,t){var n;void 0!==(t="function"==typeof(n=function(){var e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t=e.replace(/^v/,"").replace(/\+.*$/,""),n=function(e,t){return-1===e.indexOf("-")?e.length:e.indexOf("-")}(t),r=t.substring(0,n).split(".");return r.push(t.substring(n+1)),r}function n(e){var t=parseInt(e,10);return isNaN(t)?e:t}function r(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");var n=t.match(e);if(!n)throw new Error("Invalid argument not valid semver ('"+t+"' received)");return n.shift(),n}function o(e,t){var[r,o]=function(e,t){return typeof e!=typeof t?[String(e),String(t)]:[e,t]}(n(e),n(t));return r>o?1:r<o?-1:0}function a(e,o){[e,o].forEach(r);for(var a=t(e),i=t(o),l=0;l<Math.max(a.length-1,i.length-1);l++){var s=parseInt(a[l]||0,10),u=parseInt(i[l]||0,10);if(s>u)return 1;if(u>s)return-1}var c=a[a.length-1],f=i[i.length-1];if(c&&f){var d=c.split(".").map(n),p=f.split(".").map(n);for(l=0;l<Math.max(d.length,p.length);l++){if(void 0===d[l]||"string"==typeof p[l]&&"number"==typeof d[l])return-1;if(void 0===p[l]||"string"==typeof d[l]&&"number"==typeof p[l])return 1;if(d[l]>p[l])return 1;if(p[l]>d[l])return-1}}else if(c||f)return c?-1:1;return 0}var i=[">",">=","=","<","<="],l={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function s(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===i.indexOf(e))throw new TypeError("Invalid operator, expected one of "+i.join("|"))}return a.validate=function(t){return"string"==typeof t&&e.test(t)},a.compare=function(e,t,n){s(n);var r=a(e,t);return l[n].indexOf(r)>-1},a.satisfies=function(e,t){var n=t.match(/^([<>=~^]+)/),i=n?n[1]:"=";if("^"!==i&&"~"!==i)return a.compare(e,t,i);var[l,s,u]=r(e),[c,f,d]=r(t);return 0===o(l,c)&&("^"===i?function(e,t){for(var n=0;n<Math.max(e.length,t.length);n++){var r=o(e[n]||0,t[n]||0);if(0!==r)return r}return 0}([s,u],[f,d])>=0:0===o(s,f)&&o(u,d)>=0)},a})?n.apply(t,[]):n)&&(e.exports=t)},33129:function(e){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l="undefined"!=typeof window&&void 0!==window.document,s=l?window:{},u=!(!l||!s.document.documentElement)&&"ontouchstart"in s.document.documentElement,c=!!l&&"PointerEvent"in s,f="cropper",d="all",p="crop",h="move",m="zoom",y="e",g="w",b="s",v="n",_="ne",w="nw",S="se",O="sw",M="".concat(f,"-crop"),C="".concat(f,"-disabled"),k="".concat(f,"-hidden"),E="".concat(f,"-hide"),P="".concat(f,"-invisible"),T="".concat(f,"-modal"),j="".concat(f,"-move"),x="".concat(f,"Action"),D="".concat(f,"Preview"),A="crop",I="move",L="none",N="crop",R="cropend",F="cropmove",Y="cropstart",B="dblclick",U=c?"pointerdown":u?"touchstart":"mousedown",W=c?"pointermove":u?"touchmove":"mousemove",z=c?"pointerup pointercancel":u?"touchend touchcancel":"mouseup",H="ready",V="resize",G="wheel",q="zoom",$="image/jpeg",K=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,J=/^data:/,X=/^data:image\/jpeg;base64,/,Z=/^img|canvas$/i,Q={viewMode:0,dragMode:A,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ee=Number.isNaN||s.isNaN;function te(e){return"number"==typeof e&&!ee(e)}var ne=function(e){return e>0&&e<1/0};function re(e){return void 0===e}function oe(e){return"object"===n(e)&&null!==e}var ae=Object.prototype.hasOwnProperty;function ie(e){if(!oe(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&ae.call(n,"isPrototypeOf")}catch(e){return!1}}function le(e){return"function"==typeof e}var se=Array.prototype.slice;function ue(e){return Array.from?Array.from(e):se.call(e)}function ce(e,t){return e&&le(t)&&(Array.isArray(e)||te(e.length)?ue(e).forEach((function(n,r){t.call(e,n,r,e)})):oe(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var fe=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oe(e)&&n.length>0&&n.forEach((function(t){oe(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},de=/\.\d*(?:0|9){12}\d*$/;function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return de.test(e)?Math.round(e*t)/t:e}var he=/^width|height|left|top|marginLeft|marginTop$/;function me(e,t){var n=e.style;ce(t,(function(e,t){he.test(t)&&te(e)&&(e="".concat(e,"px")),n[t]=e}))}function ye(e,t){if(t)if(te(e.length))ce(e,(function(e){ye(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function ge(e,t){t&&(te(e.length)?ce(e,(function(e){ge(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function be(e,t,n){t&&(te(e.length)?ce(e,(function(e){be(e,t,n)})):n?ye(e,t):ge(e,t))}var ve=/([a-z\d])([A-Z])/g;function _e(e){return e.replace(ve,"$1-$2").toLowerCase()}function we(e,t){return oe(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(_e(t)))}function Se(e,t,n){oe(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(_e(t)),n)}var Oe=/\s\s*/,Me=function(){var e=!1;if(l){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});s.addEventListener("test",n,r),s.removeEventListener("test",n,r)}return e}();function Ce(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(Oe).forEach((function(t){if(!Me){var a=e.listeners;a&&a[t]&&a[t][n]&&(o=a[t][n],delete a[t][n],0===Object.keys(a[t]).length&&delete a[t],0===Object.keys(a).length&&delete e.listeners)}e.removeEventListener(t,o,r)}))}function ke(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(Oe).forEach((function(t){if(r.once&&!Me){var a=e.listeners,i=void 0===a?{}:a;o=function(){delete i[t][n],e.removeEventListener(t,o,r);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];n.apply(e,l)},i[t]||(i[t]={}),i[t][n]&&e.removeEventListener(t,i[t][n],r),i[t][n]=o,e.listeners=i}e.addEventListener(t,o,r)}))}function Ee(e,t,n){var r;return le(Event)&&le(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function Pe(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Te=s.location,je=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function xe(e){var t=e.match(je);return null!==t&&(t[1]!==Te.protocol||t[2]!==Te.hostname||t[3]!==Te.port)}function De(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Ae(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,o=e.translateX,a=e.translateY,i=[];te(o)&&0!==o&&i.push("translateX(".concat(o,"px)")),te(a)&&0!==a&&i.push("translateY(".concat(a,"px)")),te(t)&&0!==t&&i.push("rotate(".concat(t,"deg)")),te(n)&&1!==n&&i.push("scaleX(".concat(n,")")),te(r)&&1!==r&&i.push("scaleY(".concat(r,")"));var l=i.length?i.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function Ie(e,n){var r=e.pageX,o=e.pageY,a={endX:r,endY:o};return n?a:t({startX:r,startY:o},a)}function Le(e){var t=e.aspectRatio,n=e.height,r=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=ne(r),i=ne(n);if(a&&i){var l=n*t;"contain"===o&&l>r||"cover"===o&&l<r?n=r/t:r=n*t}else a?n=r/t:i&&(r=n*t);return{width:r,height:n}}var Ne=String.fromCharCode,Re=/^data:.*,/;var Fe={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,r=this.cropper,o=Number(t.minContainerWidth),a=Number(t.minContainerHeight);ye(r,k),ge(e,k);var i={width:Math.max(n.offsetWidth,o>=0?o:200),height:Math.max(n.offsetHeight,a>=0?a:100)};this.containerData=i,me(r,{width:i.width,height:i.height}),ye(e,k),ge(r,k)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,r=Math.abs(t.rotate)%180==90,o=r?t.naturalHeight:t.naturalWidth,a=r?t.naturalWidth:t.naturalHeight,i=o/a,l=e.width,s=e.height;e.height*i>e.width?3===n?l=e.height*i:s=e.width/i:3===n?s=e.width/i:l=e.height*i;var u={aspectRatio:i,naturalWidth:o,naturalHeight:a,width:l,height:s};this.canvasData=u,this.limited=1===n||2===n,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=fe({},u)},limitCanvas:function(e,t){var n=this.options,r=this.containerData,o=this.canvasData,a=this.cropBoxData,i=n.viewMode,l=o.aspectRatio,s=this.cropped&&a;if(e){var u=Number(n.minCanvasWidth)||0,c=Number(n.minCanvasHeight)||0;i>1?(u=Math.max(u,r.width),c=Math.max(c,r.height),3===i&&(c*l>u?u=c*l:c=u/l)):i>0&&(u?u=Math.max(u,s?a.width:0):c?c=Math.max(c,s?a.height:0):s&&(u=a.width,(c=a.height)*l>u?u=c*l:c=u/l));var f=Le({aspectRatio:l,width:u,height:c});u=f.width,c=f.height,o.minWidth=u,o.minHeight=c,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(i>(s?0:1)){var d=r.width-o.width,p=r.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,p),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,p),s&&this.limited&&(o.minLeft=Math.min(a.left,a.left+(a.width-o.width)),o.minTop=Math.min(a.top,a.top+(a.height-o.height)),o.maxLeft=a.left,o.maxTop=a.top,2===i&&(o.width>=r.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=r.height&&(o.minTop=Math.min(0,p),o.maxTop=Math.max(0,p))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=r.width,o.maxTop=r.height},renderCanvas:function(e,t){var n=this.canvasData,r=this.imageData;if(t){var o=function(e){var t=e.width,n=e.height,r=e.degree;if(90==(r=Math.abs(r)%180))return{width:n,height:t};var o=r%90*Math.PI/180,a=Math.sin(o),i=Math.cos(o),l=t*i+n*a,s=t*a+n*i;return r>90?{width:s,height:l}:{width:l,height:s}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),a=o.width,i=o.height,l=n.width*(a/n.naturalWidth),s=n.height*(i/n.naturalHeight);n.left-=(l-n.width)/2,n.top-=(s-n.height)/2,n.width=l,n.height=s,n.aspectRatio=a/i,n.naturalWidth=a,n.naturalHeight=i,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,me(this.canvas,fe({width:n.width,height:n.height},Ae({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,r=n.naturalWidth*(t.width/t.naturalWidth),o=n.naturalHeight*(t.height/t.naturalHeight);fe(n,{width:r,height:o,left:(t.width-r)/2,top:(t.height-o)/2}),me(this.image,fe({width:n.width,height:n.height},Ae(fe({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};n&&(t.height*n>t.width?o.height=o.width/n:o.width=o.height*n),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*r),o.height=Math.max(o.minHeight,o.height*r),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=fe({},o)},limitCropBox:function(e,t){var n=this.options,r=this.containerData,o=this.canvasData,a=this.cropBoxData,i=this.limited,l=n.aspectRatio;if(e){var s=Number(n.minCropBoxWidth)||0,u=Number(n.minCropBoxHeight)||0,c=i?Math.min(r.width,o.width,o.width+o.left,r.width-o.left):r.width,f=i?Math.min(r.height,o.height,o.height+o.top,r.height-o.top):r.height;s=Math.min(s,r.width),u=Math.min(u,r.height),l&&(s&&u?u*l>s?u=s/l:s=u*l:s?u=s/l:u&&(s=u*l),f*l>c?f=c/l:c=f*l),a.minWidth=Math.min(s,c),a.minHeight=Math.min(u,f),a.maxWidth=c,a.maxHeight=f}t&&(i?(a.minLeft=Math.max(0,o.left),a.minTop=Math.max(0,o.top),a.maxLeft=Math.min(r.width,o.left+o.width)-a.width,a.maxTop=Math.min(r.height,o.top+o.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=r.width-a.width,a.maxTop=r.height-a.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&Se(this.face,x,n.width>=t.width&&n.height>=t.height?h:d),me(this.cropBox,fe({width:n.width,height:n.height},Ae({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ee(this.element,N,this.getData())}},Ye={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,r=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",a=document.createElement("img");if(t&&(a.crossOrigin=t),a.src=r,a.alt=o,this.viewBox.appendChild(a),this.viewBoxImage=a,n){var i=n;"string"==typeof n?i=e.ownerDocument.querySelectorAll(n):n.querySelector&&(i=[n]),this.previews=i,ce(i,(function(e){var n=document.createElement("img");Se(e,D,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=r,n.alt=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){ce(this.previews,(function(e){var t=we(e,D);me(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(oe(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(_e(t)))}(e,D)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,r=n.width,o=n.height,a=e.width,i=e.height,l=n.left-t.left-e.left,s=n.top-t.top-e.top;this.cropped&&!this.disabled&&(me(this.viewBoxImage,fe({width:a,height:i},Ae(fe({translateX:-l,translateY:-s},e)))),ce(this.previews,(function(t){var n=we(t,D),u=n.width,c=n.height,f=u,d=c,p=1;r&&(d=o*(p=u/r)),o&&d>c&&(f=r*(p=c/o),d=c),me(t,{width:f,height:d}),me(t.getElementsByTagName("img")[0],fe({width:a*p,height:i*p},Ae(fe({translateX:-l*p,translateY:-s*p},e))))})))}},Be={bind:function(){var e=this.element,t=this.options,n=this.cropper;le(t.cropstart)&&ke(e,Y,t.cropstart),le(t.cropmove)&&ke(e,F,t.cropmove),le(t.cropend)&&ke(e,R,t.cropend),le(t.crop)&&ke(e,N,t.crop),le(t.zoom)&&ke(e,q,t.zoom),ke(n,U,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ke(n,G,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ke(n,B,this.onDblclick=this.dblclick.bind(this)),ke(e.ownerDocument,W,this.onCropMove=this.cropMove.bind(this)),ke(e.ownerDocument,z,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ke(window,V,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;le(t.cropstart)&&Ce(e,Y,t.cropstart),le(t.cropmove)&&Ce(e,F,t.cropmove),le(t.cropend)&&Ce(e,R,t.cropend),le(t.crop)&&Ce(e,N,t.crop),le(t.zoom)&&Ce(e,q,t.zoom),Ce(n,U,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Ce(n,G,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Ce(n,B,this.onDblclick),Ce(e.ownerDocument,W,this.onCropMove),Ce(e.ownerDocument,z,this.onCropEnd),t.responsive&&Ce(window,V,this.onResize)}},Ue={resize:function(){if(!this.disabled){var e,t,n=this.options,r=this.container,o=this.containerData,a=r.offsetWidth/o.width,i=r.offsetHeight/o.height,l=Math.abs(a-1)>Math.abs(i-1)?a:i;1!==l&&(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(ce(e,(function(t,n){e[n]=t*l}))),this.setCropBoxData(ce(t,(function(e,n){t[n]=e*l})))))}},dblclick:function(){this.disabled||this.options.dragMode===L||this.setDragMode(function(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}(this.dragBox,M)?I:A)},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(te(t)&&1!==t||te(n)&&0!==n||e.ctrlKey))){var r,o=this.options,a=this.pointers;e.changedTouches?ce(e.changedTouches,(function(e){a[e.identifier]=Ie(e)})):a[e.pointerId||0]=Ie(e),r=Object.keys(a).length>1&&o.zoomable&&o.zoomOnTouch?m:we(e.target,x),K.test(r)&&!1!==Ee(this.element,Y,{originalEvent:e,action:r})&&(e.preventDefault(),this.action=r,this.cropping=!1,r===p&&(this.cropping=!0,ye(this.dragBox,T)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==Ee(this.element,F,{originalEvent:e,action:t})&&(e.changedTouches?ce(e.changedTouches,(function(e){fe(n[e.identifier]||{},Ie(e,!0))})):fe(n[e.pointerId||0]||{},Ie(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?ce(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,be(this.dragBox,T,this.cropped&&this.options.modal)),Ee(this.element,R,{originalEvent:e,action:t}))}}},We={change:function(e){var n,r=this.options,o=this.canvasData,a=this.containerData,i=this.cropBoxData,l=this.pointers,s=this.action,u=r.aspectRatio,c=i.left,f=i.top,M=i.width,C=i.height,E=c+M,P=f+C,T=0,j=0,x=a.width,D=a.height,A=!0;!u&&e.shiftKey&&(u=M&&C?M/C:1),this.limited&&(T=i.minLeft,j=i.minTop,x=T+Math.min(a.width,o.width,o.left+o.width),D=j+Math.min(a.height,o.height,o.top+o.height));var I=l[Object.keys(l)[0]],L={x:I.endX-I.startX,y:I.endY-I.startY},N=function(e){switch(e){case y:E+L.x>x&&(L.x=x-E);break;case g:c+L.x<T&&(L.x=T-c);break;case v:f+L.y<j&&(L.y=j-f);break;case b:P+L.y>D&&(L.y=D-P)}};switch(s){case d:c+=L.x,f+=L.y;break;case y:if(L.x>=0&&(E>=x||u&&(f<=j||P>=D))){A=!1;break}N(y),(M+=L.x)<0&&(s=g,c-=M=-M),u&&(C=M/u,f+=(i.height-C)/2);break;case v:if(L.y<=0&&(f<=j||u&&(c<=T||E>=x))){A=!1;break}N(v),C-=L.y,f+=L.y,C<0&&(s=b,f-=C=-C),u&&(M=C*u,c+=(i.width-M)/2);break;case g:if(L.x<=0&&(c<=T||u&&(f<=j||P>=D))){A=!1;break}N(g),M-=L.x,c+=L.x,M<0&&(s=y,c-=M=-M),u&&(C=M/u,f+=(i.height-C)/2);break;case b:if(L.y>=0&&(P>=D||u&&(c<=T||E>=x))){A=!1;break}N(b),(C+=L.y)<0&&(s=v,f-=C=-C),u&&(M=C*u,c+=(i.width-M)/2);break;case _:if(u){if(L.y<=0&&(f<=j||E>=x)){A=!1;break}N(v),C-=L.y,f+=L.y,M=C*u}else N(v),N(y),L.x>=0?E<x?M+=L.x:L.y<=0&&f<=j&&(A=!1):M+=L.x,L.y<=0?f>j&&(C-=L.y,f+=L.y):(C-=L.y,f+=L.y);M<0&&C<0?(s=O,f-=C=-C,c-=M=-M):M<0?(s=w,c-=M=-M):C<0&&(s=S,f-=C=-C);break;case w:if(u){if(L.y<=0&&(f<=j||c<=T)){A=!1;break}N(v),C-=L.y,f+=L.y,M=C*u,c+=i.width-M}else N(v),N(g),L.x<=0?c>T?(M-=L.x,c+=L.x):L.y<=0&&f<=j&&(A=!1):(M-=L.x,c+=L.x),L.y<=0?f>j&&(C-=L.y,f+=L.y):(C-=L.y,f+=L.y);M<0&&C<0?(s=S,f-=C=-C,c-=M=-M):M<0?(s=_,c-=M=-M):C<0&&(s=O,f-=C=-C);break;case O:if(u){if(L.x<=0&&(c<=T||P>=D)){A=!1;break}N(g),M-=L.x,c+=L.x,C=M/u}else N(b),N(g),L.x<=0?c>T?(M-=L.x,c+=L.x):L.y>=0&&P>=D&&(A=!1):(M-=L.x,c+=L.x),L.y>=0?P<D&&(C+=L.y):C+=L.y;M<0&&C<0?(s=_,f-=C=-C,c-=M=-M):M<0?(s=S,c-=M=-M):C<0&&(s=w,f-=C=-C);break;case S:if(u){if(L.x>=0&&(E>=x||P>=D)){A=!1;break}N(y),C=(M+=L.x)/u}else N(b),N(y),L.x>=0?E<x?M+=L.x:L.y>=0&&P>=D&&(A=!1):M+=L.x,L.y>=0?P<D&&(C+=L.y):C+=L.y;M<0&&C<0?(s=w,f-=C=-C,c-=M=-M):M<0?(s=O,c-=M=-M):C<0&&(s=_,f-=C=-C);break;case h:this.move(L.x,L.y),A=!1;break;case m:this.zoom(function(e){var n=t({},e),r=0;return ce(e,(function(e,t){delete n[t],ce(n,(function(t){var n=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),a=Math.abs(e.endX-t.endX),i=Math.abs(e.endY-t.endY),l=Math.sqrt(n*n+o*o),s=(Math.sqrt(a*a+i*i)-l)/l;Math.abs(s)>Math.abs(r)&&(r=s)}))})),r}(l),e),A=!1;break;case p:if(!L.x||!L.y){A=!1;break}n=Pe(this.cropper),c=I.startX-n.left,f=I.startY-n.top,M=i.minWidth,C=i.minHeight,L.x>0?s=L.y>0?S:_:L.x<0&&(c-=M,s=L.y>0?O:w),L.y<0&&(f-=C),this.cropped||(ge(this.cropBox,k),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}A&&(i.width=M,i.height=C,i.left=c,i.top=f,this.action=s,this.renderCropBox()),ce(l,(function(e){e.startX=e.endX,e.startY=e.endY}))}},ze={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ye(this.dragBox,T),ge(this.cropBox,k),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=fe({},this.initialImageData),this.canvasData=fe({},this.initialCanvasData),this.cropBoxData=fe({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(fe(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ge(this.dragBox,T),ye(this.cropBox,k)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ce(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ge(this.cropper,C)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ye(this.cropper,C)),this},destroy:function(){var e=this.element;return e[f]?(e[f]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=n.left,o=n.top;return this.moveTo(re(e)?e:r+Number(e),re(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(te(e)&&(n.left=e,r=!0),te(t)&&(n.top=t,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var r=this.options,o=this.canvasData,a=o.width,i=o.height,l=o.naturalWidth,s=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var u=l*e,c=s*e;if(!1===Ee(this.element,q,{ratio:e,oldRatio:a/l,originalEvent:n}))return this;if(n){var f=this.pointers,d=Pe(this.cropper),p=f&&Object.keys(f).length?function(e){var t=0,n=0,r=0;return ce(e,(function(e){var o=e.startX,a=e.startY;t+=o,n+=a,r+=1})),{pageX:t/=r,pageY:n/=r}}(f):{pageX:n.pageX,pageY:n.pageY};o.left-=(u-a)*((p.pageX-d.left-o.left)/a),o.top-=(c-i)*((p.pageY-d.top-o.top)/i)}else ie(t)&&te(t.x)&&te(t.y)?(o.left-=(u-a)*((t.x-o.left)/a),o.top-=(c-i)*((t.y-o.top)/i)):(o.left-=(u-a)/2,o.top-=(c-i)/2);o.width=u,o.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return te(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,te(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(te(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(te(e)&&(n.scaleX=e,r=!0),te(t)&&(n.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,o=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){e={x:a.left-o.left,y:a.top-o.top,width:a.width,height:a.height};var i=r.width/r.naturalWidth;if(ce(e,(function(t,n){e[n]=t/i})),t){var l=Math.round(e.y+e.height),s=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=s-e.x,e.height=l-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=r.rotate||0),n.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,r=this.canvasData,o={};if(this.ready&&!this.disabled&&ie(e)){var a=!1;t.rotatable&&te(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,a=!0),t.scalable&&(te(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,a=!0),te(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var i=n.width/n.naturalWidth;te(e.x)&&(o.left=e.x*i+r.left),te(e.y)&&(o.top=e.y*i+r.top),te(e.width)&&(o.width=e.width*i),te(e.height)&&(o.height=e.height*i),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?fe({},this.containerData):{}},getImageData:function(){return this.sized?fe({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&ce(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&ie(e)&&(te(e.left)&&(t.left=e.left),te(e.top)&&(t.top=e.top),te(e.width)?(t.width=e.width,t.height=e.width/n):te(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,r=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ie(e)&&(te(e.left)&&(r.left=e.left),te(e.top)&&(r.top=e.top),te(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),te(e.height)&&e.height!==r.height&&(n=!0,r.height=e.height),o&&(t?r.height=r.width/o:n&&(r.width=r.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=function(e,t,n,r){var o=t.aspectRatio,i=t.naturalWidth,l=t.naturalHeight,s=t.rotate,u=void 0===s?0:s,c=t.scaleX,f=void 0===c?1:c,d=t.scaleY,p=void 0===d?1:d,h=n.aspectRatio,m=n.naturalWidth,y=n.naturalHeight,g=r.fillColor,b=void 0===g?"transparent":g,v=r.imageSmoothingEnabled,_=void 0===v||v,w=r.imageSmoothingQuality,S=void 0===w?"low":w,O=r.maxWidth,M=void 0===O?1/0:O,C=r.maxHeight,k=void 0===C?1/0:C,E=r.minWidth,P=void 0===E?0:E,T=r.minHeight,j=void 0===T?0:T,x=document.createElement("canvas"),D=x.getContext("2d"),A=Le({aspectRatio:h,width:M,height:k}),I=Le({aspectRatio:h,width:P,height:j},"cover"),L=Math.min(A.width,Math.max(I.width,m)),N=Math.min(A.height,Math.max(I.height,y)),R=Le({aspectRatio:o,width:M,height:k}),F=Le({aspectRatio:o,width:P,height:j},"cover"),Y=Math.min(R.width,Math.max(F.width,i)),B=Math.min(R.height,Math.max(F.height,l)),U=[-Y/2,-B/2,Y,B];return x.width=pe(L),x.height=pe(N),D.fillStyle=b,D.fillRect(0,0,L,N),D.save(),D.translate(L/2,N/2),D.rotate(u*Math.PI/180),D.scale(f,p),D.imageSmoothingEnabled=_,D.imageSmoothingQuality=S,D.drawImage.apply(D,[e].concat(a(U.map((function(e){return Math.floor(pe(e))}))))),D.restore(),x}(this.image,this.imageData,t,e);if(!this.cropped)return n;var r=this.getData(),o=r.x,i=r.y,l=r.width,s=r.height,u=n.width/Math.floor(t.naturalWidth);1!==u&&(o*=u,i*=u,l*=u,s*=u);var c=l/s,f=Le({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=Le({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Le({aspectRatio:c,width:e.width||(1!==u?n.width:l),height:e.height||(1!==u?n.height:s)}),h=p.width,m=p.height;h=Math.min(f.width,Math.max(d.width,h)),m=Math.min(f.height,Math.max(d.height,m));var y=document.createElement("canvas"),g=y.getContext("2d");y.width=pe(h),y.height=pe(m),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,h,m);var b=e.imageSmoothingEnabled,v=void 0===b||b,_=e.imageSmoothingQuality;g.imageSmoothingEnabled=v,_&&(g.imageSmoothingQuality=_);var w,S,O,M,C,k,E=n.width,P=n.height,T=o,j=i;T<=-l||T>E?(T=0,w=0,O=0,C=0):T<=0?(O=-T,T=0,C=w=Math.min(E,l+T)):T<=E&&(O=0,C=w=Math.min(l,E-T)),w<=0||j<=-s||j>P?(j=0,S=0,M=0,k=0):j<=0?(M=-j,j=0,k=S=Math.min(P,s+j)):j<=P&&(M=0,k=S=Math.min(s,P-j));var x=[T,j,w,S];if(C>0&&k>0){var D=h/l;x.push(O*D,M*D,C*D,k*D)}return g.drawImage.apply(g,[n].concat(a(x.map((function(e){return Math.floor(pe(e))}))))),y},setAspectRatio:function(e){var t=this.options;return this.disabled||re(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var o=e===A,a=t.movable&&e===I;e=o||a?e:L,t.dragMode=e,Se(n,x,e),be(n,M,o),be(n,j,a),t.cropBoxMovable||(Se(r,x,e),be(r,M,o),be(r,j,a))}return this}},He=s.Cropper,Ve=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!Z.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=fe({},Q,ie(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t[f]){if(t[f]=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(J.test(e))X.test(e)?this.read(function(e){var t=e.replace(Re,""),n=atob(t),r=new ArrayBuffer(n.length),o=new Uint8Array(r);return ce(o,(function(e,t){o[t]=n.charCodeAt(t)})),r}(e)):this.clone();else{var o=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=a,o.onerror=a,o.ontimeout=a,o.onprogress=function(){o.getResponseHeader("content-type")!==$&&o.abort()},o.onload=function(){t.read(o.response)},o.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&xe(e)&&n.crossOrigin&&(e=De(e)),o.open("GET",e,!0),o.responseType="arraybuffer",o.withCredentials="use-credentials"===n.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,r=function(e){var t,n=new DataView(e);try{var r,o,a;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var i=n.byteLength,l=2;l+1<i;){if(255===n.getUint8(l)&&225===n.getUint8(l+1)){o=l;break}l+=1}if(o){var s=o+10;if("Exif"===function(e,t,n){var r="";n+=t;for(var o=t;o<n;o+=1)r+=Ne(e.getUint8(o));return r}(n,o+4,4)){var u=n.getUint16(s);if(((r=18761===u)||19789===u)&&42===n.getUint16(s+2,r)){var c=n.getUint32(s+4,r);c>=8&&(a=s+c)}}}if(a){var f,d,p=n.getUint16(a,r);for(d=0;d<p;d+=1)if(f=a+12*d+2,274===n.getUint16(f,r)){f+=8,t=n.getUint16(f,r),n.setUint16(f,1,r);break}}}catch(e){t=1}return t}(e),o=0,a=1,i=1;if(r>1){this.url=function(e,t){for(var n=[],r=new Uint8Array(e);r.length>0;)n.push(Ne.apply(null,ue(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,$);var l=function(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}(r);o=l.rotate,a=l.scaleX,i=l.scaleY}t.rotatable&&(n.rotate=o),t.scalable&&(n.scaleX=a,n.scaleY=i),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,r=t;this.options.checkCrossOrigin&&xe(t)&&(n||(n="anonymous"),r=De(t)),this.crossOrigin=n,this.crossOriginUrl=r;var o=document.createElement("img");n&&(o.crossOrigin=n),o.src=r||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),ye(o,E),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=s.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(s.navigator.userAgent),r=function(t,n){fe(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=fe({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var o=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),n||a.removeChild(o)},o.src=t.src,n||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(o))}else r(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,r=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=o.querySelector(".".concat(f,"-container")),i=a.querySelector(".".concat(f,"-canvas")),l=a.querySelector(".".concat(f,"-drag-box")),s=a.querySelector(".".concat(f,"-crop-box")),u=s.querySelector(".".concat(f,"-face"));this.container=r,this.cropper=a,this.canvas=i,this.dragBox=l,this.cropBox=s,this.viewBox=a.querySelector(".".concat(f,"-view-box")),this.face=u,i.appendChild(n),ye(e,k),r.insertBefore(a,e.nextSibling),this.isImg||ge(n,E),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,ye(s,k),t.guides||ye(s.getElementsByClassName("".concat(f,"-dashed")),k),t.center||ye(s.getElementsByClassName("".concat(f,"-center")),k),t.background&&ye(a,"".concat(f,"-bg")),t.highlight||ye(u,P),t.cropBoxMovable&&(ye(u,j),Se(u,x,d)),t.cropBoxResizable||(ye(s.getElementsByClassName("".concat(f,"-line")),k),ye(s.getElementsByClassName("".concat(f,"-point")),k)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),le(t.ready)&&ke(e,H,t.ready,{once:!0}),Ee(e,H)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),ge(this.element,k))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=He,e}},{key:"setDefaults",value:function(e){fe(Q,ie(e)&&e)}}]),e}();return fe(Ve.prototype,Fe,Ye,Be,Ue,We,ze),Ve}()},71012:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(o>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}},e.exports=n},5790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),t=n(8081),t=n.n(t);var r=n(23645),o=(r=n.n(r),n(61667));o=n.n(o),n=new URL(n(8738),n.b),r=r()(t()),t=o()(n),r.push([e.id,'/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:11.623Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url('+t+")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}",""]);const a=r},88383:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),t=n(8081),t=n.n(t);var r=n(23645);(n=n.n(r)()(t())).push([e.id,"*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}.\\!container{width:100%!important}@media (min-width:640px){.container{max-width:640px}.\\!container{max-width:640px!important}}@media (min-width:768px){.container{max-width:768px}.\\!container{max-width:768px!important}}@media (min-width:1024px){.container{max-width:1024px}.\\!container{max-width:1024px!important}}@media (min-width:1280px){.container{max-width:1280px}.\\!container{max-width:1280px!important}}@media (min-width:1536px){.container{max-width:1536px}.\\!container{max-width:1536px!important}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-x-0{left:0;right:0}.inset-y-0{bottom:0;top:0}.bottom-\\[0\\.5px\\]{bottom:.5px}.left-1{left:.25rem}.bottom-0\\.5{bottom:.125rem}.bottom-0{bottom:0}.-bottom-\\[13px\\]{bottom:-13px}.right-\\[3px\\]{right:3px}.top-0{top:0}.left-0{left:0}.right-0{right:0}.top-\\[12px\\]{top:12px}.right-\\[22px\\]{right:22px}.top-5{top:1.25rem}.top-\\[3px\\]{top:3px}.right-1{right:.25rem}.top-\\[2px\\]{top:2px}.left-\\[0\\.5px\\]{left:.5px}.top-2{top:.5rem}.right-2{right:.5rem}.top-1{top:.25rem}.z-0{z-index:0}.z-10{z-index:10}.z-50{z-index:50}.z-\\[1055\\]{z-index:1055}.m-0{margin:0}.m-2{margin:.5rem}.m-auto{margin:auto}.mx-auto{margin-left:auto;margin-right:auto}.\\!my-0{margin-bottom:0!important;margin-top:0!important}.my-1{margin-bottom:.25rem;margin-top:.25rem}.my-0\\.5{margin-bottom:.125rem;margin-top:.125rem}.my-0{margin-bottom:0;margin-top:0}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.mb-2{margin-bottom:.5rem}.mr-1{margin-right:.25rem}.ml-\\[-2px\\]{margin-left:-2px}.mr-1\\.5{margin-right:.375rem}.mb-4{margin-bottom:1rem}.mt-1{margin-top:.25rem}.mt-\\[20px\\]{margin-top:20px}.mb-\\[17px\\]{margin-bottom:17px}.mt-\\[8px\\]{margin-top:8px}.ml-6{margin-left:1.5rem}.ml-0\\.5{margin-left:.125rem}.ml-0{margin-left:0}.mt-2{margin-top:.5rem}.ml-3{margin-left:.75rem}.mr-4{margin-right:1rem}.mr-2{margin-right:.5rem}.ml-\\[8px\\]{margin-left:8px}.mt-0{margin-top:0}.mb-1{margin-bottom:.25rem}.block{display:block}.\\!block{display:block!important}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.aspect-4\\/3,.aspect-\\[4\\/3\\]{aspect-ratio:4/3}.h-\\[20px\\]{height:20px}.h-\\[200px\\]{height:200px}.h-2\\.5{height:.625rem}.h-2{height:.5rem}.h-full{height:100%}.h-screen{height:100vh}.h-\\[60px\\]{height:60px}.h-\\[150px\\]{height:150px}.h-\\[185px\\]{height:185px}.h-\\[26px\\]{height:26px}.h-\\[32px\\]{height:32px}.h-\\[165px\\]{height:165px}.max-h-\\[120px\\]{max-height:120px}.max-h-\\[300px\\]{max-height:300px}.max-h-full{max-height:100%}.max-h-\\[240px\\]{max-height:240px}.min-h-\\[24px\\]{min-height:24px}.min-h-\\[32px\\]{min-height:32px}.w-64{width:16rem}.w-full{width:100%}.w-\\[400px\\]{width:400px}.w-\\[300px\\]{width:300px}.w-fit{width:-moz-fit-content;width:fit-content}.w-\\[260px\\]{width:260px}.w-2\\.5{width:.625rem}.w-2{width:.5rem}.w-\\[150px\\]{width:150px}.\\!w-fit{width:-moz-fit-content!important;width:fit-content!important}.w-\\[480px\\]{width:480px}.w-\\[26px\\]{width:26px}.min-w-\\[48px\\]{min-width:48px}.\\!min-w-fit{min-width:-moz-fit-content!important;min-width:fit-content!important}.min-w-\\[320px\\]{min-width:320px}.\\!min-w-\\[70px\\]{min-width:70px!important}.min-w-\\[250px\\]{min-width:250px}.min-w-\\[50px\\]{min-width:50px}.max-w-\\[594px\\]{max-width:594px}.max-w-full{max-width:100%}.max-w-\\[210px\\]{max-width:210px}.max-w-\\[400px\\]{max-width:400px}.flex-none{flex:none}.flex-auto{flex:1 1 auto}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.basis-\\[130px\\]{flex-basis:130px}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.resize-none{resize:none}.resize{resize:both}.list-none{list-style-type:none}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.flex-nowrap{flex-wrap:nowrap}.content-center{align-content:center}.content-start{align-content:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-1{gap:.25rem}.gap-2\\.5{gap:.625rem}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-1\\.5{gap:.375rem}.gap-3{gap:.75rem}.gap-5{gap:1.25rem}.gap-y-1{row-gap:.25rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-y-\\[8px\\]{row-gap:8px}.gap-x-\\[10px\\]{-moz-column-gap:10px;column-gap:10px}.self-end{align-self:flex-end}.self-center{align-self:center}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;white-space:nowrap}.text-ellipsis,.truncate{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-full{border-radius:9999px}.rounded-sm{border-radius:.125rem}.rounded-b-md{border-bottom-left-radius:.375rem;border-bottom-right-radius:.375rem}.rounded-r{border-bottom-right-radius:.25rem;border-top-right-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-tr-md{border-top-right-radius:.375rem}.border{border-width:1px}.border-0{border-width:0}.border-2{border-width:2px}.border-y{border-bottom-width:1px}.border-t,.border-y{border-top-width:1px}.border-b-2{border-bottom-width:2px}.border-l{border-left-width:1px}.border-b{border-bottom-width:1px}.border-r-0{border-right-width:0}.border-b-0{border-bottom-width:0}.border-solid{border-style:solid}.border-\\[var\\(--color-black\\)\\]{border-color:var(--color-black)}.border-gray-50{--tw-border-opacity:1;border-color:rgb(249 250 251/var(--tw-border-opacity))}.border-\\[var\\(--color-primary\\)\\]{border-color:var(--color-primary)}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-zinc-100{--tw-bg-opacity:1;background-color:rgb(244 244 245/var(--tw-bg-opacity))}.bg-zinc-600{--tw-bg-opacity:1;background-color:rgb(82 82 91/var(--tw-bg-opacity))}.\\!bg-\\[var\\(--color-primary-90\\)\\]{background-color:var(--color-primary-90)!important}.bg-\\[var\\(--color-primary\\)\\]{background-color:var(--color-primary)}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39/var(--tw-bg-opacity))}.bg-gray-500{--tw-bg-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity))}.bg-zinc-500{--tw-bg-opacity:1;background-color:rgb(113 113 122/var(--tw-bg-opacity))}.bg-gray-900\\/20{background-color:rgba(17,24,39,.2)}.bg-red-50{--tw-bg-opacity:1;background-color:rgb(254 242 242/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-red-400{--tw-bg-opacity:1;background-color:rgb(248 113 113/var(--tw-bg-opacity))}.bg-gray-50{background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-gray-50,.bg-white{--tw-bg-opacity:1}.bg-white{background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity:0.5}.p-3{padding:.75rem}.\\!p-0{padding:0!important}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-0\\.5{padding:.125rem}.p-0{padding:0}.px-\\[2px\\]{padding-left:2px;padding-right:2px}.px-\\[12px\\]{padding-left:12px;padding-right:12px}.py-1\\.5{padding-bottom:.375rem;padding-top:.375rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.\\!py-0\\.5{padding-bottom:.125rem!important;padding-top:.125rem!important}.\\!py-0{padding-bottom:0!important;padding-top:0!important}.px-28{padding-left:7rem;padding-right:7rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.pl-\\[4px\\]{padding-left:4px}.pl-\\[16px\\]{padding-left:16px}.\\!pl-1\\.5{padding-left:.375rem!important}.\\!pl-1{padding-left:.25rem!important}.pl-1{padding-left:.25rem}.pt-2{padding-top:.5rem}.pr-0{padding-right:0}.\\!pl-2{padding-left:.5rem!important}.pb-1{padding-bottom:.25rem}.pt-1{padding-top:.25rem}.pb-3{padding-bottom:.75rem}.pb-\\[20px\\]{padding-bottom:20px}.pt-\\[20px\\]{padding-top:20px}.pb-\\[10px\\]{padding-bottom:10px}.pl-2\\.5{padding-left:.625rem}.pl-2{padding-left:.5rem}.pl-5{padding-left:1.25rem}.pt-\\[26px\\]{padding-top:26px}.pr-10{padding-right:2.5rem}.pr-2{padding-right:.5rem}.pl-0{padding-left:0}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.align-middle{vertical-align:middle}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-\\[12px\\]{font-size:12px}.text-\\[10px\\]{font-size:10px}.text-\\[14px\\]{font-size:14px}.text-xs{font-size:.75rem;line-height:1rem}.text-\\[0\\.7rem\\]{font-size:.7rem}.font-medium{font-weight:500}.font-bold{font-weight:700}.leading-8{line-height:2rem}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity))}.text-amber-500{--tw-text-opacity:1;color:rgb(245 158 11/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219/var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-\\[var\\(--color-white\\)\\]{color:var(--color-white)}.text-gray-50{--tw-text-opacity:1;color:rgb(249 250 251/var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.blur{--tw-blur:blur(8px)}.blur,.grayscale{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale:grayscale(100%)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.truncate-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden;text-overflow:ellipsis}.placeholder\\:text-sm::-moz-placeholder{font-size:.875rem;line-height:1.25rem}.placeholder\\:text-sm::placeholder{font-size:.875rem;line-height:1.25rem}.before\\:\\!rounded:before{border-radius:.25rem!important;content:var(--tw-content)}.read-only\\:bg-\\[var\\(--color-white\\)\\]:-moz-read-only{background-color:var(--color-white)}.read-only\\:bg-\\[var\\(--color-white\\)\\]:read-only{background-color:var(--color-white)}.hover\\:border-\\[var\\(--color-primary\\)\\]:hover{border-color:var(--color-primary)}.hover\\:bg-gray-700\\/10:hover{background-color:rgba(55,65,81,.1)}.hover\\:\\!bg-\\[var\\(--color-primary\\)\\]:hover{background-color:var(--color-primary)!important}.hover\\:bg-gray-900\\/10:hover{background-color:rgba(17,24,39,.1)}.hover\\:bg-\\[\\#f5f5f5\\]:hover{--tw-bg-opacity:1;background-color:rgb(245 245 245/var(--tw-bg-opacity))}.hover\\:\\!text-\\[var\\(--color-white\\)\\]:hover{color:var(--color-white)!important}.theme-dark .dark\\:text-gray-50{--tw-text-opacity:1;color:rgb(249 250 251/var(--tw-text-opacity))}.theme-dark .dark\\:text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.theme-dark .dark\\:text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}",""]);const o=n},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(0<t[5].length?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&i[c[0]]||(void 0!==a&&(void 0!==c[5]&&(c[1]="@layer".concat(0<c[5].length?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]&&(c[1]="@media ".concat(c[2]," {").concat(c[1],"}")),c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},61667:e=>{"use strict";e.exports=function(e,t){return t=t||{},e&&(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},55052:(e,t,n)=>{const r=n(74584);e.exports=e=>{for(const t of r)if(t.regex.test(e))return t.encoding;return null}},39293:e=>{e.exports=e=>{for(let t=0;t<e.length;t++)if(""===e[t])return!1;return!0}},68581:(e,t,n)=>{const r=n(23409),o=n(34799),a=n(74584);e.exports=(e,t)=>{e.languageArr=r(e,t.encoding),t.language=e.languageArr.reduce(((e,t)=>e.count>t.count?e:t)).name,e.pos=e.languageArr.findIndex((e=>e.name===t.language)),t.encoding||(t.encoding=e.languageArr[e.pos].encoding);var n=o(e,t);return t.confidence.encoding||(t.confidence.encoding=n),t.confidence.language=n,e.languageArr[e.pos].count||(t.language=null,t.confidence.language=null,a.some((e=>e.encoding===t.encoding))||(t.encoding=null,t.confidence.encoding=null)),t}},34799:e=>{e.exports=(e,t)=>{var n=new RegExp(/\d|\n|\s|\-|\.|\,|\:|\;|\?|\!|\<|\>|\[|\]|\{|\}|\&|\=|\|/,"g");n=e.content.replace(n,"").length;const r=e.languageArr;e=e.pos;var o=r.reduce(((e,n)=>e.name!==t.language&&(n.name===t.language||e.count>=n.count)?e:n));o=r[e].count/(o.count+r[e].count),n=r[e].count/n;let a=null,i=null;return i="UTF-8"===t.encoding||"UTF-16LE"===t.encoding?(a=r[e].utfFrequency?.8*r[e].utfFrequency.low:null,r[e].utfFrequency?(r[e].utfFrequency.low+r[e].utfFrequency.high)/2:null):(a=r[e].isoFrequency?.8*r[e].isoFrequency.low:null,r[e].isoFrequency?(r[e].isoFrequency.low+r[e].isoFrequency.high)/2:null),a&&i?n>=i?1:n>a?(e=i-a,Number((o+(n-a)/e*(1-o)).toFixed(2))):Number((o*(n/a)).toFixed(2)):null}},23409:(e,t,n)=>{const r=n(93942);e.exports=(e,t)=>{const n=[],o=(r.forEach((e=>{const t={};Object.keys(e).forEach((n=>{"count"!==n?t[n]=e[n]:t.count=0})),n.push(t)})),t?"utfRegex":"isoRegex");return n.forEach((t=>{var n;t[o]&&(n=e.content.match(t[o]))&&(t.count=n.length)})),n}},74584:e=>{e.exports=[{encoding:"UTF-EBCDIC",regex:new RegExp("221 115 102 115")},{encoding:"GB-18030",regex:new RegExp("132 49 149 51")},{encoding:"UTF-32LE",regex:new RegExp("255 254 0 0")},{encoding:"UTF-32BE",regex:new RegExp("0 0 254 255")},{encoding:"UTF-8",regex:new RegExp("239 187 191")},{encoding:"UTF-7",regex:new RegExp("43 47 118")},{encoding:"UTF-1",regex:new RegExp("247 100 76")},{encoding:"SCSU",regex:new RegExp("14 254 255")},{encoding:"BOCU-1",regex:new RegExp("251 238 40")},{encoding:"UTF-16BE",regex:new RegExp("254 255")},{encoding:"UTF-16LE",regex:new RegExp("255 254")}]},93942:e=>{var t="gi",n={czech:new RegExp(/jsem|jsi/,t),hungarian:new RegExp(/\snem\s/,t),slovak:new RegExp(/poriadku|myslm|\ssme\s/,t),slovenian:new RegExp(/\skaj\s|lahko|zdaj/,t),albanian:new RegExp(/nuk/,t),english:new RegExp(/ the /,t),french:new RegExp(/c'est/,t),portuguese:new RegExp(/ no /,t),spanish:new RegExp(/estaba|\smuy\s|siempre|ahora/,t),german:new RegExp(/\sdas\s/,t),italian:new RegExp(/\sche\s/,t),danish:new RegExp(/hvad|noget/,t),norwegian:new RegExp(/deg/,t),swedish:new RegExp(/ jag /,t),dutch:new RegExp(/ het /,t),finnish:new RegExp(/hn/,t),"serbo-croatian":new RegExp(/ sam | kako /,t),estonian:new RegExp(/\sseda\s|\spole\s|midagi/,t),icelandic:new RegExp(/a/,t),"malay-indonesian":new RegExp(/tidak/,t),turkish:new RegExp(/ bir /,t),lithuanian:new RegExp(/taip|\stai\s/,t),bengali:new RegExp(//,t),hindi:new RegExp(//,t),urdu:new RegExp(//,t),vietnamese:new RegExp(/ khng /,t)},r={polish:{low:.004355,high:.005102},czech:{low:.004433,high:.007324},hungarian:{low:.004994,high:.005183},romanian:{low:.003319,high:.00419},slovak:{low:.001736,high:.002557},slovenian:{low:.004111,high:.004959},albanian:{low:.003773,high:.007313},ukrainian:{low:.002933,high:.005389},english:{low:.004679,high:.00758},french:{low:.003016,high:.004825},portuguese:{low:.003406,high:.005032},spanish:{low:.002348,high:.002881},german:{low:.004044,high:.004391},italian:{low:.003889,high:.005175},danish:{low:.00363,high:.004189},norwegian:{low:.00241,high:.003918},swedish:{low:.004916,high:.007221},dutch:{low:.003501,high:.00415},finnish:{low:.003308,high:.005135},"serbo-croatian":{low:.002568,high:.005182},estonian:{low:.002892,high:.003963},icelandic:{low:.004366,high:.004366},"malay-indonesian":{low:.002825,high:.003932},greek:{low:.00344,high:.004862},turkish:{low:.002915,high:.004588},hebrew:{low:.003663,high:.004666},lithuanian:{low:.003277,high:.003768},bengali:{low:.003155,high:.005236},hindi:{low:.004159,high:.006478},urdu:{low:.004118,high:.005851},vietnamese:{low:.003387,high:.005191}};e.exports=[{name:"polish",count:0,utfRegex:new RegExp(/si/,t),isoRegex:new RegExp(/si/,t),encoding:"CP1250",utfFrequency:r.polish,isoFrequency:r.polish},{name:"czech",count:0,utfRegex:n.czech,isoRegex:n.czech,encoding:"CP1250",utfFrequency:r.czech,isoFrequency:r.czech},{name:"hungarian",count:0,utfRegex:n.hungarian,isoRegex:n.hungarian,encoding:"CP1250",utfFrequency:r.hungarian,isoFrequency:r.hungarian},{name:"romanian",count:0,utfRegex:new RegExp(/sunt|eti/,t),isoRegex:new RegExp(/sunt|eti/,t),encoding:"CP1250",utfFrequency:r.romanian,isoFrequency:r.romanian},{name:"slovak",count:0,utfRegex:n.slovak,isoRegex:n.slovak,encoding:"CP1250",utfFrequency:r.slovak,isoFrequency:r.slovak},{name:"slovenian",count:0,utfRegex:n.slovenian,isoRegex:n.slovenian,encoding:"CP1250",utfFrequency:r.slovenian,isoFrequency:r.slovenian},{name:"albanian",count:0,utfRegex:n.albanian,isoRegex:n.albanian,encoding:"CP1250",utfFrequency:r.albanian,isoFrequency:r.albanian},{name:"russian",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(//,t),encoding:"CP1251",utfFrequency:{low:.004965,high:.005341},isoFrequency:{low:.003884,high:.003986}},{name:"ukrainian",count:0,utfRegex:new RegExp(/|/,t),isoRegex:new RegExp(/|/,t),encoding:"CP1251",utfFrequency:r.ukrainian,isoFrequency:r.ukrainian},{name:"bulgarian",count:0,utfRegex:new RegExp(/|/,t),isoRegex:new RegExp(/||ao/,t),encoding:"CP1251",utfFrequency:{low:.005225,high:.005628},isoFrequency:{low:.002767,high:.004951}},{name:"english",count:0,utfRegex:n.english,isoRegex:n.english,encoding:"CP1252",utfFrequency:r.english,isoFrequency:r.english},{name:"french",count:0,utfRegex:n.french,isoRegex:n.french,encoding:"CP1252",utfFrequency:r.french,isoFrequency:r.french},{name:"portuguese",count:0,utfRegex:n.portuguese,isoRegex:n.portuguese,encoding:"CP1252",utfFrequency:r.portuguese,isoFrequency:r.portuguese},{name:"spanish",count:0,utfRegex:n.spanish,isoRegex:n.spanish,encoding:"CP1252",utfFrequency:r.spanish,isoFrequency:r.spanish},{name:"german",count:0,utfRegex:n.german,isoRegex:n.german,encoding:"CP1252",utfFrequency:r.german,isoFrequency:r.german},{name:"italian",count:0,utfRegex:n.italian,isoRegex:n.italian,encoding:"CP1252",utfFrequency:r.italian,isoFrequency:r.italian},{name:"danish",count:0,utfRegex:n.danish,isoRegex:n.danish,encoding:"CP1252",utfFrequency:r.danish,isoFrequency:r.danish},{name:"norwegian",count:0,utfRegex:n.norwegian,isoRegex:n.norwegian,encoding:"CP1252",utfFrequency:r.norwegian,isoFrequency:r.norwegian},{name:"swedish",count:0,utfRegex:n.swedish,isoRegex:n.swedish,encoding:"CP1252",utfFrequency:r.swedish,isoFrequency:r.swedish},{name:"dutch",count:0,utfRegex:n.dutch,isoRegex:n.dutch,encoding:"CP1252",utfFrequency:r.dutch,isoFrequency:r.dutch},{name:"finnish",count:0,utfRegex:n.finnish,isoRegex:n.finnish,encoding:"CP1252",utfFrequency:r.finnish,isoFrequency:r.finnish},{name:"serbo-croatian",count:0,utfRegex:n["serbo-croatian"],isoRegex:n["serbo-croatian"],encoding:"CP1252",utfFrequency:r["serbo-croatian"],isoFrequency:r["serbo-croatian"]},{name:"estonian",count:0,utfRegex:n.estonian,isoRegex:n.estonian,encoding:"CP1252",utfFrequency:r.estonian,isoFrequency:r.estonian},{name:"icelandic",count:0,utfRegex:n.icelandic,isoRegex:n.icelandic,encoding:"CP1252",utfFrequency:r.icelandic,isoFrequency:r.icelandic},{name:"malay-indonesian",count:0,utfRegex:n["malay-indonesian"],isoRegex:n["malay-indonesian"],encoding:"CP1252",utfFrequency:r["malay-indonesian"],isoFrequency:r["malay-indonesian"]},{name:"greek",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(//,t),encoding:"CP1253",utfFrequency:r.greek,isoFrequency:r.greek},{name:"turkish",count:0,utfRegex:n.turkish,isoRegex:n.turkish,encoding:"CP1254",utfFrequency:r.turkish,isoFrequency:r.turkish},{name:"hebrew",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(//,t),encoding:"CP1255",utfFrequency:r.hebrew,isoFrequency:r.hebrew},{name:"arabic",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(//,t),encoding:"CP1256",utfFrequency:{low:.003522,high:.004348},isoFrequency:{low:.003773,high:.005559}},{name:"farsi-persian",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(//,t),encoding:"CP1256",utfFrequency:{low:.002761,high:.004856},isoFrequency:{low:.00301,high:.006646}},{name:"lithuanian",count:0,utfRegex:n.lithuanian,isoRegex:n.lithuanian,encoding:"CP1257",utfFrequency:r.lithuanian,isoFrequency:r.lithuanian},{name:"chinese-simplified",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(/||/,t),encoding:"GB18030",utfFrequency:{low:.009567,high:.011502},isoFrequency:{low:.003137,high:.005009}},{name:"chinese-traditional",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(/b/,t),encoding:"BIG5",utfFrequency:{low:.012484,high:.014964},isoFrequency:{low:.005063,high:.005822}},{name:"japanese",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(/|/,t),encoding:"Shift-JIS",utfFrequency:{low:.004257,high:.006585},isoFrequency:{low:.004286,high:.004653}},{name:"korean",count:0,utfRegex:new RegExp(//,t),isoRegex:new RegExp(/||/,t),encoding:"EUC-KR",utfFrequency:{low:.01091,high:.01367},isoFrequency:{low:.004118,high:.004961}},{name:"thai",count:0,utfRegex:new RegExp(/|/,t),isoRegex:new RegExp(/|/,t),encoding:"TIS-620",utfFrequency:{low:.003194,high:.003468},isoFrequency:{low:.002091,high:.002303}},{name:"bengali",count:0,utfRegex:n.bengali,isoRegex:n.bengali,utfFrequency:r.bengali,isoFrequency:r.bengali},{name:"hindi",count:0,utfRegex:n.hindi,isoRegex:n.hindi,utfFrequency:r.hindi,isoFrequency:r.hindi},{name:"urdu",count:0,utfRegex:n.urdu,isoRegex:n.urdu,utfFrequency:r.urdu,isoFrequency:r.urdu},{name:"vietnamese",count:0,utfRegex:n.vietnamese,isoRegex:n.vietnamese,utfFrequency:r.vietnamese,isoFrequency:r.vietnamese}]},70182:(e,t,n)=>{const r=n(39293),o=n(68581),a=n(55052);e.exports=e=>new Promise(((t,n)=>{const i={encoding:null,language:null,confidence:{encoding:null,language:null}},l={},s=new FileReader;s.onload=()=>{var u=new Uint8Array(s.result).slice(0,4).join(" ");if(u=a(u)){i.encoding=u,i.confidence.encoding=1;const r=new FileReader;r.onload=()=>{l.content=r.result,t(o(l,i))},r.onerror=e=>{n(e)},r.readAsText(e,i.encoding)}else{const a=new FileReader;a.onload=()=>{var n=a.result,s=r(n);if(s&&(i.encoding="UTF-8",i.confidence.encoding=1),s)l.content=n,t(o(l,i));else{const n=new FileReader;n.onload=()=>{l.content=n.result,t(o(l,i))},n.readAsText(e,"ISO-8859-1")}},a.onerror=e=>{n(e)},a.readAsText(e,"UTF-8")}},s.onerror=e=>{n(e)},s.readAsArrayBuffer(e)}))},70045:(e,t)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default},32317:(e,t,n)=>{"use strict";var r,o=n(95318),a=(t.__esModule=!0,t.default=function(e){return(!r&&0!==r||e)&&a.default&&((e=document.createElement("div")).style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),r},o(n(70045)));e.exports=t.default},34021:e=>{var t={};function n(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}(e.exports=t).eastAsianWidth=function(e){var t=e.charCodeAt(0),n=(e=2==e.length?e.charCodeAt(1):0,t);return 55296<=t&&t<=56319&&56320<=e&&e<=57343&&(n=(t&=1023)<<10|(e&=1023),n+=65536),12288==n||65281<=n&&n<=65376||65504<=n&&n<=65510?"F":8361==n||65377<=n&&n<=65470||65474<=n&&n<=65479||65482<=n&&n<=65487||65490<=n&&n<=65495||65498<=n&&n<=65500||65512<=n&&n<=65518?"H":4352<=n&&n<=4447||4515<=n&&n<=4519||4602<=n&&n<=4607||9001<=n&&n<=9002||11904<=n&&n<=11929||11931<=n&&n<=12019||12032<=n&&n<=12245||12272<=n&&n<=12283||12289<=n&&n<=12350||12353<=n&&n<=12438||12441<=n&&n<=12543||12549<=n&&n<=12589||12593<=n&&n<=12686||12688<=n&&n<=12730||12736<=n&&n<=12771||12784<=n&&n<=12830||12832<=n&&n<=12871||12880<=n&&n<=13054||13056<=n&&n<=19903||19968<=n&&n<=42124||42128<=n&&n<=42182||43360<=n&&n<=43388||44032<=n&&n<=55203||55216<=n&&n<=55238||55243<=n&&n<=55291||63744<=n&&n<=64255||65040<=n&&n<=65049||65072<=n&&n<=65106||65108<=n&&n<=65126||65128<=n&&n<=65131||110592<=n&&n<=110593||127488<=n&&n<=127490||127504<=n&&n<=127546||127552<=n&&n<=127560||127568<=n&&n<=127569||131072<=n&&n<=194367||177984<=n&&n<=196605||196608<=n&&n<=262141?"W":32<=n&&n<=126||162<=n&&n<=163||165<=n&&n<=166||172==n||175==n||10214<=n&&n<=10221||10629<=n&&n<=10630?"Na":161==n||164==n||167<=n&&n<=168||170==n||173<=n&&n<=174||176<=n&&n<=180||182<=n&&n<=186||188<=n&&n<=191||198==n||208==n||215<=n&&n<=216||222<=n&&n<=225||230==n||232<=n&&n<=234||236<=n&&n<=237||240==n||242<=n&&n<=243||247<=n&&n<=250||252==n||254==n||257==n||273==n||275==n||283==n||294<=n&&n<=295||299==n||305<=n&&n<=307||312==n||319<=n&&n<=322||324==n||328<=n&&n<=331||333==n||338<=n&&n<=339||358<=n&&n<=359||363==n||462==n||464==n||466==n||468==n||470==n||472==n||474==n||476==n||593==n||609==n||708==n||711==n||713<=n&&n<=715||717==n||720==n||728<=n&&n<=731||733==n||735==n||768<=n&&n<=879||913<=n&&n<=929||931<=n&&n<=937||945<=n&&n<=961||963<=n&&n<=969||1025==n||1040<=n&&n<=1103||1105==n||8208==n||8211<=n&&n<=8214||8216<=n&&n<=8217||8220<=n&&n<=8221||8224<=n&&n<=8226||8228<=n&&n<=8231||8240==n||8242<=n&&n<=8243||8245==n||8251==n||8254==n||8308==n||8319==n||8321<=n&&n<=8324||8364==n||8451==n||8453==n||8457==n||8467==n||8470==n||8481<=n&&n<=8482||8486==n||8491==n||8531<=n&&n<=8532||8539<=n&&n<=8542||8544<=n&&n<=8555||8560<=n&&n<=8569||8585==n||8592<=n&&n<=8601||8632<=n&&n<=8633||8658==n||8660==n||8679==n||8704==n||8706<=n&&n<=8707||8711<=n&&n<=8712||8715==n||8719==n||8721==n||8725==n||8730==n||8733<=n&&n<=8736||8739==n||8741==n||8743<=n&&n<=8748||8750==n||8756<=n&&n<=8759||8764<=n&&n<=8765||8776==n||8780==n||8786==n||8800<=n&&n<=8801||8804<=n&&n<=8807||8810<=n&&n<=8811||8814<=n&&n<=8815||8834<=n&&n<=8835||8838<=n&&n<=8839||8853==n||8857==n||8869==n||8895==n||8978==n||9312<=n&&n<=9449||9451<=n&&n<=9547||9552<=n&&n<=9587||9600<=n&&n<=9615||9618<=n&&n<=9621||9632<=n&&n<=9633||9635<=n&&n<=9641||9650<=n&&n<=9651||9654<=n&&n<=9655||9660<=n&&n<=9661||9664<=n&&n<=9665||9670<=n&&n<=9672||9675==n||9678<=n&&n<=9681||9698<=n&&n<=9701||9711==n||9733<=n&&n<=9734||9737==n||9742<=n&&n<=9743||9748<=n&&n<=9749||9756==n||9758==n||9792==n||9794==n||9824<=n&&n<=9825||9827<=n&&n<=9829||9831<=n&&n<=9834||9836<=n&&n<=9837||9839==n||9886<=n&&n<=9887||9918<=n&&n<=9919||9924<=n&&n<=9933||9935<=n&&n<=9953||9955==n||9960<=n&&n<=9983||10045==n||10071==n||10102<=n&&n<=10111||11093<=n&&n<=11097||12872<=n&&n<=12879||57344<=n&&n<=63743||65024<=n&&n<=65039||65533==n||127232<=n&&n<=127242||127248<=n&&n<=127277||127280<=n&&n<=127337||127344<=n&&n<=127386||917760<=n&&n<=917999||983040<=n&&n<=1048573||1048576<=n&&n<=1114109?"A":"N"},t.characterLength=function(e){return"F"==(e=this.eastAsianWidth(e))||"W"==e||"A"==e?2:1},t.length=function(e){for(var t=n(e),r=0,o=0;o<t.length;o++)r+=this.characterLength(t[o]);return r},t.slice=function(e,r,o){textLen=t.length(e),o=o||1,(r=r||0)<0&&(r=textLen+r),o<0&&(o=textLen+o);for(var a="",i=0,l=n(e),s=0;s<l.length;s++){var u=l[s],c=t.length(u);if(r-(2==c?1:0)<=i){if(!(i+c<=o))break;a+=u}i+=c}return a}},51961:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(67294),a=h(o),i=h(n(45697)),l=h(n(90143)),s=h(n(35277)),u=h(n(30998)),c=h(n(23493)),f=h(n(3315)),d=h(n(71603)),p=h(n(91922));function h(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var r=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.getActiveCategory=function(){return r._getActiveCategory()},r._setListRef=function(e){r.list=e},r._onScroll=(0,c.default)((function(e){e=e.scrollTop,(e=r._getActiveCategory(e))!==r.lastActiveCategory&&(r.lastActiveCategory=e,r.props.onActiveCategoryChange(e))}),100),r._getActiveCategory=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=r.props.rows;if(0===e)return 0===t.length?void 0:t[0].id;for(var n=0,o=0;o<e;)(o+=r._rowHeight({index:n}))<=e&&(n+=1);return t=r.props.rows[n],Array.isArray(t)?t[0].category:t.id},r._rowHeight=function(e){return e=e.index,e=r.props.rows[e],Array.isArray(e)?32:46},r._rowRenderer=function(e){var t=e.key,n=e.index,o=(e=e.style,r.props.rows[n]),i=r.props.onChange;if(Array.isArray(o))return a.default.createElement(d.default,{key:t,onChange:i,style:e,emojis:o});var l=o.category;return o=o.id,t={key:t,category:l,onChange:i,ref:r._setCategoryRef(o),style:e},0===n&&(i=(l=r.props).modifier,o=l.onModifierChange,t.headingDecoration=a.default.createElement(p.default,{active:i,onChange:o})),a.default.createElement(f.default,t)},r._setCategoryRef=function(e){return function(t){r.categories[e]=t}},r.jumpToCategory=function(e){var t=(0,u.default)(r.props.rows,(function(t){return t.id===e}));r.list.scrollToRow(t)},r.lastActiveCategory=null,r.categories={},r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),function(e,t,n){t&&r(e.prototype,t)}(n,[{key:"componentDidUpdate",value:function(e){this.props.rows===e.rows&&this.props.modifier===e.modifier||this.list.recomputeRowHeights()}},{key:"render",value:function(){var e=this,t=this.props.rows.length;return a.default.createElement(l.default,{nonce:this.props.nonce},(function(n){var r=n.height;return n=n.width,a.default.createElement(s.default,{height:r,onScroll:e._onScroll,ref:e._setListRef,rowCount:t,rowHeight:e._rowHeight,rowRenderer:e._rowRenderer,scrollToAlignment:"start",tabIndex:null,width:n})}))}}]),n}(o.Component),n.propTypes={rows:i.default.arrayOf(i.default.oneOfType([i.default.shape({category:i.default.object.isRequired,id:i.default.string.isRequired}),i.default.arrayOf(i.default.object).isRequired])).isRequired,modifier:i.default.string.isRequired,onActiveCategoryChange:i.default.func.isRequired,onChange:i.default.func.isRequired,onModifierChange:i.default.func.isRequired},t.default=n},3315:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(67294),a=s(o),i=s(n(45697)),l=s(n(1775));function s(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");if(e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments),e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),function(e,t,n){t&&r(e.prototype,t)}(n,[{key:"shouldComponentUpdate",value:function(e,t){return(0,l.default)(this,e,t)}},{key:"render",value:function(){var e=(n=this.props).category,t=n.headingDecoration,n=n.style;return a.default.createElement("div",{className:"emoji-category-header",style:n},a.default.createElement("h2",{className:"emoji-category-title"},e.title),a.default.createElement("div",{className:"emoji-category-heading-decoration"},t))}}]),n}(o.Component),n.propTypes={category:i.default.shape({title:i.default.string.isRequired}).isRequired,headingDecoration:i.default.node,onChange:i.default.func.isRequired,style:i.default.object},t.default=n},25133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCategories={people:{title:"People",emoji:"smile"},nature:{title:"Nature",emoji:"hamster"},food:{title:"Food & Drink",emoji:"pizza"},activity:{title:"Activity",emoji:"soccer"},travel:{title:"Travel & Places",emoji:"earth_americas"},objects:{title:"Objects",emoji:"bulb"},symbols:{title:"Symbols",emoji:"clock9"},flags:{title:"Flags",emoji:"flag_gb"}}},71603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(67294),i=c(a),l=c(n(45697)),s=c(n(1775)),u=c(n(42367));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e,t=this;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=f(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(o))))._handleEmojiSelect=function(t,n){e.props.onChange(n)},f(e,e)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),function(e,t,n){t&&o(e.prototype,t)}(n,[{key:"shouldComponentUpdate",value:function(e,t){return(0,s.default)(this,e,t)}},{key:"render",value:function(){var e=this,t=(n=this.props).emojis,n=n.style;return i.default.createElement("div",{className:"emoji-row",style:n},t.map((function(t){return i.default.createElement(u.default,r({},t,{ariaLabel:t.name,role:"option",key:t.unicode,onSelect:e._handleEmojiSelect}))})))}}]),n}(a.Component),n.propTypes={emojis:l.default.array.isRequired,onChange:l.default.func.isRequired,style:l.default.object.isRequired},t.default=n},42367:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(67294),a=u(o),i=u(n(45697)),l=u(n(78718)),s=u(n(25396));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e,t=this,r=n;if(!(t instanceof r))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return(r=e=c(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))))._handleKeyUp=function(t){t.preventDefault(),"Enter"!==t.key&&" "!==t.key||e._handleClick(t)},e._handleClick=function(t){e.props.onSelect(t,(0,l.default)(e.props,"shortname","aliases","aliases_ascii","category","name","shortcode","unicode","unicode_alternates","keywords"))},c(e,r)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),function(e,t,n){t&&r(e.prototype,t)}(n,[{key:"shouldComponentUpdate",value:function(e){return e.shortname!==this.props.shortname}},{key:"createMarkup",value:function(){return{__html:s.default.shortnameToImage(this.props.shortname)}}},{key:"render",value:function(){return a.default.createElement("div",{onKeyUp:this._handleKeyUp,onClick:this._handleClick,tabIndex:"0",className:"emoji","aria-label":this.props.ariaLabel,title:this.props.name,role:this.props.role,dangerouslySetInnerHTML:this.createMarkup()})}}]),n}(o.Component),n.propTypes={ariaLabel:i.default.string,name:i.default.string,onSelect:i.default.func.isRequired,shortname:i.default.string,title:i.default.string,role:i.default.string},t.default=n},33165:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(67294),a=i(o);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}n=i(n(45697)),o=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e,t=this;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=l(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(o))))._handleClick=function(t){e.props.onClick(t,e.props.type)},l(e,e)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),function(e,t,n){t&&r(e.prototype,t)}(n,[{key:"render",value:function(){return a.default.createElement("a",{onClick:this._handleClick,className:this.props.active?"modifier active":"modifier",style:{background:this.props.hex},"aria-label":"Fitzpatrick type "+this.props.type})}}]),n}(o.Component),o.propTypes={onClick:n.default.func.isRequired,active:n.default.bool,type:n.default.string.isRequired,hex:n.default.string.isRequired},t.default=o},91922:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(67294),a=u(o),i=u(n(45697)),l=u(n(35161)),s=u(n(33165));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e,t=this;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=c(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(o))))._handleModifierClick=function(t,n){e.props.onChange(n)},c(e,e)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),function(e,t,n){t&&r(e.prototype,t)}(n,[{key:"render",value:function(){var e=this;return a.default.createElement("ol",{className:"modifiers"},(0,l.default)(this.props.modifiers,(function(t,n){return a.default.createElement("li",{key:n},a.default.createElement(s.default,{hex:t,type:n,active:e.props.active===n,onClick:e._handleModifierClick}))})))}}]),n}(o.Component),n.propTypes={onChange:i.default.func.isRequired,modifiers:i.default.object,active:i.default.string},n.defaultProps={active:0,modifiers:{0:"#FFDE5C",1:"#FFE1BB",2:"#FFD0A9",3:"#D7A579",4:"#B57D52",5:"#8B6858"}},t.default=n},98874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(67294),i=b(a),l=b(n(45697)),s=b(n(25396)),u=b(n(58971)),c=b(n(66073)),f=b(n(35161)),d=b(n(57557)),p=b(n(53595)),h=b(n(42367)),m=b(n(51961)),y=b(n(55319)),g=b(n(56601));function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}n=n(25133),a=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e,t=this,r=n;if(!(t instanceof r))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return(r=e=v(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a)))).state={modifier:u.default.get("emoji-modifier")||"0",category:!1,term:!0!==e.props.search?e.props.search:""},e.setFocus=function(t){"flags"===t.target.id&&e.categories[e.state.category].children[0].focus()},e._renderHeaderCategories=function(){return(0,f.default)(e.props.categories,(function(t,n){return i.default.createElement("li",{key:n,className:e.state.category===n?"active":void 0},i.default.createElement(h.default,{id:n,role:"menuitem",ariaLabel:n+" category",shortname:":"+t.emoji+":",onSelect:function(){e.categories.jumpToCategory(n)}}))}))},e._renderCategories=function(){var t=e.rowsSelector(e.props.categories,e.state.emojis,e.state.modifier,e.props.search,e.state.term);return i.default.createElement("div",{className:"emoji-categories-wrapper"},i.default.createElement(m.default,{nonce:e.props.nonce,ref:e._setCategoriesRef,rows:t,modifier:e.state.modifier,onActiveCategoryChange:e._onActiveCategoryChange,onChange:e.props.onChange,onModifierChange:e._onModifierChange}))},e._setCategoriesRef=function(t){e.categories=t},e._setSearchRef=function(t){e.search=t},e._onActiveCategoryChange=function(t){t!==e.state.category&&e.setState({category:t})},e._onModifierChange=function(t){e.setState({modifier:t}),u.default.set("emoji-modifier",t)},e._renderSearchInput=function(){return!0===e.props.search?i.default.createElement("div",{className:"emoji-search-wrapper"},i.default.createElement("input",{className:"emoji-search",type:"search",placeholder:e.props.searchPlaceholder,ref:e._setSearchRef,onChange:e._updateSearchTerm,autoFocus:!0})):null},e._updateSearchTerm=function(){e.setState({term:e.search.value})},v(e,r)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),function(e,t,n){t&&o(e.prototype,t)}(n,[{key:"componentWillMount",value:function(){this.rowsSelector=(0,y.default)(),(0,c.default)(this.props.emojione,(function(e,t){s.default[t]=e})),this.setState({emojis:(0,g.default)(p.default)})}},{key:"componentDidMount",value:function(){this.setState({category:this.categories.getActiveCategory()})}},{key:"componentWillReceiveProps",value:function(e){this.props.search!==e.search&&this.setState({term:this.props.search})}},{key:"render",value:function(){var e=(0,d.default)(this.props,Object.keys(n.propTypes)),t="emoji-dialog";return!0===this.props.search&&(t+=" with-search"),this.props.className&&(t+=" "+this.props.className),i.default.createElement("div",r({className:t,role:"dialog"},e),i.default.createElement("header",{className:"emoji-dialog-header",role:"menu"},i.default.createElement("ul",{onBlur:this.setFocus},this._renderHeaderCategories())),this._renderSearchInput(),this._renderCategories())}}]),n}(a.Component),a.propTypes={emojione:l.default.shape({imageType:l.default.string,sprites:l.default.bool,imagePathSVGSprites:l.default.string}),search:l.default.oneOfType([l.default.bool,l.default.string]),searchPlaceholder:l.default.string,className:l.default.string,onChange:l.default.func.isRequired,categories:l.default.object},a.defaultProps={search:"",searchPlaceholder:"Search",categories:n.defaultCategories},t.default=a},56601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={},n=Object.keys(e),r=!0,o=!1,a=void 0;try{for(var i,l=n[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s,u=i.value,c=e[u];"modifier"!==c.category&&(t[c.category]||(t[c.category]={}),(s=u.match(/(.*?)_tone(.*?)$/))?(c.keywords.includes(s[1])||c.keywords.push(s[1]),t[c.category][s[1]]&&(t[c.category][s[1]][s[2]]=c)):(c.keywords.includes(u)||c.keywords.push(u),t[c.category][u]=[c]))}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return t}},55319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=void 0,t=void 0,n=void 0,l=void 0,u=void 0,c=void 0;return function(f,d,p,h,m){function y(e){return w&&e[w]?e[w]:e[0]}function g(e){return M.test(e)}function b(e){return e.keywords.concat(e.name).some(g)}var v,_,w,S,O,M;return f===e&&d===t&&p===n&&h===l&&m===u||(v=f,_=d,w=p,S=h,O=m,M=new RegExp("^(?:.* +)*"+(0,r.default)(O),"i"),c=(0,a.default)(v,(function(e,t){var n=_[t]||{};return n=(0,i.default)(n).map(y),{category:e,emojis:n=S&&O?n.filter(b):n,id:t}})).filter((function(e){return 0<e.emojis.length})).map((function(e){var t=e.category,n=e.emojis;return[{category:t,id:e.id}].concat(s((0,o.default)(n,8)))})).reduce((function(e,t){return[].concat(s(e),s(t))}),[]),e=f,t=d,n=p,l=h,u=m),c}};var r=l(n(63150)),o=l(n(8400)),a=l(n(35161)),i=l(n(52628));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}},63150:e=>{"use strict";var t=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(t,"\\$&")}},70282:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(14149)),a=r(n(54545)),i=(n(87641),r(n(26018)));function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e){return"/"===e.charAt(0)?e:"/"+e}function u(e){return"/"===e.charAt(0)?e.substr(1):e}function c(e,t){return r=t,0===(n=e).toLowerCase().indexOf(r.toLowerCase())&&-1!=="/?#".indexOf(n.charAt(r.length))?e.substr(t.length):e;var n,r}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t,n="",r="";return-1!==(-1!==(t=(e=e||"/").indexOf("#"))&&(r=e.substr(t),e=e.substr(0,t)),t=e.indexOf("?"))&&(n=e.substr(t),e=e.substr(0,t)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}function p(e){var t=e.pathname,n=e.search;return e=e.hash,t=t||"/",n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function h(e,t,n,r){var a;"string"==typeof e?(a=d(e)).state=t:(void 0===(a=l({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function m(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){null!=e?"string"==typeof(t="function"==typeof e?e(t,n):e)?"function"==typeof r?r(t,o):o(!0):o(!1!==t):o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function g(e,t){t(window.confirm(e))}var b="hashchange";function v(){try{return window.history.state||{}}catch(e){return{}}}var _="hashchange",w={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+u(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u,decodePath:s},slash:{encodePath:s,decodePath:s}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function M(e){window.location.replace(S(window.location.href)+"#"+e)}function C(e,t,n){return Math.min(Math.max(e,t),n)}t.createBrowserHistory=function(e){void 0===e&&(e={}),y||i(!1);var t=window.history,n=(-1===(o=window.navigator.userAgent).indexOf("Android 2.")&&-1===o.indexOf("Android 4.0")||-1===o.indexOf("Mobile Safari")||-1!==o.indexOf("Chrome")||-1!==o.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,u=void 0!==a&&a,d=void 0===(a=o.getUserConfirmation)?g:a,_=void 0===(a=o.keyLength)?6:a,w=e.basename?f(s(e.basename)):"";function S(e){var t=(e=e||{}).key,n=(e=e.state,(n=window.location).pathname+n.search+n.hash);return h(n=w?c(n,w):n,e,t)}function O(){return Math.random().toString(36).substr(2,_)}var M=m();function C(e){l(N,e),N.length=t.length,M.notifyListeners(N.location,N.action)}function k(e){void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")||T(S(e.state))}function E(){T(S(v()))}var P=!1;function T(e){P?(P=!1,C()):M.confirmTransitionTo(e,"POP",d,(function(t){var n;t?C({action:"POP",location:e}):(t=e,n=N.location,-1===(n=j.indexOf(n.key))&&(n=0),(n-=t=-1===(t=j.indexOf(t.key))?0:t)&&(P=!0,D(n)))}))}var j=[(o=S(v())).key];function x(e){return w+p(e)}function D(e){t.go(e)}var A=0;function I(e){1===(A+=e)&&1===e?(window.addEventListener("popstate",k),r&&window.addEventListener(b,E)):0===A&&(window.removeEventListener("popstate",k),r&&window.removeEventListener(b,E))}var L=!1,N={length:t.length,action:"POP",location:o,createHref:x,push:function(e,r){var o=h(e,r,O(),N.location);M.confirmTransitionTo(o,"PUSH",d,(function(e){var r,a;e&&(e=x(o),r=o.key,a=o.state,n?(t.pushState({key:r,state:a},null,e),u?window.location.href=e:(r=j.indexOf(N.location.key),(a=j.slice(0,r+1)).push(o.key),j=a,C({action:"PUSH",location:o}))):window.location.href=e)}))},replace:function(e,r){var o=h(e,r,O(),N.location);M.confirmTransitionTo(o,"REPLACE",d,(function(e){var r,a;e&&(e=x(o),a=o.key,r=o.state,n?(t.replaceState({key:a,state:r},null,e),u?window.location.replace(e):(-1!==(a=j.indexOf(N.location.key))&&(j[a]=o.key),C({action:"REPLACE",location:o}))):window.location.replace(e))}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){var t=M.setPrompt(e=void 0!==e&&e);return L||(I(1),L=!0),function(){return L&&(L=!1,I(-1)),t()}},listen:function(e){var t=M.appendListener(e);return I(1),function(){I(-1),t()}}};return N},t.createHashHistory=function(e){void 0===e&&(e={}),y||i(!1);var t=window.history;window.navigator.userAgent.indexOf("Firefox");var n=void 0===(r=e.getUserConfirmation)?g:r,r=void 0===(r=e.hashType)?"slash":r,o=e.basename?f(s(e.basename)):"",a=(e=w[r]).encodePath,u=e.decodePath;function d(){var e=u(O());return h(e=o?c(e,o):e)}var b=m();function v(e){l(A,e),A.length=t.length,b.notifyListeners(A.location,A.action)}var C=!1,k=null;function E(){var e,t=O(),r=a(t);t!==r?M(r):(t=d(),r=A.location,!C&&r.pathname===t.pathname&&r.search===t.search&&r.hash===t.hash||k===p(t)||(k=null,e=t,C?(C=!1,v()):b.confirmTransitionTo(e,"POP",n,(function(t){var n;t?v({action:"POP",location:e}):(t=e,n=A.location,-1===(n=P.lastIndexOf(p(n)))&&(n=0),(n-=t=-1===(t=P.lastIndexOf(p(t)))?0:t)&&(C=!0,T(n)))}))))}(r=O())!==(e=a(r))&&M(e);var P=[p(r=d())];function T(e){t.go(e)}var j=0;function x(e){1===(j+=e)&&1===e?window.addEventListener(_,E):0===j&&window.removeEventListener(_,E)}var D=!1,A={length:t.length,action:"POP",location:r,createHref:function(e){var t=document.querySelector("base"),n="";return(n=t&&t.getAttribute("href")?S(window.location.href):n)+"#"+a(o+p(e))},push:function(e,t){var r=h(e,void 0,void 0,A.location);b.confirmTransitionTo(r,"PUSH",n,(function(e){var t;e&&(e=p(r),t=a(o+e),O()!==t?(k=e,window.location.hash=t,t=P.lastIndexOf(p(A.location)),(t=P.slice(0,t+1)).push(e),P=t,v({action:"PUSH",location:r})):v())}))},replace:function(e,t){var r=h(e,void 0,void 0,A.location);b.confirmTransitionTo(r,"REPLACE",n,(function(e){var t;e&&(e=p(r),t=a(o+e),O()!==t&&(k=e,M(t)),-1!==(t=P.indexOf(p(A.location)))&&(P[t]=e),v({action:"REPLACE",location:r}))}))},go:T,goBack:function(){T(-1)},goForward:function(){T(1)},block:function(e){var t=b.setPrompt(e=void 0!==e&&e);return D||(x(1),D=!0),function(){return D&&(D=!1,x(-1)),t()}},listen:function(e){var t=b.appendListener(e);return x(1),function(){x(-1),t()}}};return A},t.createMemoryHistory=function(e){var t=(e=e=void 0===e?{}:e).getUserConfirmation,n=void 0===(n=e.initialEntries)?["/"]:n,r=e.initialIndex,o=void 0===(e=e.keyLength)?6:e,a=m();function i(e){l(c,e),c.length=c.entries.length,a.notifyListeners(c.location,c.action)}function s(){return Math.random().toString(36).substr(2,o)}function u(e){var n=C(c.index+e,0,c.entries.length-1),r=c.entries[n];a.confirmTransitionTo(r,"POP",t,(function(e){e?i({action:"POP",location:r,index:n}):i()}))}e=C(void 0===r?0:r,0,n.length-1);var c={length:(r=n.map((function(e){return h(e,void 0,"string"!=typeof e&&e.key||s())}))).length,action:"POP",location:r[e],index:e,entries:r,createHref:p,push:function(e,n){var r=h(e,n,s(),c.location);a.confirmTransitionTo(r,"PUSH",t,(function(e){var t;e&&(e=c.index+1,(t=c.entries.slice(0)).length>e?t.splice(e,t.length-e,r):t.push(r),i({action:"PUSH",location:r,index:e,entries:t}))}))},replace:function(e,n){var r=h(e,n,s(),c.location);a.confirmTransitionTo(r,"REPLACE",t,(function(e){e&&(c.entries[c.index]=r,i({action:"REPLACE",location:r}))}))},go:u,goBack:function(){u(-1)},goForward:function(){u(1)},canGo:function(e){return 0<=(e=c.index+e)&&e<c.entries.length},block:function(e){return a.setPrompt(e=void 0!==e&&e)},listen:function(e){return a.appendListener(e)}};return c},t.createLocation=h,t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&a(e.state,t.state)},t.parsePath=d,t.createPath=p},55648:(e,t,n)=>{"use strict";e.exports=n(70282)},8679:(e,t,n)=>{"use strict";var r=n(59864),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return r.isMemo(e)?i:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=i;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){h&&(o=p(n))&&o!==h&&e(t,o,r);for(var o,i=c(n),l=(f&&(i=i.concat(f(n))),s(t)),m=s(n),y=0;y<i.length;++y){var g=i[y];if(!(a[g]||r&&r[g]||m&&m[g]||l&&l[g])){var b=d(n,g);try{u(t,g,b)}catch(e){}}}}return t}},97950:e=>{"use strict";var t="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox");function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){n(window.event)}))}function r(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function o(e){for(var t=(e=(e=e||"").replace(/\s/g,"")).split(","),n=t.lastIndexOf("");0<=n;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var a={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"":20,",":188,".":190,"/":191,"`":192,"-":t?173:189,"=":t?61:187,";":t?59:186,"'":222,"[":219,"]":221,"\\":220},i={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":t?224:91,cmd:t?224:91,command:t?224:91},l=[],s={16:"shiftKey",18:"altKey",17:"ctrlKey"},u={16:!1,18:!1,17:!1},c={},f=1;f<20;f++)a["f"+f]=111+f;function d(e){return a[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)}var p="all",h=u[t?224:91]=!(s[t?224:91]="metaKey");function m(e){p=e||"all"}function y(){return p||"all"}function g(e,t,n){var r=void 0;if(t.scope===n||"all"===t.scope){for(var o in r=0<t.mods.length,u)Object.prototype.hasOwnProperty.call(u,o)&&(!u[o]&&-1<t.mods.indexOf(+o)||u[o]&&-1===t.mods.indexOf(+o))&&(r=!1);(0!==t.mods.length||u[16]||u[18]||u[17]||u[91])&&!r&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function b(e,t,a){var f=o(e),p=[],m="all",v=document,_=0;for(void 0===a&&"function"==typeof t&&(a=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(m=t.scope),t.element&&(v=t.element)),"string"==typeof t&&(m=t);_<f.length;_++)p=[],1<(e=f[_].split("+")).length&&(p=r(i,e)),(e="*"===(e=e[e.length-1])?"*":d(e))in c||(c[e]=[]),c[e].push({scope:m,mods:p,shortcut:f[_],method:a,key:f[_]});void 0===v||h||(h=!0,n(v,"keydown",(function(e){!function(e){var t,n=c["*"],r=e.keyCode||e.which||e.charCode;if(-1===l.indexOf(r)&&l.push(r),(r=93!==r&&224!==r?r:91)in u){for(var o in u[r]=!0,i)i[o]===r&&(b[o]=!0);if(!n)return}for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(u[t]=e[s[t]]);if(b.filter.call(this,e)){var a=y();if(n)for(var f=0;f<n.length;f++)n[f].scope===a&&g(e,n[f],a);if(r in c)for(var d=0;d<c[r].length;d++)g(e,c[r][d],a)}}(e)})),n(v,"keyup",(function(e){var t=e.keyCode||e.which||e.charCode;if((e=l.indexOf(t))<0||l.splice(e,1),(t=93!==t&&224!==t?t:91)in u)for(var n in u[t]=!1,i)i[n]===t&&(b[n]=!1)})))}var v,_,w={setScope:m,getScope:y,deleteScope:function(e,t){var n,r=void 0,o=void 0;for(n in e=e||y(),c)if(Object.prototype.hasOwnProperty.call(c,n))for(r=c[n],o=0;o<r.length;)r[o].scope===e?r.splice(o,1):o++;y()===e&&m(t||"all")},getPressedKeyCodes:function(){return l.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=d(e)),-1!==l.indexOf(e)},filter:function(e){return!("INPUT"===(e=e.target.tagName||e.srcElement.tagName)||"SELECT"===e||"TEXTAREA"===e)},unbind:function(e,t){for(var n,a,l=o(e),s=[],u=0;u<l.length;u++){if(1<(n=l[u].split("+")).length&&(s=r(i,n)),e="*"===(e=n[n.length-1])?"*":d(e),t=t||y(),!c[e])return;for(var f=0;f<c[e].length;f++)(a=c[e][f]).scope===t&&function(e,t){for(var n=e.length<t.length?t:e,r=e.length<t.length?e:t,o=!0,a=0;a<n.length;a++)-1===r.indexOf(n[a])&&(o=!1);return o}(a.mods,s)&&(c[e][f]={})}}};for(v in w)Object.prototype.hasOwnProperty.call(w,v)&&(b[v]=w[v]);"undefined"!=typeof window&&(_=window.hotkeys,b.noConflict=function(e){return e&&window.hotkeys===b&&(window.hotkeys=_),b},window.hotkeys=b),e.exports=b},3812:(e,t,n)=>{e.exports=n(97950)},95931:(e,t)=>{var n,r,o,a;function i(e,t){this._options=t||{},null==this._options.includeLocation&&(this._options.includeLocation=!1),this.validateHandler(e),this._handler=e,this.reset()}function l(e){l.super_.call(this,e,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1})}function s(){}function u(e,t){this.reset(),this._options=t||{},null==this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1),null==this._options.verbose&&(this._options.verbose=!0),null==this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0),"function"==typeof e&&(this._callback=e)}o={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag"},i._reTrim=/(^\s+|\s+$)/g,i._reTrimComment=/(^\!--|--$)/g,i._reWhitespace=/\s/g,i._reTagName=/^\s*(\/?)\s*([^\s\/]+)/,i._reAttrib=/([^=<>\"\'\s]+)\s*=\s*"([^"]*)"|([^=<>\"\'\s]+)\s*=\s*'([^']*)'|([^=<>\"\'\s]+)\s*=\s*([^'"\s]+)|([^=<>\"\'\s\/]+)/g,i._reTags=/[\<\>]/g,i.prototype.parseComplete=function(e){this.reset(),this.parseChunk(e),this.done()},i.prototype.parseChunk=function(e){this._done&&this.handleError(new Error("Attempted to parse chunk after parsing already done")),this._buffer+=e,this.parseTags()},i.prototype.done=function(){var e;this._done||(this._done=!0,this._buffer.length&&(e=this._buffer,this._buffer="",e={raw:e,data:this._parseState==o.Text?e:e.replace(i._reTrim,""),type:this._parseState},this._parseState!=o.Tag&&this._parseState!=o.Script&&this._parseState!=o.Style||(e.name=this.parseTagName(e.data)),this.parseAttribs(e),this._elements.push(e)),this.writeHandler(),this._handler.done())},i.prototype.reset=function(){this._buffer="",this._done=!1,this._elements=[],this._elementsCurrent=0,this._current=0,this._next=0,this._location={row:0,col:0,charOffset:0,inBuffer:0},this._parseState=o.Text,this._prevTagSep="",this._tagStack=[],this._handler.reset()},i.prototype._options=null,i.prototype._handler=null,i.prototype._buffer=null,i.prototype._done=!1,i.prototype._elements=null,i.prototype._elementsCurrent=0,i.prototype._current=0,i.prototype._next=0,i.prototype._location=null,i.prototype._parseState=o.Text,i.prototype._prevTagSep="",i.prototype._tagStack=null,i.prototype.parseTagAttribs=function(e){for(var t=e.length,n=0;n<t;){var r=e[n++];r.type!=o.Tag&&r.type!=o.Script&&r.type!=o.style||this.parseAttribs(r)}return e},i.prototype.parseAttribs=function(e){if(e.type==o.Script||e.type==o.Style||e.type==o.Tag){var t,n=e.data.split(i._reWhitespace,1)[0],r=e.data.substring(n.length);if(!(r.length<1))for(i._reAttrib.lastIndex=0;t=i._reAttrib.exec(r);)null==e.attribs&&(e.attribs={}),"string"==typeof t[1]&&t[1].length?e.attribs[t[1]]=t[2]:"string"==typeof t[3]&&t[3].length?e.attribs[t[3].toString()]=t[4].toString():"string"==typeof t[5]&&t[5].length?e.attribs[t[5]]=t[6]:"string"==typeof t[7]&&t[7].length&&(e.attribs[t[7]]=t[7])}},i.prototype.parseTagName=function(e){return null==e||""==e?"":(e=i._reTagName.exec(e))?(e[1]?"/":"")+e[2]:""},i.prototype.parseTags=function(){for(var e=this._buffer.length-1;i._reTags.test(this._buffer);){this._next=i._reTags.lastIndex-1;var t,n,r=this._buffer.charAt(this._next),a={raw:a=this._buffer.substring(this._current,this._next),data:this._parseState==o.Text?a:a.replace(i._reTrim,""),type:this._parseState},l=this.parseTagName(a.data);this._tagStack.length&&(this._tagStack[this._tagStack.length-1]==o.Script?"/script"==l.toLowerCase()?this._tagStack.pop():0!=a.raw.indexOf("!--")&&(a.type=o.Text,this._elements.length&&this._elements[this._elements.length-1].type==o.Text&&((t=this._elements[this._elements.length-1]).raw=t.data=t.raw+this._prevTagSep+a.raw,a.raw=a.data="")):this._tagStack[this._tagStack.length-1]==o.Style?"/style"==l.toLowerCase()?this._tagStack.pop():0!=a.raw.indexOf("!--")&&(a.type=o.Text,this._elements.length&&this._elements[this._elements.length-1].type==o.Text?(t=this._elements[this._elements.length-1],""!=a.raw?(t.raw=t.data=t.raw+this._prevTagSep+a.raw,a.raw=a.data=""):t.raw=t.data=t.raw+this._prevTagSep):""!=a.raw&&(a.raw=a.data=a.raw)):this._tagStack[this._tagStack.length-1]==o.Comment&&(n=a.raw.length,"-"==a.raw.charAt(n-2)&&"-"==a.raw.charAt(n-1)&&">"==r?(this._tagStack.pop(),this._elements.length&&this._elements[this._elements.length-1].type==o.Comment?((t=this._elements[this._elements.length-1]).raw=t.data=(t.raw+a.raw).replace(i._reTrimComment,""),a.raw=a.data="",a.type=o.Text):a.type=o.Comment):(a.type=o.Comment,this._elements.length&&this._elements[this._elements.length-1].type==o.Comment?((t=this._elements[this._elements.length-1]).raw=t.data=t.raw+a.raw+r,a.raw=a.data="",a.type=o.Text):a.raw=a.data=a.raw+r))),a.type==o.Tag&&(l=(a.name=l).toLowerCase(),0==a.raw.indexOf("!--")?(a.type=o.Comment,delete a.name,n=a.raw.length,"-"==a.raw.charAt(n-1)&&"-"==a.raw.charAt(n-2)&&">"==r?a.raw=a.data=a.raw.replace(i._reTrimComment,""):(a.raw+=r,this._tagStack.push(o.Comment))):0==a.raw.indexOf("!")||0==a.raw.indexOf("?")?a.type=o.Directive:"script"==l?(a.type=o.Script,"/"!=a.data.charAt(a.data.length-1)&&this._tagStack.push(o.Script)):"/script"==l?a.type=o.Script:"style"==l?(a.type=o.Style,"/"!=a.data.charAt(a.data.length-1)&&this._tagStack.push(o.Style)):"/style"==l&&(a.type=o.Style),a.name&&"/"==a.name.charAt(0)&&(a.data=a.name)),""==a.raw&&a.type==o.Text||(this._options.includeLocation&&!a.location&&(a.location=this.getLocation(a.type==o.Tag)),this.parseAttribs(a),this._elements.push(a),a.type!=o.Text&&a.type!=o.Comment&&a.type!=o.Directive&&"/"==a.data.charAt(a.data.length-1)&&this._elements.push({raw:"/"+a.name,data:"/"+a.name,name:"/"+a.name,type:a.type})),this._parseState="<"==r?o.Tag:o.Text,this._current=this._next+1,this._prevTagSep=r}this._options.includeLocation&&(this.getLocation(),this._location.row+=this._location.inBuffer,this._location.inBuffer=0,this._location.charOffset=0),this._buffer=this._current<=e?this._buffer.substring(this._current):"",this._current=0,this.writeHandler()},i.prototype.getLocation=function(e){var t,n=this._location,r=this._current-(e?1:0);for(e=e&&0==n.charOffset&&0==this._current;n.charOffset<r;n.charOffset++)"\n"==(t=this._buffer.charAt(n.charOffset))?(n.inBuffer++,n.col=0):"\r"!=t&&n.col++;return{line:n.row+n.inBuffer+1,col:n.col+(e?0:1)}},i.prototype.validateHandler=function(e){if("object"!=typeof e)throw new Error("Handler is not an object");if("function"!=typeof e.reset)throw new Error("Handler method 'reset' is invalid");if("function"!=typeof e.done)throw new Error("Handler method 'done' is invalid");if("function"!=typeof e.writeTag)throw new Error("Handler method 'writeTag' is invalid");if("function"!=typeof e.writeText)throw new Error("Handler method 'writeText' is invalid");if("function"!=typeof e.writeComment)throw new Error("Handler method 'writeComment' is invalid");if("function"!=typeof e.writeDirective)throw new Error("Handler method 'writeDirective' is invalid")},i.prototype.writeHandler=function(e){if(e=!!e,!this._tagStack.length||e)for(;this._elements.length;){var t=this._elements.shift();switch(t.type){case o.Comment:this._handler.writeComment(t);break;case o.Directive:this._handler.writeDirective(t);break;case o.Text:this._handler.writeText(t);break;default:this._handler.writeTag(t)}}},i.prototype.handleError=function(e){if("function"!=typeof this._handler.error)throw e;this._handler.error(e)},n=l,s.prototype=(r=u).prototype,n.super_=r,n.prototype=new s,n.prototype.constructor=n,l.prototype.done=function(){var e,t={},n=a.getElementsByTagName((function(e){return"rss"==e||"feed"==e}),this.dom,!1);if(e=n.length?n[0]:e){if("rss"==e.name){t.type="rss",e=e.children[0],t.id="";try{t.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(e){}try{t.link=a.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(e){}try{t.description=a.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(e){}try{t.updated=new Date(a.getElementsByTagName("lastBuildDate",e.children,!1)[0].children[0].data)}catch(e){}try{t.author=a.getElementsByTagName("managingEditor",e.children,!1)[0].children[0].data}catch(e){}t.items=[],a.getElementsByTagName("item",e.children).forEach((function(e,n,r){var o={};try{o.id=a.getElementsByTagName("guid",e.children,!1)[0].children[0].data}catch(e){}try{o.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(e){}try{o.link=a.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(e){}try{o.description=a.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(e){}try{o.pubDate=new Date(a.getElementsByTagName("pubDate",e.children,!1)[0].children[0].data)}catch(e){}t.items.push(o)}))}else{t.type="atom";try{t.id=a.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(e){}try{t.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(e){}try{t.link=a.getElementsByTagName("link",e.children,!1)[0].attribs.href}catch(e){}try{t.description=a.getElementsByTagName("subtitle",e.children,!1)[0].children[0].data}catch(e){}try{t.updated=new Date(a.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(e){}try{t.author=a.getElementsByTagName("email",e.children,!0)[0].children[0].data}catch(e){}t.items=[],a.getElementsByTagName("entry",e.children).forEach((function(e,n,r){var o={};try{o.id=a.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(e){}try{o.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(e){}try{o.link=a.getElementsByTagName("link",e.children,!1)[0].attribs.href}catch(e){}try{o.description=a.getElementsByTagName("summary",e.children,!1)[0].children[0].data}catch(e){}try{o.pubDate=new Date(a.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(e){}t.items.push(o)}))}this.dom=t}l.super_.prototype.done.call(this)},u._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},u.reWhitespace=/^\s*$/,u.prototype.dom=null,u.prototype.reset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._tagStack.last=function(){return this.length?this[this.length-1]:null}},u.prototype.done=function(){this._done=!0,this.handleCallback(null)},u.prototype.writeTag=function(e){this.handleElement(e)},u.prototype.writeText=function(e){this._options.ignoreWhitespace&&u.reWhitespace.test(e.data)||this.handleElement(e)},u.prototype.writeComment=function(e){this.handleElement(e)},u.prototype.writeDirective=function(e){this.handleElement(e)},u.prototype.error=function(e){this.handleCallback(e)},u.prototype._options=null,u.prototype._callback=null,u.prototype._done=!1,u.prototype._tagStack=null,u.prototype.handleCallback=function(e){if("function"!=typeof this._callback){if(e)throw e}else this._callback(e,this.dom)},u.prototype.isEmptyTag=function(e){return"/"==(e=e.name.toLowerCase()).charAt(0)&&(e=e.substring(1)),this._options.enforceEmptyTags&&!!u._emptyTags[e]},u.prototype.handleElement=function(e){if(this._done&&this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()")),this._options.verbose||(delete e.raw,"tag"!=e.type&&"script"!=e.type&&"style"!=e.type||delete e.data),this._tagStack.last())if(e.type!=o.Text&&e.type!=o.Comment&&e.type!=o.Directive)if("/"==e.name.charAt(0)){var t=e.name.substring(1);if(!this.isEmptyTag(e)){for(var n=this._tagStack.length-1;-1<n&&this._tagStack[n--].name!=t;);if(-1<n||this._tagStack[0].name==t)for(;n<this._tagStack.length-1;)this._tagStack.pop()}}else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(e),this.isEmptyTag(e)||this._tagStack.push(e);else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(e);else e.type!=o.Text&&e.type!=o.Comment&&e.type!=o.Directive?"/"!=e.name.charAt(0)&&(this.dom.push(e),this.isEmptyTag(e)||this._tagStack.push(e)):this.dom.push(e)},a={testElement:function(e,t){if(!t)return!1;for(var n in e)if("tag_name"==n){if("tag"!=t.type&&"script"!=t.type&&"style"!=t.type)return!1;if(!e.tag_name(t.name))return!1}else if("tag_type"==n){if(!e.tag_type(t.type))return!1}else if("tag_contains"==n){if("text"!=t.type&&"comment"!=t.type&&"directive"!=t.type)return!1;if(!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1;return!0},getElements:function(e,t,n,r){if(n=null==n||!!n,r=isNaN(parseInt(r))?-1:parseInt(r),!t)return[];var o,i,l=[];for(i in e)"function"!=typeof e[i]&&(e[i]=function(e){return function(t){return t==e}}(e[i]));if(a.testElement(e,t)&&l.push(t),0<=r&&l.length>=r)return l;if(n&&t.children)o=t.children;else{if(!(t instanceof Array))return l;o=t}for(var s=0;s<o.length&&(l=l.concat(a.getElements(e,o[s],n,r)),!(0<=r&&l.length>=r));s++);return l},getElementById:function(e,t,n){return(e=a.getElements({id:e},t,n,1)).length?e[0]:null},getElementsByTagName:function(e,t,n,r){return a.getElements({tag_name:e},t,n,r)},getElementsByTagType:function(e,t,n,r){return a.getElements({tag_type:e},t,n,r)}},t.Parser=i,t.DefaultHandler=u,t.RssHandler=l,t.ElementType=o,t.DomUtils=a},48738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||"function"==typeof(n=e).readFloatLE&&"function"==typeof n.slice&&t(n.slice(0,0))||!!e._isBuffer);var n}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},18552:(e,t,n)=>{n=n(10852)(n(55639),"DataView"),e.exports=n},1989:(e,t,n)=>{var r=n(51789),o=n(80401),a=n(57667),i=n(21327);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}n=n(81866),l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=n,e.exports=l},38407:(e,t,n)=>{var r=n(27040),o=n(14125),a=n(82117),i=n(67518);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}n=n(54705),l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=n,e.exports=l},57071:(e,t,n)=>{n=n(10852)(n(55639),"Map"),e.exports=n},83369:(e,t,n)=>{var r=n(24785),o=n(11285),a=n(96e3),i=n(49916);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}n=n(95265),l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=n,e.exports=l},53818:(e,t,n)=>{n=n(10852)(n(55639),"Promise"),e.exports=n},58525:(e,t,n)=>{n=n(10852)(n(55639),"Set"),e.exports=n},88668:(e,t,n)=>{var r=n(83369),o=n(90619);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}n=n(72385),a.prototype.add=a.prototype.push=o,a.prototype.has=n,e.exports=a},46384:(e,t,n)=>{var r=n(38407),o=n(37465),a=n(63779),i=n(67599),l=n(44758);function s(e){e=this.__data__=new r(e),this.size=e.size}n=n(34309),s.prototype.clear=o,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=l,s.prototype.set=n,e.exports=s},62705:(e,t,n)=>{n=n(55639).Symbol,e.exports=n},11149:(e,t,n)=>{n=n(55639).Uint8Array,e.exports=n},70577:(e,t,n)=>{n=n(10852)(n(55639),"WeakMap"),e.exports=n},96874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},77412:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},34963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},14636:(e,t,n)=>{var r=n(22545),o=n(35694),a=n(1469),i=n(44144),l=n(65776),s=n(36719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n,c=a(e),f=!c&&o(e),d=!c&&!f&&i(e),p=!c&&!f&&!d&&s(e),h=c||f||d||p,m=h?r(e.length,String):[],y=m.length;for(n in e)!t&&!u.call(e,n)||h&&("length"==n||d&&("offset"==n||"parent"==n)||p&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||l(n,y))||m.push(n);return m}},29932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},62488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},82908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},34865:(e,t,n)=>{var r=n(89465),o=n(77813),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},18470:(e,t,n)=>{var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},44037:(e,t,n)=>{var r=n(98363),o=n(3674);e.exports=function(e,t){return e&&r(t,o(t),e)}},23269:(e,t,n)=>{var r=n(98363),o=n(81704);e.exports=function(e,t){return e&&r(t,o(t),e)}},89465:(e,t,n)=>{var r=n(38777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},85990:(e,t,n)=>{var r=n(46384),o=n(77412),a=n(34865),i=n(44037),l=n(23269),s=n(64626),u=n(278),c=n(18805),f=n(1911),d=n(58234),p=n(46904),h=n(64160),m=n(43824),y=n(29148),g=n(38517),b=n(1469),v=n(44144),_=n(56688),w=n(13218),S=n(72928),O=n(3674),M=n(81704),C="[object Arguments]",k="[object Function]",E="[object Object]",P={};P[C]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[E]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[k]=P["[object WeakMap]"]=!1,e.exports=function e(t,n,T,j,x,D){var A,I=1&n,L=2&n,N=4&n;if(void 0!==(A=T?x?T(t,j,x,D):T(t):A))return A;if(!w(t))return t;if(j=b(t)){if(A=m(t),!I)return u(t,A)}else{var R=h(t),F=R==k||"[object GeneratorFunction]"==R;if(v(t))return s(t,I);if(R==E||R==C||F&&!x){if(A=L||F?{}:g(t),!I)return L?f(t,l(A,t)):c(t,i(A,t))}else{if(!P[R])return x?t:{};A=y(t,R,I)}}if(F=(D=D||new r).get(t))return F;D.set(t,A),S(t)?t.forEach((function(r){A.add(e(r,n,T,r,t,D))})):_(t)&&t.forEach((function(r,o){A.set(o,e(r,n,T,o,t,D))}));var Y=j?void 0:(N?L?p:d:L?M:O)(t);return o(Y||t,(function(r,o){Y&&(r=t[o=r]),a(A,o,e(r,n,T,o,t,D))})),A}},3118:(e,t,n)=>{var r=n(13218),o=Object.create;function a(){}e.exports=function(e){return r(e)?o?o(e):(a.prototype=e,e=new a,a.prototype=void 0,e):{}}},89881:(e,t,n)=>{var r=n(47816);n=n(99291)(r),e.exports=n},41848:e=>{e.exports=function(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},21078:(e,t,n)=>{var r=n(62488),o=n(37285);e.exports=function e(t,n,a,i,l){var s=-1,u=t.length;for(a=a||o,l=l||[];++s<u;){var c=t[s];0<n&&a(c)?1<n?e(c,n-1,a,i,l):r(l,c):i||(l[l.length]=c)}return l}},28483:(e,t,n)=>{n=n(25063)(),e.exports=n},47816:(e,t,n)=>{var r=n(28483),o=n(3674);e.exports=function(e,t){return e&&r(e,t,o)}},97786:(e,t,n)=>{var r=n(71811),o=n(40327);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:void 0}},68866:(e,t,n)=>{var r=n(62488),o=n(1469);e.exports=function(e,t,n){return t=t(e),o(e)?t:r(t,n(e))}},44239:(e,t,n)=>{var r=n(62705),o=n(89607),a=n(2333),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(i&&i in Object(e)?o:a)(e)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},9454:(e,t,n)=>{var r=n(44239),o=n(37005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},90939:(e,t,n)=>{var r=n(2492),o=n(37005);e.exports=function e(t,n,a,i,l){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,a,i,e,l))}},2492:(e,t,n)=>{var r=n(46384),o=n(67114),a=n(18351),i=n(16096),l=n(64160),s=n(1469),u=n(44144),c=n(36719),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,g){var b=s(e),v=s(t),_=b?d:l(e),w=(v=v?d:l(t),(_=_==f?p:_)==p),S=(v=v==f?p:v)==p;if((v=_==v)&&u(e)){if(!u(t))return!1;w=!(b=!0)}return v&&!w?(g=g||new r,b||c(e)?o(e,t,n,m,y,g):a(e,t,_,n,m,y,g)):1&n||(b=w&&h.call(e,"__wrapped__"),_=S&&h.call(t,"__wrapped__"),!b&&!_)?!!v&&(g=g||new r,i(e,t,n,m,y,g)):y(b?e.value():e,_?t.value():t,n,m,g=g||new r)}},25588:(e,t,n)=>{var r=n(64160),o=n(37005);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},2958:(e,t,n)=>{var r=n(46384),o=n(90939);e.exports=function(e,t,n,a){var i=n.length,l=i,s=!a;if(null==e)return!l;for(e=Object(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<l;){var c=(u=n[i])[0],f=e[c],d=u[1];if(s&&u[2]){if(void 0===f&&!(c in e))return!1}else{var p,h=new r;if(!(void 0===(p=a?a(f,d,c,e,t,h):p)?o(d,f,3,a,h):p))return!1}}return!0}},28458:(e,t,n)=>{var r=n(23560),o=n(15346),a=n(13218),i=n(80346),l=/^\[object .+?Constructor\]$/,s=(n=Function.prototype,Object.prototype),u=(n=n.toString,s=s.hasOwnProperty,RegExp("^"+n.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"));e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?u:l).test(i(e))}},29221:(e,t,n)=>{var r=n(64160),o=n(37005);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},38749:(e,t,n)=>{var r=n(44239),o=n(41780),a=n(37005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},67206:(e,t,n)=>{var r=n(91573),o=n(16432),a=n(6557),i=n(1469),l=n(39601);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?i(e)?o(e[0],e[1]):r(e):l(e)}},280:(e,t,n)=>{var r=n(25726),o=n(86916),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t,n=[];for(t in Object(e))a.call(e,t)&&"constructor"!=t&&n.push(t);return n}},10313:(e,t,n)=>{var r=n(13218),o=n(25726),a=n(33498),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t,n=o(e),l=[];for(t in e)("constructor"!=t||!n&&i.call(e,t))&&l.push(t);return l}},69199:(e,t,n)=>{var r=n(89881),o=n(98612);e.exports=function(e,t){var n=-1,a=o(e)?Array(e.length):[];return r(e,(function(e,r,o){a[++n]=t(e,r,o)})),a}},91573:(e,t,n)=>{var r=n(2958),o=n(1499),a=n(42634);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},16432:(e,t,n)=>{var r=n(90939),o=n(27361),a=n(79095),i=n(15403),l=n(89162),s=n(42634),u=n(40327);e.exports=function(e,t){return i(e)&&l(t)?s(u(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,3)}}},25970:(e,t,n)=>{var r=n(63012),o=n(79095);e.exports=function(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},63012:(e,t,n)=>{var r=n(97786),o=n(10611),a=n(71811);e.exports=function(e,t,n){for(var i=-1,l=t.length,s={};++i<l;){var u=t[i],c=r(e,u);n(c,u)&&o(s,a(u,e),c)}return s}},40371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},79152:(e,t,n)=>{var r=n(97786);e.exports=function(e){return function(t){return r(t,e)}}},10611:(e,t,n)=>{var r=n(34865),o=n(71811),a=n(65776),i=n(13218),l=n(40327);e.exports=function(e,t,n,s){if(!i(e))return e;for(var u=-1,c=(t=o(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p,h=l(t[u]),m=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;u!=f&&(p=d[h],void 0===(m=s?s(p,h,d):void 0)&&(m=i(p)?p:a(t[u+1])?[]:{})),r(d,h,m),d=d[h]}return e}},56560:(e,t,n)=>{var r=n(75703),o=n(38777);n=n(6557),e.exports=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:n},14259:e=>{e.exports=function(e,t,n){for(var r=-1,o=e.length,a=((n=o<n?o:n)<0&&(n+=o),o=n<(t=t<0?o<-t?0:o+t:t)?0:n-t>>>0,t>>>=0,Array(o));++r<o;)a[r]=e[r+t];return a}},22545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},80531:(e,t,n)=>{var r=n(62705),o=n(29932),a=n(1469),i=n(33448),l=(n=r?r.prototype:void 0)?n.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},57406:(e,t,n)=>{var r=n(71811),o=n(10928),a=n(40292),i=n(40327);e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[i(o(t))]}},47415:(e,t,n)=>{var r=n(29932);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},74757:e=>{e.exports=function(e,t){return e.has(t)}},54290:(e,t,n)=>{var r=n(6557);e.exports=function(e){return"function"==typeof e?e:r}},71811:(e,t,n)=>{var r=n(1469),o=n(15403),a=n(55514),i=n(79833);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(i(e))}},74318:(e,t,n)=>{var r=n(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64626:(e,t,n)=>{e=n.nmd(e),n=n(55639);var r,o=(r=(r=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&r.exports===t?n.Buffer:void 0)?r.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=o?o(t):new e.constructor(t),e.copy(t),t)}},57157:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){return t=t?r(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength)}},93147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},40419:(e,t,n)=>{var r=(n=(n=n(62705))?n.prototype:void 0)?n.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},77133:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){return t=t?r(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}},98363:(e,t,n)=>{var r=n(34865),o=n(89465);e.exports=function(e,t,n,a){for(var i=!n,l=(n=n||{},-1),s=t.length;++l<s;){var u=t[l],c=a?a(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),(i?o:r)(n,u,c)}return n}},18805:(e,t,n)=>{var r=n(98363),o=n(99551);e.exports=function(e,t){return r(e,o(e),t)}},1911:(e,t,n)=>{var r=n(98363),o=n(51442);e.exports=function(e,t){return r(e,o(e),t)}},14429:(e,t,n)=>{n=n(55639)["__core-js_shared__"],e.exports=n},99291:(e,t,n)=>{var r=n(98612);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var a=n.length,i=t?a:-1,l=Object(n);(t?i--:++i<a)&&!1!==o(l[i],i,l););return n}}},25063:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),l=i.length;l--;){var s=i[e?l:++o];if(!1===n(a[s],s,a))break}return t}}},60696:(e,t,n)=>{var r=n(68630);e.exports=function(e){return r(e)?void 0:e}},38777:(e,t,n)=>{var r=n(10852);n=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),e.exports=n},67114:(e,t,n)=>{var r=n(88668),o=n(82908),a=n(74757);e.exports=function(e,t,n,i,l,s){var u=1&n,c=e.length;if(c!=(f=t.length)&&!(u&&c<f))return!1;var f=s.get(e),d=s.get(t);if(f&&d)return f==t&&d==e;var p=-1,h=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<c;){var y,g=e[p],b=t[p];if(void 0!==(y=i?u?i(b,g,p,t,e,s):i(g,b,p,e,t,s):y)){if(y)continue;h=!1;break}if(m){if(!o(t,(function(e,t){if(!a(m,t)&&(g===e||l(g,e,n,i,s)))return m.push(t)}))){h=!1;break}}else if(g!==b&&!l(g,b,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}},18351:(e,t,n)=>{var r=n(62705),o=n(11149),a=n(77813),i=n(67114),l=n(68776),s=n(21814),u=(n=r?r.prototype:void 0)?n.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=l;case"[object Set]":if(p=p||s,e.size!=t.size&&!(1&r))return!1;var h=d.get(e);return h?h==t:(r|=2,d.set(e,t),h=i(p(e),p(t),r,c,f,d),d.delete(e),h);case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16096:(e,t,n)=>{var r=n(58234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,i,l){var s=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!s)return!1;for(var f=c;f--;){var d=u[f];if(!(s?d in t:o.call(t,d)))return!1}var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;for(var m=!0,y=(l.set(e,t),l.set(t,e),s);++f<c;){var g,b=e[d=u[f]],v=t[d];if(!(void 0===(g=a?s?a(v,b,d,t,e,l):a(b,v,d,e,t,l):g)?b===v||i(b,v,n,a,l):g)){m=!1;break}y=y||"constructor"==d}return m&&!y&&(p=e.constructor)!=(h=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof p&&p instanceof p&&"function"==typeof h&&h instanceof h)&&(m=!1),l.delete(e),l.delete(t),m}},99021:(e,t,n)=>{var r=n(85564),o=n(45357),a=n(30061);e.exports=function(e){return a(o(e,void 0,r),e+"")}},31957:(e,t,n)=>{n="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,e.exports=n},58234:(e,t,n)=>{var r=n(68866),o=n(99551),a=n(3674);e.exports=function(e){return r(e,a,o)}},46904:(e,t,n)=>{var r=n(68866),o=n(51442),a=n(81704);e.exports=function(e){return r(e,a,o)}},45050:(e,t,n)=>{var r=n(37019);e.exports=function(e,t){return e=e.__data__,r(t)?e["string"==typeof t?"string":"hash"]:e.map}},1499:(e,t,n)=>{var r=n(89162),o=n(3674);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,r(i)]}return t}},10852:(e,t,n)=>{var r=n(28458),o=n(47801);e.exports=function(e,t){return e=o(e,t),r(e)?e:void 0}},85924:(e,t,n)=>{n=n(5569)(Object.getPrototypeOf,Object),e.exports=n},89607:(e,t,n)=>{n=n(62705);var r=Object.prototype,o=r.hasOwnProperty,a=r.toString,i=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{var r=!(e[i]=void 0)}catch(e){}var l=a.call(e);return r&&(t?e[i]=n:delete e[i]),l}},99551:(e,t,n)=>{var r=n(34963),o=(n=n(70479),Object.prototype.propertyIsEnumerable),a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:n},51442:(e,t,n)=>{var r=n(62488),o=n(85924),a=n(99551),i=(n=n(70479),Object.getOwnPropertySymbols);e.exports=i?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:n},64160:(e,t,n)=>{var r=n(18552),o=n(57071),a=n(53818),i=n(58525),l=n(70577),s=n(44239),u=n(80346),c="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",m=u(r),y=u(o),g=u(a),b=u(i),v=u(l);n=s,(r&&n(new r(new ArrayBuffer(1)))!=h||o&&n(new o)!=c||a&&n(a.resolve())!=f||i&&n(new i)!=d||l&&n(new l)!=p)&&(n=function(e){var t=s(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?u(e):"")switch(e){case m:return h;case y:return c;case g:return f;case b:return d;case v:return p}return t}),e.exports=n},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var r=n(71811),o=n(35694),a=n(1469),i=n(65776),l=n(41780),s=n(40327);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=s(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&l(c)&&i(d,c)&&(a(e)||o(e))}},51789:(e,t,n)=>{var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:e=>{e.exports=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e}},57667:(e,t,n)=>{var r=n(94536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n=this.__data__;return r?"__lodash_hash_undefined__"===(t=n[e])?void 0:t:o.call(n,e)?n[e]:void 0}},21327:(e,t,n)=>{var r=n(94536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},81866:(e,t,n)=>{var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},29148:(e,t,n)=>{var r=n(74318),o=n(57157),a=n(93147),i=n(40419),l=n(77133);e.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return a(e);case"[object Symbol]":return i(e)}}},38517:(e,t,n)=>{var r=n(3118),o=n(85924),a=n(25726);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},37285:(e,t,n)=>{var r=n(62705),o=n(35694),a=n(1469),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&-1<e&&e%1==0&&e<n}},16612:(e,t,n)=>{var r=n(77813),o=n(98612),a=n(65776),i=n(13218);e.exports=function(e,t,n){if(!i(n))return!1;var l=typeof t;return!!("number"==l?o(n)&&a(t,n.length):"string"==l&&t in n)&&r(n[t],e)}},15403:(e,t,n)=>{var r=n(1469),o=n(33448),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||i.test(e)||!a.test(e)||null!=t&&e in Object(t)}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{n=n(14429);var r=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!r&&r in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},89162:(e,t,n)=>{var r=n(13218);e.exports=function(e){return e==e&&!r(e)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var r=n(18470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__;return!((e=r(t,e))<0||(e==t.length-1?t.pop():o.call(t,e,1),--this.size,0))}},82117:(e,t,n)=>{var r=n(18470);e.exports=function(e){var t=this.__data__;return(e=r(t,e))<0?void 0:t[e][1]}},67518:(e,t,n)=>{var r=n(18470);e.exports=function(e){return-1<r(this.__data__,e)}},54705:(e,t,n)=>{var r=n(18470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},24785:(e,t,n)=>{var r=n(1989),o=n(38407),a=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},11285:(e,t,n)=>{var r=n(45050);e.exports=function(e){return e=r(this,e).delete(e),this.size-=e?1:0,e}},96e3:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:(e,t,n)=>{var r=n(45050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},68776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},42634:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},24523:(e,t,n)=>{var r=n(88306);e.exports=function(e){var t=(e=r(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}},94536:(e,t,n)=>{n=n(10852)(Object,"create"),e.exports=n},86916:(e,t,n)=>{n=n(5569)(Object.keys,Object),e.exports=n},33498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},31167:(e,t,n)=>{e=n.nmd(e),n=n(31957);var r=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,o=r&&r.exports===t&&n.process;t=function(){try{return r&&r.require&&r.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}(),e.exports=t},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},45357:(e,t,n)=>{var r=n(96874),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,l=o(a.length-t,0),s=Array(l);++i<l;)s[i]=a[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=a[i];return u[t]=n(s),r(e,this,u)}}},40292:(e,t,n)=>{var r=n(97786),o=n(14259);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},55639:(e,t,n)=>{n=n(31957);var r="object"==typeof self&&self&&self.Object===Object&&self;n=n||r||Function("return this")(),e.exports=n},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},30061:(e,t,n)=>{var r=n(56560);n=n(21275)(r),e.exports=n},21275:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),a=16-(o-r);if(r=o,0<a){if(800<=++n)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},37465:(e,t,n)=>{var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var r=n(38407),o=n(57071),a=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}},55514:(e,t,n)=>{n=n(24523);var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;n=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)})),t})),e.exports=n},40327:(e,t,n)=>{var r=n(33448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},8400:(e,t,n)=>{var r=n(14259),o=n(16612),a=n(40554),i=Math.ceil,l=Math.max;e.exports=function(e,t,n){t=(n?o(e,t,n):void 0===t)?1:l(a(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var u=0,c=0,f=Array(i(s/t));u<s;)f[c++]=r(e,u,u+=t);return f}},75703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var r=n(13218),o=n(7771),a=n(14841),i=Math.max,l=Math.min;e.exports=function(e,t,n){var s,u,c,f,d,p,h=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=s,r=u;return s=u=void 0,h=t,f=e.apply(r,n)}function v(e){var n=e-p;return void 0===p||t<=n||n<0||y&&c<=e-h}function _(){var e,n=o();if(v(n))return w(n);d=setTimeout(_,(e=t-(n-p),y?l(e,c-(n-h)):e))}function w(e){return d=void 0,g&&s?b(e):(s=u=void 0,f)}function S(){var e=o(),n=v(e);if(s=arguments,u=this,p=e,n){if(void 0===d)return h=e=p,d=setTimeout(_,t),m?b(e):f;if(y)return clearTimeout(d),d=setTimeout(_,t),b(p)}return void 0===d&&(d=setTimeout(_,t)),f}return t=a(t)||0,r(n)&&(m=!!n.leading,c=(y="maxWait"in n)?i(a(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==d&&clearTimeout(d),s=p=u=d=void(h=0)},S.flush=function(){return void 0===d?f:w(o())},S}},66073:(e,t,n)=>{e.exports=n(84486)},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},30998:(e,t,n)=>{var r=n(41848),o=n(67206),a=n(40554),i=Math.max;e.exports=function(e,t,n){var l=null==e?0:e.length;return l?((n=null==n?0:a(n))<0&&(n=i(l+n,0)),r(e,o(t,3),n)):-1}},85564:(e,t,n)=>{var r=n(21078);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},84486:(e,t,n)=>{var r=n(77412),o=n(89881),a=n(54290),i=n(1469);e.exports=function(e,t){return(i(e)?r:o)(e,a(t))}},27361:(e,t,n)=>{var r=n(97786);e.exports=function(e,t,n){return void 0===(e=null==e?void 0:r(e,t))?n:e}},79095:(e,t,n)=>{var r=n(13),o=n(222);e.exports=function(e,t){return null!=e&&o(e,t,r)}},6557:e=>{e.exports=function(e){return e}},35694:(e,t,n)=>{var r=n(9454),o=n(37005),a=(n=Object.prototype).hasOwnProperty,i=n.propertyIsEnumerable;n=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!i.call(e,"callee")},e.exports=n},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var r=n(23560),o=n(41780);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},44144:(e,t,n)=>{e=n.nmd(e);var r,o=n(55639);n=n(95062),t=(r=(r=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&r.exports===t?o.Buffer:void 0)?r.isBuffer:void 0,e.exports=t||n},23560:(e,t,n)=>{var r=n(44239),o=n(13218);e.exports=function(e){return!!o(e)&&("[object Function]"==(e=r(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}},41780:e=>{e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},56688:(e,t,n)=>{var r=n(25588),o=n(7518);o=(n=(n=n(31167))&&n.isMap)?o(n):r,e.exports=o},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},68630:(e,t,n)=>{var r=n(44239),o=n(85924),a=n(37005),i=(n=Function.prototype,Object.prototype),l=n.toString,s=i.hasOwnProperty,u=l.call(Object);e.exports=function(e){return!(!a(e)||"[object Object]"!=r(e))&&(null===(e=o(e))||"function"==typeof(e=s.call(e,"constructor")&&e.constructor)&&e instanceof e&&l.call(e)==u)}},72928:(e,t,n)=>{var r=n(29221),o=n(7518);o=(n=(n=n(31167))&&n.isSet)?o(n):r,e.exports=o},33448:(e,t,n)=>{var r=n(44239),o=n(37005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},36719:(e,t,n)=>{var r=n(38749),o=n(7518);o=(n=(n=n(31167))&&n.isTypedArray)?o(n):r,e.exports=o},3674:(e,t,n)=>{var r=n(14636),o=n(280),a=n(98612);e.exports=function(e){return(a(e)?r:o)(e)}},81704:(e,t,n)=>{var r=n(14636),o=n(10313),a=n(98612);e.exports=function(e){return a(e)?r(e,!0):o(e)}},10928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},35161:(e,t,n)=>{var r=n(29932),o=n(67206),a=n(69199),i=n(1469);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},88306:(e,t,n)=>{var r=n(83369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");function n(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;return a.has(o)?a.get(o):(r=e.apply(this,r),n.cache=a.set(o,r)||a,r)}return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},57557:(e,t,n)=>{var r=n(29932),o=n(85990),a=n(57406),i=n(71811),l=n(98363),s=n(60696),u=n(99021),c=n(46904);n=u((function(e,t){var n={};if(null==e)return n;for(var u=!1,f=(t=r(t,(function(t){return t=i(t,e),u=u||1<t.length,t})),l(e,c(e),n),u&&(n=o(n,7,s)),t.length);f--;)a(n,t[f]);return n})),e.exports=n},78718:(e,t,n)=>{var r=n(25970);n=n(99021)((function(e,t){return null==e?{}:r(e,t)})),e.exports=n},39601:(e,t,n)=>{var r=n(40371),o=n(79152),a=n(15403),i=n(40327);e.exports=function(e){return a(e)?r(i(e)):o(e)}},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},23493:(e,t,n)=>{var r=n(23279),o=n(13218);e.exports=function(e,t,n){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:a,maxWait:t,trailing:i})}},18601:(e,t,n)=>{var r=n(14841);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:(e,t,n)=>{var r=n(18601);e.exports=function(e){var t=(e=r(e))%1;return e==e?t?e-t:e:0}},14841:(e,t,n)=>{var r=n(13218),o=n(33448),a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=r(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var t=l.test(e);return t||s.test(e)?u(e.slice(2),t?2:8):i.test(e)?NaN:+e}},79833:(e,t,n)=>{var r=n(80531);e.exports=function(e){return null==e?"":r(e)}},52628:(e,t,n)=>{var r=n(47415),o=n(3674);e.exports=function(e){return null==e?[]:r(e,o(e))}},47084:function(e,t,n){!function(){"use strict";var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n {0,3}(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||v.defaults,this.rules=t.normal,this.options.pedantic?this.rules=t.pedantic:this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,t.def=f(t.def).replace("label",t._label).replace("title",t._title).getRegex(),t.bullet=/(?:[*+-]|\d{1,9}\.)/,t.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,t.item=f(t.item,"gm").replace(/bull/g,t.bullet).getRegex(),t.list=f(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex(),t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",t._comment=/<!--(?!-?>)[\s\S]*?-->/,t.html=f(t.html,"i").replace("comment",t._comment).replace("tag",t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),t.paragraph=f(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag",t._tag).getRegex(),t.blockquote=f(t.blockquote).replace("paragraph",t.paragraph).getRegex(),t.normal=y({},t),t.gfm=y({},t.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=f(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex(),t.tables=y({},t.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),t.pedantic=y({},t.normal,{html:f("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),n.rules=t,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n){var r,o,a,i,l,s,u,c,f,d,p,h;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),1<o[0].length&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e)){var m=this.tokens[this.tokens.length-1];e=e.substring(o[0].length),m&&"paragraph"===m.type?m.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:b(o,"\n")}))}else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2]&&o[2].trim(),text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if((o=this.rules.nptable.exec(e))&&(i={type:"table",header:g(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===i.align.length){for(e=e.substring(o[0].length),c=0;c<i.align.length;c++)/^ *-+: *$/.test(i.align[c])?i.align[c]="right":/^ *:-+: *$/.test(i.align[c])?i.align[c]="center":/^ *:-+ *$/.test(i.align[c])?i.align[c]="left":i.align[c]=null;for(c=0;c<i.cells.length;c++)i.cells[c]=g(i.cells[c],i.header.length);this.tokens.push(i)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),m=1<(a=o[2]).length,this.tokens.push(l={type:"list_start",ordered:m,start:m?+a:"",loose:!1}),r=!(s=[]),d=(o=o[0].match(this.rules.item)).length,c=0;c<d;c++)u=(i=o[c]).length,~(i=i.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(u-=i.length,i=this.options.pedantic?i.replace(/^ {1,4}/gm,""):i.replace(new RegExp("^ {1,"+u+"}","gm"),"")),c!==d-1&&(u=t.bullet.exec(o[c+1])[0],(1<a.length?1===u.length:1<u.length||this.options.smartLists&&u!==a)&&(e=o.slice(c+1).join("\n")+e,c=d-1)),u=r||/\n\n(?!\s*$)/.test(i),c!==d-1&&(r="\n"===i.charAt(i.length-1),u=u||r),u&&(l.loose=!0),h=void 0,(p=/^\[[ xX]\] /.test(i))&&(h=" "!==i[1],i=i.replace(/^\[[ xX]\] +/,"")),s.push(p={type:"list_item_start",task:p,checked:h,loose:u}),this.tokens.push(p),this.token(i,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(d=s.length,c=0;c<d;c++)s[c].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(n&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),f=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[f]||(this.tokens.links[f]={href:o[2],title:o[3]});else if((o=this.rules.table.exec(e))&&(i={type:"table",header:g(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===i.align.length){for(e=e.substring(o[0].length),c=0;c<i.align.length;c++)/^ *-+: *$/.test(i.align[c])?i.align[c]="right":/^ *:-+: *$/.test(i.align[c])?i.align[c]="center":/^ *:-+ *$/.test(i.align[c])?i.align[c]="left":i.align[c]=null;for(c=0;c<i.cells.length;c++)i.cells[c]=g(i.cells[c].replace(/^ *\| *| *\| *$/g,""),i.header.length);this.tokens.push(i)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(n&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function o(e,t){if(this.options=t||v.defaults,this.links=e,this.rules=r.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=r.pedantic:this.options.gfm&&(this.options.breaks?this.rules=r.breaks:this.rules=r.gfm)}function a(e){this.options=e||v.defaults}function i(){}function l(e){this.tokens=[],this.token=null,this.options=e||v.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new s}function s(){this.seen={}}function u(e,t){if(t){if(u.escapeTest.test(e))return e.replace(u.escapeReplace,(function(e){return u.replacements[e]}))}else if(u.escapeTestNoEncode.test(e))return e.replace(u.escapeReplaceNoEncode,(function(e){return u.replacements[e]}));return e}function c(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function f(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t,n){if(e){try{var r=decodeURIComponent(c(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!h.test(n)&&(n=function(e,t){return p[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?p[" "+e]=e+"/":p[" "+e]=b(e,"/",!0)),e=p[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}r._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",r.em=f(r.em).replace(/punctuation/g,r._punctuation).getRegex(),r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=f(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=f(r.tag).replace("comment",t._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,r._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=f(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=f(r.reflink).replace("label",r._label).getRegex(),r.normal=y({},r),r.pedantic=y({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=y({},r.normal,{escape:f(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),r.gfm.url=f(r.gfm.url,"i").replace("email",r.gfm._extended_email).getRegex(),r.breaks=y({},r.gfm,{br:f(r.br).replace("{2,}","*").getRegex(),text:f(r.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),o.rules=r,o.output=function(e,t,n){return new o(t,n).output(e)},o.prototype.output=function(e){for(var t,n,r,a,i="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),i+=u(r[1]);else if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.inRawBlock=!1),e=e.substring(r[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):u(r[0]):r[0];else if(r=this.rules.link.exec(e)){var l,s=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}(r[2],"()");-1<s&&(l=r[0].length-(r[2].length-s)-(r[3]||"").length,r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""),e=e.substring(r[0].length),this.inLink=!0,s=r[2],l=this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s))?(s=t[1],t[3]):"":r[3]?r[3].slice(1,-1):"",s=s.trim().replace(/^<([\s\S]*)>$/,"$1"),i+=this.outputLink(r,{href:o.escapes(s),title:o.escapes(l)}),this.inLink=!1}else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e)))e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),(t=this.links[t.toLowerCase()])&&t.href?(this.inLink=!0,i+=this.outputLink(r,t),this.inLink=!1):(i+=r[0].charAt(0),e=r[0].substring(1)+e);else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),i+=this.renderer.strong(this.output(r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),i+=this.renderer.em(this.output(r[6]||r[5]||r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),i+=this.renderer.codespan(u(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),i+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),i+=this.renderer.del(this.output(r[1]));else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),s="@"===r[2]?"mailto:"+(n=u(this.mangle(r[1]))):n=u(r[1]),i+=this.renderer.link(s,null,n);else if(!this.inLink&&(r=this.rules.url.exec(e))){if("@"===r[2])s="mailto:"+(n=u(r[0]));else{for(;a=r[0],r[0]=this.rules._backpedal.exec(r[0])[0],a!==r[0];);n=u(r[0]),s="www."===r[1]?"http://"+n:n}e=e.substring(r[0].length),i+=this.renderer.link(s,null,n)}else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.inRawBlock?i+=this.renderer.text(r[0]):i+=this.renderer.text(u(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return i},o.escapes=function(e){return e&&e.replace(o.rules._escapes,"$1")},o.prototype.outputLink=function(e,t){var n=t.href;return t=t.title?u(t.title):null,"!"!==e[0].charAt(0)?this.renderer.link(n,t,this.output(e[1])):this.renderer.image(n,t,u(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;o<r;o++)t=e.charCodeAt(o),n+="&#"+(t=.5<Math.random()?"x"+t.toString(16):t)+";";return n},a.prototype.code=function(e,t,n){var r;return t=(t||"").match(/\S*/)[0],this.options.highlight&&null!=(r=this.options.highlight(e,t))&&r!==e&&(n=!0,e=r),t?'<pre><code class="'+this.options.langPrefix+u(t,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,n){return null===(e=d(this.options.sanitize,this.options.baseUrl,e))?n:(e='<a href="'+u(e)+'"',t&&(e+=' title="'+t+'"'),e+">"+n+"</a>")},a.prototype.image=function(e,t,n){return null===(e=d(this.options.sanitize,this.options.baseUrl,e))?n:(e='<img src="'+e+'" alt="'+n+'"',t&&(e+=' title="'+t+'"'),e+(this.options.xhtml?"/>":">"))},a.prototype.text=function(e){return e},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(e){return e},i.prototype.link=i.prototype.image=function(e,t,n){return""+n},i.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,y({},this.options,{renderer:new i})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop(),this.token},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":for(var e,t,n="",r="",o="",a=0;a<this.token.header.length;a++)o+=this.renderer.tablecell(this.inline.output(this.token.header[a]),{header:!0,align:this.token.align[a]});for(n+=this.renderer.tablerow(o),a=0;a<this.token.cells.length;a++){for(e=this.token.cells[a],o="",t=0;t<e.length;t++)o+=this.renderer.tablecell(this.inline.output(e[t]),{header:!1,align:this.token.align[t]});r+=this.renderer.tablerow(o)}return this.renderer.table(n,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="",n=this.token.ordered;for(var i=this.token.start;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,n,i);case"list_item_start":r="";var l=this.token.loose;for(n=this.token.checked,i=this.token.task,this.token.task&&(r+=this.renderer.checkbox(n));"list_item_end"!==this.next().type;)r+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(r,i,n);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:if(i='Token with "'+this.token.type+'" type was not found.',!this.options.silent)throw new Error(i);console.log(i)}},s.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t))for(var n=t;this.seen[n]++,t=n+"-"+this.seen[n],this.seen.hasOwnProperty(t););return this.seen[t]=0,t},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var p={},h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function y(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function g(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,o=t;0<=--o&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function b(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var o=e.charAt(e.length-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function v(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof t){r||(r=t,t=null);var o,a=(t=y({},v.defaults,t||{})).highlight,i=0;try{o=n.lex(e,t)}catch(e){return r(e)}var s=o.length,c=function(e){if(e)return t.highlight=a,r(e);var n;try{n=l.parse(o,t)}catch(n){e=n}return t.highlight=a,e?r(e):r(null,n)};if(!a||a.length<3)return c();if(delete t.highlight,!s)return c();for(;i<o.length;i++)!function(e){"code"!==e.type?--s||c():a(e.text,e.lang,(function(t,n){return t?c(t):null==n||n===e.text?--s||c():(e.text=n,e.escaped=!0,void(--s||c()))}))}(o[i])}else try{return t=t&&y({},v.defaults,t),l.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||v.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}m.exec=m,v.options=v.setOptions=function(e){return y(v.defaults,e),v},v.defaults=(v.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new a,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}})(),v.Parser=l,v.parser=l.parse,v.Renderer=a,v.TextRenderer=i,v.Lexer=n,v.lexer=n.lex,v.InlineLexer=o,v.inlineLexer=o.output,v.Slugger=s,e.exports=v.parse=v}(this||"undefined"==typeof window&&n.g)},2568:(e,t,n)=>{function r(e,t){e.constructor==String?e=(t&&"binary"===t.encoding?l:a).stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=o.bytesToWords(e),s=(t=8*e.length,1732584193),u=-271733879,c=-1732584194,f=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[t>>>5]|=128<<t%32,n[14+(64+t>>>9<<4)]=t;var p=r._ff,h=r._gg,m=r._hh,y=r._ii;for(d=0;d<n.length;d+=16){var g=s,b=u,v=c,_=f;s=p(s,u,c,f,n[d+0],7,-680876936),f=p(f,s,u,c,n[d+1],12,-389564586),c=p(c,f,s,u,n[d+2],17,606105819),u=p(u,c,f,s,n[d+3],22,-1044525330),s=p(s,u,c,f,n[d+4],7,-176418897),f=p(f,s,u,c,n[d+5],12,1200080426),c=p(c,f,s,u,n[d+6],17,-1473231341),u=p(u,c,f,s,n[d+7],22,-45705983),s=p(s,u,c,f,n[d+8],7,1770035416),f=p(f,s,u,c,n[d+9],12,-1958414417),c=p(c,f,s,u,n[d+10],17,-42063),u=p(u,c,f,s,n[d+11],22,-1990404162),s=p(s,u,c,f,n[d+12],7,1804603682),f=p(f,s,u,c,n[d+13],12,-40341101),c=p(c,f,s,u,n[d+14],17,-1502002290),s=h(s,u=p(u,c,f,s,n[d+15],22,1236535329),c,f,n[d+1],5,-165796510),f=h(f,s,u,c,n[d+6],9,-1069501632),c=h(c,f,s,u,n[d+11],14,643717713),u=h(u,c,f,s,n[d+0],20,-373897302),s=h(s,u,c,f,n[d+5],5,-701558691),f=h(f,s,u,c,n[d+10],9,38016083),c=h(c,f,s,u,n[d+15],14,-660478335),u=h(u,c,f,s,n[d+4],20,-405537848),s=h(s,u,c,f,n[d+9],5,568446438),f=h(f,s,u,c,n[d+14],9,-1019803690),c=h(c,f,s,u,n[d+3],14,-187363961),u=h(u,c,f,s,n[d+8],20,1163531501),s=h(s,u,c,f,n[d+13],5,-1444681467),f=h(f,s,u,c,n[d+2],9,-51403784),c=h(c,f,s,u,n[d+7],14,1735328473),s=m(s,u=h(u,c,f,s,n[d+12],20,-1926607734),c,f,n[d+5],4,-378558),f=m(f,s,u,c,n[d+8],11,-2022574463),c=m(c,f,s,u,n[d+11],16,1839030562),u=m(u,c,f,s,n[d+14],23,-35309556),s=m(s,u,c,f,n[d+1],4,-1530992060),f=m(f,s,u,c,n[d+4],11,1272893353),c=m(c,f,s,u,n[d+7],16,-155497632),u=m(u,c,f,s,n[d+10],23,-1094730640),s=m(s,u,c,f,n[d+13],4,681279174),f=m(f,s,u,c,n[d+0],11,-358537222),c=m(c,f,s,u,n[d+3],16,-722521979),u=m(u,c,f,s,n[d+6],23,76029189),s=m(s,u,c,f,n[d+9],4,-640364487),f=m(f,s,u,c,n[d+12],11,-421815835),c=m(c,f,s,u,n[d+15],16,530742520),s=y(s,u=m(u,c,f,s,n[d+2],23,-995338651),c,f,n[d+0],6,-198630844),f=y(f,s,u,c,n[d+7],10,1126891415),c=y(c,f,s,u,n[d+14],15,-1416354905),u=y(u,c,f,s,n[d+5],21,-57434055),s=y(s,u,c,f,n[d+12],6,1700485571),f=y(f,s,u,c,n[d+3],10,-1894986606),c=y(c,f,s,u,n[d+10],15,-1051523),u=y(u,c,f,s,n[d+1],21,-2054922799),s=y(s,u,c,f,n[d+8],6,1873313359),f=y(f,s,u,c,n[d+15],10,-30611744),c=y(c,f,s,u,n[d+6],15,-1560198380),u=y(u,c,f,s,n[d+13],21,1309151649),s=y(s,u,c,f,n[d+4],6,-145523070),f=y(f,s,u,c,n[d+11],10,-1120210379),c=y(c,f,s,u,n[d+2],15,718787259),u=y(u,c,f,s,n[d+9],21,-343485551),s=s+g>>>0,u=u+b>>>0,c=c+v>>>0,f=f+_>>>0}return o.endian([s,u,c,f])}var o,a,i,l;o=n(71012),a=n(40487).utf8,i=n(48738),l=n(40487).bin,r._ff=function(e,t,n,r,o,a,i){return((e=e+(t&n|~t&r)+(o>>>0)+i)<<a|e>>>32-a)+t},r._gg=function(e,t,n,r,o,a,i){return((e=e+(t&r|n&~r)+(o>>>0)+i)<<a|e>>>32-a)+t},r._hh=function(e,t,n,r,o,a,i){return((e=e+(t^n^r)+(o>>>0)+i)<<a|e>>>32-a)+t},r._ii=function(e,t,n,r,o,a,i){return((e=e+(n^(t|~r))+(o>>>0)+i)<<a|e>>>32-a)+t},r._blocksize=16,r._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);return e=o.wordsToBytes(r(e,t)),t&&t.asBytes?e:t&&t.asString?l.bytesToString(e):o.bytesToHex(e)}},4536:(e,t,n)=>{"use strict";var r=n(67294),o=n(85354),a=n(45697);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}n(87641);var l=i(r),s=i(o),u=i(a),c=1073741823,f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};o=l.default.createContext||function(e,t){var n,o="__create-react-context-"+(f[a="__global_unique_id__"]=(f[a]||0)+1)+"__",a=function(e){function n(){var t,n,r=e.apply(this,arguments)||this;return r.emitter=(t=r.props.value,n=[],{on:function(e){n.push(e)},off:function(e){n=n.filter((function(t){return t!==e}))},get:function(){return t},set:function(e,r){t=e,n.forEach((function(e){return e(t,r)}))}}),r}s.default(n,e);var r=n.prototype;return r.getChildContext=function(){var e={};return e[o]=this.emitter,e},r.componentWillReceiveProps=function(e){var n,r,o,a;this.props.value!==e.value&&((o=n=this.props.value)===(a=r=e.value)?0===o&&1/o!=1/a:o==o||a==a)&&(o="function"==typeof t?t(n,r):c,0!=(o|=0)&&this.emitter.set(e.value,o))},r.render=function(){return this.props.children},n}(r.Component),i=(a.childContextTypes=((i={})[o]=u.default.object.isRequired,i),function(t){function n(){var e=t.apply(this,arguments)||this;return e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}s.default(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){e=e.observedBits,this.observedBits=null==e?c:e},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?c:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return e=this.props.children,(Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component));return i.contextTypes=((n={})[o]=u.default.object,n),{Provider:a,Consumer:i}},e.exports=o},7253:(e,t,n)=>{"use strict";n.r(t)},45030:(e,t,n)=>{"use strict";n.r(t)},15518:(e,t,n)=>{"use strict";n.r(t)},42786:function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(30381))},14130:function(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(r,o,a,i){var l=t(r),s=n[e][t(r)];return 2===l&&(s=s[o?0:1]),s.replace(/%d/i,r)}},o=["","","","","","","","","","","",""];e.defineLocale("ar-dz",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:0,doy:4}})}(n(30381))},96135:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(30381))},56440:function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,o,a,i){var l=n(t),s=r[e][n(t)];return 2===l&&(s=s[o?0:1]),s.replace(/%d/i,t)}},a=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(30381))},47702:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(30381))},16040:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(30381))},37100:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(30381))},30867:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},o={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(e){return function(t,n,a,i){var l=r(t),s=o[e][r(t)];return 2===l&&(s=s[n?0:1]),s.replace(/%d/i,t)}},i=["","","","","","","","","","","",""];e.defineLocale("ar",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(30381))},31083:function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(30381))},9808:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n],+e)}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(30381))},68338:function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(30381))},67438:function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(30381))},76225:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t||""===t?e:""===t?e>=3?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<6?"":e<12?"":e<15?"":e<18?"":e<20?"":""},week:{dow:0,doy:6}})}(n(30381))},8905:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(30381))},11560:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(30381))},1278:function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){return e>9?n(e%10):e}var r=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],o=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,a=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:a,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:a,monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(30381))},80622:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(30381))},2468:function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(30381))},5822:function(e,t,n){!function(e){"use strict";var t={format:"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),standalone:"ledna_nora_bezna_dubna_kvtna_ervna_ervence_srpna_z_jna_listopadu_prosince".split("_")},n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],o=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function a(e){return e>1&&e<5&&1!=~~(e/10)}function i(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"pr sekund":"pr sekundami";case"ss":return t||r?o+(a(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?o+(a(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?o+(a(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?o+(a(e)?"dny":"dn"):o+"dny";case"M":return t||r?"msc":"mscem";case"MM":return t||r?o+(a(e)?"msce":"msc"):o+"msci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?o+(a(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},50877:function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(30381))},47373:function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(30381))},24780:function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},60217:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},60894:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},59740:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},5300:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(30381))},50837:function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){return 6===this.day()?"[ ] dddd [{}] LT":"[ ] dddd [{}] LT"},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return function(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}(n)&&(n=n.apply(t)),n.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},78348:function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(30381))},77925:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(30381))},22243:function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(30381))},46436:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(30381))},47207:function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(30381))},44175:function(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(30381))},76319:function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(30381))},31662:function(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(30381))},92915:function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(30381))},55251:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},96112:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})}(n(30381))},71146:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(30381))},55655:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})}(n(30381))},5603:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?o[n][2]?o[n][2]:o[n][1]:r?o[n][0]:o[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},77763:function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(30381))},76959:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(30381))},11897:function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function r(e,t,n,r){var a="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":a=r?"sekunnin":"sekuntia";break;case"m":return r?"minuutin":"minuutti";case"mm":a=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":a=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":a=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":a=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":a=r?"vuoden":"vuotta"}return o(e,r)+" "+a}function o(e,r){return e<10?r?n[e]:t[e]:e}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},42549:function(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(30381))},94694:function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},63049:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(30381))},52330:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(30381))},94470:function(e,t,n){!function(e){"use strict";var t=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,monthsShortStrictRegex:/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(30381))},5044:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(30381))},29295:function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],weekdaysShort:["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],weekdaysMin:["Do","Lu","M","C","D","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(30381))},2101:function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(30381))},38794:function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},27884:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={s:[" "," "],ss:[e+" ",e+" "],m:[" "," "],mm:[e+" ",e+" "],h:[" "," "],hh:[e+" ",e+" "],d:[" "," "],dd:[e+" ",e+" "],M:[" "," "],MM:[e+" ",e+" "],y:[" "," "],yy:[e+" ",e+" "]};return r?o[n][0]:o[n][1]}e.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e,t){return"D"===t?e+"":e},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>12?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<12?"":e<16?"":e<20?"":""}})}(n(30381))},23168:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?o[n][0]:o[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){return"D"===t?e+"er":e},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(30381))},95349:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(30381))},24206:function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})}(n(30381))},30094:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i];e.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(30381))},30316:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(30381))},22138:function(e,t,n){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var o=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return o+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return o+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return o+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return o+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return o+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return o+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},11423:function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(n(30381))},29218:function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(30381))},90135:function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,o){var a=e+" ";switch(r){case"s":return n||o?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?a+(n||o?"sekndur":"sekndum"):a+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?a+(n||o?"mntur":"mntum"):n?a+"mnta":a+"mntu";case"hh":return t(e)?a+(n||o?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return n?"dagur":o?"dag":"degi";case"dd":return t(e)?n?a+"dagar":a+(o?"daga":"dgum"):n?a+"dagur":a+(o?"dag":"degi");case"M":return n?"mnuur":o?"mnu":"mnui";case"MM":return t(e)?n?a+"mnuir":a+(o?"mnui":"mnuum"):n?a+"mnuur":a+(o?"mnu":"mnui");case"y":return n||o?"r":"ri";case"yy":return t(e)?a+(n||o?"r":"rum"):a+(n||o?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},10150:function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},90626:function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},39183:function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(e,t){return""===t[1]?1:parseInt(t[1]||e,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"y":return 1===e?"":e+"";case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(30381))},24286:function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(30381))},12105:function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(|||||)(|)/,(function(e,t,n){return""===n?t+"":t+n+""}))},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):e},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(n(30381))},47772:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(30381))},18758:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(30381))},79282:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(n(30381))},33730:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}(n(30381))},1408:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(30381))},33291:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(30381))},36841:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?o[n][0]:o[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},55466:function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(n(30381))},57010:function(e,t,n){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function r(e){return e%10==0||e>10&&e<20}function o(e){return t[e].split("_")}function a(e,t,a,i){var l=e+" ";return 1===e?l+n(0,t,a[0],i):t?l+(r(e)?o(a)[1]:o(a)[0]):i?l+o(a)[1]:l+(r(e)?o(a)[1]:o(a)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:a,m:n,mm:a,h:n,hh:a,d:n,dd:a,M:n,MM:a,y:n,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(30381))},37595:function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,o){return e+" "+n(t[o],e,r)}function o(e,r,o){return n(t[o],e,r)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:r,m:o,mm:r,h:o,hh:r,d:o,dd:r,M:o,MM:r,y:o,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},39861:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var o=t.words[r];return 1===r.length?n?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(30381))},35493:function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},95966:function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(30381))},87341:function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(n(30381))},5115:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(n(30381))},10370:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(e,t,n,r){var o="";if(t)switch(n){case"s":o=" ";break;case"ss":o="%d ";break;case"m":o=" ";break;case"mm":o="%d ";break;case"h":o=" ";break;case"hh":o="%d ";break;case"d":o=" ";break;case"dd":o="%d ";break;case"M":o=" ";break;case"MM":o="%d ";break;case"y":o=" ";break;case"yy":o="%d "}else switch(n){case"s":o=" ";break;case"ss":o="%d ";break;case"m":o=" ";break;case"mm":o="%d ";break;case"h":o=" ";break;case"hh":o="%d ";break;case"d":o=" ";break;case"dd":o="%d ";break;case"M":o=" ";break;case"MM":o="%d ";break;case"y":o=" ";break;case"yy":o="%d "}return o.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t||""===t||""===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"":e<12?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(30381))},41237:function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(30381))},9847:function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(30381))},72126:function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},56165:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(30381))},64924:function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},16744:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(30381))},59814:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(30381))},93901:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(30381))},83877:function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},92135:function(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(30381))},15858:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(30381))},64495:function(e,t,n){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function o(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function a(e,t,n){var r=e+" ";switch(n){case"ss":return r+(o(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return r+(o(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return r+(o(e)?"godziny":"godzin");case"ww":return r+(o(e)?"tygodnie":"tygodni");case"MM":return r+(o(e)?"miesice":"miesicy");case"yy":return r+(o(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:a,M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},57971:function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})}(n(30381))},89520:function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},96459:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,w:"o sptmn",ww:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(30381))},21793:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[n],+e)}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,w:"",ww:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(30381))},40950:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(30381))},10490:function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},90124:function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})}(n(30381))},64249:function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function o(e,t,n,o){var a=e+" ";switch(n){case"s":return t||o?"pr seknd":"pr sekundami";case"ss":return t||o?a+(r(e)?"sekundy":"seknd"):a+"sekundami";case"m":return t?"minta":o?"mintu":"mintou";case"mm":return t||o?a+(r(e)?"minty":"mint"):a+"mintami";case"h":return t?"hodina":o?"hodinu":"hodinou";case"hh":return t||o?a+(r(e)?"hodiny":"hodn"):a+"hodinami";case"d":return t||o?"de":"dom";case"dd":return t||o?a+(r(e)?"dni":"dn"):a+"dami";case"M":return t||o?"mesiac":"mesiacom";case"MM":return t||o?a+(r(e)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return t||o?"rok":"rokom";case"yy":return t||o?a+(r(e)?"roky":"rokov"):a+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:case 4:case 5:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},14985:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return o+(1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return o+(1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return o+(1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami");case"d":return t||r?"en dan":"enim dnem";case"dd":return o+(1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi");case"M":return t||r?"en mesec":"enim mesecem";case"MM":return o+(1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci");case"y":return t||r?"eno leto":"enim letom";case"yy":return o+(1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti")}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(30381))},51104:function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},79915:function(e,t,n){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],d:[" "," "],dd:["","",""],M:[" "," "],MM:["","",""],y:[" "," "],yy:["","",""]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,o){var a,i=t.words[r];return 1===r.length?"y"===r&&n?" ":o||n?i[0]:i[1]:(a=t.correctGrammaticalCase(e,i),"yy"===r&&n&&""===a?e+" ":e+" "+a)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(30381))},49131:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,o){var a,i=t.words[r];return 1===r.length?"y"===r&&n?"jedna godina":o||n?i[0]:i[1]:(a=t.correctGrammaticalCase(e,i),"yy"===r&&n&&"godinu"===a?e+" godina":e+" "+a)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(30381))},95606:function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(30381))},98760:function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(30381))},91172:function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(30381))},27333:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t||""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(30381))},23110:function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(30381))},52095:function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(30381))},27321:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(30381))},9041:function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(30381))},19005:function(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(30381))},75768:function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(30381))},89444:function(e,t,n){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,o){var a=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),o=e%10,a="";return n>0&&(a+=t[n]+"vatlh"),r>0&&(a+=(""!==a?" ":"")+t[r]+"maH"),o>0&&(a+=(""!==a?" ":"")+t[o]),""===a?"pagh":a}(e);switch(r){case"ss":return a+" lup";case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},72397:function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(e){return"s"===e||"S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(30381))},28254:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?o[n][0]:o[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(30381))},30699:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(30381))},51106:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(30381))},9288:function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(30381))},67691:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n],+e)}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(30381))},13795:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(30381))},60588:function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(30381))},6791:function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(30381))},65666:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(30381))},14378:function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(30381))},75805:function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(30381))},83839:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(30381))},55726:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1200?"":1200===r?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(30381))},99807:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(30381))},74152:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(30381))},46700:(e,t,n)=>{var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":95606,"./ss.js":95606,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function o(e){return e=a(e),n(e)}function a(e){if(n.o(r,e))return r[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(r)},o.resolve=a,(e.exports=o).id=46700},30381:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,r;function o(){return t.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(l(e,t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[],o=e.length;for(n=0;n<o;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Lt(e,t,n,r,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function y(e){if(null==e._isValid){var t=m(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function g(e){var t=h(NaN);return null!=e?p(m(t),e):m(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=o.momentProperties=[],v=!1;function _(e,t){var n,r,o,a=b.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=m(t)),u(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)u(o=t[r=b[n]])||(e[r]=o);return e}function w(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,o.updateOffset(this),v=!1)}function S(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function O(e){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,t){var n=!0;return p((function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),n){var r,a,i,s=[],u=arguments.length;for(a=0;a<u;a++){if(r="","object"==typeof arguments[a]){for(i in r+="\n["+a+"] ",arguments[0])l(arguments[0],i)&&(r+=i+": "+arguments[0][i]+", ");r=r.slice(0,-2)}else r=arguments[a];s.push(r)}O(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,k={};function E(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),k[e]||(O(t),k[e]=!0)}function P(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var n,r=p({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(r[n]=p({},r[n]));return r}function j(e){null!=e&&this.set(e)}function x(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},L={};function N(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(L[e]=o),t&&(L[t[0]]=function(){return x(o.apply(this,arguments),t[1],t[2])}),n&&(L[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function R(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function F(e,t){return e.isValid()?(t=Y(t,e.localeData()),I[t]=I[t]||function(e){var t,n,r=e.match(D);for(t=0,n=r.length;t<n;t++)L[r[t]]?r[t]=L[r[t]]:r[t]=R(r[t]);return function(t){var o,a="";for(o=0;o<n;o++)a+=P(r[o])?r[o].call(t,e):r[o];return a}}(t),I[t](e)):e.localeData().invalidDate()}function Y(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(A.lastIndex=0;n>=0&&A.test(e);)e=e.replace(A,r),A.lastIndex=0,n-=1;return e}var B={};function U(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function W(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function z(e){var t,n,r={};for(n in e)l(e,n)&&(t=W(n))&&(r[t]=e[n]);return r}var H={};function V(e,t){H[e]=t}function G(e){return e%4==0&&e%100!=0||e%400==0}function q(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=q(t)),n}function K(e,t){return function(n){return null!=n?(X(this,e,n),o.updateOffset(this,t),this):J(this,e)}}function J(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&G(e.year())&&1===e.month()&&29===e.date()?(n=$(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),De(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Z=/\d/,Q=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,re=/\d\d?/,oe=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,le=/\d{1,4}/,se=/[+-]?\d{1,6}/,ue=/\d+/,ce=/[+-]?\d+/,fe=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,t,n){ge[e]=P(t)?t:function(e,r){return e&&n?n:t}}function me(e,t){return l(ge,e)?ge[e](t._strict,t._locale):new RegExp(function(e){return ye(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o})))}(e))}function ye(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ge={},be={};function ve(e,t){var n,r,o=t;for("string"==typeof e&&(e=[e]),c(t)&&(o=function(e,n){n[t]=$(e)}),r=e.length,n=0;n<r;n++)be[e[n]]=o}function _e(e,t){ve(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function we(e,t,n){null!=t&&l(be,e)&&be[e](t,n._a,n,e)}var Se,Oe=0,Me=1,Ce=2,ke=3,Ee=4,Pe=5,Te=6,je=7,xe=8;function De(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%12+12)%12}(t);return e+=(t-n)/12,1===n?G(e)?29:28:31-n%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),N("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),V("month",8),he("M",re),he("MM",re,Q),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),ve(["M","MM"],(function(e,t){t[Me]=$(e)-1})),ve(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[Me]=o:m(n).invalidMonth=e}));var Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Le=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ne=pe,Re=pe;function Fe(e,t,n){var r,o,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=Se.call(this._shortMonthsParse,i))?o:null:-1!==(o=Se.call(this._longMonthsParse,i))?o:null:"MMM"===t?-1!==(o=Se.call(this._shortMonthsParse,i))||-1!==(o=Se.call(this._longMonthsParse,i))?o:null:-1!==(o=Se.call(this._longMonthsParse,i))||-1!==(o=Se.call(this._shortMonthsParse,i))?o:null}function Ye(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=$(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),De(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Be(e){return null!=e?(Ye(this,e),o.updateOffset(this,!0),this):J(this,"Month")}function Ue(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],a=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),a.sort(e),t=0;t<12;t++)r[t]=ye(r[t]),o[t]=ye(o[t]);for(t=0;t<24;t++)a[t]=ye(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function We(e){return G(e)?366:365}N("Y",0,0,(function(){var e=this.year();return e<=9999?x(e,4):"+"+e})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),U("year","y"),V("year",1),he("Y",ce),he("YY",re,Q),he("YYYY",le,te),he("YYYYY",se,ne),he("YYYYYY",se,ne),ve(["YYYYY","YYYYYY"],Oe),ve("YYYY",(function(e,t){t[Oe]=2===e.length?o.parseTwoDigitYear(e):$(e)})),ve("YY",(function(e,t){t[Oe]=o.parseTwoDigitYear(e)})),ve("Y",(function(e,t){t[Oe]=parseInt(e,10)})),o.parseTwoDigitYear=function(e){return $(e)+($(e)>68?1900:2e3)};var ze=K("FullYear",!0);function He(e,t,n,r,o,a,i){var l;return e<100&&e>=0?(l=new Date(e+400,t,n,r,o,a,i),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,n,r,o,a,i),l}function Ve(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ge(e,t,n){var r=7+t-n;return-(7+Ve(e,0,r).getUTCDay()-t)%7+r-1}function qe(e,t,n,r,o){var a,i,l=1+7*(t-1)+(7+n-r)%7+Ge(e,r,o);return l<=0?i=We(a=e-1)+l:l>We(e)?(a=e+1,i=l-We(e)):(a=e,i=l),{year:a,dayOfYear:i}}function $e(e,t,n){var r,o,a=Ge(e.year(),t,n),i=Math.floor((e.dayOfYear()-a-1)/7)+1;return i<1?r=i+Ke(o=e.year()-1,t,n):i>Ke(e.year(),t,n)?(r=i-Ke(e.year(),t,n),o=e.year()+1):(o=e.year(),r=i),{week:r,year:o}}function Ke(e,t,n){var r=Ge(e,t,n),o=Ge(e+1,t,n);return(We(e)-r+o)/7}function Je(e,t){return e.slice(t,7).concat(e.slice(0,t))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),V("week",5),V("isoWeek",5),he("w",re),he("ww",re,Q),he("W",re),he("WW",re,Q),_e(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=$(e)})),N("d",0,"do","day"),N("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),N("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),N("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),he("d",re),he("e",re),he("E",re),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),_e(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:m(n).invalidWeekday=e})),_e(["d","e","E"],(function(e,t,n,r){t[r]=$(e)}));var Xe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),et=pe,tt=pe,nt=pe;function rt(e,t,n){var r,o,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=Se.call(this._weekdaysParse,i))?o:null:"ddd"===t?-1!==(o=Se.call(this._shortWeekdaysParse,i))?o:null:-1!==(o=Se.call(this._minWeekdaysParse,i))?o:null:"dddd"===t?-1!==(o=Se.call(this._weekdaysParse,i))||-1!==(o=Se.call(this._shortWeekdaysParse,i))||-1!==(o=Se.call(this._minWeekdaysParse,i))?o:null:"ddd"===t?-1!==(o=Se.call(this._shortWeekdaysParse,i))||-1!==(o=Se.call(this._weekdaysParse,i))||-1!==(o=Se.call(this._minWeekdaysParse,i))?o:null:-1!==(o=Se.call(this._minWeekdaysParse,i))||-1!==(o=Se.call(this._weekdaysParse,i))||-1!==(o=Se.call(this._shortWeekdaysParse,i))?o:null}function ot(){function e(e,t){return t.length-e.length}var t,n,r,o,a,i=[],l=[],s=[],u=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=ye(this.weekdaysMin(n,"")),o=ye(this.weekdaysShort(n,"")),a=ye(this.weekdays(n,"")),i.push(r),l.push(o),s.push(a),u.push(r),u.push(o),u.push(a);i.sort(e),l.sort(e),s.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function at(){return this.hours()%12||12}function it(e,t){N(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function lt(e,t){return t._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,at),N("k",["kk",2],0,(function(){return this.hours()||24})),N("hmm",0,0,(function(){return""+at.apply(this)+x(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+at.apply(this)+x(this.minutes(),2)+x(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+x(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+x(this.minutes(),2)+x(this.seconds(),2)})),it("a",!0),it("A",!1),U("hour","h"),V("hour",13),he("a",lt),he("A",lt),he("H",re),he("h",re),he("k",re),he("HH",re,Q),he("hh",re,Q),he("kk",re,Q),he("hmm",oe),he("hmmss",ae),he("Hmm",oe),he("Hmmss",ae),ve(["H","HH"],ke),ve(["k","kk"],(function(e,t,n){var r=$(e);t[ke]=24===r?0:r})),ve(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ve(["h","hh"],(function(e,t,n){t[ke]=$(e),m(n).bigHour=!0})),ve("hmm",(function(e,t,n){var r=e.length-2;t[ke]=$(e.substr(0,r)),t[Ee]=$(e.substr(r)),m(n).bigHour=!0})),ve("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[ke]=$(e.substr(0,r)),t[Ee]=$(e.substr(r,2)),t[Pe]=$(e.substr(o)),m(n).bigHour=!0})),ve("Hmm",(function(e,t,n){var r=e.length-2;t[ke]=$(e.substr(0,r)),t[Ee]=$(e.substr(r))})),ve("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[ke]=$(e.substr(0,r)),t[Ee]=$(e.substr(r,2)),t[Pe]=$(e.substr(o))}));var st,ut=K("Hours",!0),ct={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Ie,week:{dow:0,doy:6},weekdays:Xe,weekdaysMin:Qe,weekdaysShort:Ze,meridiemParse:/[ap]\.?m?\.?/i},ft={},dt={};function pt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function ht(e){return e?e.toLowerCase().replace("_","-"):e}function mt(t){var r=null;if(void 0===ft[t]&&e&&e.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(t))try{r=st._abbr,n(46700)("./"+t),yt(r)}catch(r){ft[t]=null}return ft[t]}function yt(e,t){var n;return e&&((n=u(t)?bt(e):gt(e,t))?st=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),st._abbr}function gt(e,t){if(null!==t){var n,r=ct;if(t.abbr=e,null!=ft[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ft[e]._config;else if(null!=t.parentLocale)if(null!=ft[t.parentLocale])r=ft[t.parentLocale]._config;else{if(null==(n=mt(t.parentLocale)))return dt[t.parentLocale]||(dt[t.parentLocale]=[]),dt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ft[e]=new j(T(r,t)),dt[e]&&dt[e].forEach((function(e){gt(e.name,e.config)})),yt(e),ft[e]}return delete ft[e],null}function bt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return st;if(!a(e)){if(t=mt(e))return t;e=[e]}return function(e){for(var t,n,r,o,a=0;a<e.length;){for(t=(o=ht(e[a]).split("-")).length,n=(n=ht(e[a+1]))?n.split("-"):null;t>0;){if(r=mt(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&pt(o,n)>=t-1)break;t--}a++}return st}(e)}function vt(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[Me]<0||n[Me]>11?Me:n[Ce]<1||n[Ce]>De(n[Oe],n[Me])?Ce:n[ke]<0||n[ke]>24||24===n[ke]&&(0!==n[Ee]||0!==n[Pe]||0!==n[Te])?ke:n[Ee]<0||n[Ee]>59?Ee:n[Pe]<0||n[Pe]>59?Pe:n[Te]<0||n[Te]>999?Te:-1,m(e)._overflowDayOfYear&&(t<Oe||t>Ce)&&(t=Ce),m(e)._overflowWeeks&&-1===t&&(t=je),m(e)._overflowWeekday&&-1===t&&(t=xe),m(e).overflow=t),e}var _t=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,St=/Z|[+-]\d\d(?::?\d\d)?/,Ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ct=/^\/?Date\((-?\d+)/i,kt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Et={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pt(e){var t,n,r,o,a,i,l=e._i,s=_t.exec(l)||wt.exec(l),u=Ot.length,c=Mt.length;if(s){for(m(e).iso=!0,t=0,n=u;t<n;t++)if(Ot[t][1].exec(s[1])){o=Ot[t][0],r=!1!==Ot[t][2];break}if(null==o)return void(e._isValid=!1);if(s[3]){for(t=0,n=c;t<n;t++)if(Mt[t][1].exec(s[3])){a=(s[2]||" ")+Mt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(s[4]){if(!St.exec(s[4]))return void(e._isValid=!1);i="Z"}e._f=o+(a||"")+(i||""),At(e)}else e._isValid=!1}function Tt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function jt(e){var t,n=kt.exec(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(n){if(t=function(e,t,n,r,o,a){var i=[Tt(e),Ie.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return a&&i.push(parseInt(a,10)),i}(n[4],n[3],n[2],n[5],n[6],n[7]),!function(e,t,n){return!e||Ze.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(n[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return Et[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(n[8],n[9],n[10]),e._d=Ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function xt(e,t,n){return null!=e?e:null!=t?t:n}function Dt(e){var t,n,r,a,i,l=[];if(!e._d){for(r=function(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[Ce]&&null==e._a[Me]&&function(e){var t,n,r,o,a,i,l,s,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,i=4,n=xt(t.GG,e._a[Oe],$e(Nt(),1,4).year),r=xt(t.W,1),((o=xt(t.E,1))<1||o>7)&&(s=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,u=$e(Nt(),a,i),n=xt(t.gg,e._a[Oe],u.year),r=xt(t.w,u.week),null!=t.d?((o=t.d)<0||o>6)&&(s=!0):null!=t.e?(o=t.e+a,(t.e<0||t.e>6)&&(s=!0)):o=a),r<1||r>Ke(n,a,i)?m(e)._overflowWeeks=!0:null!=s?m(e)._overflowWeekday=!0:(l=qe(n,r,o,a,i),e._a[Oe]=l.year,e._dayOfYear=l.dayOfYear)}(e),null!=e._dayOfYear&&(i=xt(e._a[Oe],r[Oe]),(e._dayOfYear>We(i)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=Ve(i,0,e._dayOfYear),e._a[Me]=n.getUTCMonth(),e._a[Ce]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=l[t]=r[t];for(;t<7;t++)e._a[t]=l[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ke]&&0===e._a[Ee]&&0===e._a[Pe]&&0===e._a[Te]&&(e._nextDay=!0,e._a[ke]=0),e._d=(e._useUTC?Ve:He).apply(null,l),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ke]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(m(e).weekdayMismatch=!0)}}function At(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],m(e).empty=!0;var t,n,r,a,i,l,s,u=""+e._i,c=u.length,f=0;for(s=(r=Y(e._f,e._locale).match(D)||[]).length,t=0;t<s;t++)a=r[t],(n=(u.match(me(a,e))||[])[0])&&((i=u.substr(0,u.indexOf(n))).length>0&&m(e).unusedInput.push(i),u=u.slice(u.indexOf(n)+n.length),f+=n.length),L[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),we(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-f,u.length>0&&m(e).unusedInput.push(u),e._a[ke]<=12&&!0===m(e).bigHour&&e._a[ke]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[ke]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[ke],e._meridiem),null!==(l=m(e).era)&&(e._a[Oe]=e._locale.erasConvertYear(l,e._a[Oe])),Dt(e),vt(e)}else jt(e);else Pt(e)}function It(e){var t=e._i,n=e._f;return e._locale=e._locale||bt(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new w(vt(t)):(f(t)?e._d=t:a(n)?function(e){var t,n,r,o,a,i,l=!1,s=e._f.length;if(0===s)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<s;o++)a=0,i=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],At(t),y(t)&&(i=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,l?a<r&&(r=a,n=t):(null==r||a<r||i)&&(r=a,n=t,i&&(l=!0));p(e,n||t)}(e):n?At(e):function(e){var t=e._i;u(t)?e._d=new Date(o.now()):f(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Ct.exec(e._i);null===t?(Pt(e),!1===e._isValid&&(delete e._isValid,jt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:o.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Dt(e)):i(t)?function(e){if(!e._d){var t=z(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Dt(e)}}(e):c(t)?e._d=new Date(t):o.createFromInputFallback(e)}(e),y(e)||(e._d=null),e))}function Lt(e,t,n,r,o){var l={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&s(e)||a(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=n,l._i=e,l._f=t,l._strict=r,function(e){var t=new w(vt(It(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(l)}function Nt(e,t,n,r){return Lt(e,t,n,r,!1)}o.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),o.ISO_8601=function(){},o.RFC_2822=function(){};var Rt=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Nt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Ft=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Nt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Yt(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Nt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Bt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ut(e){var t,n,r=!1,o=Bt.length;for(t in e)if(l(e,t)&&(-1===Se.call(Bt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<o;++n)if(e[Bt[n]]){if(r)return!1;parseFloat(e[Bt[n]])!==$(e[Bt[n]])&&(r=!0)}return!0}function Wt(e){var t=z(e),n=t.year||0,r=t.quarter||0,o=t.month||0,a=t.week||t.isoWeek||0,i=t.day||0,l=t.hour||0,s=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Ut(t),this._milliseconds=+c+1e3*u+6e4*s+1e3*l*60*60,this._days=+i+7*a,this._months=+o+3*r+12*n,this._data={},this._locale=bt(),this._bubble()}function zt(e){return e instanceof Wt}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Vt(e,t){N(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+x(~~(e/60),2)+t+x(~~e%60,2)}))}Vt("Z",":"),Vt("ZZ",""),he("Z",de),he("ZZ",de),ve(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=qt(de,e)}));var Gt=/([\+\-]|\d\d)/gi;function qt(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(Gt)||["-",0,0])[1]+$(n[2]))?0:"+"===n[0]?r:-r}function $t(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(S(e)||f(e)?e.valueOf():Nt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),o.updateOffset(n,!1),n):Nt(e).local()}function Kt(e){return-Math.round(e._d.getTimezoneOffset())}function Jt(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var Xt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qt(e,t){var n,r,o,a=e,i=null;return zt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(i=Xt.exec(e))?(n="-"===i[1]?-1:1,a={y:0,d:$(i[Ce])*n,h:$(i[ke])*n,m:$(i[Ee])*n,s:$(i[Pe])*n,ms:$(Ht(1e3*i[Te]))*n}):(i=Zt.exec(e))?(n="-"===i[1]?-1:1,a={y:en(i[2],n),M:en(i[3],n),w:en(i[4],n),d:en(i[5],n),h:en(i[6],n),m:en(i[7],n),s:en(i[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=function(e,t){var n;return e.isValid()&&t.isValid()?(t=$t(t,e),e.isBefore(t)?n=tn(e,t):((n=tn(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Nt(a.from),Nt(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),r=new Wt(a),zt(e)&&l(e,"_locale")&&(r._locale=e._locale),zt(e)&&l(e,"_isValid")&&(r._isValid=e._isValid),r}function en(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tn(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nn(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),rn(this,Qt(n,r),e),this}}function rn(e,t,n,r){var a=t._milliseconds,i=Ht(t._days),l=Ht(t._months);e.isValid()&&(r=null==r||r,l&&Ye(e,J(e,"Month")+l*n),i&&X(e,"Date",J(e,"Date")+i*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&o.updateOffset(e,i||l))}Qt.fn=Wt.prototype,Qt.invalid=function(){return Qt(NaN)};var on=nn(1,"add"),an=nn(-1,"subtract");function ln(e){return"string"==typeof e||e instanceof String}function sn(e,t){if(e.date()<t.date())return-sn(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function un(e){var t;return void 0===e?this._locale._abbr:(null!=(t=bt(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var cn=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function fn(){return this._locale}var dn=1e3,pn=6e4,hn=60*pn,mn=3506328*hn;function yn(e,t){return(e%t+t)%t}function gn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-mn:new Date(e,t,n).valueOf()}function bn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-mn:Date.UTC(e,t,n)}function vn(e,t){return t.erasAbbrRegex(e)}function _n(){var e,t,n=[],r=[],o=[],a=[],i=this.eras();for(e=0,t=i.length;e<t;++e)r.push(ye(i[e].name)),n.push(ye(i[e].abbr)),o.push(ye(i[e].narrow)),a.push(ye(i[e].name)),a.push(ye(i[e].abbr)),a.push(ye(i[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function wn(e,t){N(0,[e,e.length],0,t)}function Sn(e,t,n,r,o){var a;return null==e?$e(this,r,o).year:(t>(a=Ke(e,r,o))&&(t=a),On.call(this,e,t,n,r,o))}function On(e,t,n,r,o){var a=qe(e,t,n,r,o),i=Ve(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),he("N",vn),he("NN",vn),he("NNN",vn),he("NNNN",(function(e,t){return t.erasNameRegex(e)})),he("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ve(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?m(n).era=o:m(n).invalidEra=e})),he("y",ue),he("yy",ue),he("yyy",ue),he("yyyy",ue),he("yo",(function(e,t){return t._eraYearOrdinalRegex||ue})),ve(["y","yy","yyy","yyyy"],Oe),ve(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Oe]=n._locale.eraYearOrdinalParse(e,o):t[Oe]=parseInt(e,10)})),N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),wn("gggg","weekYear"),wn("ggggg","weekYear"),wn("GGGG","isoWeekYear"),wn("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),he("G",ce),he("g",ce),he("GG",re,Q),he("gg",re,Q),he("GGGG",le,te),he("gggg",le,te),he("GGGGG",se,ne),he("ggggg",se,ne),_e(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=$(e)})),_e(["gg","GG"],(function(e,t,n,r){t[r]=o.parseTwoDigitYear(e)})),N("Q",0,"Qo","quarter"),U("quarter","Q"),V("quarter",7),he("Q",Z),ve("Q",(function(e,t){t[Me]=3*($(e)-1)})),N("D",["DD",2],"Do","date"),U("date","D"),V("date",9),he("D",re),he("DD",re,Q),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ve(["D","DD"],Ce),ve("Do",(function(e,t){t[Ce]=$(e.match(re)[0])}));var Mn=K("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),V("dayOfYear",4),he("DDD",ie),he("DDDD",ee),ve(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=$(e)})),N("m",["mm",2],0,"minute"),U("minute","m"),V("minute",14),he("m",re),he("mm",re,Q),ve(["m","mm"],Ee);var Cn,kn,En=K("Minutes",!1),Pn=(N("s",["ss",2],0,"second"),U("second","s"),V("second",15),he("s",re),he("ss",re,Q),ve(["s","ss"],Pe),K("Seconds",!1));for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),V("millisecond",16),he("S",ie,Z),he("SS",ie,Q),he("SSS",ie,ee),Cn="SSSS";Cn.length<=9;Cn+="S")he(Cn,ue);function Tn(e,t){t[Te]=$(1e3*("0."+e))}for(Cn="S";Cn.length<=9;Cn+="S")ve(Cn,Tn);kn=K("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var jn=w.prototype;function xn(e){return e}jn.add=on,jn.calendar=function(e,t){1===arguments.length&&(arguments[0]?function(e){return S(e)||f(e)||ln(e)||c(e)||function(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&ln(e)})).length),t&&n}(e)||function(e){var t,n=i(e)&&!s(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=o.length;for(t=0;t<a;t+=1)r=r||l(e,o[t]);return n&&r}(e)||null==e}(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,n=i(e)&&!s(e),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)r=r||l(e,o[t]);return n&&r}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Nt(),r=$t(n,this).startOf("day"),u=o.calendarFormat(this,r)||"sameElse",d=t&&(P(t[u])?t[u].call(this,n):t[u]);return this.format(d||this.localeData().calendar(u,this,Nt(n)))},jn.clone=function(){return new w(this)},jn.diff=function(e,t,n){var r,o,a;if(!this.isValid())return NaN;if(!(r=$t(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=W(t)){case"year":a=sn(this,r)/12;break;case"month":a=sn(this,r);break;case"quarter":a=sn(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-o)/864e5;break;case"week":a=(this-r-o)/6048e5;break;default:a=this-r}return n?a:q(a)},jn.endOf=function(e){var t,n;if(void 0===(e=W(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?bn:gn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hn-yn(t+(this._isUTC?0:this.utcOffset()*pn),hn)-1;break;case"minute":t=this._d.valueOf(),t+=pn-yn(t,pn)-1;break;case"second":t=this._d.valueOf(),t+=dn-yn(t,dn)-1}return this._d.setTime(t),o.updateOffset(this,!0),this},jn.format=function(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=F(this,e);return this.localeData().postformat(t)},jn.from=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||Nt(e).isValid())?Qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},jn.fromNow=function(e){return this.from(Nt(),e)},jn.to=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||Nt(e).isValid())?Qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},jn.toNow=function(e){return this.to(Nt(),e)},jn.get=function(e){return P(this[e=W(e)])?this[e]():this},jn.invalidAt=function(){return m(this).overflow},jn.isAfter=function(e,t){var n=S(e)?e:Nt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},jn.isBefore=function(e,t){var n=S(e)?e:Nt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},jn.isBetween=function(e,t,n,r){var o=S(e)?e:Nt(e),a=S(t)?t:Nt(t);return!!(this.isValid()&&o.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))},jn.isSame=function(e,t){var n,r=S(e)?e:Nt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},jn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},jn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},jn.isValid=function(){return y(this)},jn.lang=cn,jn.locale=un,jn.localeData=fn,jn.max=Ft,jn.min=Rt,jn.parsingFlags=function(){return p({},m(this))},jn.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)l(e,t)&&n.push({unit:t,priority:H[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=z(e)),o=r.length;for(n=0;n<o;n++)this[r[n].unit](e[r[n].unit])}else if(P(this[e=W(e)]))return this[e](t);return this},jn.startOf=function(e){var t,n;if(void 0===(e=W(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?bn:gn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=yn(t+(this._isUTC?0:this.utcOffset()*pn),hn);break;case"minute":t=this._d.valueOf(),t-=yn(t,pn);break;case"second":t=this._d.valueOf(),t-=yn(t,dn)}return this._d.setTime(t),o.updateOffset(this,!0),this},jn.subtract=an,jn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},jn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},jn.toDate=function(){return new Date(this.valueOf())},jn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?F(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",F(n,"Z")):F(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},jn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(jn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),jn.toJSON=function(){return this.isValid()?this.toISOString():null},jn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},jn.unix=function(){return Math.floor(this.valueOf()/1e3)},jn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},jn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},jn.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},jn.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},jn.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},jn.eraYear=function(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-o(a[e].since).year())*n+a[e].offset;return this.year()},jn.year=ze,jn.isLeapYear=function(){return G(this.year())},jn.weekYear=function(e){return Sn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},jn.isoWeekYear=function(e){return Sn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},jn.quarter=jn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},jn.month=Be,jn.daysInMonth=function(){return De(this.year(),this.month())},jn.week=jn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},jn.isoWeek=jn.isoWeeks=function(e){var t=$e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},jn.weeksInYear=function(){var e=this.localeData()._week;return Ke(this.year(),e.dow,e.doy)},jn.weeksInWeekYear=function(){var e=this.localeData()._week;return Ke(this.weekYear(),e.dow,e.doy)},jn.isoWeeksInYear=function(){return Ke(this.year(),1,4)},jn.isoWeeksInISOWeekYear=function(){return Ke(this.isoWeekYear(),1,4)},jn.date=Mn,jn.day=jn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},jn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},jn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},jn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},jn.hour=jn.hours=ut,jn.minute=jn.minutes=En,jn.second=jn.seconds=Pn,jn.millisecond=jn.milliseconds=kn,jn.utcOffset=function(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=qt(de,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Kt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?rn(this,Qt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Kt(this)},jn.utc=function(e){return this.utcOffset(0,e)},jn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Kt(this),"m")),this},jn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=qt(fe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},jn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Nt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},jn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},jn.isLocal=function(){return!!this.isValid()&&!this._isUTC},jn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},jn.isUtc=Jt,jn.isUTC=Jt,jn.zoneAbbr=function(){return this._isUTC?"UTC":""},jn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},jn.dates=M("dates accessor is deprecated. Use date instead.",Mn),jn.months=M("months accessor is deprecated. Use month instead",Be),jn.years=M("years accessor is deprecated. Use year instead",ze),jn.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),jn.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=It(t))._a?(e=t._isUTC?h(t._a):Nt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,o=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0;for(r=0;r<o;r++)$(e[r])!==$(t[r])&&i++;return i+a}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Dn=j.prototype;function An(e,t,n,r){var o=bt(),a=h().set(r,t);return o[n](a,e)}function In(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return An(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=An(e,r,n,"month");return o}function Ln(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var o,a=bt(),i=e?a._week.dow:0,l=[];if(null!=n)return An(t,(n+i)%7,r,"day");for(o=0;o<7;o++)l[o]=An(t,(o+i)%7,r,"day");return l}Dn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return P(r)?r.call(t,n):r},Dn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(D).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Dn.invalidDate=function(){return this._invalidDate},Dn.ordinal=function(e){return this._ordinal.replace("%d",e)},Dn.preparse=xn,Dn.postformat=xn,Dn.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return P(o)?o(e,t,n,r):o.replace(/%d/i,e)},Dn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return P(n)?n(t):n.replace(/%s/i,t)},Dn.set=function(e){var t,n;for(n in e)l(e,n)&&(P(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Dn.eras=function(e,t){var n,r,a,i=this._eras||bt("en")._eras;for(n=0,r=i.length;n<r;++n)switch("string"==typeof i[n].since&&(a=o(i[n].since).startOf("day"),i[n].since=a.valueOf()),typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":a=o(i[n].until).startOf("day").valueOf(),i[n].until=a.valueOf()}return i},Dn.erasParse=function(e,t,n){var r,o,a,i,l,s=this.eras();for(e=e.toUpperCase(),r=0,o=s.length;r<o;++r)if(a=s[r].name.toUpperCase(),i=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(i===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(l===e)return s[r]}else if([a,i,l].indexOf(e)>=0)return s[r]},Dn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?o(e.since).year():o(e.since).year()+(t-e.offset)*n},Dn.erasAbbrRegex=function(e){return l(this,"_erasAbbrRegex")||_n.call(this),e?this._erasAbbrRegex:this._erasRegex},Dn.erasNameRegex=function(e){return l(this,"_erasNameRegex")||_n.call(this),e?this._erasNameRegex:this._erasRegex},Dn.erasNarrowRegex=function(e){return l(this,"_erasNarrowRegex")||_n.call(this),e?this._erasNarrowRegex:this._erasRegex},Dn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Le).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},Dn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Le.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Dn.monthsParse=function(e,t,n){var r,o,a;if(this._monthsParseExact)return Fe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Dn.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ue.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Re),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Dn.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ue.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Ne),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Dn.week=function(e){return $e(e,this._week.dow,this._week.doy).week},Dn.firstDayOfYear=function(){return this._week.doy},Dn.firstDayOfWeek=function(){return this._week.dow},Dn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Je(n,this._week.dow):e?n[e.day()]:n},Dn.weekdaysMin=function(e){return!0===e?Je(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Dn.weekdaysShort=function(e){return!0===e?Je(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Dn.weekdaysParse=function(e,t,n){var r,o,a;if(this._weekdaysParseExact)return rt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Dn.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ot.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Dn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ot.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Dn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ot.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Dn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Dn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},yt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===$(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),o.lang=M("moment.lang is deprecated. Use moment.locale instead.",yt),o.langData=M("moment.langData is deprecated. Use moment.localeData instead.",bt);var Nn=Math.abs;function Rn(e,t,n,r){var o=Qt(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function Fn(e){return e<0?Math.floor(e):Math.ceil(e)}function Yn(e){return 4800*e/146097}function Bn(e){return 146097*e/4800}function Un(e){return function(){return this.as(e)}}var Wn=Un("ms"),zn=Un("s"),Hn=Un("m"),Vn=Un("h"),Gn=Un("d"),qn=Un("w"),$n=Un("M"),Kn=Un("Q"),Jn=Un("y");function Xn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Zn=Xn("milliseconds"),Qn=Xn("seconds"),er=Xn("minutes"),tr=Xn("hours"),nr=Xn("days"),rr=Xn("months"),or=Xn("years"),ar=Math.round,ir={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function lr(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var sr=Math.abs;function ur(e){return(e>0)-(e<0)||+e}function cr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,a,i,l,s=sr(this._milliseconds)/1e3,u=sr(this._days),c=sr(this._months),f=this.asSeconds();return f?(e=q(s/60),t=q(e/60),s%=60,e%=60,n=q(c/12),c%=12,r=s?s.toFixed(3).replace(/\.?0+$/,""):"",o=f<0?"-":"",a=ur(this._months)!==ur(f)?"-":"",i=ur(this._days)!==ur(f)?"-":"",l=ur(this._milliseconds)!==ur(f)?"-":"",o+"P"+(n?a+n+"Y":"")+(c?a+c+"M":"")+(u?i+u+"D":"")+(t||e||s?"T":"")+(t?l+t+"H":"")+(e?l+e+"M":"")+(s?l+r+"S":"")):"P0D"}var fr=Wt.prototype;return fr.isValid=function(){return this._isValid},fr.abs=function(){var e=this._data;return this._milliseconds=Nn(this._milliseconds),this._days=Nn(this._days),this._months=Nn(this._months),e.milliseconds=Nn(e.milliseconds),e.seconds=Nn(e.seconds),e.minutes=Nn(e.minutes),e.hours=Nn(e.hours),e.months=Nn(e.months),e.years=Nn(e.years),this},fr.add=function(e,t){return Rn(this,e,t,1)},fr.subtract=function(e,t){return Rn(this,e,t,-1)},fr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=W(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Yn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Bn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},fr.asMilliseconds=Wn,fr.asSeconds=zn,fr.asMinutes=Hn,fr.asHours=Vn,fr.asDays=Gn,fr.asWeeks=qn,fr.asMonths=$n,fr.asQuarters=Kn,fr.asYears=Jn,fr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12):NaN},fr._bubble=function(){var e,t,n,r,o,a=this._milliseconds,i=this._days,l=this._months,s=this._data;return a>=0&&i>=0&&l>=0||a<=0&&i<=0&&l<=0||(a+=864e5*Fn(Bn(l)+i),i=0,l=0),s.milliseconds=a%1e3,e=q(a/1e3),s.seconds=e%60,t=q(e/60),s.minutes=t%60,n=q(t/60),s.hours=n%24,i+=q(n/24),l+=o=q(Yn(i)),i-=Fn(Bn(o)),r=q(l/12),l%=12,s.days=i,s.months=l,s.years=r,this},fr.clone=function(){return Qt(this)},fr.get=function(e){return e=W(e),this.isValid()?this[e+"s"]():NaN},fr.milliseconds=Zn,fr.seconds=Qn,fr.minutes=er,fr.hours=tr,fr.days=nr,fr.weeks=function(){return q(this.days()/7)},fr.months=rr,fr.years=or,fr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,a=ir;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(a=Object.assign({},ir,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=function(e,t,n,r){var o=Qt(e).abs(),a=ar(o.as("s")),i=ar(o.as("m")),l=ar(o.as("h")),s=ar(o.as("d")),u=ar(o.as("M")),c=ar(o.as("w")),f=ar(o.as("y")),d=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||i<=1&&["m"]||i<n.m&&["mm",i]||l<=1&&["h"]||l<n.h&&["hh",l]||s<=1&&["d"]||s<n.d&&["dd",s];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,lr.apply(null,d)}(this,!o,a,n=this.localeData()),o&&(r=n.pastFuture(+this,r)),n.postformat(r)},fr.toISOString=cr,fr.toString=cr,fr.toJSON=cr,fr.locale=un,fr.localeData=fn,fr.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cr),fr.lang=cn,N("X",0,0,"unix"),N("x",0,0,"valueOf"),he("x",ce),he("X",/[+-]?\d+(\.\d{1,3})?/),ve("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ve("x",(function(e,t,n){n._d=new Date($(e))})),o.version="2.29.4",function(e){t=e}(Nt),o.fn=jn,o.min=function(){return Yt("isBefore",[].slice.call(arguments,0))},o.max=function(){return Yt("isAfter",[].slice.call(arguments,0))},o.now=function(){return Date.now?Date.now():+new Date},o.utc=h,o.unix=function(e){return Nt(1e3*e)},o.months=function(e,t){return In(e,t,"months")},o.isDate=f,o.locale=yt,o.invalid=g,o.duration=Qt,o.isMoment=S,o.weekdays=function(e,t,n){return Ln(e,t,n,"weekdays")},o.parseZone=function(){return Nt.apply(null,arguments).parseZone()},o.localeData=bt,o.isDuration=zt,o.monthsShort=function(e,t){return In(e,t,"monthsShort")},o.weekdaysMin=function(e,t,n){return Ln(e,t,n,"weekdaysMin")},o.defineLocale=gt,o.updateLocale=function(e,t){if(null!=t){var n,r,o=ct;null!=ft[e]&&null!=ft[e].parentLocale?ft[e].set(T(ft[e]._config,t)):(null!=(r=mt(e))&&(o=r._config),t=T(o,t),null==r&&(t.abbr=e),(n=new j(t)).parentLocale=ft[e],ft[e]=n),yt(e)}else null!=ft[e]&&(null!=ft[e].parentLocale?(ft[e]=ft[e].parentLocale,e===yt()&&yt(e)):null!=ft[e]&&delete ft[e]);return ft[e]},o.locales=function(){return C(ft)},o.weekdaysShort=function(e,t,n){return Ln(e,t,n,"weekdaysShort")},o.normalizeUnits=W,o.relativeTimeRounding=function(e){return void 0===e?ar:"function"==typeof e&&(ar=e,!0)},o.relativeTimeThreshold=function(e,t){return void 0!==ir[e]&&(void 0===t?ir[e]:(ir[e]=t,"s"===e&&(ir.ss=t-1),!0))},o.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},o.prototype=jn,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,o){for(var a,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var s in a=Object(arguments[l]))n.call(a,s)&&(i[s]=a[s]);if(t)for(var u=t(a),c=0;c<u.length;c++)r.call(a,u[c])&&(i[u[c]]=a[u[c]])}return i}},26470:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",o=0,a=-1,i=0,l=0;l<=e.length;++l){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(a!==l-1&&1!==i)if(a!==l-1&&2===i){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(2<r.length){var s=r.lastIndexOf("/");if(s!==r.length-1){o=-1===s?(r="",0):(r=r.slice(0,s)).length-1-r.lastIndexOf("/"),a=l,i=0;continue}}else if(2===r.length||1===r.length){r="",a=l,i=o=0;continue}t&&(0<r.length?r+="/..":r="..",o=2)}else 0<r.length?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),o=l-a-1;a=l,i=0}else 46===n&&-1!==i?++i:i=-1}return r}var r={resolve:function(){for(var e,r="",o=!1,a=arguments.length-1;-1<=a&&!o;a--){var i=0<=a?arguments[a]:e=void 0===e?process.cwd():e;t(i),0!==i.length&&(r=i+"/"+r,o=47===i.charCodeAt(0))}return r=n(r,!o),o?0<r.length?"/"+r:"/":0<r.length?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0<(e=0!==(e=n(e,!r)).length||r?e:".").length&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),0<e.length&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),0<o.length&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var a=e.length,i=a-o,l=1;l<n.length&&47===n.charCodeAt(l);++l);for(var s=n.length-l,u=i<s?i:s,c=-1,f=0;f<=u;++f){if(f===u){if(u<s){if(47===n.charCodeAt(l+f))return n.slice(l+f+1);if(0===f)return n.slice(l+f)}else u<i&&(47===e.charCodeAt(o+f)?c=f:0===f&&(c=0));break}var d=e.charCodeAt(o+f);if(d!==n.charCodeAt(l+f))break;47===d&&(c=f)}var p="";for(f=o+c+1;f<=a;++f)f!==a&&47!==e.charCodeAt(f)||(0===p.length?p+="..":p+="/..");return 0<p.length?p+n.slice(l+c):(47===n.charCodeAt(l+=c)&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=47===e.charCodeAt(0),r=-1,o=!0,a=e.length-1;1<=a;--a)if(47===e.charCodeAt(a)){if(!o){r=a;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r=0,o=-1,a=!0;if(void 0!==n&&0<n.length&&n.length<=e.length){if(n.length===e.length&&n===e)return"";for(var i=n.length-1,l=-1,s=e.length-1;0<=s;--s){var u=e.charCodeAt(s);if(47===u){if(!a){r=s+1;break}}else-1===l&&(a=!1,l=s+1),0<=i&&(u===n.charCodeAt(i)?-1==--i&&(o=s):(i=-1,o=l))}return r===o?o=l:-1===o&&(o=e.length),e.slice(r,o)}for(s=e.length-1;0<=s;--s)if(47===e.charCodeAt(s)){if(!a){r=s+1;break}}else-1===o&&(a=!1,o=s+1);return-1===o?"":e.slice(r,o)},extname:function(e){t(e);for(var n=-1,r=0,o=-1,a=!0,i=0,l=e.length-1;0<=l;--l){var s=e.charCodeAt(l);if(47===s){if(a)continue;r=l+1;break}-1===o&&(a=!1,o=l+1),46===s?-1===n?n=l:1!==i&&(i=1):-1!==n&&(i=-1)}return-1===n||-1===o||0===i||1===i&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+n:t+"/"+n:n;var t,n},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;for(var r,o=47===e.charCodeAt(0),a=o?(n.root="/",1):0,i=-1,l=0,s=-1,u=!0,c=e.length-1,f=0;a<=c;--c){if(47===(r=e.charCodeAt(c))){if(u)continue;l=c+1;break}-1===s&&(u=!1,s=c+1),46===r?-1===i?i=c:1!==f&&(f=1):-1!==i&&(f=-1)}return-1===i||-1===s||0===f||1===f&&i===s-1&&i===l+1?-1!==s&&(n.base=n.name=0===l&&o?e.slice(1,s):e.slice(l,s)):(0===l&&o?(n.name=e.slice(1,i),n.base=e.slice(1,s)):(n.name=e.slice(l,i),n.base=e.slice(l,s)),n.ext=e.slice(i,s)),0<l?n.dir=e.slice(0,l-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},14779:(e,t,n)=>{var r=n(5826),o=(e.exports=function e(t,n,o){if(r(n)||(o=n||o,n=[]),o=o||{},t instanceof RegExp){var i=t,l=n,s=i.source.match(/\((?!\?)/g);if(s)for(var d=0;d<s.length;d++)l.push({name:d,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(i,l)}if(r(t)){for(var p=t,h=n,m=o,y=[],g=0;g<p.length;g++)y.push(e(p[g],h,m).source);return u(new RegExp("(?:"+y.join("|")+")",c(m)),h)}return i=n,f(a(t,n=o),i,n)},e.exports.parse=a,e.exports.compile=function(e,t){return l(a(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=f,new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g"));function a(e,t){for(var n=[],r=0,a=0,i="",l=t&&t.delimiter||"/";null!=(p=o.exec(e));){var u,c,f,d,p,h=p[0],m=p[1],y=p.index;i+=e.slice(a,y),a=y+h.length,m?i+=m[1]:(y=e[a],h=p[2],m=p[3],u=p[4],c=p[5],f=p[6],d=p[7],i&&(n.push(i),i=""),y=null!=h&&null!=y&&y!==h,p=p[2]||l,n.push({name:m||r++,prefix:h||"",delimiter:p,optional:"?"===f||"*"===f,repeat:"+"===f||"*"===f,partial:y,asterisk:!!d,pattern:(m=u||c)?m.replace(/([=!:$\/()])/g,"\\$1"):d?".*":"[^"+s(p)+"]+?"}))}return a<e.length&&(i+=e.substr(a)),i&&n.push(i),n}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",c(t)));return function(t,o){for(var a="",l=t||{},s=(o||{}).pretty?i:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"==typeof c)a+=c;else{var f,d=l[c.name];if(null==d){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(f=s(d[p]),!n[u].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===p?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(d),!n[u].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');a+=c.prefix+f}}}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e,t){return e.keys=t,e}function c(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,a=!1!==n.end,i="",l=0;l<e.length;l++){var f,d,p=e[l];"string"==typeof p?i+=s(p):(f=s(p.prefix),d="(?:"+p.pattern+")",t.push(p),p.repeat&&(d+="(?:"+f+d+")*"),i+=d=p.optional?p.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")")}var h=s(n.delimiter||"/"),m=i.slice(-h.length)===h;return o||(i=(m?i.slice(0,-h.length):i)+"(?:"+h+"(?=$))?"),i+=a?"$":o&&m?"":"(?="+h+"|$)",u(new RegExp("^"+i,c(n)),t)}},92703:(e,t,n)=>{"use strict";var r=n(50414);function o(){}e.exports=function(){function e(e,t,n,o,a,i){if(i!==r)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n}},45697:(e,t,n)=>{e.exports=n(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3655:(e,t,n)=>{var r=n(32792);function o(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}o.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=o},83453:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},49381:e=>{e.exports={L:1,M:0,Q:3,H:2}},32832:(e,t,n)=>{var r=n(11518);function o(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var a=0;a<e.getLength();a++)t[n+a]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(a)));return new o(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),a=0;a<this.getLength();a++)n[a]=this.get(a);for(a=0;a<e.getLength();a++)n[a]^=r.gexp(r.glog(e.get(a))+t);return new o(n,0).mod(e)}},e.exports=o},14450:(e,t,n)=>{var r=n(3655),o=n(17611),a=n(83453),i=n(93160),l=n(32832);function s(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}(n=s.prototype).addData=function(e){e=new r(e),this.dataList.push(e),this.dataCache=null},n.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},n.getModuleCount=function(){return this.moduleCount},n.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=o.getRSBlocks(e,this.errorCorrectLevel),n=new a,r=0,l=0;l<t.length;l++)r+=t[l].dataCount;for(l=0;l<this.dataList.length;l++){var s=this.dataList[l];n.put(s.mode,4),n.put(s.getLength(),i.getLengthInBits(s.mode,e)),s.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},n.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},n.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},n.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=i.getLostPoint(this);(0==n||r<e)&&(e=r,t=n)}return t},n.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var a=+o,i=0;i<this.modules[o].length;i++){var l=+i;this.modules[o][i]&&(r.beginFill(0,100),r.moveTo(l,a),r.lineTo(1+l,a),r.lineTo(1+l,1+a),r.lineTo(l,1+a),r.endFill())}return r},n.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},n.setupPositionAdjustPattern=function(){for(var e=i.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],o=e[n];if(null==this.modules[r][o])for(var a=-2;a<=2;a++)for(var l=-2;l<=2;l++)this.modules[r+a][o+l]=-2==a||2==a||-2==l||2==l||0==a&&0==l}},n.setupTypeNumber=function(e){for(var t=i.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++)r=!e&&1==(t>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r},n.setupTypeInfo=function(e,t){t=this.errorCorrectLevel<<3|t;for(var n=i.getBCHTypeInfo(t),r=0;r<15;r++){var o=!e&&1==(n>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;r<15;r++)o=!e&&1==(n>>r&1),r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o;this.modules[this.moduleCount-8][8]=!e},n.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,o=7,a=0,l=this.moduleCount-1;0<l;l-=2)for(6==l&&l--;;){for(var s,u,c=0;c<2;c++)null==this.modules[r][l-c]&&(s=!1,a<e.length&&(s=1==(e[a]>>>o&1)),u=i.getMask(t,r,l-c),this.modules[r][l-c]=s=u?!s:s,-1==--o&&(a++,o=7));if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(e,t,n){for(var r=o.getRSBlocks(e,t),l=new a,u=0;u<n.length;u++){var c=n[u];l.put(c.mode,4),l.put(c.getLength(),i.getLengthInBits(c.mode,e)),c.write(l)}var f=0;for(u=0;u<r.length;u++)f+=r[u].dataCount;if(l.getLengthInBits()>8*f)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+8*f+")");for(l.getLengthInBits()+4<=8*f&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*f||(l.put(s.PAD0,8),l.getLengthInBits()>=8*f));)l.put(s.PAD1,8);return s.createBytes(l,r)},s.createBytes=function(e,t){for(var n=0,r=0,o=0,a=new Array(t.length),s=new Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,f=t[u].totalCount-c;r=Math.max(r,c),o=Math.max(o,f),a[u]=new Array(c);for(var d=0;d<a[u].length;d++)a[u][d]=255&e.buffer[d+n];n+=c,c=i.getErrorCorrectPolynomial(f);var p=new l(a[u],c.getLength()-1).mod(c);for(s[u]=new Array(c.getLength()-1),d=0;d<s[u].length;d++){var h=d+p.getLength()-s[u].length;s[u][d]=0<=h?p.get(h):0}}var m=0;for(d=0;d<t.length;d++)m+=t[d].totalCount;var y=new Array(m),g=0;for(d=0;d<r;d++)for(u=0;u<t.length;u++)d<a[u].length&&(y[g++]=a[u][d]);for(d=0;d<o;d++)for(u=0;u<t.length;u++)d<s[u].length&&(y[g++]=s[u][d]);return y},e.exports=s},17611:(e,t,n)=>{var r=n(49381);function o(e,t){this.totalCount=e,this.dataCount=t}o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(e,t){var n=o.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,a=new Array,i=0;i<r;i++)for(var l=n[3*i+0],s=n[3*i+1],u=n[3*i+2],c=0;c<l;c++)a.push(new o(s,u));return a},o.getRsBlockTable=function(e,t){switch(t){case r.L:return o.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return o.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return o.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return o.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=o},11518:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},32792:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},93160:(e,t,n)=>{var r=n(32792),o=n(32832),a=n(11518),i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=i.getBCHDigit(t)-i.getBCHDigit(i.G15);)t^=i.G15<<i.getBCHDigit(t)-i.getBCHDigit(i.G15);return(e<<10|t)^i.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=i.getBCHDigit(t)-i.getBCHDigit(i.G18);)t^=i.G18<<i.getBCHDigit(t)-i.getBCHDigit(i.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return i.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case 0:return(t+n)%2==0;case 1:return t%2==0;case 2:return n%3==0;case 3:return(t+n)%3==0;case 4:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case 5:return t*n%2+t*n%3==0;case 6:return(t*n%2+t*n%3)%2==0;case 7:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),n=0;n<e;n++)t=t.multiply(new o([1,a.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var o=0;o<t;o++){for(var a=0,i=e.isDark(r,o),l=-1;l<=1;l++)if(!(r+l<0||t<=r+l))for(var s=-1;s<=1;s++)o+s<0||t<=o+s||0==l&&0==s||i==e.isDark(r+l,o+s)&&a++;5<a&&(n+=3+a-5)}for(r=0;r<t-1;r++)for(o=0;o<t-1;o++){var u=0;e.isDark(r,o)&&u++,e.isDark(r+1,o)&&u++,e.isDark(r,o+1)&&u++,e.isDark(r+1,o+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<t;r++)for(o=0;o<t-6;o++)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o++)for(r=0;r<t-6;r++)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var c=0;for(o=0;o<t;o++)for(r=0;r<t;r++)e.isDark(r,o)&&c++;return n+Math.abs(100*c/t/t-50)/5*10}};e.exports=i},79361:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var g=n(67294),b=(n(45697),n(14450)),v=n(49381);function _(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):t=r<2048?(t+=String.fromCharCode(192|r>>6))+String.fromCharCode(128|63&r):r<55296||57344<=r?(t=(t+=String.fromCharCode(224|r>>12))+String.fromCharCode(128|r>>6&63))+String.fromCharCode(128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),(t=(t=(t+=String.fromCharCode(240|r>>18))+String.fromCharCode(128|r>>12&63))+String.fromCharCode(128|r>>6&63))+String.fromCharCode(128|63&r))}return t}function w(e,t){var n=1<arguments.length&&void 0!==t?t:0,r=[];return e.forEach((function(e,t){var o=null;e.forEach((function(a,i){if(a||null===o)return i===e.length-1?a?void(null===o?r.push("M".concat(i+n,",").concat(t+n," h1v1H").concat(i+n,"z")):r.push("M".concat(o+n,",").concat(t+n," h").concat(i+1-o,"v1H").concat(o+n,"z"))):void 0:void(a&&null===o&&(o=i));r.push("M".concat(o+n," ").concat(t+n,"h").concat(i-o,"v1H").concat(o+n,"z")),o=null}))})),r.join("")}function S(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function O(e,t){var n=e.imageSettings,r=e.size;if(e=e.includeMargin,null==n)return null;e=t.length+2*(e?4:0);var o,a=Math.floor(.1*r),i=(e/=r,r=(n.width||a)*e,a=(n.height||a)*e,null==n.x?t.length/2-r/2:n.x*e);return t=null==n.y?t.length/2-a/2:n.y*e,e=null,{x:i,y:t,h:a,w:r,excavation:e=n.excavate?{x:n=Math.floor(i),y:o=Math.floor(t),w:Math.ceil(r+i-n),h:Math.ceil(a+t-o)}:e}}function M(e){var t=e.renderAs;return e=l(e,["renderAs"]),g.createElement("svg"===t?E:k,e)}n={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};var C=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),k=function(){function e(){var t,n;s(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return y(p(n=f(this,(t=d(e)).call.apply(t,[this].concat(o)))),"_canvas",void 0),y(p(n),"_image",void 0),y(p(n),"state",{imgLoaded:!1}),y(p(n),"handleImageLoad",(function(){n.setState({imgLoaded:!0})})),n}return h(e,g.PureComponent),c(e,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"componentWillReceiveProps",value:function(e){var t;(null==(t=this.props.imageSettings)?void 0:t.src)!==(null==(t=e.imageSettings)?void 0:t.src)&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e,t,n,r=(u=this.props).value,o=u.size,a=u.level,i=u.bgColor,l=u.fgColor,s=u.includeMargin,u=u.imageSettings;(a=new b(-1,v[a])).addData(_(r)),a.make(),null!=this._canvas&&(r=this._canvas,(e=r.getContext("2d"))&&null!==(a=a.modules)&&(s=a.length+2*(t=s?4:0),n=O(this.props,a),null!=u&&null!=n&&null!=n.excavation&&(a=S(a,n.excavation)),u=window.devicePixelRatio||1,r.height=r.width=o*u,e.scale(r=o/s*u,r),e.fillStyle=i,e.fillRect(0,0,s,s),e.fillStyle=l,C?e.fill(new Path2D(w(a,t))):a.forEach((function(n,r){n.forEach((function(n,o){n&&e.fillRect(o+t,r+t,1,1)}))})),this.state.imgLoaded&&this._image&&null!=n&&e.drawImage(this._image,n.x+t,n.y+t,n.w,n.h)))}},{key:"render",value:function(){var e=this,t=((a=this.props).value,a.size),n=(a.level,a.bgColor,a.fgColor,a.style),r=(a.includeMargin,a.imageSettings),a=l(a,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),s=(n=i({height:t,width:t},n),null),u=r&&r.src;return null!=r&&null!=u&&(s=g.createElement("img",{src:u,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(t){return e._image=t}})),g.createElement(g.Fragment,null,g.createElement("canvas",o({style:n,height:t,width:t,ref:function(t){return e._canvas=t}},a)),s)}}]),e}(),E=(y(k,"defaultProps",n),function(){function e(){return s(this,e),f(this,d(e).apply(this,arguments))}return h(e,g.PureComponent),c(e,[{key:"render",value:function(){var e=(u=this.props).value,t=u.size,n=u.level,r=u.bgColor,a=u.fgColor,i=u.includeMargin,s=u.imageSettings,u=l(u,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);if(null===((n=new b(-1,v[n])).addData(_(e)),n.make(),e=n.modules))return null;n=i?4:0,i=e.length+2*n;var c=O(this.props,e),f=null;return null!=s&&null!=c&&(null!=c.excavation&&(e=S(e,c.excavation)),f=g.createElement("image",{xlinkHref:s.src,height:c.h,width:c.w,x:c.x+n,y:c.y+n,preserveAspectRatio:"none"})),s=w(e,n),g.createElement("svg",o({shapeRendering:"crispEdges",height:t,width:t,viewBox:"0 0 ".concat(i," ").concat(i)},u),g.createElement("path",{fill:r,d:"M0,0 h".concat(i,"v").concat(i,"H0z")}),g.createElement("path",{fill:a,d:s}),f)}}]),e}());y(E,"defaultProps",n),M.defaultProps=i({renderAs:"canvas"},n),e.exports=M},1775:e=>{"use strict";var t=Object.prototype.hasOwnProperty;function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function r(e,r){if(n(e,r))return 1;if("object"==typeof e&&null!==e&&"object"==typeof r&&null!==r){var o=Object.keys(e),a=Object.keys(r);if(o.length===a.length){for(var i=0;i<o.length;i++)if(!t.call(r,o[i])||!n(e[o[i]],r[o[i]]))return;return 1}}}e.exports=function(e,t,n){return!r(e.props,t)||!r(e.state,n)}},1881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67294);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}n=n(33129);var a=o(r),i=o(n),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}n=a.default.forwardRef((function(e,t){var n=void 0===(u=(e=s(e,[])).dragMode)?"crop":u,o=e.src,u=e.style,c=e.className,f=e.crossOrigin,d=e.scaleX,p=e.scaleY,h=e.enable,m=e.zoomTo,y=e.rotateTo,g=void 0===(g=e.alt)?"picture":g,b=e.ready,v=e.onInitialized,_=s(e,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),w={scaleY:p,scaleX:d,enable:h,zoomTo:m,rotateTo:y},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.useRef(null);return a.default.useEffect((function(){e.forEach((function(e){e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e]),n}(t,r.useRef(null));return r.useEffect((function(){var e;null!=(e=S.current)&&e.cropper&&"number"==typeof m&&S.current.cropper.zoomTo(m)}),[e.zoomTo]),r.useEffect((function(){var e;null!=(e=S.current)&&e.cropper&&void 0!==o&&S.current.cropper.reset().clear().replace(o)}),[o]),r.useEffect((function(){var e;return null!==S.current&&(e=new i.default(S.current,l(l({dragMode:n},_),{ready:function(e){var t,n,r,o,a,i;null!==e.currentTarget&&(t=e.currentTarget.cropper,r=(n=void 0===(n=w)?{}:n).enable,o=void 0===(o=n.scaleX)?1:o,a=void 0===(a=n.scaleY)?1:a,i=void 0===(i=n.zoomTo)?0:i,n=n.rotateTo,void 0===r||r?t.enable():t.disable(),t.scaleX(o),t.scaleY(a),void 0!==n&&t.rotateTo(n),0<i&&t.zoomTo(i)),b&&b(e)}})),v&&v(e)),function(){var e;null!=(e=null==(e=S.current)?void 0:e.cropper)&&e.destroy()}}),[S]),a.default.createElement("div",{style:u,className:c},a.default.createElement("img",{crossOrigin:f,src:o,alt:g,style:{opacity:0,maxWidth:"100%"},ref:S}))})),t.Cropper=n,t.default=n},8660:(e,t,n)=>{function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o,a;e.exports=(o=[function(e,t){e.exports=n(67294)},function(e,t){e.exports=n(30381)},function(e,t){e.exports=n(73935)},function(e,t,n){e.exports=n(5)()},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";var r=n(6);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(3),o=(r=n.n(r),n(1)),a=n.n(o),i=n(0),l=n.n(i);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){var t=e.onClickPrev,n=e.onClickSwitch,r=e.onClickNext,o=e.switchContent,a=e.switchColSpan;return e=e.switchProps,l.a.createElement("tr",null,l.a.createElement("th",{className:"rdtPrev",onClick:t},l.a.createElement("span",null,"")),l.a.createElement("th",s({className:"rdtSwitch",colSpan:a,onClick:n},e),o),l.a.createElement("th",{className:"rdtNext",onClick:r},l.a.createElement("span",null,"")))}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(n=t?(n=h(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(r)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var y=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var n=d(r);function r(){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return m(p(e=n.call.apply(n,[this].concat(o))),"_setDate",(function(t){e.props.updateDate(t)})),e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}((t=r).prototype,[{key:"render",value:function(){return l.a.createElement("div",{className:"rdtDays"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation(),this.renderDayHeaders()),l.a.createElement("tbody",null,this.renderDays()),this.renderFooter()))}},{key:"renderNavigation",value:function(){var e=this,t=this.props.viewDate,n=t.localeData();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-1,"months")},onClickSwitch:function(){return e.props.showView("months")},onClickNext:function(){return e.props.navigate(1,"months")},switchContent:n.months(t)+" "+t.year(),switchColSpan:5,switchProps:{"data-value":this.props.viewDate.month()}})}},{key:"renderDayHeaders",value:function(){r=this.props.viewDate.localeData(),e=r.firstDayOfWeek(),t=[],n=0,r._weekdaysMin.forEach((function(r){t[(7+n++-e)%7]=r}));var e,t,n,r=t.map((function(e,t){return l.a.createElement("th",{key:e+t,className:"dow"},e)}));return l.a.createElement("tr",null,r)}},{key:"renderDays",value:function(){var e=this.props.viewDate,t=e.clone().startOf("month"),n=e.clone().endOf("month"),r=[[],[],[],[],[],[]],o=e.clone().subtract(1,"months");o.date(o.daysInMonth()).startOf("week");for(var a,i=o.clone().add(42,"d"),s=0;o.isBefore(i);)a=s++,r[Math.floor(a/7)].push(this.renderDay(o,t,n)),o.add(1,"d");return r.map((function(e,t){return l.a.createElement("tr",{key:"".concat(i.month(),"_").concat(t)},e)}))}},{key:"renderDay",value:function(e,t,n){var r=this.props.selectedDate,o={key:e.format("M_D"),"data-value":e.date(),"data-month":e.month(),"data-year":e.year()},a="rdtDay";return e.isBefore(t)?a+=" rdtOld":e.isAfter(n)&&(a+=" rdtNew"),r&&e.isSame(r,"day")&&(a+=" rdtActive"),e.isSame(this.props.moment(),"day")&&(a+=" rdtToday"),this.props.isValidDate(e)?o.onClick=this._setDate:a+=" rdtDisabled",o.className=a,this.props.renderDay(o,e.clone(),r&&r.clone())}},{key:"renderFooter",value:function(){var e,t=this;if(this.props.timeFormat)return e=this.props.viewDate,l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("td",{onClick:function(){return t.props.showView("time")},colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))}}]),Object.defineProperty(t,"prototype",{writable:!1}),r}(l.a.Component);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(n=t?(n=w(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===g(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _(r)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}m(y,"defaultProps",{isValidDate:function(){return!0},renderDay:function(e,t){return l.a.createElement("td",e,t.date())}});var S=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);var n=v(r);function r(){var e,t=this,o=r;if(!(t instanceof o))throw new TypeError("Cannot call a class as a function");for(var a,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return o=function(t){e.props.updateDate(t)},(a="_updateSelectedMonth")in(t=_(e=n.call.apply(n,[this].concat(l))))?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}((t=r).prototype,[{key:"render",value:function(){return l.a.createElement("div",{className:"rdtMonths"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation())),l.a.createElement("table",null,l.a.createElement("tbody",null,this.renderMonths())))}},{key:"renderNavigation",value:function(){var e=this,t=this.props.viewDate.year();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-1,"years")},onClickSwitch:function(){return e.props.showView("years")},onClickNext:function(){return e.props.navigate(1,"years")},switchContent:t,switchColSpan:"2"})}},{key:"renderMonths",value:function(){for(var e,t,n=[[],[],[]],r=0;r<12;r++)e=n,((t=r)<4?e[0]:t<8?e[1]:e[2]).push(this.renderMonth(r));return n.map((function(e,t){return l.a.createElement("tr",{key:t},e)}))}},{key:"renderMonth",value:function(e){var t,n=this.props.selectedDate,r="rdtMonth";return this.isDisabledMonth(e)?r+=" rdtDisabled":t=this._updateSelectedMonth,n&&n.year()===this.props.viewDate.year()&&n.month()===e&&(r+=" rdtActive"),n={key:e,className:r,"data-value":e,onClick:t},this.props.renderMonth?this.props.renderMonth(n,e,this.props.viewDate.year(),this.props.selectedDate&&this.props.selectedDate.clone()):l.a.createElement("td",n,this.getMonthText(e))}},{key:"isDisabledMonth",value:function(e){var t=this.props.isValidDate;if(!t)return!1;for(var n=this.props.viewDate.clone().set({month:e}),r=n.endOf("month").date()+1;1<r--;)if(t(n.date(r)))return!1;return!0}},{key:"getMonthText",value:function(e){var t=this.props.viewDate;return(t=t.localeData().monthsShort(t.month(e)).substring(0,3)).charAt(0).toUpperCase()+t.slice(1)}}]),Object.defineProperty(t,"prototype",{writable:!1}),r}(l.a.Component);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var P=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(n=t?(n=k(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===O(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return C(r)}}(r);function r(){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return E(C(e=n.call.apply(n,[this].concat(o))),"disabledYearsCache",{}),E(C(e),"_updateSelectedYear",(function(t){e.props.updateDate(t)})),e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}((t=r).prototype,[{key:"render",value:function(){return l.a.createElement("div",{className:"rdtYears"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation())),l.a.createElement("table",null,l.a.createElement("tbody",null,this.renderYears())))}},{key:"renderNavigation",value:function(){var e=this,t=this.getViewYear();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-10,"years")},onClickSwitch:function(){return e.props.showView("years")},onClickNext:function(){return e.props.navigate(10,"years")},switchContent:"".concat(t,"-").concat(t+9)})}},{key:"renderYears",value:function(){for(var e,t,n=this.getViewYear(),r=[[],[],[]],o=n-1;o<n+11;o++)e=r,((t=o-n)<3?e[0]:t<7?e[1]:e[2]).push(this.renderYear(o));return r.map((function(e,t){return l.a.createElement("tr",{key:t},e)}))}},{key:"renderYear",value:function(e){var t,n=this.getSelectedYear(),r="rdtYear";return this.isDisabledYear(e)?r+=" rdtDisabled":t=this._updateSelectedYear,n===e&&(r+=" rdtActive"),n={key:e,className:r,"data-value":e,onClick:t},this.props.renderYear(n,e,this.props.selectedDate&&this.props.selectedDate.clone())}},{key:"getViewYear",value:function(){return 10*parseInt(this.props.viewDate.year()/10,10)}},{key:"getSelectedYear",value:function(){return this.props.selectedDate&&this.props.selectedDate.year()}},{key:"isDisabledYear",value:function(e){var t=this.disabledYearsCache;if(void 0!==t[e])return t[e];var n=this.props.isValidDate;if(!n)return!1;for(var r=this.props.viewDate.clone().set({year:e}),o=r.endOf("year").dayOfYear()+1;1<o--;)if(n(r.dayOfYear(o)))return t[e]=!1;return t[e]=!0}}]),Object.defineProperty(t,"prototype",{writable:!1}),r}(l.a.Component);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}E(P,"defaultProps",{renderYear:function(e,t){return l.a.createElement("td",e,t)}});var I={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},L=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(n=t?(n=x(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===T(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(n=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}}(r);function r(e){var t,o,a=this;if(a instanceof r)return(a=n.call(this,e)).constraints=(t=e.timeConstraints,o={},Object.keys(I).forEach((function(e){o[e]=A(A({},I[e]),t[e]||{})})),o),a.state=a.getTimeParts(e.selectedDate||e.viewDate),a;throw new TypeError("Cannot call a class as a function")}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}((t=r).prototype,[{key:"render",value:function(){var e=this,t=[],n=this.state;return this.getCounters().forEach((function(r,o){o&&"ampm"!==r&&t.push(l.a.createElement("div",{key:"sep".concat(o),className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(r,n[r]))})),l.a.createElement("div",{className:"rdtTime"},l.a.createElement("table",null,this.renderHeader(),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"rdtCounters"},t))))))}},{key:"renderCounter",value:function(e,t){var n=this;return"hours"===e&&this.isAMPM()&&0==(t=(t-1)%12+1)&&(t=12),"ampm"===e&&(t=-1!==this.props.timeFormat.indexOf(" A")?this.props.viewDate.format("A"):this.props.viewDate.format("a")),l.a.createElement("div",{key:e,className:"rdtCounter"},l.a.createElement("span",{className:"rdtBtn",onMouseDown:function(t){return n.onStartClicking(t,"increase",e)}},""),l.a.createElement("div",{className:"rdtCount"},t),l.a.createElement("span",{className:"rdtBtn",onMouseDown:function(t){return n.onStartClicking(t,"decrease",e)}},""))}},{key:"renderHeader",value:function(){var e,t=this;if(this.props.dateFormat)return e=this.props.selectedDate||this.props.viewDate,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"rdtSwitch",colSpan:"4",onClick:function(){return t.props.showView("days")}},e.format(this.props.dateFormat))))}},{key:"onStartClicking",value:function(e,t,n){var r=this;if(!e||!e.button||0===e.button){if("ampm"===n)return this.toggleDayPart();var o={},a=document.body;o[n]=this[t](n),this.setState(o),this.timer=setTimeout((function(){r.increaseTimer=setInterval((function(){o[n]=r[t](n),r.setState(o)}),70)}),500),this.mouseUpListener=function(){clearTimeout(r.timer),clearInterval(r.increaseTimer),r.props.setTime(n,parseInt(r.state[n],10)),a.removeEventListener("mouseup",r.mouseUpListener),a.removeEventListener("touchend",r.mouseUpListener)},a.addEventListener("mouseup",this.mouseUpListener),a.addEventListener("touchend",this.mouseUpListener)}}},{key:"toggleDayPart",value:function(){var e=parseInt(this.state.hours,10);12<=e?e-=12:e+=12,this.props.setTime("hours",e)}},{key:"increase",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)+t.step;return N(e,n=n>t.max?t.min+(n-(t.max+1)):n)}},{key:"decrease",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)-t.step;return N(e,n=n<t.min?t.max+1-(t.min-n):n)}},{key:"getCounters",value:function(){var e=[],t=this.props.timeFormat;return-1!==t.toLowerCase().indexOf("h")&&(e.push("hours"),-1!==t.indexOf("m")&&(e.push("minutes"),-1!==t.indexOf("s")&&(e.push("seconds"),-1!==t.indexOf("S")&&e.push("milliseconds")))),this.isAMPM()&&e.push("ampm"),e}},{key:"isAMPM",value:function(){return-1!==this.props.timeFormat.toLowerCase().indexOf(" a")}},{key:"getTimeParts",value:function(e){var t=e.hours();return{hours:N("hours",t),minutes:N("minutes",e.minutes()),seconds:N("seconds",e.seconds()),milliseconds:N("milliseconds",e.milliseconds()),ampm:t<12?"am":"pm"}}},{key:"componentDidUpdate",value:function(e){this.props.selectedDate?this.props.selectedDate!==e.selectedDate&&this.setState(this.getTimeParts(this.props.selectedDate)):e.viewDate!==this.props.viewDate&&this.setState(this.getTimeParts(this.props.viewDate))}}]),Object.defineProperty(t,"prototype",{writable:!1}),r}(l.a.Component);function N(e,t){for(var n={hours:1,minutes:2,seconds:2,milliseconds:3},r=t+"";r.length<n[e];)r="0"+r;return r}var R=n(2);function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}void 0===B&&(B=0);var B,U,W={},z={},H=["touchstart","touchmove"];function V(e,t){return-1!==H.indexOf(t)&&U?{passive:!e.props.preventDefault}:null}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(n=t?(n=ne(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,n&&("object"===G(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return te(r)}}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function oe(){}n.d(t,"default",(function(){return se}));var ae,ie="months",le="days",se=(n=(o=r.a).oneOfType([o.instanceOf(a.a),o.instanceOf(Date),o.string]),Z(ue,l.a.Component),ae=ee(ue),X(ue,[{key:"render",value:function(){return l.a.createElement(ye,{className:this.getClassName(),onClickOut:this._handleClickOutside},this.renderInput(),l.a.createElement("div",{className:"rdtPicker"},this.renderView()))}},{key:"renderInput",value:function(){var e;if(this.props.input)return e=$($({type:"text",className:"form-control",value:this.getInputValue()},this.props.inputProps),{},{onFocus:this._onInputFocus,onChange:this._onInputChange,onKeyDown:this._onInputKeyDown,onClick:this._onInputClick}),this.props.renderInput?l.a.createElement("div",null,this.props.renderInput(e,this._openCalendar,this._closeCalendar)):l.a.createElement("input",e)}},{key:"renderView",value:function(){return this.props.renderView(this.state.currentView,this._renderCalendar)}},{key:"getInitialState",value:function(){var e=this.props,t=this.getFormat("datetime");return t=this.parseDate(e.value||e.initialValue,t),this.checkTZ(),{open:!e.input,currentView:e.initialViewMode||this.getInitialView(),viewDate:this.getInitialViewDate(t),selectedDate:t&&t.isValid()?t:void 0,inputValue:this.getInitialInputValue(t)}}},{key:"getInitialViewDate",value:function(e){var t,n=this.props.initialViewDate;if(n){if((t=this.parseDate(n,this.getFormat("datetime")))&&t.isValid())return t;ce('The initialViewDated given "'+n+'" is not valid. Using current date instead.')}else if(e&&e.isValid())return e.clone();return this.getInitialDate()}},{key:"getInitialDate",value:function(){var e=this.localMoment();return e.hour(0).minute(0).second(0).millisecond(0),e}},{key:"getInitialView",value:function(){var e=this.getFormat("date");return e?this.getUpdateOn(e):"time"}},{key:"parseDate",value:function(e,t){var n;return e&&"string"==typeof e?n=this.localMoment(e,t):e&&(n=this.localMoment(e)),n&&!n.isValid()?null:n}},{key:"getClassName",value:function(){var e="rdt",t=this.props,n=t.className;return Array.isArray(n)?e+=" "+n.join(" "):n&&(e+=" "+n),t.input||(e+=" rdtStatic"),this.isOpen()&&(e+=" rdtOpen"),e}},{key:"isOpen",value:function(){return!this.props.input||(void 0===this.props.open?this.state:this.props).open}},{key:"getUpdateOn",value:function(e){return this.props.updateOnView||(e.match(/[lLD]/)?le:-1!==e.indexOf("M")?ie:-1!==e.indexOf("Y")?"years":le)}},{key:"getLocaleData",value:function(){var e=this.props;return this.localMoment(e.value||e.defaultValue||new Date).localeData()}},{key:"getDateFormat",value:function(){var e=this.getLocaleData(),t=this.props.dateFormat;return!0===t?e.longDateFormat("L"):t||""}},{key:"getTimeFormat",value:function(){var e=this.getLocaleData(),t=this.props.timeFormat;return!0===t?e.longDateFormat("LT"):t||""}},{key:"getFormat",value:function(e){if("date"===e)return this.getDateFormat();if("time"===e)return this.getTimeFormat();e=this.getDateFormat();var t=this.getTimeFormat();return e&&t?e+" "+t:e||t}},{key:"updateTime",value:function(e,t,n,r){var o={};o[r=r?"selectedDate":"viewDate"]=this.state[r].clone()[e](t,n),this.setState(o)}},{key:"localMoment",value:function(e,t,n){var r=null;return r=(n=n||this.props).utc?a.a.utc(e,t,n.strictParsing):n.displayTimeZone?a.a.tz(e,t,n.displayTimeZone):a()(e,t,n.strictParsing),n.locale&&r.locale(n.locale),r}},{key:"checkTZ",value:function(){var e=this.props.displayTimeZone;!e||this.tzWarning||a.a.tz||(this.tzWarning=!0,ce('displayTimeZone prop with value "'+e+'" is used but moment.js timezone is not loaded.',"error"))}},{key:"componentDidUpdate",value:function(e){var t,n;e!==this.props&&(t=!1,n=this.props,["locale","utc","displayZone","dateFormat","timeFormat"].forEach((function(r){e[r]!==n[r]&&(t=!0)})),t&&this.regenerateDates(),n.value&&n.value!==e.value&&this.setViewDate(n.value),this.checkTZ())}},{key:"regenerateDates",value:function(){var e=this.props,t=this.state.viewDate.clone(),n=this.state.selectedDate&&this.state.selectedDate.clone();e.locale&&(t.locale(e.locale),n&&n.locale(e.locale)),e.utc?(t.utc(),n&&n.utc()):e.displayTimeZone?(t.tz(e.displayTimeZone),n&&n.tz(e.displayTimeZone)):(t.locale(),n&&n.locale()),e={viewDate:t,selectedDate:n},n&&n.isValid()&&(e.inputValue=n.format(this.getFormat("datetime"))),this.setState(e)}},{key:"getSelectedDate",value:function(){if(void 0===this.props.value)return this.state.selectedDate;var e=this.parseDate(this.props.value,this.getFormat("datetime"));return!(!e||!e.isValid())&&e}},{key:"getInitialInputValue",value:function(e){var t=this.props;return t.inputProps.value||(e&&e.isValid()?e.format(this.getFormat("datetime")):t.value&&"string"==typeof t.value?t.value:t.initialValue&&"string"==typeof t.initialValue?t.initialValue:"")}},{key:"getInputValue",value:function(){var e=this.getSelectedDate();return e?e.format(this.getFormat("datetime")):this.state.inputValue}},{key:"setViewDate",value:function(e){var t;return e&&(t="string"==typeof e?this.localMoment(e,this.getFormat("datetime")):this.localMoment(e))&&t.isValid()?void this.setState({viewDate:t}):ce("Invalid date passed to the `setViewDate` method: "+e)}},{key:"navigate",value:function(e){this._showView(e)}},{key:"callHandler",value:function(e,t){return!e||!1!==e(t)}}]),ue);function ue(e){var t;return K(this,ue),re(te(t=ae.call(this,e)),"_renderCalendar",(function(){var e=t.props,n=t.state,r={viewDate:n.viewDate.clone(),selectedDate:t.getSelectedDate(),isValidDate:e.isValidDate,updateDate:t._updateDate,navigate:t._viewNavigate,moment:a.a,showView:t._showView};switch(n.currentView){case"years":return r.renderYear=e.renderYear,l.a.createElement(P,r);case ie:return r.renderMonth=e.renderMonth,l.a.createElement(S,r);case le:return r.renderDay=e.renderDay,r.timeFormat=t.getFormat("time"),l.a.createElement(y,r);default:return r.dateFormat=t.getFormat("date"),r.timeFormat=t.getFormat("time"),r.timeConstraints=e.timeConstraints,r.setTime=t._setTime,l.a.createElement(L,r)}})),re(te(t),"_showView",(function(e,n){n=(n||t.state.viewDate).clone(),(e=t.props.onBeforeNavigate(e,t.state.currentView,n))&&t.state.currentView!==e&&(t.props.onNavigate(e),t.setState({currentView:e}))})),re(te(t),"viewToMethod",{days:"date",months:"month",years:"year"}),re(te(t),"nextView",{days:"time",months:"days",years:"months"}),re(te(t),"_updateDate",(function(e){var n=t.state.currentView,r=t.getUpdateOn(t.getFormat("date")),o=t.state.viewDate.clone();o[t.viewToMethod[n]](parseInt(e.target.getAttribute("data-value"),10)),"days"===n&&(o.month(parseInt(e.target.getAttribute("data-month"),10)),o.year(parseInt(e.target.getAttribute("data-year"),10))),e={viewDate:o},n===r?(e.selectedDate=o.clone(),e.inputValue=o.format(t.getFormat("datetime")),void 0===t.props.open&&t.props.input&&t.props.closeOnSelect&&t._closeCalendar(),t.props.onChange(o.clone())):t._showView(t.nextView[n],o),t.setState(e)})),re(te(t),"_viewNavigate",(function(e,n){var r=t.state.viewDate.clone();r.add(e,n),0<e?t.props.onNavigateForward(e,n):t.props.onNavigateBack(-e,n),t.setState({viewDate:r})})),re(te(t),"_setTime",(function(e,n){var r=(t.getSelectedDate()||t.state.viewDate).clone();r[e](n),t.props.value||t.setState({selectedDate:r,viewDate:r.clone(),inputValue:r.format(t.getFormat("datetime"))}),t.props.onChange(r)})),re(te(t),"_openCalendar",(function(){t.isOpen()||t.setState({open:!0},t.props.onOpen)})),re(te(t),"_closeCalendar",(function(){t.isOpen()&&t.setState({open:!1},(function(){t.props.onClose(t.state.selectedDate||t.state.inputValue)}))})),re(te(t),"_handleClickOutside",(function(){var e=t.props;e.input&&t.state.open&&void 0===e.open&&e.closeOnClickOutside&&t._closeCalendar()})),re(te(t),"_onInputFocus",(function(e){t.callHandler(t.props.inputProps.onFocus,e)&&t._openCalendar()})),re(te(t),"_onInputChange",(function(e){var n,r;t.callHandler(t.props.inputProps.onChange,e)&&(r={inputValue:e=e.target?e.target.value:e},(n=t.localMoment(e,t.getFormat("datetime"))).isValid()?(r.selectedDate=n,r.viewDate=n.clone().startOf("month")):r.selectedDate=null,t.setState(r,(function(){t.props.onChange(n.isValid()?n:t.state.inputValue)})))})),re(te(t),"_onInputKeyDown",(function(e){t.callHandler(t.props.inputProps.onKeyDown,e)&&9===e.which&&t.props.closeOnTab&&t._closeCalendar()})),re(te(t),"_onInputClick",(function(e){t.callHandler(t.props.inputProps.onClick,e)&&t._openCalendar()})),t.state=t.getInitialState(),t}function ce(e,t){var n="undefined"!=typeof window&&window.console;n&&n[t=t||"warn"]("***react-datetime:"+e)}re(se,"propTypes",{value:n,initialValue:n,initialViewDate:n,initialViewMode:o.oneOf(["years",ie,le,"time"]),onOpen:o.func,onClose:o.func,onChange:o.func,onNavigate:o.func,onBeforeNavigate:o.func,onNavigateBack:o.func,onNavigateForward:o.func,updateOnView:o.string,locale:o.string,utc:o.bool,displayTimeZone:o.string,input:o.bool,dateFormat:o.oneOfType([o.string,o.bool]),timeFormat:o.oneOfType([o.string,o.bool]),inputProps:o.object,timeConstraints:o.object,isValidDate:o.func,open:o.bool,strictParsing:o.bool,closeOnSelect:o.bool,closeOnTab:o.bool,renderView:o.func,renderInput:o.func,renderDay:o.func,renderMonth:o.func,renderYear:o.func}),re(se,"defaultProps",{onOpen:oe,onClose:oe,onCalendarOpen:oe,onCalendarClose:oe,onChange:oe,onNavigate:oe,onBeforeNavigate:function(e){return e},onNavigateBack:oe,onNavigateForward:oe,dateFormat:!0,timeFormat:!0,utc:!1,className:"",input:!0,inputProps:{},timeConstraints:{},isValidDate:function(){return!0},strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,closeOnClickOutside:!0,renderView:function(e,t){return t()}}),re(se,"moment",a.a),Z(be,l.a.Component),me=ee(be),X(be,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.className,ref:this.container},this.props.children)}},{key:"handleClickOutside",value:function(e){this.props.onClickOut(e)}},{key:"setClickOutsideRef",value:function(){return this.container.current}}]),he=(fe=be).displayName||fe.name||"Component",t=pe=i.Component,(r=ge).prototype=Object.create(t.prototype),F(r.prototype.constructor=r,t),(r=ge.prototype).getInstance=function(){if(fe.prototype&&!fe.prototype.isReactComponent)return this;var e=this.instanceRef;return e.getInstance?e.getInstance():e},r.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(de&&"function"==typeof de.handleClickOutside&&(this.__clickOutsideHandlerProp=de.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+he+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},r.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},r.componentWillUnmount=function(){this.disableOnClickOutside()},r.render=function(){var e=((e=this.props).excludeScrollbar,function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,["excludeScrollbar"]));return fe.prototype&&fe.prototype.isReactComponent?e.ref=this.getRef:e.wrappedRef=this.getRef,e.disableOnClickOutside=this.disableOnClickOutside,e.enableOnClickOutside=this.enableOnClickOutside,Object(i.createElement)(fe,e)},r=t=ge,t.displayName="OnClickOutside("+he+")",t.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:de&&de.excludeScrollbar||!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},t.getClass=function(){return fe.getClass?fe.getClass():fe};var fe,de,pe,he,me,ye=r;function ge(e){var t;return(t=pe.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if("function"!=typeof n.props.handleClickOutside){if("function"!=typeof n.handleClickOutside)throw new Error("WrappedComponent: "+he+" lacks a handleClickOutside(event) function for processing outside click events.");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.__getComponentNode=function(){var e=t.getInstance();return de&&"function"==typeof de.setClickOutsideRef?de.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(R.findDOMNode)(e)},t.enableOnClickOutside=function(){var e;"undefined"==typeof document||z[t._uid]||(void 0===U&&(U=function(){var e,t,n;if("undefined"!=typeof window&&"function"==typeof window.addEventListener)return e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){},window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}()),z[t._uid]=!0,(e=t.props.eventTypes).forEach||(e=[e]),W[t._uid]=function(e){null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&(document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&(o=n,(r=e)===t||(r.correspondingElement||r).classList.contains(o)))return!0;e=e.parentNode||e.host}var r,o;return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,W[t._uid],V(Y(t),e))})))},t.disableOnClickOutside=function(){delete z[t._uid];var e,n=W[t._uid];n&&"undefined"!=typeof document&&((e=(e=t.props.eventTypes).forEach?e:[e]).forEach((function(e){return document.removeEventListener(e,n,V(Y(t),e))})),delete W[t._uid])},t.getRef=function(e){return t.instanceRef=e},t._uid=++B,t}function be(){var e;K(this,be);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return re(te(e=me.call.apply(me,[this].concat(n))),"container",l.a.createRef()),e}}],a={},r.m=o,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4))},64448:(e,t,n)=>{"use strict";var r=n(67294),o=n(27418),a=n(63840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var l=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}n=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);var f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},h={};function m(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var y={},g=("children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)})),/[\-:]([a-z])/g);function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var o,a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null===n||0!==n.type)switch(typeof t){case"function":case"symbol":return 1;case"boolean":return r?void 0:null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return}}(e,t,n,r))return 1;if(!r&&null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}}(t,n,a,r)&&(n=null),r||null===a?(o=t,(d.call(h,o)||!d.call(p,o)&&(f.test(o)?h[o]=!0:void(p[o]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _,w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,O=60106,M=60107,C=60108,k=60114,E=60109,P=60110,T=60112,j=60113,x=60120,D=60115,A=60116,I=60121,L=60128,N=60129,R=60130,F=60131,Y=("function"==typeof Symbol&&Symbol.for&&(S=(kt=Symbol.for)("react.element"),O=kt("react.portal"),M=kt("react.fragment"),C=kt("react.strict_mode"),k=kt("react.profiler"),E=kt("react.provider"),P=kt("react.context"),T=kt("react.forward_ref"),j=kt("react.suspense"),x=kt("react.suspense_list"),D=kt("react.memo"),A=kt("react.lazy"),I=kt("react.block"),kt("react.scope"),L=kt("react.opaque.id"),N=kt("react.debug_trace_mode"),R=kt("react.offscreen"),F=kt("react.legacy_hidden")),"function"==typeof Symbol&&Symbol.iterator);function B(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function U(e){if(void 0===_)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return"\n"+_+e}var W=!1;function z(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(1!==i||1!==l)do{if(i--,--l<0||o[i]!==a[l])return"\n"+o[i].replace(" at new "," at ")}while(1<=i&&0<=l);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case M:return"Fragment";case O:return"Portal";case k:return"Profiler";case C:return"StrictMode";case j:return"Suspense";case x:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=(t=e.render).displayName||t.name||"";return e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return H(e.type);case I:return H(e._render);case A:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function V(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t,n,r=G(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&void 0!==o&&"function"==typeof o.get&&"function"==typeof o.set)return t=o.get,n=o.set,Object.defineProperty(e,r,{configurable:!0,get:function(){return t.call(this)},set:function(e){a=""+e,n.call(this,e)}}),Object.defineProperty(e,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[r]}}}(e))}function $(e){if(e){var t=e._valueTracker;if(!t)return 1;var n=t.getValue(),r="";return(e=r=e?G(e)?e.checked?"true":"false":e.value:r)!==n&&(t.setValue(e),1)}}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ne(e,t){var n,a;return e=o({children:void 0},t),n=t.children,a="",r.Children.forEach(n,(function(e){null!=e&&(a+=e)})),(t=a)&&(e.children=t),e}function re(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(n.length<=1))throw Error(i(93));n=n[0]}t=n}n=t=null==t?"":t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var se="http://www.w3.org/1999/xhtml";function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}};var fe,de,pe="undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de;function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t){var r,o;t.hasOwnProperty(n)&&(r=0===n.indexOf("--"),o=ge(n,t[n],r),"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o)}}Object.keys(me).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ve=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return 3===(e=(e=e.target||e.srcElement||window).correspondingUseElement?e.correspondingUseElement:e).nodeType?e.parentNode:e}var Oe=null,Me=null,Ce=null;function ke(e){if(e=Yr(e)){if("function"!=typeof Oe)throw Error(i(280));var t=e.stateNode;t&&(t=Ur(t),Oe(e.stateNode,e.type,t))}}function Ee(e){Me?Ce?Ce.push(e):Ce=[e]:Me=e}function Pe(){if(Me){var e=Me,t=Ce;if(Ce=Me=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function je(e,t,n,r,o){return e(t,n,r,o)}function xe(){}var De=!1,Ae=!1;function Ie(){null===Me&&null===Ce||(xe(),Pe())}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=Ur(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":e=!(r=(r=!r.disabled)?r:!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e));break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(n)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(n){Ne=!1}var Fe=!1,Ye=null,Be=!1,Ue=null,We={onError:function(e){Fe=!0,Ye=e}};function ze(e,t,n,r,o,a,i,l,s){Fe=!1,Ye=null,function(e,t,n,r,o,a,i,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(We,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(1026&(t=e).flags)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(i(188))}function qe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null===(r=o.return))break;n=r}else{if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ge(o),e;if(a===r)return Ge(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=a;break}if(s===r){l=!0,r=o,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,r=o;break}if(s===r){l=!0,r=a,n=o;break}s=s.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function $e(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return 1;t=t.return}}var Ke,Je,Xe,Ze=!1,Qe=[],et=null,tt=null,nt=null,rt=new Map,ot=new Map,at=[],it="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lt(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function st(e,t){switch(e){case"focusin":case"focusout":et=null;break;case"dragenter":case"dragleave":tt=null;break;case"mouseover":case"mouseout":nt=null;break;case"pointerover":case"pointerout":rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ot.delete(t.pointerId)}}function ut(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e=lt(t,n,r,o,a),null===t||null!==(t=Yr(t))&&Je(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o)),e}function ct(e){if(null===e.blockedOn){for(var t=e.targetContainers;0<t.length;){var n=Vt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Yr(n))&&Je(t),e.blockedOn=n,0;t.shift()}return 1}}function ft(e,t,n){ct(e)&&n.delete(t)}function dt(){for(Ze=!1;0<Qe.length;){var e=Qe[0];if(null!==e.blockedOn){null!==(e=Yr(e.blockedOn))&&Ke(e);break}for(var t=e.targetContainers;0<t.length;){var n=Vt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Qe.shift()}null!==et&&ct(et)&&(et=null),null!==tt&&ct(tt)&&(tt=null),null!==nt&&ct(nt)&&(nt=null),rt.forEach(ft),ot.forEach(ft)}function pt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ze||(Ze=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,dt)))}function ht(e){function t(t){return pt(t,e)}if(0<Qe.length){pt(Qe[0],e);for(var n=1;n<Qe.length;n++){var r=Qe[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==et&&pt(et,e),null!==tt&&pt(tt,e),null!==nt&&pt(nt,e),rt.forEach(t),ot.forEach(t),n=0;n<at.length;n++)(r=at[n]).blockedOn===e&&(r.blockedOn=null);for(;0<at.length&&null===(n=at[0]).blockedOn;)(function(e){var t=Fr(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,e.lanePriority,a.unstable_runWithPriority(e.priority,(function(){Xe(n)}))}else if(3===t&&n.stateNode.hydrate)return e.blockedOn=3===n.tag?n.stateNode.containerInfo:null}e.blockedOn=null})(n),null===n.blockedOn&&at.shift()}function mt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yt={animationend:mt("Animation","AnimationEnd"),animationiteration:mt("Animation","AnimationIteration"),animationstart:mt("Animation","AnimationStart"),transitionend:mt("Transition","TransitionEnd")},gt={},bt={};function vt(e){if(gt[e])return gt[e];if(!yt[e])return e;var t,n=yt[e];for(t in n)if(n.hasOwnProperty(t)&&t in bt)return gt[e]=n[t];return e}n&&(bt=document.createElement("div").style,"AnimationEvent"in window||(delete yt.animationend.animation,delete yt.animationiteration.animation,delete yt.animationstart.animation),"TransitionEvent"in window||delete yt.transitionend.transition);var _t=vt("animationend"),wt=vt("animationiteration"),St=vt("animationstart"),Ot=vt("transitionend"),Mt=new Map,Ct=new Map,kt=["abort","abort",_t,"animationEnd",wt,"animationIteration",St,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Et(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o="on"+((o=e[n+1])[0].toUpperCase()+o.slice(1));Ct.set(r,t),Mt.set(r,o),u(o,[r])}}(0,a.unstable_now)();var Pt=8;function Tt(e){if(0!=(1&e))return Pt=15,1;if(0!=(2&e))return Pt=14,2;if(0!=(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!=(32&e)?(Pt=11,32):0!=(t=192&e)?(Pt=10,t):0!=(256&e)?(Pt=9,256):0!=(t=3584&e)?(Pt=8,t):0!=(4096&e)?(Pt=7,4096):0!=(t=4186112&e)?(Pt=6,t):0!=(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!=(134217728&e)?(Pt=3,134217728):0!=(t=805306368&e)?(Pt=2,t):0!=(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r,o=0,a=0,i=e.expiredLanes,l=e.suspendedLanes,s=e.pingedLanes;if(0!==i?(o=i,a=Pt=15):0!=(i=134217727&n)?0!=(r=i&~l)?(o=Tt(r),a=Pt):0!=(s&=i)&&(o=Tt(s),a=Pt):0!=(i=n&~l)?(o=Tt(i),a=Pt):0!==s&&(o=Tt(s),a=Pt),0===o)return 0;if(o=n&(((o=31-Nt(o))<0?0:1<<o)<<1)-1,0!==t&&t!==o&&0==(t&l)){if(Tt(t),a<=Pt)return t;Pt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)o|=e[n=31-Nt(t)],t&=~(a=1<<n);return o}function xt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Dt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=At(24&~t))?Dt(10,t):e;case 10:return 0===(e=At(192&~t))?Dt(8,t):e;case 8:return 0===(e=At(3584&~t))&&0===(e=At(4186112&~t))&&(e=512),e;case 2:return 0===(t=At(805306368&~t))?268435456:t}throw Error(i(358,e))}function At(e){return e&-e}function It(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Lt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Nt(t)]=n}var Nt=Math.clz32||function(e){return 0===e?32:31-(Rt(e)/Ft|0)|0},Rt=Math.log,Ft=Math.LN2,Yt=a.unstable_UserBlockingPriority,Bt=a.unstable_runWithPriority,Ut=!0;function Wt(e,t,n,r){De||xe();var o=Ht,a=De;De=!0;try{je(o,e,t,n,r)}finally{(De=a)||Ie()}}function zt(e,t,n,r){Bt(Yt,Ht.bind(null,e,t,n,r))}function Ht(e,t,n,r){var o;if(Ut)if((o=0==(4&t))&&0<Qe.length&&-1<it.indexOf(e))e=lt(null,e,t,n,r),Qe.push(e);else{var a=Vt(e,t,n,r);if(null===a)o&&st(e,r);else{if(o){if(-1<it.indexOf(e))return e=lt(a,e,t,n,r),void Qe.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return et=ut(et,e,t,n,r,o),1;case"dragenter":return tt=ut(tt,e,t,n,r,o),1;case"mouseover":return nt=ut(nt,e,t,n,r,o),1;case"pointerover":var a=o.pointerId;return rt.set(a,ut(rt.get(a)||null,e,t,n,r,o)),1;case"gotpointercapture":return a=o.pointerId,ot.set(a,ut(ot.get(a)||null,e,t,n,r,o)),1}}(a,e,t,n,r))return;st(e,r)}br(e,t,r,null,n)}}}function Vt(e,t,n,r){var o=Se(r);if(null!==(o=Fr(o))){var a=He(o);if(null===a)o=null;else{var i=a.tag;if(13===i){if(null!==(o=Ve(a)))return o;o=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return br(e,t,r,o,n),null}var Gt=null,qt=null,$t=null;function Kt(){if($t)return $t;for(var e=qt,t=e.length,n=("value"in Gt?Gt.value:Gt.textContent),r=n.length,o=0;o<t&&e[o]===n[o];o++);for(var a=t-o,i=1;i<=a&&e[t-i]===n[r-i];i++);return $t=n.slice(o,1<i?1-i:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=(e=10===e?13:e)||13===e?e:0}function Xt(){return!0}function Zt(){return!1}function Qt(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Xt:Zt,this.isPropagationStopped=Zt,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}Re={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0};var en,tn,nn,rn=Qt(Re),on=Qt(Cn=o({},Re,{view:0,detail:0})),an=o({},Cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(tn=nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,e.screenY-nn.screenY):en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),ln=Qt(an),sn=Qt(o({},an,{dataTransfer:0})),un=Qt(o({},Cn,{relatedTarget:0})),cn=Qt(o({},Re,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Qt(o({},Re,{clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData}})),dn=Qt(o({},Re,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function gn(){return yn}var bn=Qt(o({},Cn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Qt(o({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=Qt(o({},Cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),wn=Qt(o({},Re,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Qt(o({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),On=[9,13,27,32],Mn=n&&"CompositionEvent"in window,Cn=null,kn=(n&&"documentMode"in document&&(Cn=document.documentMode),n&&"TextEvent"in window&&!Cn),En=n&&(!Mn||Cn&&8<Cn&&Cn<=11),Pn=String.fromCharCode(32),Tn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return 1;default:return}}function xn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1,An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?An[e.type]:"textarea"===t}function Ln(e,t,n,r){Ee(r),0<(t=_r(t,"onChange")).length&&(n=new rn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nn=null,Rn=null;function Fn(e){dr(e,0)}function Yn(e){if($(Br(e)))return e}function Bn(e,t){if("change"===e)return t}var Un=!1;function Wn(){Nn&&(Nn.detachEvent("onpropertychange",zn),Rn=Nn=null)}function zn(e){if("value"===e.propertyName&&Yn(Rn)){var t=[];if(Ln(t,Rn,e,Se(e)),e=Fn,De)e(t);else{De=!0;try{Te(e,t)}finally{De=!1,Ie()}}}}function Hn(e,t,n){"focusin"===e?(Wn(),Rn=n,(Nn=t).attachEvent("onpropertychange",zn)):"focusout"===e&&Wn()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Rn)}function Gn(e,t){if("click"===e)return Yn(t)}function qn(e,t){if("input"===e||"change"===e)return Yn(t)}n&&(Cn=n&&((Re="oninput"in document)||((an=document.createElement("div")).setAttribute("oninput","return;"),Re="function"==typeof an.oninput),Re),Un=Cn&&(!document.documentMode||9<document.documentMode));var $n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Kn=Object.prototype.hasOwnProperty;function Jn(e,t){if($n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kn.call(t,n[r])||!$n(e[n[r]],t[n[r]]))return!1;return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Qn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tr=n&&"documentMode"in document&&document.documentMode<=11,nr=null,rr=null,or=null,ar=!1;function ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==nr||nr!==K(r)||(r="selectionStart"in(r=nr)&&er(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Jn(or,r)||(or=r,0<(r=_r(rr,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nr)))}Et("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Et("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Et(kt,2);for(var lr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),sr=0;sr<lr.length;sr++)Ct.set(lr[sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(){var e;ze.apply(this,arguments),Fe&&(e=Ye,Fe=!1,Ye=null,Be||(Be=!0,Ue=e))}(r,t,void 0,e),e.currentTarget=null}function dr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=(o=e[n]).event,o=o.listeners;e:{var a=void 0;if(t)for(var i=o.length-1;0<=i;i--){var l=(u=o[i]).instance,s=u.currentTarget,u=u.listener;if(l!==a&&r.isPropagationStopped())break e;fr(r,u,s),a=l}else for(i=0;i<o.length;i++){if(l=(u=o[i]).instance,s=u.currentTarget,u=u.listener,l!==a&&r.isPropagationStopped())break e;fr(r,u,s),a=l}}}if(Be)throw e=Ue,Be=!1,Ue=null,e}function pr(e,t){var n=Wr(t),r=e+"__bubble";n.has(r)||(gr(t,e,2,!1),n.add(r))}var hr="_reactListening"+Math.random().toString(36).slice(2);function mr(e){e[hr]||(e[hr]=!0,l.forEach((function(t){cr.has(t)||yr(t,!1,e,null),yr(t,!0,e,null)})))}function yr(e,t,n,r,o){o=4<arguments.length&&void 0!==o?o:0;var a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&cr.has(e)){if("scroll"!==e)return;o|=2,a=r}r=e+"__"+(t?"capture":"bubble"),(n=Wr(a)).has(r)||(t&&(o|=4),gr(a,e,o,t),n.add(r))}function gr(e,t,n,r){var o=Ct.get(t);switch(void 0===o?2:o){case 0:o=Wt;break;case 1:o=zt;break;default:o=Ht}n=o.bind(null,t,n,e),o=!(!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t)||void 0,r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function br(e,t,n,r,o){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;i=i.return}for(;null!==l;){if(null===(i=Fr(l)))return;if(5===(s=i.tag)||6===s){r=a=i;continue e}l=l.parentNode}}r=r.return}var u=function(){var r,o,i,l=a,s=Se(n),u=[];e:{var c=Mt.get(e);if(void 0!==c){var f=rn,d=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":f=bn;break;case"focusin":d="focus",f=un;break;case"focusout":d="blur",f=un;break;case"beforeblur":case"afterblur":f=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=_n;break;case _t:case wt:case St:f=cn;break;case Ot:f=wn;break;case"scroll":f=on;break;case"wheel":f=Sn;break;case"copy":case"cut":case"paste":f=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vn}for(var p=!(m=0!=(4&t))&&"scroll"===e,h=m?null!==c?c+"Capture":null:c,m=[],y=l;null!==y;){var g,b=(g=y).stateNode;if(5===g.tag&&null!==b&&(g=b,null!==h&&null!=(b=Le(y,h))&&m.push(vr(y,b,g))),p)break;y=y.return}0<m.length&&(c=new f(c,d,null,n,s),u.push({event:c,listeners:m}))}}if(0==(7&t)){if(f="mouseout"===e||"pointerout"===e,(!(c="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(d=n.relatedTarget||n.fromElement)||!Fr(d)&&!d[Nr])&&(f||c)&&(c=s.window===s?s:(c=s.ownerDocument)?c.defaultView||c.parentWindow:window,f?(f=l,null!==(d=(d=n.relatedTarget||n.toElement)?Fr(d):null)&&(d!==(p=He(d))||5!==d.tag&&6!==d.tag)&&(d=null)):(f=null,d=l),f!==d)){if(m=ln,b="onMouseLeave",h="onMouseEnter",y="mouse","pointerout"!==e&&"pointerover"!==e||(m=vn,b="onPointerLeave",h="onPointerEnter",y="pointer"),p=null==f?c:Br(f),g=null==d?c:Br(d),(c=new m(b,y+"leave",f,n,s)).target=p,c.relatedTarget=g,b=null,Fr(s)===l&&((m=new m(h,y+"enter",d,n,s)).target=g,m.relatedTarget=p,b=m),p=b,f&&d)e:{for(h=d,y=0,g=m=f;g;g=wr(g))y++;for(g=0,b=h;b;b=wr(b))g++;for(;0<y-g;)m=wr(m),y--;for(;0<g-y;)h=wr(h),g--;for(;y--;){if(m===h||null!==h&&m===h.alternate)break e;m=wr(m),h=wr(h)}m=null}else m=null;null!==f&&Sr(u,c,f,m,!1),null!==d&&null!==p&&Sr(u,p,d,m,!0)}switch("select"===(f=(c=l?Br(l):window).nodeName&&c.nodeName.toLowerCase())||"input"===f&&"file"===c.type?r=Bn:In(c)?Un?r=qn:(r=Vn,o=Hn):!(f=c.nodeName)||"input"!==f.toLowerCase()||"checkbox"!==c.type&&"radio"!==c.type||(r=Gn),(r=r&&r(e,l))?Ln(u,r,n,s):(o&&o(e,c,l),"focusout"===e&&(o=c._wrapperState)&&o.controlled&&"number"===c.type&&te(c,"number",c.value)),o=l?Br(l):window,e){case"focusin":!In(o)&&"true"!==o.contentEditable||(nr=o,rr=l,or=null);break;case"focusout":or=rr=nr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,ir(u,n,s);break;case"selectionchange":if(tr)break;case"keydown":case"keyup":ir(u,n,s)}if(Mn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Dn?jn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(En&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Dn&&(i=Kt()):(qt="value"in(Gt=s)?Gt.value:Gt.textContent,Dn=!0)),0<(o=_r(l,v)).length&&(v=new dn(v,e,null,n,s),u.push({event:v,listeners:o}),(i||null!==(i=xn(n)))&&(v.data=i))),(i=(kn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Tn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Tn?null:e;default:return null}}:function(e,t){if(Dn)return"compositionend"===e||!Mn&&jn(e,t)?(e=Kt(),$t=qt=Gt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}})(e,n))&&0<(l=_r(l,"onBeforeInput")).length&&(s=new dn("onBeforeInput","beforeinput",null,n,s),u.push({event:s,listeners:l}),s.data=i)}dr(u,t)};if(Ae)u();else{Ae=!0;try{Es(u,void 0)}finally{Ae=!1,Ie()}}}function vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _r(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Le(e,n))&&r.unshift(vr(e,a,o)),null!=(a=Le(e,t))&&r.push(vr(e,a,o))),e=e.return}return r}function wr(e){if(null===e)return null;for(;(e=e.return)&&5!==e.tag;);return e||null}function Sr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,o?null!=(s=Le(n,a))&&i.unshift(vr(n,s,l)):null!=(s=Le(n,a))&&i.push(vr(n,s,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Or(){}var Mr=null,Cr=null;function kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return t.autoFocus}}function Er(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Pr="function"==typeof setTimeout?setTimeout:void 0,Tr="function"==typeof clearTimeout?clearTimeout:void 0;function jr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ar=0,Ir="__reactFiber$"+(an=Math.random().toString(36).slice(2)),Lr="__reactProps$"+an,Nr="__reactContainer$"+an,Rr="__reactEvents$"+an;function Fr(e){var t=e[Ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[Ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Dr(e);null!==e;){if(n=e[Ir])return n;e=Dr(e)}return t}n=(e=n).parentNode}return null}function Yr(e){return!(e=e[Ir]||e[Nr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ur(e){return e[Lr]||null}function Wr(e){var t=e[Rr];return void 0===t?e[Rr]=new Set:t}var zr=[],Hr=-1;function Vr(e){return{current:e}}function Gr(e){Hr<0||(e.current=zr[Hr],zr[Hr]=null,Hr--)}function qr(e,t){zr[++Hr]=e.current,e.current=t}var $r={},Kr=Vr($r),Jr=Vr(!1),Xr=$r;function Zr(e,t){var n=e.type.contextTypes;if(!n)return $r;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qr(e){return null!=e.childContextTypes}function eo(){Gr(Jr),Gr(Kr)}function to(e,t,n){if(Kr.current!==$r)throw Error(i(168));qr(Kr,t),qr(Jr,n)}function no(e,t,n){var r,a=e.stateNode;if(e=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(r in a=a.getChildContext())if(!(r in e))throw Error(i(108,H(t)||"Unknown",r));return o({},n,a)}function ro(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$r,Xr=Kr.current,qr(Kr,e),qr(Jr,Jr.current)}function oo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=no(e,t,Xr),r.__reactInternalMemoizedMergedChildContext=e,Gr(Jr),Gr(Kr),qr(Kr,e)):Gr(Jr),qr(Jr,n)}var ao=null,io=null,lo=a.unstable_runWithPriority,so=a.unstable_scheduleCallback,uo=a.unstable_cancelCallback,co=a.unstable_shouldYield,fo=(Re=a.unstable_requestPaint,a.unstable_now),po=a.unstable_getCurrentPriorityLevel,ho=a.unstable_ImmediatePriority,mo=a.unstable_UserBlockingPriority,yo=a.unstable_NormalPriority,go=a.unstable_LowPriority,bo=a.unstable_IdlePriority,vo={},_o=void 0!==Re?Re:function(){},wo=null,So=null,Oo=!1,Mo=fo(),Co=Mo<1e4?fo:function(){return fo()-Mo};function ko(){switch(po()){case ho:return 99;case mo:return 98;case yo:return 97;case go:return 96;case bo:return 95;default:throw Error(i(332))}}function Eo(e){switch(e){case 99:return ho;case 98:return mo;case 97:return yo;case 96:return go;case 95:return bo;default:throw Error(i(332))}}function Po(e,t){return e=Eo(e),lo(e,t)}function To(e,t,n){return e=Eo(e),so(e,t,n)}function jo(){var e;null!==So&&(e=So,So=null,uo(e)),xo()}function xo(){if(!Oo&&null!==wo){Oo=!0;var e=0;try{var t=wo;Po(99,(function(){for(;e<t.length;e++)for(var n=t[e];null!==(n=n(!0)););})),wo=null}catch(t){throw null!==wo&&(wo=wo.slice(e+1)),so(ho,jo),t}finally{Oo=!1}}}var Do=w.ReactCurrentBatchConfig;function Ao(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Io=Vr(null),Lo=null,No=null,Ro=null;function Fo(){Ro=No=Lo=null}function Yo(e){var t=Io.current;Gr(Io),e.type._context._currentValue=t}function Bo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Uo(e,t){(Ro=No=null)!==(e=(Lo=e).dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(gi=!0),e.firstContext=null)}function Wo(e,t){if(Ro!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ro=e,t=1073741823),t={context:e,observedBits:t,next:null},null===No){if(null===Lo)throw Error(i(308));No=t,Lo.dependencies={lanes:0,firstContext:t,responders:null}}else No=No.next=t;return e._currentValue}var zo=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qo(e,t){var n;null!==(e=e.updateQueue)&&(null===(n=(e=e.shared).pending)?t.next=t:(t.next=n.next,n.next=t),e.pending=t)}function $o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===a?o=a=i:a=a.next=i,null!==(n=n.next));null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ko(e,t,n,r){var a,i,l,s,u=e.updateQueue,c=(zo=!1,u.firstBaseUpdate),f=u.lastBaseUpdate;if(null!==(m=u.shared.pending)&&(u.shared.pending=null,i=(a=m).next,(a.next=null)===f?c=i:f.next=i,f=a,null!==(l=e.alternate)&&(s=(l=l.updateQueue).lastBaseUpdate)!==f&&(null===s?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=a)),null!==c){for(s=u.baseState,f=0,l=i=a=null;;){m=c.lane;var d=c.eventTime;if((r&m)===m){null!==l&&(l=l.next={eventTime:d,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var p=e,h=c,m=t;switch(d=n,h.tag){case 1:if("function"==typeof(p=h.payload)){s=p.call(d,s,m);break e}s=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(m="function"==typeof(p=h.payload)?p.call(d,s,m):p))break e;s=o({},s,m);break e;case 2:zo=!0}}null!==c.callback&&(e.flags|=32,null===(m=u.effects)?u.effects=[c]:m.push(c))}else d={eventTime:d,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},null===l?(i=l=d,a=s):l=l.next=d,f|=m;if(null===(c=c.next)){if(null===(m=u.shared.pending))break;c=m.next,m.next=null,u.lastBaseUpdate=m,u.shared.pending=null}}null===l&&(a=s),u.baseState=a,u.firstBaseUpdate=i,u.lastBaseUpdate=l,pl|=f,e.lanes=f,e.memoizedState=s}}function Jo(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Xo=(new r.Component).refs;function Zo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Qo={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fl(),o=Yl(e),a=Go(r,o);a.payload=t,null!=n&&(a.callback=n),qo(e,a),Bl(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fl(),o=Yl(e),a=Go(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),qo(e,a),Bl(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fl(),r=Yl(e),o=Go(n,r);o.tag=2,null!=t&&(o.callback=t),qo(e,o),Bl(e,r,n)}};function ea(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!(t.prototype&&t.prototype.isPureReactComponent&&Jn(n,r)&&Jn(o,a))}function ta(e,t,n){var r=!1,o=$r,a=t.contextType;t=new t(n,a="object"==typeof a&&null!==a?Wo(a):(o=Qr(t)?Xr:Kr.current,(r=null!=(r=t.contextTypes))?Zr(e,o):$r)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Qo,(e.stateNode=t)._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a)}function na(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qo.enqueueReplaceState(t,t.state,null)}function ra(e,t,n,r){var o=e.stateNode,a=(o.props=n,o.state=e.memoizedState,o.refs=Xo,Ho(e),t.contextType);"object"==typeof a&&null!==a?o.context=Wo(a):(a=Qr(t)?Xr:Kr.current,o.context=Zr(e,a)),Ko(e,n,o,r),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Zo(e,0,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Qo.enqueueReplaceState(o,o.state,null),Ko(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var oa=Array.isArray;function aa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===Xo&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function ia(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function la(e){function t(t,n){var r;e&&(null!==(r=t.lastEffect)?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8)}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=ds(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null===(r=t.alternate)||(r=r.index)<n?(t.flags=2,n):r:n}function l(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?(t=ys(n,e.mode,r)).return=e:(t=o(t,n)).return=e,t}function u(e,t,n,r){return null!==t&&t.elementType===n.type?(r=o(t,n.props)).ref=aa(0,t,n):(r=ps(n.type,n.key,n.props,null,e.mode,r)).ref=aa(0,t,n),r.return=e,r}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=gs(n,e.mode,r)).return=e:(t=o(t,n.children||[])).return=e,t}function f(e,t,n,r,a){return null===t||7!==t.tag?(t=hs(n,e.mode,r,a)).return=e:(t=o(t,n)).return=e,t}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ys(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=ps(t.type,t.key,t.props,null,e.mode,n)).ref=aa(0,null,t),n.return=e,n;case O:return(t=gs(t,e.mode,n)).return=e,t}if(oa(t)||B(t))return(t=hs(t,e.mode,n,null)).return=e,t;ia(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===o?n.type===M?f(e,t,n.props.children,r,o):u(e,t,n,r):null;case O:return n.key===o?c(e,t,n,r):null}if(oa(n)||B(n))return null!==o?null:f(e,t,n,r,null);ia(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===M?f(t,e,r.props.children,o,r.key):u(t,e,r,o);case O:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(oa(r)||B(r))return f(t,e=e.get(n)||null,r,o,null);ia(t,r)}return null}return function(s,u,c,f){var m="object"==typeof c&&null!==c&&c.type===M&&null===c.key,y="object"==typeof(c=m?c.props.children:c)&&null!==c;if(y)switch(c.$$typeof){case S:e:{for(y=c.key,m=u;null!==m;){if(m.key===y){switch(m.tag){case 7:if(c.type!==M)break;n(s,m.sibling),(u=o(m,c.props.children)).return=s,s=u;break e;default:if(m.elementType===c.type){n(s,m.sibling),(u=o(m,c.props)).ref=aa(0,m,c),u.return=s,s=u;break e}}n(s,m);break}t(s,m),m=m.sibling}s=c.type===M?((u=hs(c.props.children,s.mode,f,c.key)).return=s,u):((f=ps(c.type,c.key,c.props,null,s.mode,f)).ref=aa(0,u,c),f.return=s,f)}return l(s);case O:e:{for(m=c.key;null!==u;){if(u.key===m){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(u=o(u,c.children||[])).return=s,s=u;break e}n(s,u);break}t(s,u),u=u.sibling}(u=gs(c,s.mode,f)).return=s,s=u}return l(s)}if("string"==typeof c||"number"==typeof c)return c=""+c,(u=null!==u&&6===u.tag?(n(s,u.sibling),o(u,c)):(n(s,u),ys(c,s.mode,f))).return=s,l(s=u);if(oa(c)){for(var g=s,b=u,v=c,_=f,w=null,C=null,k=b,E=b=0,P=null;null!==k&&E<v.length;E++){k.index>E?(P=k,k=null):P=k.sibling;var T=p(g,k,v[E],_);if(null===T){null===k&&(k=P);break}e&&k&&null===T.alternate&&t(g,k),b=a(T,b,E),null===C?w=T:C.sibling=T,C=T,k=P}if(E===v.length)return n(g,k),w;if(null===k){for(;E<v.length;E++)null!==(k=d(g,v[E],_))&&(b=a(k,b,E),null===C?w=k:C.sibling=k,C=k);return w}for(k=r(g,k);E<v.length;E++)null!==(P=h(k,g,E,v[E],_))&&(e&&null!==P.alternate&&k.delete(null===P.key?E:P.key),b=a(P,b,E),null===C?w=P:C.sibling=P,C=P);return e&&k.forEach((function(e){return t(g,e)})),w}if(B(c)){var j=s,x=u,D=c,A=f,I=B(D);if("function"!=typeof I)throw Error(i(150));if(null==(D=I.call(D)))throw Error(i(151));for(var L=I=null,N=x,R=x=0,F=null,Y=D.next();null!==N&&!Y.done;R++,Y=D.next()){N.index>R?(F=N,N=null):F=N.sibling;var U=p(j,N,Y.value,A);if(null===U){null===N&&(N=F);break}e&&N&&null===U.alternate&&t(j,N),x=a(U,x,R),null===L?I=U:L.sibling=U,L=U,N=F}if(Y.done)return n(j,N),I;if(null===N){for(;!Y.done;R++,Y=D.next())null!==(Y=d(j,Y.value,A))&&(x=a(Y,x,R),null===L?I=Y:L.sibling=Y,L=Y);return I}for(N=r(j,N);!Y.done;R++,Y=D.next())null!==(Y=h(N,j,R,Y.value,A))&&(e&&null!==Y.alternate&&N.delete(null===Y.key?R:Y.key),x=a(Y,x,R),null===L?I=Y:L.sibling=Y,L=Y);return e&&N.forEach((function(e){return t(j,e)})),I}if(y&&ia(s,c),void 0===c&&!m)switch(s.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,H(s.type)||"Component"))}return n(s,u)}}var sa=la(!0),ua=la(!1),ca={},fa=Vr(ca),da=Vr(ca),pa=Vr(ca);function ha(e){if(e===ca)throw Error(i(174));return e}function ma(e,t){switch(qr(pa,t),qr(da,e),qr(fa,ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Gr(fa),qr(fa,t)}function ya(){Gr(fa),Gr(da),Gr(pa)}function ga(e){ha(pa.current);var t=ha(fa.current),n=ce(t,e.type);t!==n&&(qr(da,e),qr(fa,n))}function ba(e){da.current===e&&(Gr(fa),Gr(da))}var va=Vr(0);function _a(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=null,Sa=null,Oa=!1;function Ma(e,t){var n=cs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,1);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,1);default:return}}function ka(e){if(Oa){var t=Sa;if(t){var n=t;if(!Ca(e,t)){if(!(t=xr(n.nextSibling))||!Ca(e,t))return e.flags=-1025&e.flags|2,Oa=!1,void(wa=e);Ma(wa,n)}wa=e,Sa=xr(t.firstChild)}else e.flags=-1025&e.flags|2,Oa=!1,wa=e}}function Ea(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function Pa(e){if(e===wa){if(!Oa)return Ea(e),Oa=!0,0;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Er(t,e.memoizedProps))for(t=Sa;t;)Ma(e,t),t=xr(t.nextSibling);if(Ea(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Sa=xr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Sa=null}}else Sa=wa?xr(e.stateNode.nextSibling):null;return 1}}function Ta(){Sa=wa=null,Oa=!1}var ja=[];function xa(){for(var e=0;e<ja.length;e++)ja[e]._workInProgressVersionPrimary=null;ja.length=0}var Da=w.ReactCurrentDispatcher,Aa=w.ReactCurrentBatchConfig,Ia=0,La=null,Na=null,Ra=null,Fa=!1,Ya=!1;function Ba(){throw Error(i(321))}function Ua(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return;return 1}}function Wa(e,t,n,r,o,a){if(Ia=a,(La=t).memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=null===e||null===e.memoizedState?pi:hi,e=n(r,o),Ya){a=0;do{if(Ya=!1,!(a<25))throw Error(i(301))}while(a+=1,Ra=Na=null,t.updateQueue=null,Da.current=mi,e=n(r,o),Ya)}if(Da.current=di,t=null!==Na&&null!==Na.next,Ia=0,Ra=Na=La=null,Fa=!1,t)throw Error(i(300));return e}function za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ra?La.memoizedState=Ra=e:Ra=Ra.next=e,Ra}function Ha(){e=null===Na?null!==(e=La.alternate)?e.memoizedState:null:Na.next;var e,t=null===Ra?La.memoizedState:Ra.next;if(null!==t)Ra=t,Na=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Na=e).memoizedState,baseState:Na.baseState,baseQueue:Na.baseQueue,queue:Na.queue,next:null},null===Ra?La.memoizedState=Ra=e:Ra=Ra.next=e}return Ra}function Va(e,t){return"function"==typeof t?t(e):t}function Ga(e){var t=Ha(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r,o=(l=Na).baseQueue,a=n.pending;if(null!==a&&(null!==o&&(r=o.next,o.next=a.next,a.next=r),l.baseQueue=o=a,n.pending=null),null!==o){o=o.next;var l=l.baseState,s=r=a=null,u=o;do{var c,f=u.lane}while((Ia&f)===f?(null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),l=u.eagerReducer===e?u.eagerState:e(l,u.action)):(c={lane:f,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null},null===s?(r=s=c,a=l):s=s.next=c,La.lanes|=f,pl|=f),null!==(u=u.next)&&u!==o);null===s?a=l:s.next=r,$n(l,t.memoizedState)||(gi=!0),t.memoizedState=l,t.baseState=a,t.baseQueue=s,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function qa(e){var t=Ha(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;for(var l=o=o.next;a=e(a,l.action),(l=l.next)!==o;);$n(a,t.memoizedState)||(gi=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function $a(e,t,n){var r=(r=t._getVersion)(t._source),o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Ia&e)===e)&&(t._workInProgressVersionPrimary=r,ja.push(t))),e)return n(t._source);throw ja.push(t),Error(i(350))}function Ka(e,t,n,r){var o=al;if(null===o)throw Error(i(349));var a=t._getVersion,l=a(t._source),s=Da.current,u=(f=s.useState((function(){return $a(o,t,n)})))[1],c=f[0],f=Ra,d=(m=e.memoizedState).refs,p=d.getSnapshot,h=m.source,m=m.subscribe,y=La;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=u;var e=a(t._source);if(!$n(l,e)){e=n(t._source),$n(c,e)||(u(e),e=Yl(y),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,i=e;0<i;){var s=31-Nt(i),f=1<<s;r[s]|=e,i&=~f}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=Yl(y);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),$n(p,n)&&$n(h,t)&&$n(m,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Va,lastRenderedState:c}).dispatch=u=fi.bind(null,La,e),f.queue=e,f.baseQueue=null,c=$a(o,t,n),f.memoizedState=f.baseState=c),c}function Ja(e,t,n){return Ka(Ha(),e,t,n)}function Xa(e){var t=za();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e}).dispatch=fi.bind(null,La,e),[t.memoizedState,e]}function Za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=La.updateQueue)?(La.updateQueue=t={lastEffect:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,(n.next=e).next=r,t.lastEffect=e),e}function Qa(e){return za().memoizedState={current:e}}function ei(){return Ha().memoizedState}function ti(e,t,n,r){var o=za();La.flags|=e,o.memoizedState=Za(1|t,n,void 0,void 0===r?null:r)}function ni(e,t,n,r){var o=Ha(),a=void(r=void 0===r?null:r);if(null!==Na){var i=Na.memoizedState;if(a=i.destroy,null!==r&&Ua(r,i.deps))return void Za(t,n,a,r)}La.flags|=e,o.memoizedState=Za(1|t,n,a,r)}function ri(e,t){return ti(516,4,e,t)}function oi(e,t){return ni(516,4,e,t)}function ai(e,t){return ni(4,2,e,t)}function ii(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function li(e,t,n){return n=null!=n?n.concat([e]):null,ni(4,2,ii.bind(null,t,e),n)}function si(){}function ui(e,t){var n=Ha(),r=(t=void 0===t?null:t,n.memoizedState);return null!==r&&null!==t&&Ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ci(e,t){var n=Ha(),r=(t=void 0===t?null:t,n.memoizedState);return null!==r&&null!==t&&Ua(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fi(e,t,n){var r=Fl(),o=Yl(e),a={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===La||null!==i&&i===La)Ya=Fa=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=i(l,n);if(a.eagerReducer=i,a.eagerState=s,$n(s,l))return}catch(e){}Bl(e,o,r)}}var di={readContext:Wo,useCallback:Ba,useContext:Ba,useEffect:Ba,useImperativeHandle:Ba,useLayoutEffect:Ba,useMemo:Ba,useReducer:Ba,useRef:Ba,useState:Ba,useDebugValue:Ba,useDeferredValue:Ba,useTransition:Ba,useMutableSource:Ba,useOpaqueIdentifier:Ba,unstable_isNewReconciler:!1},pi={readContext:Wo,useCallback:function(e,t){return za().memoizedState=[e,void 0===t?null:t],e},useContext:Wo,useEffect:ri,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ti(4,2,ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var n=za();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=za();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=fi.bind(null,La,e),[r.memoizedState,e]},useRef:Qa,useState:Xa,useDebugValue:si,useDeferredValue:function(e){var t=Xa(e),n=t[0],r=t[1];return ri((function(){var t=Aa.transition;Aa.transition=1;try{r(e)}finally{Aa.transition=t}}),[e]),n},useTransition:function(){var e=Xa(!1),t=e[0];return Qa(e=function(e,t){var n=ko();Po(n<98?98:n,(function(){e(!0)})),Po(97<n?97:n,(function(){var n=Aa.transition;Aa.transition=1;try{e(!1),t()}finally{Aa.transition=n}}))}.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=za();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ka(r,e,t,n)},useOpaqueIdentifier:function(){var e,t,n;return Oa?(e=!1,n={$$typeof:L,toString:n=function(){throw e||(e=!0,t("r:"+(Ar++).toString(36))),Error(i(355))},valueOf:n},t=Xa(n)[1],0==(2&La.mode)&&(La.flags|=516,Za(5,(function(){t("r:"+(Ar++).toString(36))}),void 0,null))):Xa(n="r:"+(Ar++).toString(36)),n},unstable_isNewReconciler:!1},hi={readContext:Wo,useCallback:ui,useContext:Wo,useEffect:oi,useImperativeHandle:li,useLayoutEffect:ai,useMemo:ci,useReducer:Ga,useRef:ei,useState:function(){return Ga(Va)},useDebugValue:si,useDeferredValue:function(e){var t=Ga(Va),n=t[0],r=t[1];return oi((function(){var t=Aa.transition;Aa.transition=1;try{r(e)}finally{Aa.transition=t}}),[e]),n},useTransition:function(){var e=Ga(Va)[0];return[ei().current,e]},useMutableSource:Ja,useOpaqueIdentifier:function(){return Ga(Va)[0]},unstable_isNewReconciler:!1},mi={readContext:Wo,useCallback:ui,useContext:Wo,useEffect:oi,useImperativeHandle:li,useLayoutEffect:ai,useMemo:ci,useReducer:qa,useRef:ei,useState:function(){return qa(Va)},useDebugValue:si,useDeferredValue:function(e){var t=qa(Va),n=t[0],r=t[1];return oi((function(){var t=Aa.transition;Aa.transition=1;try{r(e)}finally{Aa.transition=t}}),[e]),n},useTransition:function(){var e=qa(Va)[0];return[ei().current,e]},useMutableSource:Ja,useOpaqueIdentifier:function(){return qa(Va)[0]},unstable_isNewReconciler:!1},yi=w.ReactCurrentOwner,gi=!1;function bi(e,t,n,r){t.child=null===e?ua(t,null,n,r):sa(t,e.child,n,r)}function vi(e,t,n,r,o){n=n.render;var a=t.ref;return Uo(t,o),r=Wa(e,t,n,r,a,o),null===e||gi?(t.flags|=1,bi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,Ii(e,t,o))}function _i(e,t,n,r,o,a){var i;return null===e?"function"!=typeof(i=n.type)||fs(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ps(n.type,null,r,t,t.mode,a)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=i,wi(e,t,i,r,o,a)):(i=e.child,0==(o&a)&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:Jn)(o,r)&&e.ref===t.ref)?Ii(e,t,a):(t.flags|=1,(e=ds(i,r)).ref=t.ref,(e.return=t).child=e))}function wi(e,t,n,r,o,a){if(null!==e&&Jn(e.memoizedProps,r)&&e.ref===t.ref){if(gi=!1,0==(a&o))return t.lanes=e.lanes,Ii(e,t,a);0!=(16384&e.flags)&&(gi=!0)}return Mi(e,t,n,r,a)}function Si(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},$l(0,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},$l(0,e),null;t.memoizedState={baseLanes:0},$l(0,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,$l(0,r);return bi(e,t,o,n),t.child}function Oi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Mi(e,t,n,r,o){var a=Zr(t,Qr(n)?Xr:Kr.current);return Uo(t,o),n=Wa(e,t,n,r,a,o),null===e||gi?(t.flags|=1,bi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,Ii(e,t,o))}function Ci(e,t,n,r,o){var a,i,l,s,u,c,f,d,p,h;return Qr(n)?(a=!0,ro(t)):a=!1,Uo(t,o),r=null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ta(t,n,r),ra(t,n,r,o),!0):null===e?(i=t.stateNode,l=t.memoizedProps,i.props=l,d=i.context,s="object"==typeof(s=n.contextType)&&null!==s?Wo(s):Zr(t,s=Qr(n)?Xr:Kr.current),(c="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||l===r&&d===s||na(0,i,r,s),zo=!1,f=t.memoizedState,i.state=f,Ko(t,r,i,o),d=t.memoizedState,l!==r||f!==d||Jr.current||zo?("function"==typeof u&&(Zo(t,0,u,r),d=t.memoizedState),(l=zo||ea(t,n,l,r,f,d,s))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=s,l):("function"==typeof i.componentDidMount&&(t.flags|=4),!1)):(i=t.stateNode,Vo(e,t),l=t.memoizedProps,s=t.type===t.elementType?l:Ao(t.type,l),i.props=s,c=t.pendingProps,f=i.context,d="object"==typeof(d=n.contextType)&&null!==d?Wo(d):Zr(t,d=Qr(n)?Xr:Kr.current),(u="function"==typeof(p=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||l===c&&f===d||na(0,i,r,d),zo=!1,f=t.memoizedState,i.state=f,Ko(t,r,i,o),h=t.memoizedState,l!==c||f!==h||Jr.current||zo?("function"==typeof p&&(Zo(t,0,p,r),h=t.memoizedState),(s=zo||ea(t,n,s,r,f,h,d))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,d),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,d)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=d,s):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),!1)),ki(e,t,n,r,a,o)}function ki(e,t,n,r,o,a){Oi(e,t);var i=0!=(64&t.flags);if(!r&&!i)return o&&oo(t,n,!1),Ii(e,t,a);r=t.stateNode,yi.current=t;var l=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=sa(t,e.child,null,a),t.child=sa(t,null,l,a)):bi(e,t,l,a),t.memoizedState=r.state,o&&oo(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?to(0,t.pendingContext,t.pendingContext!==t.context):t.context&&to(0,t.context,!1),ma(e,t.containerInfo)}var Pi={dehydrated:null,retryLane:0};function Ti(e,t,n){var r,o=t.pendingProps,a=va.current,i=!1;return(r=(r=0!=(64&t.flags))?r:(null===e||null!==e.memoizedState)&&0!=(2&a))?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),qr(va,1&a),null===e?(void 0!==o.fallback&&ka(t),e=o.children,a=o.fallback,i?(e=ji(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Pi,e):"number"==typeof o.unstable_expectedLoadTime?(e=ji(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Pi,t.lanes=33554432,e):((n=ms({mode:"visible",children:e},t.mode,n,null)).return=t).child=n):(e.memoizedState,i?(o=function(e,t,n,r,o){var a=t.mode,i=e.child,l=(e=i.sibling,{mode:"hidden",children:n});return 0==(2&a)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=l,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,(t.lastEffect=i).nextEffect=null):t.firstEffect=t.lastEffect=null):n=ds(i,l),null!==e?r=ds(e,r):(r=hs(r,a,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,o.children,o.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Pi,o):(n=function(e,t,n,r){var o=e.child;return e=o.sibling,n=ds(o,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,(n.sibling=null)!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,o.children,n),t.memoizedState=null,n))}function ji(e,t,n,r){var o=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&o)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=ms(t,o,0,null),n=hs(n,o,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function xi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Bo(e.return,t)}function Di(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.lastEffect=a)}function Ai(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(bi(e,t,r.children,n),0!=(2&(r=va.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&xi(e,n);else if(19===e.tag)xi(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qr(va,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===_a(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Di(t,!1,o,n,a,t.lastEffect);break;case"backwards":for(o=t.child,t.child=n=null;null!==o;){if(null!==(e=o.alternate)&&null===_a(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Di(t,!0,n,null,a,t.lastEffect);break;case"together":Di(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ii(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=ds(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ds(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Li(e,t){if(!Oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ni(e,t){try{for(var n="",r=t;n+=function(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 22:return z(e.type._render,!1);case 1:return z(e.type,!0);default:return""}}(r),r=r.return;);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function Ri(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Fi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ha(fa.current);var i,l=null;switch(n){case"input":a=J(e,a),r=J(e,r),l=[];break;case"option":a=ne(e,a),r=ne(e,r),l=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),l=[];break;case"textarea":a=oe(e,a),r=oe(e,r),l=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Or)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var u=a[f];for(i in u)u.hasOwnProperty(i)&&((n=n||{})[i]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?l=l||[]:(l=l||[]).push(f,null));for(f in r){var c=r[f];if(u=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(null!=c||null!=u))if("style"===f)if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||((n=n||{})[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&((n=n||{})[i]=c[i])}else n||(l=l||[]).push(f,n),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(l=l||[]).push(f,c)):"children"===f?"string"!=typeof c&&"number"!=typeof c||(l=l||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&pr("scroll",e),l||u===c||(l=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(l=l||[]).push(f,c))}n&&(l=l||[]).push("style",n);var f=l;(t.updateQueue=f)&&(t.flags|=4)}},Bi=function(e,t,n,r){n!==r&&(t.flags|=4)},Ui="function"==typeof WeakMap?WeakMap:Map;function Wi(e,t,n){(n=Go(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sl||(Sl=!0,Ol=r),Ri(0,t)},n}function zi(e,t,n){(n=Go(-1,n)).tag=3;var r,o=e.type.getDerivedStateFromError;return null!==("function"==typeof o&&(r=t.value,n.payload=function(){return Ri(0,t),o(r)}),e=e.stateNode)&&"function"==typeof e.componentDidCatch&&(n.callback=function(){"function"!=typeof o&&(null===Ml?Ml=new Set([this]):Ml.add(this),Ri(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Hi="function"==typeof WeakSet?WeakSet:Set;function Vi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ls(e,t)}else t.current=null}function Gi(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{}while(3==(3&e.tag)&&(o=e.create,e.destroy=o()),(e=e.next)!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e,o=r.next;0!=(4&(r=r.tag))&&0!=(1&r)&&(os(n,e),r=n,a=e,Pl.push(a,r),Cl||(Cl=!0,To(97,(function(){return rs(),null})))),e=o}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(o=n.elementType===n.type?t.memoizedProps:Ao(n.type,t.memoizedProps),e.componentDidUpdate(o,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Jo(0,t,e));case 3:if(null!==(t=n.updateQueue)){if((e=null)!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}Jo(0,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&ht(n))}var a;throw Error(i(163))}function qi(e,t){for(var n=e;;){if(5===n.tag){var r,o=n.stateNode;t?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=n.stateNode,r=null!=(r=n.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=ge("display",r))}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n=(n.child.return=n).child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function $i(e,t){if(io&&"function"==typeof io.onCommitFiberUnmount)try{io.onCommitFiberUnmount(ao,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=(o=n).destroy,o=o.tag;if(void 0!==r)if(0!=(4&o))os(t,n);else{o=t;try{r()}catch(e){ls(o,e)}}}while((n=n.next)!==e)}break;case 1:if(Vi(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){ls(t,e)}break;case 5:Vi(t);break;case 4:Zi(e,t)}}function Ki(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ji(e){return 5===e.tag||3===e.tag||4===e.tag}function Xi(e){e:{for(var t=e.return;null!==t;){if(Ji(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(he(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ji(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.flags)){n=n.stateNode;break e}}(r?function e(t,n,r){var o=t.tag,a=5===o||6===o;if(a)t=a?t.stateNode:t.stateNode.instance,n?(8===r.nodeType?r.parentNode:r).insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null==(r=r._reactRootContainer)&&null===n.onclick&&(n.onclick=Or));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}:function e(t,n,r){var o=t.tag,a=5===o||6===o;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling})(e,n,t)}function Zi(e,t){for(var n,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(i(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var l=e,s=o,u=s;;)if($i(l,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(l=n,s=o.stateNode,(8===l.nodeType?l.parentNode:l).removeChild(s)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o=(o.child.return=o).child;continue}}else if($i(e,o),null!==o.child){o=(o.child.return=o).child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Qi(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null))for(var r=n=n.next;3==(3&r.tag)&&(e=r.destroy,(r.destroy=void 0)!==e&&e()),(r=r.next)!==n;);return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r,a=(e=t.type,t.updateQueue);if((t.updateQueue=null)!==a){for(n[Lr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Z(n,r),we(e,o),t=we(e,r),o=0;o<a.length;o+=2){var l=a[o],s=a[o+1];"style"===l?be(n,s):"dangerouslySetInnerHTML"===l?pe(n,s):"children"===l?he(n,s):v(n,l,s,t)}switch(e){case"input":Q(n,r);break;case"textarea":ie(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?re(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?re(n,!!r.multiple,r.defaultValue,!0):re(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,ht(n.containerInfo)));case 13:return null!==t.memoizedState&&(gl=Co(),qi(t.child,!0)),void el(t);case 19:return void el(t);case 23:case 24:return void qi(t,null!==t.memoizedState)}throw Error(i(163))}function el(e){var t,n=e.updateQueue;null!==n&&((e.updateQueue=null)===(t=e.stateNode)&&(t=e.stateNode=new Hi),n.forEach((function(n){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),(t=0)===t&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===ko()?1:2:0===(t=At(62914560&~(Il=0===Il?dl:Il)))&&(t=4194304)),n=Fl(),null!==(e=Ul(e,t))&&(Lt(e,t,n),Wl(e,n))}.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})))}var tl=Math.ceil,nl=w.ReactCurrentDispatcher,rl=w.ReactCurrentOwner,ol=0,al=null,il=null,ll=0,sl=0,ul=Vr(0),cl=0,fl=null,dl=0,pl=0,hl=0,ml=0,yl=null,gl=0,bl=1/0;function vl(){bl=Co()+500}var _l,wl=null,Sl=!1,Ol=null,Ml=null,Cl=!1,kl=null,El=90,Pl=[],Tl=[],jl=null,xl=0,Dl=null,Al=-1,Il=0,Ll=0,Nl=null,Rl=!1;function Fl(){return 0!=(48&ol)?Co():-1!==Al?Al:Al=Co()}function Yl(e){return 0==(2&(e=e.mode))?1:0==(4&e)?99===ko()?1:2:(0===Il&&(Il=dl),0!==Do.transition?(0!==Ll&&(Ll=null!==yl?yl.pendingLanes:0),e=Il,t=4186112&~Ll,0!=(t&=-t)||0==(t=(e=4186112&~e)&-e)&&(t=8192),t):(e=ko(),Dt(0!=(4&ol)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Il)));var t}function Bl(e,t,n){if(50<xl)throw xl=0,Dl=null,Error(i(185));var r;null!==(e=Ul(e,t))&&(Lt(e,t,n),e===al&&(hl|=t,4===cl&&Hl(e,ll)),r=ko(),1===t?0!=(8&ol)&&0==(48&ol)?Vl(e):(Wl(e,n),0===ol&&(vl(),jo())):(0==(4&ol)||98!==r&&99!==r||(null===jl?jl=new Set([e]):jl.add(e)),Wl(e,n)),yl=e)}function Ul(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),e=(n=e).return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),e=(n=e).return;return 3===n.tag?n.stateNode:null}function Wl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var s,u=31-Nt(l),c=1<<u,f=a[u];-1===f?0!=(c&r)&&0==(c&o)||(f=t,Tt(c),s=Pt,a[u]=10<=s?f+250:6<=s?f+5e3:-1):f<=t&&(e.expiredLanes|=c),l&=~c}if(r=jt(e,e===al?ll:0),t=Pt,0===r)null!==n&&(n!==vo&&uo(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==vo&&uo(n)}n=15===t?(n=Vl.bind(null,e),null===wo?(wo=[n],So=so(ho,xo)):wo.push(n),vo):14===t?To(99,Vl.bind(null,e)):To(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),zl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function zl(e){if(Al=-1,(Ll=Il=0)!=(48&ol))throw Error(i(327));var t=e.callbackNode;if(rs()&&e.callbackNode!==t)return null;var n=jt(e,e===al?ll:0);if(0===n)return null;var r=n,o=ol,a=(ol|=16,Zl());for(al===e&&ll===r||(vl(),Jl(e,r));;)try{for(;null!==il&&!co();)es(il);break}catch(t){Xl(e,t)}if(Fo(),nl.current=a,ol=o,r=null!==il?0:(al=null,ll=0,cl),0!=(dl&hl))Jl(e,0);else if(0!==r){if(2===r&&(ol|=64,e.hydrate&&(e.hydrate=!1,jr(e.containerInfo)),0!==(n=xt(e))&&(r=Ql(e,n))),1===r)throw t=fl,Jl(e,0),Hl(e,n),Wl(e,Co()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:case 5:ns(e);break;case 3:if(Hl(e,n),(62914560&n)===n&&10<(r=gl+500-Co())){if(0!==jt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){Fl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Pr(ns.bind(null,e),r);break}ns(e);break;case 4:if(Hl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var l=31-Nt(n);a=1<<l,o<(l=r[l])&&(o=l),n&=~a}if(n=o,10<(n=((n=Co()-n)<120?120:n<480?480:n<1080?1080:n<1920?1920:n<3e3?3e3:n<4320?4320:1960*tl(n/1960))-n)){e.timeoutHandle=Pr(ns.bind(null,e),n);break}ns(e);break;default:throw Error(i(329))}}return Wl(e,Co()),e.callbackNode===t?zl.bind(null,e):null}function Hl(e,t){for(t=t&~ml&~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function Vl(e){if(0!=(48&ol))throw Error(i(327));var t,n;if(rs(),e===al&&0!=(e.expiredLanes&ll)?(n=Ql(e,t=ll),0!=(dl&hl)&&(n=Ql(e,t=jt(e,t)))):n=Ql(e,t=jt(e,0)),0!==e.tag&&2===n&&(ol|=64,e.hydrate&&(e.hydrate=!1,jr(e.containerInfo)),0!==(t=xt(e))&&(n=Ql(e,t))),1===n)throw n=fl,Jl(e,0),Hl(e,t),Wl(e,Co()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ns(e),Wl(e,Co()),null}function Gl(e,t){var n=ol;ol|=1;try{return e(t)}finally{0===(ol=n)&&(vl(),jo())}}function ql(e,t){var n=ol;ol=-2&ol|8;try{e(t)}finally{0===(ol=n)&&(vl(),jo())}}function $l(e,t){qr(ul,sl),sl|=t,dl|=t}function Kl(){sl=ul.current,Gr(ul)}function Jl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tr(n)),null!==il)for(n=il.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&eo();break;case 3:ya(),Gr(Jr),Gr(Kr),xa();break;case 5:ba(r);break;case 4:ya();break;case 13:case 19:Gr(va);break;case 10:Yo(r);break;case 23:case 24:Kl()}n=n.return}il=ds((al=e).current,null),ll=sl=dl=t,fl=null,ml=hl=pl=cl=0}function Xl(e,t){for(;;){var n=il;try{if(Fo(),Da.current=di,Fa){for(var r=La.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}Fa=!1}if(Ia=0,Ra=Na=La=null,Ya=!1,(rl.current=null)===n||null===n.return){cl=1,fl=t,il=null;break}e:{var a=e,i=n.return,l=t;if(t=ll,(v=n).flags|=2048,(v.firstEffect=v.lastEffect=null)!==l&&"object"==typeof l&&"function"==typeof l.then){var s,u,c,f,d=l,p=(0==(2&v.mode)&&((s=v.alternate)?(v.updateQueue=s.updateQueue,v.memoizedState=s.memoizedState,v.lanes=s.lanes):(v.updateQueue=null,v.memoizedState=null)),0!=(1&va.current)),h=i;do{if(f=(f=13===h.tag)?null!==(u=h.memoizedState)?null!==u.dehydrated:void 0!==(c=h.memoizedProps).fallback&&(!0!==c.unstable_avoidThisFallback||!p):f){var m,y,g=h.updateQueue;if(null===g?((m=new Set).add(d),h.updateQueue=m):g.add(d),0==(2&h.mode)){h.flags|=64,v.flags|=16384,v.flags&=-2981,1===v.tag&&(null===v.alternate?v.tag=17:((y=Go(-1,1)).tag=2,qo(v,y))),v.lanes|=1;break e}l=void 0;var b,v=t,_=a.pingCache;null===_?(_=a.pingCache=new Ui,l=new Set,_.set(d,l)):void 0===(l=_.get(d))&&(l=new Set,_.set(d,l)),l.has(v)||(l.add(v),b=ss.bind(null,a,d,v),d.then(b,b)),h.flags|=4096,h.lanes=t;break e}}while(null!==(h=h.return));l=Error((H(v.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==cl&&(cl=2),l=Ni(l,v),h=i;do{switch(h.tag){case 3:a=l,h.flags|=4096,t&=-t,h.lanes|=t,$o(h,Wi(0,a,t));break e;case 1:a=l;var w=h.type,S=h.stateNode;if(0==(64&h.flags)&&("function"==typeof w.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Ml||!Ml.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,$o(h,zi(h,a,t));break e}}}while(null!==(h=h.return))}ts(n)}catch(e){t=e,il===n&&null!==n&&(il=n=n.return);continue}break}}function Zl(){var e=nl.current;return nl.current=di,null===e?di:e}function Ql(e,t){var n=ol,r=(ol|=16,Zl());for(al===e&&ll===t||Jl(e,t);;)try{for(;null!==il;)es(il);break}catch(t){Xl(e,t)}if(Fo(),ol=n,nl.current=r,null!==il)throw Error(i(261));return al=null,ll=0,cl}function es(e){var t=_l(e.alternate,e,sl);e.memoizedProps=e.pendingProps,null===t?ts(e):il=t,rl.current=null}function ts(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Qr(t.type)&&eo(),null;case 3:return ya(),Gr(Jr),Gr(Kr),xa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Pa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ba(t);var a=ha(pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yi(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=ha(fa.current),Pa(t)){r=t.stateNode,n=t.type;var l,u=t.memoizedProps;switch(r[Ir]=t,r[Lr]=u,n){case"dialog":pr("cancel",r),pr("close",r);break;case"iframe":case"object":case"embed":pr("load",r);break;case"video":case"audio":for(e=0;e<ur.length;e++)pr(ur[e],r);break;case"source":pr("error",r);break;case"img":case"image":case"link":pr("error",r),pr("load",r);break;case"details":pr("toggle",r);break;case"input":X(r,u),pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},pr("invalid",r);break;case"textarea":ae(r,u),pr("invalid",r)}for(l in _e(n,u),e=null,u)u.hasOwnProperty(l)&&(a=u[l],"children"===l?"string"==typeof a?r.textContent!==a&&(e=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&pr("scroll",r));switch(n){case"input":q(r),ee(r,u,!0);break;case"textarea":q(r),le(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=Or)}r=e,null!==(t.updateQueue=r)&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,(e=e===se?ue(n):e)===se?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ir]=t,e[Lr]=r,Fi(e,t),t.stateNode=e,l=we(n,r),n){case"dialog":pr("cancel",e),pr("close",e),a=r;break;case"iframe":case"object":case"embed":pr("load",e),a=r;break;case"video":case"audio":for(a=0;a<ur.length;a++)pr(ur[a],e);a=r;break;case"source":pr("error",e),a=r;break;case"img":case"image":case"link":pr("error",e),pr("load",e),a=r;break;case"details":pr("toggle",e),a=r;break;case"input":X(e,r),a=J(e,r),pr("invalid",e);break;case"option":a=ne(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=o({},r,{value:void 0}),pr("invalid",e);break;case"textarea":ae(e,r),a=oe(e,r),pr("invalid",e);break;default:a=r}_e(n,a);var c,f=a;for(u in f)f.hasOwnProperty(u)&&(c=f[u],"style"===u?be(e,c):"dangerouslySetInnerHTML"===u?null!=(c=c?c.__html:void 0)&&pe(e,c):"children"===u?"string"==typeof c?"textarea"===n&&""===c||he(e,c):"number"==typeof c&&he(e,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=c&&"onScroll"===u&&pr("scroll",e):null!=c&&v(e,u,c,l)));switch(n){case"input":q(e),ee(e,r,!1);break;case"textarea":q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?re(e,!!r.multiple,u,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Or)}kr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Bi(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=ha(pa.current),ha(fa.current),Pa(t)?(r=t.stateNode,n=t.memoizedProps,r[Ir]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Ir]=t).stateNode=r}return null;case 13:return Gr(va),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Pa(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&va.current)?0===cl&&(cl=3):(0!==cl&&3!==cl||(cl=4),null===al||0==(134217727&pl)&&0==(134217727&hl)||Hl(al,ll))),(r||n)&&(t.flags|=4),null);case 4:return ya(),null===e&&mr(t.stateNode.containerInfo),null;case 10:return Yo(t),null;case 19:if(Gr(va),null===(r=t.memoizedState))return null;if(u=0!=(64&t.flags),null===(l=r.rendering))if(u)Li(r,!1);else{if(0!==cl||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=_a(e))){for(t.flags|=64,Li(r,!1),null!==(u=l.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,(u.lastEffect=null)===(l=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=l.childLanes,u.lanes=l.lanes,u.child=l.child,u.memoizedProps=l.memoizedProps,u.memoizedState=l.memoizedState,u.updateQueue=l.updateQueue,u.type=l.type,e=l.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qr(va,1&va.current|2),t.child}e=e.sibling}null!==r.tail&&Co()>bl&&(t.flags|=64,Li(r,!(u=!0)),t.lanes=33554432)}else{if(!u)if(null!==(e=_a(l))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Li(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Oa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Co()-r.renderingStartTime>bl&&1073741824!==n&&(t.flags|=64,Li(r,!(u=!0)),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Co(),n.sibling=null,t=va.current,qr(va,u?1&t|2:1&t),n):null;case 23:case 24:return Kl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}(n,t,sl)))return void(il=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&sl)||0==(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=function(e){switch(e.tag){case 1:Qr(e.type)&&eo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ya(),Gr(Jr),Gr(Kr),xa(),0!=(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return ba(e),null;case 13:return Gr(va),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Gr(va),null;case 4:return ya(),null;case 10:return Yo(e),null;case 23:case 24:return Kl(),null;default:return null}}(t)))return n.flags&=2047,void(il=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(il=t)}while(il=t=e,null!==t);0===cl&&(cl=5)}function ns(e){var t=ko();return Po(99,function(e,t){for(;rs(),null!==kl;);if(0!=(48&ol))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var l,s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Nt(a),f=1<<c;o[c]=0,s[c]=-1,u[c]=-1,a&=~f}if(null!==jl&&0==(24&r)&&jl.has(e)&&jl.delete(e),e===al&&(il=al=null,ll=0),null!==(r=1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect)){if(o=ol,ol|=32,rl.current=null,Mr=Ut,er(s=Qn())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(f=u.getSelection&&u.getSelection())&&0!==f.rangeCount){u=f.anchorNode,a=f.anchorOffset,c=f.focusNode,f=f.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var d=0,p=-1,h=-1,m=0,y=0,g=s,b=null;t:for(;;){for(;g!==u||0!==a&&3!==g.nodeType||(p=d+a),g!==c||0!==f&&3!==g.nodeType||(h=d+f),3===g.nodeType&&(d+=g.nodeValue.length),null!==(l=g.firstChild);)b=g,g=l;for(;;){if(g===s)break t;if(b===u&&++m===a&&(p=d),b===c&&++y===f&&(h=d),null!==(l=g.nextSibling))break;b=(g=b).parentNode}g=l}u=-1===p||-1===h?null:{start:p,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Nl=null,Rl=Ut=!(Cr={focusedElem:s,selectionRange:u}),wl=r;do{try{!function(){for(;null!==wl;){var e=wl.alternate,t=(Rl||null===Nl||(0!=(8&wl.flags)?$e(wl,Nl)&&(Rl=!0):13===wl.tag&&function(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}(e,wl)&&$e(wl,Nl)&&(Rl=!0)),wl.flags);0!=(256&t)&&function(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:var n,r;return 256&t.flags&&null!==e&&(n=e.memoizedProps,r=e.memoizedState,t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ao(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t);case 3:return 256&t.flags&&jr(t.stateNode.containerInfo)}throw Error(i(163))}(e,wl),0==(512&t)||Cl||(Cl=!0,To(97,(function(){return rs(),null}))),wl=wl.nextEffect}}()}catch(e){if(null===wl)throw Error(i(330));ls(wl,e),wl=wl.nextEffect}}while(null!==wl);Nl=null,wl=r;do{try{for(s=e;null!==wl;){var v,_,w=wl.flags;switch(16&w&&he(wl.stateNode,""),128&w&&null!==(v=wl.alternate)&&null!==(_=v.ref)&&("function"==typeof _?_(null):_.current=null),1038&w){case 2:Xi(wl),wl.flags&=-3;break;case 6:Xi(wl),wl.flags&=-3,Qi(wl.alternate,wl);break;case 1024:wl.flags&=-1025;break;case 1028:wl.flags&=-1025,Qi(wl.alternate,wl);break;case 4:Qi(wl.alternate,wl);break;case 8:Zi(s,u=wl);var S=u.alternate;Ki(u),null!==S&&Ki(S)}wl=wl.nextEffect}}catch(e){if(null===wl)throw Error(i(330));ls(wl,e),wl=wl.nextEffect}}while(null!==wl);if(_=Cr,v=Qn(),w=_.focusedElem,s=_.selectionRange,v!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==s&&er(w)&&(v=s.start,void 0===(_=s.end)&&(_=v),"selectionStart"in w?(w.selectionStart=v,w.selectionEnd=Math.min(_,w.value.length)):(_=(v=w.ownerDocument||document)&&v.defaultView||window).getSelection&&(_=_.getSelection(),u=w.textContent.length,S=Math.min(s.start,u),s=void 0===s.end?S:Math.min(s.end,u),!_.extend&&s<S&&(u=s,s=S,S=u),u=Zn(w,S),a=Zn(w,s),u&&a&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==a.node||_.focusOffset!==a.offset)&&((v=v.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),s<S?(_.addRange(v),_.extend(a.node,a.offset)):(v.setEnd(a.node,a.offset),_.addRange(v))))),v=[];for(_=w;_=_.parentNode;)1===_.nodeType&&v.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<v.length;w++)(_=v[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Ut=!!Mr,Cr=Mr=null,e.current=n,wl=r;do{try{for(w=e;null!==wl;){var O,M,C=wl.flags;36&C&&Gi(w,wl.alternate,wl),128&C&&(v=void 0,null!==(O=wl.ref)&&(M=wl.stateNode,wl.tag,v=M,"function"==typeof O?O(v):O.current=v)),wl=wl.nextEffect}}catch(e){if(null===wl)throw Error(i(330));ls(wl,e),wl=wl.nextEffect}}while(null!==wl);wl=null,_o(),ol=o}else e.current=n;if(Cl)Cl=!1,kl=e,El=t;else for(wl=r;null!==wl;)t=wl.nextEffect,wl.nextEffect=null,8&wl.flags&&((C=wl).sibling=null,C.stateNode=null),wl=t;if(0===(r=e.pendingLanes)&&(Ml=null),1===r?e===Dl?xl++:(xl=0,Dl=e):xl=0,n=n.stateNode,io&&"function"==typeof io.onCommitFiberRoot)try{io.onCommitFiberRoot(ao,n,void 0,64==(64&n.current.flags))}catch(e){}if(Wl(e,Co()),Sl)throw Sl=!1,e=Ol,Ol=null,e;return 0!=(8&ol)||jo(),null}.bind(null,e,t)),null}function rs(){var e;return 90!==El&&(e=97<El?97:El,El=90,Po(e,as))}function os(e,t){Tl.push(t,e),Cl||(Cl=!0,To(97,(function(){return rs(),null})))}function as(){if(null===kl)return!1;var e=kl;if(kl=null,0!=(48&ol))throw Error(i(331));var t=ol,n=(ol|=32,Tl);Tl=[];for(var r=0;r<n.length;r+=2){var o=n[r],a=n[r+1],l=o.destroy;if(o.destroy=void 0,"function"==typeof l)try{l()}catch(e){if(null===a)throw Error(i(330));ls(a,e)}}for(n=Pl,Pl=[],r=0;r<n.length;r+=2){o=n[r],a=n[r+1];try{var s=o.create;o.destroy=s()}catch(e){if(null===a)throw Error(i(330));ls(a,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return ol=t,jo(),!0}function is(e,t,n){qo(e,t=Wi(0,t=Ni(n,t),1)),t=Fl(),null!==(e=Ul(e,1))&&(Lt(e,1,t),Wl(e,t))}function ls(e,t){if(3===e.tag)is(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){is(n,e,t);break}if(1===n.tag){var r,o=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof o.componentDidCatch&&(null===Ml||!Ml.has(o))){if(qo(n,zi(n,e=Ni(t,e),1)),r=Fl(),null!==(n=Ul(n,1)))Lt(n,1,r),Wl(n,r);else if("function"==typeof o.componentDidCatch&&(null===Ml||!Ml.has(o)))try{o.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function ss(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Fl(),e.pingedLanes|=e.suspendedLanes&n,al===e&&(ll&n)===n&&(4===cl||3===cl&&(62914560&ll)===ll&&Co()-gl<500?Jl(e,0):ml|=n),Wl(e,t)}function us(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(e,t,n,r){return new us(e,t,n,r)}function fs(e){return(e=e.prototype)&&e.isReactComponent}function ds(e,t){var n=e.alternate;return null===n?((n=cs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ps(e,t,n,r,o,a){var l=2;if("function"==typeof(r=e))fs(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case M:return hs(n.children,o,a,t);case N:l=8,o|=16;break;case C:l=8,o|=1;break;case k:return(e=cs(12,n,t,8|o)).elementType=k,e.type=k,e.lanes=a,e;case j:return(e=cs(13,n,t,o)).type=j,e.elementType=j,e.lanes=a,e;case x:return(e=cs(19,n,t,o)).elementType=x,e.lanes=a,e;case R:return ms(n,o,a,t);case F:return(e=cs(24,n,t,o)).elementType=F,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:l=10;break e;case P:l=9;break e;case T:l=11;break e;case D:l=14;break e;case A:l=16,r=null;break e;case I:l=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=cs(l,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function hs(e,t,n,r){return(e=cs(7,e,r,t)).lanes=n,e}function ms(e,t,n,r){return(e=cs(23,e,r,t)).elementType=R,e.lanes=n,e}function ys(e,t,n){return(e=cs(6,e,null,t)).lanes=n,e}function gs(e,t,n){return(t=cs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=It(0),this.expirationTimes=It(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=It(0),this.mutableSourceEagerHydrationData=null}function vs(e,t,n,r){var o=t.current,a=Fl(),l=Yl(o);e:if(n){t:{if(He(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Qr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}}while(null!==(s=s.return));throw Error(i(171))}if(1===n.tag){var u=n.type;if(Qr(u)){n=no(n,u,s);break e}}n=s}else n=$r;null===t.context?t.context=n:t.pendingContext=n,(t=Go(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),qo(o,t),Bl(o,l,a)}function _s(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ws(e,t){var n;null!==(e=e.memoizedState)&&null!==e.dehydrated&&(n=e.retryLane,e.retryLane=0!==n&&n<t?n:t)}function Ss(e,t){ws(e,t),(e=e.alternate)&&ws(e,t)}function Os(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new bs(e,t,null!=n&&!0===n.hydrate),t=cs(3,null,null,2===t?7:1===t?3:0),(n.current=t).stateNode=n,Ho(t),e[Nr]=n.current,mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(o=(t=r[e])._getVersion)(t._source);null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function Ms(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function Cs(e,t,n,r,o){var a,i,l,s=n._reactRootContainer;return s?(l=s._internalRoot,"function"==typeof o&&(a=o,o=function(){var e=_s(l);a.call(e)}),vs(t,l,e,o)):(l=(s=n._reactRootContainer=function(e,t){if(!(t=t||!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))))for(var n;n=e.lastChild;)e.removeChild(n);return new Os(e,0,t?{hydrate:!0}:void 0)}(n,r))._internalRoot,"function"==typeof o&&(i=o,o=function(){var e=_s(l);i.call(e)}),ql((function(){vs(t,l,e,o)}))),_s(l)}function ks(e,t){if(Ms(t))return function(e,t,n,r){return{$$typeof:O,key:null==(r=3<arguments.length&&void 0!==r?r:null)?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null);throw Error(i(200))}_l=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Jr.current)gi=!0;else{if(0==(n&r)){switch(gi=!1,t.tag){case 3:Ei(t),Ta();break;case 5:ga(t);break;case 1:Qr(t.type)&&ro(t);break;case 4:ma(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;qr(Io,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ti(e,t,n):(qr(va,1&va.current),null!==(t=Ii(e,t,n))?t.sibling:null);qr(va,1&va.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ai(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),qr(va,va.current),r)break;return null;case 23:case 24:return t.lanes=0,Si(e,t,n)}return Ii(e,t,n)}gi=0!=(16384&e.flags)}else gi=!1;switch(t.lanes=0,t.tag){case 2:return r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=Zr(t,Kr.current),Uo(t,n),o=Wa(null,t,r,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qr(r)?(a=!0,ro(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ho(t),"function"==typeof(u=r.getDerivedStateFromProps)&&Zo(t,0,u,e),o.updater=Qo,ra((t.stateNode=o)._reactInternals=t,r,e,n),ki(null,t,r,!0,a,n)):(t.tag=0,bi(null,t,o,n),t.child);case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"==typeof e)return fs(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(o),e=Ao(o,e),a){case 0:t=Mi(null,t,o,e,n);break e;case 1:t=Ci(null,t,o,e,n);break e;case 11:t=vi(null,t,o,e,n);break e;case 14:t=_i(null,t,o,Ao(o.type,e),r,n);break e}throw Error(i(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Mi(e,t,r,o=t.elementType===r?o:Ao(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ci(e,t,r,o=t.elementType===r?o:Ao(r,o),n);case 3:if(Ei(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,Vo(e,t),Ko(t,r,null,n),(r=t.memoizedState.element)===o)Ta(),t=Ii(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Sa=xr(t.stateNode.containerInfo.firstChild),wa=t,a=Oa=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],ja.push(a);for(n=ua(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else bi(e,t,r,n),Ta();t=t.child}return t;case 5:return ga(t),null===e&&ka(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,u=o.children,Er(r,o)?u=null:null!==a&&Er(r,a)&&(t.flags|=16),Oi(e,t),bi(e,t,u,n),t.child;case 6:return null===e&&ka(t),null;case 13:return Ti(e,t,n);case 4:return ma(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=sa(t,null,r,n):bi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,vi(e,t,r,o=t.elementType===r?o:Ao(r,o),n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,u=t.memoizedProps;var a=o.value,l=t.type._context;if(qr(Io,l._currentValue),l._currentValue=a,null!==u)if(l=u.value,0==(a=$n(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(u.children===o.children&&!Jr.current){t=Ii(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var s=l.dependencies;if(null!==s)for(var u=l.child,c=s.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===l.tag&&((c=Go(-1,n&-n)).tag=2,qo(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Bo(l.return,n),s.lanes|=n;break}c=c.next}else u=10===l.tag&&l.type===t.type?null:l.child;if(null!==u)u.return=l;else for(u=l;null!==u;){if(u===t){u=null;break}if(null!==(l=u.sibling)){l.return=u.return,u=l;break}u=u.return}l=u}bi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,Uo(t,n),r=r(o=Wo(o,a.unstable_observedBits)),t.flags|=1,bi(e,t,r,n),t.child;case 14:return a=Ao(o=t.type,t.pendingProps),_i(e,t,o,a=Ao(o.type,a),r,n);case 15:return wi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ao(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Qr(r)?(e=!0,ro(t)):e=!1,Uo(t,n),ta(t,r,o),ra(t,r,o,n),ki(null,t,r,!0,e,n);case 19:return Ai(e,t,n);case 23:case 24:return Si(e,t,n)}throw Error(i(156,t.tag))},Os.prototype.render=function(e){vs(e,this._internalRoot,null,null)},Os.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;vs(null,e,null,(function(){t[Nr]=null}))},Ke=function(e){13===e.tag&&(Bl(e,4,Fl()),Ss(e,4))},Je=function(e){13===e.tag&&(Bl(e,67108864,Fl()),Ss(e,67108864))},Xe=function(e){var t,n;13===e.tag&&(t=Fl(),Bl(e,n=Yl(e),t),Ss(e,n))},Oe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ur(r);if(!o)throw Error(i(90));$(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Te=Gl,je=function(e,t,n,r,o){var a=ol;ol|=4;try{return Po(98,e.bind(null,t,n,r,o))}finally{0===(ol=a)&&(vl(),jo())}};var Es=function(e,t){var n=ol;ol|=2;try{return e(t)}finally{0===(ol=n)&&(vl(),jo())}};if(Cn={Events:[Yr,Br,Ur,Ee,Pe,rs,{current:!(xe=function(){var e;0==(49&ol)&&(null!==jl&&(e=jl,jl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Wl(e,Co())}))),jo(),rs())})}]},kt={bundleType:(n={findFiberByHostInstance:Fr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"}).bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:n.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&!(an=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&an.supportsFiber)try{ao=an.inject(kt),io=an}catch(n){}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cn,t.createPortal=ks,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0!==t)return null===(e=qe(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))},t.flushSync=function(e,t){var n=ol;if(0!=(48&n))return e(t);ol|=1;try{if(e)return Po(99,e.bind(null,t))}finally{ol=n,jo()}},t.hydrate=function(e,t,n){if(Ms(t))return Cs(null,e,t,!0,n);throw Error(i(200))},t.render=function(e,t,n){if(Ms(t))return Cs(null,e,t,!1,n);throw Error(i(200))},t.unmountComponentAtNode=function(e){if(Ms(e))return!!e._reactRootContainer&&(ql((function(){Cs(null,null,e,!1,(function(){e._reactRootContainer=null,e[Nr]=null}))})),!0);throw Error(i(40))},t.unstable_batchedUpdates=Gl,t.unstable_createPortal=function(e,t){return ks(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ms(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Cs(e,t,n,!1,r)},t.version="17.0.2"},73935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},69921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case l:case i:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case y:case m:case s:return e;default:return t}}case o:return t}}}function S(e){return w(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===c},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===i||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===s||e.$$typeof===u||e.$$typeof===d||e.$$typeof===b||e.$$typeof===v||e.$$typeof===_||e.$$typeof===g)},t.typeOf=w},59864:(e,t,n)=>{"use strict";e.exports=n(69921)},10752:(e,t)=>{"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){return null!=(t=this.constructor.getDerivedStateFromProps(e,t))?t:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Object.defineProperty(t,"__esModule",{value:!0}),o.__suppressDeprecationWarning=r.__suppressDeprecationWarning=n.__suppressDeprecationWarning=!0,t.polyfill=function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var a,i,l=null,s=null,u=null;if("function"==typeof t.componentWillMount?l="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(l="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?u="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(u="UNSAFE_componentWillUpdate"),null!==l||null!==s||null!==u)throw a=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()",Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+a+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==l?"\n  "+l:"")+(null!==s?"\n  "+s:"")+(null!==u?"\n  "+u:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks");if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n,c.call(this,e,t,n)}}return e}},49656:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(96974),a=r(n(67294)),i=n(55648),l=(n(45697),n(87641),r(n(26018)));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){e.prototype=Object.create(t.prototype),c(e.prototype.constructor=e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}function d(e,t){return"function"==typeof e?e(t):e}function p(e,t){return"string"==typeof e?i.createLocation(e,null,null,t):e}function h(e){return e}u(_,y=a.Component),_.prototype.render=function(){return a.createElement(o.Router,{history:this.history,children:this.props.children})},n=_;var m,y,g=(u(v,m=a.Component),v.prototype.render=function(){return a.createElement(o.Router,{history:this.history,children:this.props.children})},v),b=a.forwardRef;function v(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=m.call.apply(m,[this].concat(n))||this).history=i.createHashHistory(e.props),e}function _(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=y.call.apply(y,[this].concat(n))||this).history=i.createBrowserHistory(e.props),e}function w(e){return e}var S=(b=void 0===b?h:b)((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=(e=f(e,["innerRef","navigate","onClick"])).target;return e=s({},e,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}var t;e.defaultPrevented||0!==e.button||i&&"_self"!==i||(t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey||(e.preventDefault(),r())}}),e.ref=h!==b&&t||n,a.createElement("a",e)})),O=b((function(e,t){var n=e.component,r=void 0===n?S:n,u=e.replace,c=e.to,m=e.innerRef,y=f(e,["component","replace","to","innerRef"]);return a.createElement(o.__RouterContext.Consumer,null,(function(e){e||l(!1);var n=e.history,o=(o=p(d(c,e.location),e.location))?n.createHref(o):"";return o=s({},y,{href:o,navigate:function(){var t=d(c,e.location),r=i.createPath(e.location)===i.createPath(p(t));(u||r?n.replace:n.push)(t)}}),h!==b?o.ref=t||m:o.innerRef=m,a.createElement(r,o)}))})),M=a.forwardRef,C=(M=void 0===M?w:M)((function(e,t){var n,r=void 0===(n=e["aria-current"])?"page":n,i=void 0===(n=e.activeClassName)?"active":n,u=e.activeStyle,c=e.className,h=e.exact,m=e.isActive,y=e.location,g=e.sensitive,b=e.strict,v=e.style,_=e.to,S=e.innerRef,C=f(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(o.__RouterContext.Consumer,null,(function(e){e||l(!1),e=y||e.location;var n=p(d(_,e),e),f=(f=(f=n.pathname)&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"))?o.matchPath(e.pathname,{path:f,exact:h,sensitive:g,strict:b}):null,k=(e=!!(m?m(f,e):f),f="function"==typeof c?c(e):c,"function"==typeof v?v(e):v);return e&&(f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(f,i),k=s({},k,u)),e=s({"aria-current":e&&r||null,className:f,style:k,to:n},C),w!==M?e.ref=t||S:e.innerRef=S,a.createElement(O,e)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return o.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return o.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return o.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return o.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return o.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return o.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return o.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return o.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return o.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return o.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return o.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return o.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return o.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return o.withRouter}}),t.BrowserRouter=n,t.HashRouter=g,t.Link=O,t.NavLink=C},39711:(e,t,n)=>{"use strict";e.exports=n(49656)},28689:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(67294)),a=(n(45697),n(55648)),i=(n(87641),r(n(4536))),l=r(n(26018)),s=r(n(14779)),u=(n(59864),r(n(8679)));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),d(e.prototype.constructor=e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}function h(e){var t=i();return t.displayName=e,t}var m,y,g,b=h("Router-History"),v=h("Router"),_=(f(M,g=o.Component),M.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},(n=M.prototype).componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:M.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.createElement(b.Provider,{children:this.props.children||null,value:this.props.history}))},M),w=(f(O,y=o.Component),O.prototype.render=function(){return o.createElement(_,{history:this.history,children:this.props.children})},n=O,f(S,m=o.Component),(D=S.prototype).componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},D.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},D.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},D.render=function(){return null},S);function S(){return m.apply(this,arguments)||this}function O(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=y.call.apply(y,[this].concat(n))||this).history=a.createMemoryHistory(e.props),e}function M(e){var t;return(t=g.call(this,e)||this).state={location:e.history.location},t._isMounted=!1,t._pendingLocation=null,e.staticContext||(t.unlisten=e.history.listen((function(e){t._isMounted?t.setState({location:e}):t._pendingLocation=e}))),t}var C={},k=0;function E(e,t){return void 0===t&&(t={}),"/"===(e=void 0===e?"/":e)?e:function(e){if(C[e])return C[e];var t=s.compile(e);return k<1e4&&(C[e]=t,k++),t}(e)(t,{pretty:!0})}var P={},T=0;function j(e,t){var n,r=(t=t="string"==typeof(t=void 0===t?{}:t)||Array.isArray(t)?{path:t}:t).path,o=void 0!==(n=t.exact)&&n,a=void 0!==(n=t.strict)&&n,i=void 0!==(n=t.sensitive)&&n;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;t=function(e,t){var n=""+t.end+t.strict+t.sensitive;if((n=P[n]||(P[n]={}))[e])return n[e];var r=[];return t={regexp:s(e,r,t),keys:r},T<1e4&&(n[e]=t,T++),t}(n,{end:o,strict:a,sensitive:i});var r=t.regexp;if(t=t.keys,!(r=r.exec(e)))return null;var l=r[0],u=r.slice(1);return r=e===l,o&&!r?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:r,params:t.reduce((function(e,t,n){return e[t.name]=u[n],e}),{})}}),null)}f(A,x=o.Component),A.prototype.render=function(){var e=this;return o.createElement(v.Consumer,null,(function(t){t||l(!1);var n,r=c({},t,{location:r=e.props.location||t.location,match:e.props.computedMatch||(e.props.path?j(r.pathname,e.props):t.match)}),a=(t=e.props).children,i=t.component;return t=t.render,Array.isArray(a)&&(n=a,0===o.Children.count(n))&&(a=null),o.createElement(v.Provider,{value:r},r.match?a?"function"==typeof a?a(r):a:i?o.createElement(i,r):t?t(r):null:"function"==typeof a?a(r):null)}))};var x,D=A;function A(){return x.apply(this,arguments)||this}function I(e){return"/"===e.charAt(0)?e:"/"+e}function L(e){return"string"==typeof e?e:a.createPath(e)}function N(){return function(){l(!1)}}function R(){}f(z,Y=o.Component),(B=z.prototype).navigateTo=function(e,t){var n,r=void 0===(r=(n=this.props).basename)?"":r;(n=void 0===(n=n.context)?{}:n).action=t,n.location=(t=r,r=a.createLocation(e),t?c({},r,{pathname:I(t)+r.pathname}):r),n.url=L(n.location)},B.render=function(){var e=void 0===(t=(r=this.props).basename)?"":t,t=void 0===(t=r.context)?{}:t,n=void 0===(n=r.location)?"/":n,r=p(r,["basename","context","location"]),i={createHref:function(t){return I(e+L(t))},action:"POP",location:(i=e,n=a.createLocation(n),i?(i=I(i),0!==n.pathname.indexOf(i)?n:c({},n,{pathname:n.pathname.substr(i.length)})):n),push:this.handlePush,replace:this.handleReplace,go:N(),goBack:N(),goForward:N(),listen:this.handleListen,block:this.handleBlock};return o.createElement(_,c({},r,{history:i,staticContext:t}))};var F,Y,B=z,U=(f(W,F=o.Component),W.prototype.render=function(){var e=this;return o.createElement(v.Consumer,null,(function(t){t||l(!1);var n,r,a=e.props.location||t.location;return o.Children.forEach(e.props.children,(function(e){var i;null==r&&o.isValidElement(e)&&(i=(n=e).props.path||e.props.from,r=i?j(a.pathname,c({},e.props,{path:i})):t.match)})),r?o.cloneElement(n,{location:a,computedMatch:r}):null}))},W);function W(){return F.apply(this,arguments)||this}function z(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=Y.call.apply(Y,[this].concat(n))||this).handlePush=function(t){return e.navigateTo(t,"PUSH")},e.handleReplace=function(t){return e.navigateTo(t,"REPLACE")},e.handleListen=function(){return R},e.handleBlock=function(){return R},e}var H=o.useContext;function V(){return H(v).location}t.MemoryRouter=n,t.Prompt=function(e){var t=e.message,n=void 0===(e=e.when)||e;return o.createElement(v.Consumer,null,(function(e){if(e||l(!1),!n||e.staticContext)return null;var r=e.history.block;return o.createElement(w,{onMount:function(e){e.release=r(t)},onUpdate:function(e,n){n.message!==t&&(e.release(),e.release=r(t))},onUnmount:function(e){e.release()},message:t})}))},t.Redirect=function(e){var t=e.computedMatch,n=e.to,r=void 0!==(e=e.push)&&e;return o.createElement(v.Consumer,null,(function(e){e||l(!1);var i=e.history,s=(e=e.staticContext,r?i.push:i.replace),u=a.createLocation(t?"string"==typeof n?E(n,t.params):c({},n,{pathname:E(n.pathname,t.params)}):n);return e?(s(u),null):o.createElement(w,{onMount:function(){s(u)},onUpdate:function(e,t){t=a.createLocation(t.to),a.locationsAreEqual(t,c({},u,{key:t.key}))||s(u)},to:n})}))},t.Route=D,t.Router=_,t.StaticRouter=B,t.Switch=U,t.__HistoryContext=b,t.__RouterContext=v,t.generatePath=E,t.matchPath=j,t.useHistory=function(){return H(b)},t.useLocation=V,t.useParams=function(){var e=H(v).match;return e?e.params:{}},t.useRouteMatch=function(e){var t=V(),n=H(v).match;return e?j(t.pathname,e):n},t.withRouter=function(e){function t(t){var n=t.wrappedComponentRef,r=p(t,["wrappedComponentRef"]);return o.createElement(v.Consumer,null,(function(t){return t||l(!1),o.createElement(e,c({},r,t,{ref:n}))}))}var n="withRouter("+(e.displayName||e.name)+")";return t.displayName=n,t.WrappedComponent=e,u(t,e)}},96974:(e,t,n)=>{"use strict";e.exports=n(28689)},73216:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(67294)),a=r(n(45697)),i=r(n(97262));function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return function(){var t,n,r=h(e);return t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){return}}}()?(t=h(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),r=this,!(n=t)||"object"!=typeof n&&"function"!=typeof n?y(r):n}}n=n(10752);var b=function(){p(t,o.PureComponent);var e=g(t);function t(){return l(this,t),e.apply(this,arguments)}return u(t,[{key:"render",value:function(){var e=(i=this.props).children,t=i.className,n=i.split,r=i.style,a=i.size,i=i.eleRef,l=(t=["Pane",n,t],{flex:1,position:"relative",outline:"none"});return void 0!==a&&("vertical"===n?l.width=a:(l.height=a,l.display="flex"),l.flex="none"),l=Object.assign({},l,r||{}),o.createElement("div",{ref:i,className:t.join(" "),style:l},e)}}]),t}(),v=(b.propTypes={className:a.string.isRequired,children:a.node.isRequired,size:a.oneOfType([a.string,a.number]),split:a.oneOf(["vertical","horizontal"]),style:i,eleRef:a.func},b.defaultProps={},function(){p(t,o.Component);var e=g(t);function t(){return l(this,t),e.apply(this,arguments)}return u(t,[{key:"render",value:function(){var e=(u=this.props).className,t=u.onClick,n=u.onDoubleClick,r=u.onMouseDown,a=u.onTouchEnd,i=u.onTouchStart,l=u.resizerClassName,s=u.split,u=u.style;return l=[l,s,e],o.createElement("span",{role:"presentation",className:l.join(" "),style:u,onMouseDown:function(e){return r(e)},onTouchStart:function(e){e.preventDefault(),i(e)},onTouchEnd:function(e){e.preventDefault(),a(e)},onClick:function(e){t&&(e.preventDefault(),t(e))},onDoubleClick:function(e){n&&(e.preventDefault(),n(e))}})}}]),t}());function _(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}function w(e,t,n,r){return"number"==typeof r?Math.max("number"==typeof t?t:0,Math.min("number"==typeof n&&0<=n?n:1/0,r)):void 0!==e?e:t}v.propTypes={className:a.string.isRequired,onClick:a.func,onDoubleClick:a.func,onMouseDown:a.func.isRequired,onTouchStart:a.func.isRequired,onTouchEnd:a.func.isRequired,split:a.oneOf(["vertical","horizontal"]),style:i,resizerClassName:a.string.isRequired},v.defaultProps={resizerClassName:"Resizer"};var S=function(){p(t,o.Component);var e=g(t);function t(n){l(this,t),(r=e.call(this,n)).onMouseDown=r.onMouseDown.bind(y(r)),r.onTouchStart=r.onTouchStart.bind(y(r)),r.onMouseMove=r.onMouseMove.bind(y(r)),r.onTouchMove=r.onTouchMove.bind(y(r)),r.onMouseUp=r.onMouseUp.bind(y(r));var r,o=n.size,a=n.defaultSize,i=n.minSize,s=n.maxSize;return n=n.primary,a=void 0!==o?o:w(a,i,s,null),r.state={active:!1,resized:!1,pane1Size:"first"===n?a:void 0,pane2Size:"second"===n?a:void 0,instanceProps:{size:o}},r}return u(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(t.getSizeUpdate(this.props,this.state))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){e=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]}),this.onTouchStart(e)}},{key:"onTouchStart",value:function(e){var t=(r=this.props).allowResize,n=r.onDragStarted,r=r.split;t&&(_(document,window),t="vertical"===r?e.touches[0].clientX:e.touches[0].clientY,"function"==typeof n&&n(),this.setState({active:!0,position:t}))}},{key:"onMouseMove",value:function(e){e=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]}),this.onTouchMove(e)}},{key:"onTouchMove",value:function(e){var t=(i=this.props).allowResize,n=i.maxSize,r=i.minSize,o=i.onChange,a=i.split,i=i.step,l=(s=this.state).active,s=s.position;if(t&&l){_(document,window),l=(t="first"===this.props.primary)?this.pane1:this.pane2;var u=t?this.pane2:this.pane1;if(l&&l.getBoundingClientRect){var f=l.getBoundingClientRect().width,d=l.getBoundingClientRect().height;if(f="vertical"===a?f:d,d=s-("vertical"===a?e.touches[0].clientX:e.touches[0].clientY),i){if(Math.abs(d)<i)return;d=~~(d/i)*i}e=t?d:-d,i=parseInt(window.getComputedStyle(l).order),parseInt(window.getComputedStyle(u).order)<i&&(e=-e),l=n,void 0!==n&&n<=0&&(u=this.splitPane,l="vertical"===a?u.getBoundingClientRect().width+n:u.getBoundingClientRect().height+n),(i=f-e)<r?i=r:void 0!==n&&l<i?i=l:this.setState({position:s-d,resized:!0}),o&&o(i),this.setState(c({draggedSize:i},t?"pane1Size":"pane2Size",i))}}}},{key:"onMouseUp",value:function(){var e=(t=this.props).allowResize,t=t.onDragFinished,n=(r=this.state).active,r=r.draggedSize;e&&n&&("function"==typeof t&&t(r),this.setState({active:!1}))}},{key:"render",value:function(){var e=this,t=(g=this.props).allowResize,n=g.children,r=g.className,a=g.onResizerClick,i=g.onResizerDoubleClick,l=g.paneClassName,s=g.pane1ClassName,u=g.pane2ClassName,c=g.paneStyle,f=g.pane1Style,p=g.pane2Style,h=g.resizerClassName,m=g.resizerStyle,y=g.split,g=g.style,_=(w=this.state).pane1Size,w=w.pane2Size;return t=t?"":"disabled",h=h&&"".concat(h," ").concat("Resizer"),n=o.Children.toArray(n).filter((function(e){return e})),g=d({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},g),"vertical"===y?Object.assign(g,{flexDirection:"row",left:0,right:0}):Object.assign(g,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"}),r=["SplitPane",r,y,t],f=d({},c,{},f),c=d({},c,{},p),p=["Pane1",l,s].join(" "),s=["Pane2",l,u].join(" "),o.createElement("div",{className:r.join(" "),ref:function(t){e.splitPane=t},style:g},o.createElement(b,{className:p,key:"pane1",eleRef:function(t){e.pane1=t},size:_,split:y,style:f},n[0]),o.createElement(v,{className:t,onClick:a,onDoubleClick:i,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:h,split:y,style:m||{}}),o.createElement(b,{className:s,key:"pane2",eleRef:function(t){e.pane2=t},size:w,split:y,style:c},n[1]))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return t.getSizeUpdate(e,n)}},{key:"getSizeUpdate",value:function(e,t){var n={};if(t.instanceProps.size===e.size&&void 0!==e.size)return{};t=void 0!==e.size?e.size:w(e.defaultSize,e.minSize,e.maxSize,t.draggedSize);var r=(void 0!==e.size&&(n.draggedSize=t),"first"===e.primary);return n[r?"pane1Size":"pane2Size"]=t,n[r?"pane2Size":"pane1Size"]=void 0,n.instanceProps={size:e.size},n}}]),t}();S.propTypes={allowResize:a.bool,children:a.arrayOf(a.node).isRequired,className:a.string,primary:a.oneOf(["first","second"]),minSize:a.oneOfType([a.string,a.number]),maxSize:a.oneOfType([a.string,a.number]),defaultSize:a.oneOfType([a.string,a.number]),size:a.oneOfType([a.string,a.number]),split:a.oneOf(["vertical","horizontal"]),onDragStarted:a.func,onDragFinished:a.func,onChange:a.func,onResizerClick:a.func,onResizerDoubleClick:a.func,style:i,resizerStyle:i,paneClassName:a.string,pane1ClassName:a.string,pane2ClassName:a.string,paneStyle:i,pane1Style:i,pane2Style:i,resizerClassName:a.string,step:a.number},S.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},n.polyfill(S),t.Pane=b,t.default=S},5962:e=>{e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},97262:(e,t,n)=>{var r=n(5962);n=n(45697),e.exports=function(e,t,n){if(e=e[t]){var o=[];if(Object.keys(e).forEach((function(e){-1===r.indexOf(e)&&o.push(e)})),o.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+o.join(", "))}},e.exports.isRequired=function(t,n,r){if(t[n])return e.exports(t,n,r);throw new Error("Prop "+n+" passed to "+r+" is required")},e.exports.supportingArrays=n.oneOfType([n.arrayOf(e.exports),e.exports])},849:(e,t,n)=>{"use strict";var r=n(20862),o=n(95318),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(n(34575))),i=o(n(93913)),l=o(n(78585)),s=o(n(29754)),u=o(n(81506)),c=o(n(2205)),f=o(n(59713)),d=r(n(67294)),p=o(n(55736));function h(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}r=function(e){function t(){var e,n;(0,a.default)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o))),(0,f.default)((0,u.default)(n),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),(0,f.default)((0,u.default)(n),"_parentNode",void 0),(0,f.default)((0,u.default)(n),"_autoSizer",void 0),(0,f.default)((0,u.default)(n),"_window",void 0),(0,f.default)((0,u.default)(n),"_detectElementResize",void 0),(0,f.default)((0,u.default)(n),"_onResize",(function(){var e,t,r,o,a,i,l=(u=n.props).disableHeight,s=u.disableWidth,u=u.onResize;n._parentNode&&(e=n._parentNode.offsetHeight||0,t=n._parentNode.offsetWidth||0,i=(n._window||window).getComputedStyle(n._parentNode)||{},r=parseInt(i.paddingLeft,10)||0,o=parseInt(i.paddingRight,10)||0,a=parseInt(i.paddingTop,10)||0,i=parseInt(i.paddingBottom,10)||0,(!l&&n.state.height!==e-a-i||!s&&n.state.width!==t-r-o)&&(n.setState({height:e-a-i,width:t-r-o}),u({height:e,width:t})))})),(0,f.default)((0,u.default)(n),"_setRef",(function(e){n._autoSizer=e})),n}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=(0,p.default)(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=(o=this.props).children,t=o.className,n=o.disableHeight,r=o.disableWidth,o=o.style,a=(i=this.state).height,i=i.width,l={overflow:"visible"},s={};return n||(l.height=0,s.height=a),r||(l.width=0,s.width=i),d.createElement("div",{className:t,ref:this._setRef,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l,{},o)},e(s))}}]),t}(d.Component),t.default=r,(0,f.default)(r,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}})},90143:(e,t,n)=>{"use strict";var r=n(95318),o=(Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"AutoSizer",{enumerable:!0,get:function(){return o.default}}),r(n(849)))},41427:(e,t,n)=>{"use strict";var r=n(20862),o=n(95318),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=void 0,o(n(67154))),i=o(n(34575)),l=o(n(93913)),s=o(n(78585)),u=o(n(29754)),c=o(n(81506)),f=o(n(2205)),d=o(n(59713)),p=r(n(67294)),h=o(n(57966)),m=o(n(38022)),y=o(n(15825)),g=o(n(41498)),b=r(n(74070)),v=o(n(4675)),_=(r=o(n(8824)),o=o(n(32317)),n(10752)),w=n(96271);function S(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=150;var M="requested";n=function(e){function t(e){(0,i.default)(this,t),n=(0,s.default)(this,(0,u.default)(t).call(this,e)),(0,d.default)((0,c.default)(n),"_onGridRenderedMemoizer",(0,g.default)()),(0,d.default)((0,c.default)(n),"_onScrollMemoizer",(0,g.default)(!1)),(0,d.default)((0,c.default)(n),"_deferredInvalidateColumnIndex",null),(0,d.default)((0,c.default)(n),"_deferredInvalidateRowIndex",null),(0,d.default)((0,c.default)(n),"_recomputeScrollLeftFlag",!1),(0,d.default)((0,c.default)(n),"_recomputeScrollTopFlag",!1),(0,d.default)((0,c.default)(n),"_horizontalScrollBarSize",0),(0,d.default)((0,c.default)(n),"_verticalScrollBarSize",0),(0,d.default)((0,c.default)(n),"_scrollbarPresenceChanged",!1),(0,d.default)((0,c.default)(n),"_scrollingContainer",void 0),(0,d.default)((0,c.default)(n),"_childrenToDisplay",void 0),(0,d.default)((0,c.default)(n),"_columnStartIndex",void 0),(0,d.default)((0,c.default)(n),"_columnStopIndex",void 0),(0,d.default)((0,c.default)(n),"_rowStartIndex",void 0),(0,d.default)((0,c.default)(n),"_rowStopIndex",void 0),(0,d.default)((0,c.default)(n),"_renderedColumnStartIndex",0),(0,d.default)((0,c.default)(n),"_renderedColumnStopIndex",0),(0,d.default)((0,c.default)(n),"_renderedRowStartIndex",0),(0,d.default)((0,c.default)(n),"_renderedRowStopIndex",0),(0,d.default)((0,c.default)(n),"_initialScrollTop",void 0),(0,d.default)((0,c.default)(n),"_initialScrollLeft",void 0),(0,d.default)((0,c.default)(n),"_disablePointerEventsTimeoutId",void 0),(0,d.default)((0,c.default)(n),"_styleCache",{}),(0,d.default)((0,c.default)(n),"_cellCache",{}),(0,d.default)((0,c.default)(n),"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),(0,d.default)((0,c.default)(n),"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),(0,d.default)((0,c.default)(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),(0,d.default)((0,c.default)(n),"_onScroll",(function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)}));var n,r=new y.default({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new y.default({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:b.SCROLL_DIRECTION_FORWARD,scrollDirectionVertical:b.SCROLL_DIRECTION_FORWARD,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},0<e.scrollToRow&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),0<e.scrollToColumn&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return(0,f.default)(t,e),(0,l.default)(t,[{key:"getOffsetForCell",value:function(){var e=void 0===(e=(n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).alignment)?this.props.scrollToAlignment:e,t=void 0===(t=n.columnIndex)?this.props.scrollToColumn:t,n=void 0===(n=n.rowIndex)?this.props.scrollToRow:n;return e=O({},this.props,{scrollToAlignment:e,scrollToColumn:t,scrollToRow:n}),{scrollLeft:this._getCalculatedScrollLeft(e),scrollTop:this._getCalculatedScrollTop(e)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t,n,r,o,a,i,l,s=void 0===(s=e.scrollLeft)?0:s;(e=void 0===(e=e.scrollTop)?0:e)<0||(this._debounceScrollEnded(),t=(i=this.props).autoHeight,n=i.autoWidth,l=i.height,i=i.width,r=(a=this.state.instanceProps).scrollbarSize,o=a.rowSizeAndPositionManager.getTotalSize(),a=a.columnSizeAndPositionManager.getTotalSize(),i=Math.min(Math.max(0,a-i+r),s),s=Math.min(Math.max(0,o-l+r),e),this.state.scrollLeft===i&&this.state.scrollTop===s||(l={isScrolling:!0,scrollDirectionHorizontal:i!==this.state.scrollLeft?i>this.state.scrollLeft?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionHorizontal,scrollDirectionVertical:s!==this.state.scrollTop?s>this.state.scrollTop?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionVertical,scrollPositionChangeReason:"observed"},t||(l.scrollTop=s),n||(l.scrollLeft=i),l.needToResetStyleCache=!1,this.setState(l)),this._invokeOnScrollMemoizer({scrollLeft:i,scrollTop:s,totalColumnsWidth:a,totalRowsHeight:o}))}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex;e=e.rowIndex,this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,e):e}},{key:"measureAllCells",value:function(){var e=(t=this.props).columnCount,t=t.rowCount,n=this.state.instanceProps;n.columnSizeAndPositionManager.getSizeAndPositionOfCell(e-1),n.rowSizeAndPositionManager.getSizeAndPositionOfCell(t-1)}},{key:"recomputeGridSize",value:function(){var e=void 0===(e=(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).columnIndex)?0:e,t=void 0===(t=t.rowIndex)?0:t,n=(r=this.props).scrollToColumn,r=r.scrollToRow,o=this.state.instanceProps;o.columnSizeAndPositionManager.resetCell(e),o.rowSizeAndPositionManager.resetCell(t),this._recomputeScrollLeftFlag=0<=n&&(this.state.scrollDirectionHorizontal===b.SCROLL_DIRECTION_FORWARD?e<=n:n<=e),this._recomputeScrollTopFlag=0<=r&&(this.state.scrollDirectionVertical===b.SCROLL_DIRECTION_FORWARD?t<=r:r<=t),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=(e=e.rowIndex,this.props.columnCount),r=this.props;1<n&&void 0!==t&&this._updateScrollLeftForScrollToColumn(O({},r,{scrollToColumn:t})),void 0!==e&&this._updateScrollTopForScrollToRow(O({},r,{scrollToRow:e}))}},{key:"componentDidMount",value:function(){var e=(l=this.props).getScrollbarSize,n=l.height,r=l.scrollLeft,o=l.scrollToColumn,a=l.scrollTop,i=l.scrollToRow,l=l.width,s=this.state.instanceProps,u=(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),s.scrollbarSizeMeasured||this.setState((function(t){return(t=O({},t,{needToResetStyleCache:!1})).instanceProps.scrollbarSize=e(),t.instanceProps.scrollbarSizeMeasured=!0,t})),!("number"==typeof r&&0<=r||"number"==typeof a&&0<=a)||(u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:a}))&&(u.needToResetStyleCache=!1,this.setState(u)),this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop)),0<n&&0<l);0<=o&&u&&this._updateScrollLeftForScrollToColumn(),0<=i&&u&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:a||0,totalColumnsWidth:s.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:s.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=(f=this.props).autoHeight,o=f.autoWidth,a=f.columnCount,i=f.height,l=f.rowCount,s=f.scrollToAlignment,u=f.scrollToColumn,c=f.scrollToRow,f=f.width,d=(m=this.state).scrollLeft,p=m.scrollPositionChangeReason,h=m.scrollTop,m=m.instanceProps;this._handleInvalidatedGridSize(),a=0<a&&0===e.columnCount||0<l&&0===e.rowCount,p===M&&(!o&&0<=d&&(d!==this._scrollingContainer.scrollLeft||a)&&(this._scrollingContainer.scrollLeft=d),!r&&0<=h&&(h!==this._scrollingContainer.scrollTop||a)&&(this._scrollingContainer.scrollTop=h)),l=(0===e.width||0===e.height)&&0<i&&0<f,this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):(0,v.default)({cellSizeAndPositionManager:m.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:d,scrollToAlignment:s,scrollToIndex:u,size:f,sizeJustIncreasedFromZero:l,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):(0,v.default)({cellSizeAndPositionManager:m.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:h,scrollToAlignment:s,scrollToIndex:c,size:i,sizeJustIncreasedFromZero:l,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),d===t.scrollLeft&&h===t.scrollTop||(p=m.rowSizeAndPositionManager.getTotalSize(),o=m.columnSizeAndPositionManager.getTotalSize(),this._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:h,totalColumnsWidth:o,totalRowsHeight:p})),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&(0,w.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=(y=this.props).autoContainerWidth,t=y.autoHeight,n=y.autoWidth,r=y.className,o=y.containerProps,i=y.containerRole,l=y.containerStyle,s=y.height,u=y.id,c=y.noContentRenderer,f=y.role,d=y.style,m=y.tabIndex,y=y.width,g=(b=this.state).instanceProps,b=b.needToResetStyleCache,v=this._isScrolling(),_=(t={boxSizing:"border-box",direction:"ltr",height:t?"auto":s,position:"relative",width:n?"auto":y,WebkitOverflowScrolling:"touch",willChange:"transform"},b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state),n=g.columnSizeAndPositionManager.getTotalSize(),s<(b=g.rowSizeAndPositionManager.getTotalSize())?g.scrollbarSize:0);return g=0===((g=y<n?g.scrollbarSize:0)===this._horizontalScrollBarSize&&_===this._verticalScrollBarSize||(this._horizontalScrollBarSize=g,this._verticalScrollBarSize=_,this._scrollbarPresenceChanged=!0),t.overflowX=n+_<=y?"hidden":"auto",t.overflowY=b+g<=s?"hidden":"auto",_=this._childrenToDisplay).length&&0<s&&0<y,p.createElement("div",(0,a.default)({ref:this._setScrollingContainerRef},o,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:(0,h.default)("ReactVirtualized__Grid",r),id:u,onScroll:this._onScroll,role:f,style:O({},t,{},d),tabIndex:m}),0<_.length&&p.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:i,style:O({width:e?"auto":n,height:b,maxWidth:n,maxHeight:b,overflow:"hidden",pointerEvents:v?"none":"",position:"relative"},l)},_),g&&c())}},{key:"_calculateChildrenToRender",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,a=e.deferredMeasurementCache,i=e.height,l=e.overscanColumnCount,s=e.overscanIndicesGetter,u=e.overscanRowCount,c=e.rowCount,f=e.width,d=e.isScrollingOptOut,p=t.scrollDirectionHorizontal,h=t.scrollDirectionVertical,m=t.instanceProps,y=0<this._initialScrollTop?this._initialScrollTop:t.scrollTop,g=0<this._initialScrollLeft?this._initialScrollLeft:t.scrollLeft;if(e=this._isScrolling(e,t),this._childrenToDisplay=[],0<i&&0<f){t=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:g});var b=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:i,offset:y}),v=(f=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:g}),i=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:i,offset:y}),this._renderedColumnStartIndex=t.start,this._renderedColumnStopIndex=t.stop,this._renderedRowStartIndex=b.start,this._renderedRowStopIndex=b.stop,l=s({direction:"horizontal",cellCount:o,overscanCellsCount:l,scrollDirection:p,startIndex:"number"==typeof t.start?t.start:0,stopIndex:"number"==typeof t.stop?t.stop:-1}),p=s({direction:"vertical",cellCount:c,overscanCellsCount:u,scrollDirection:h,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),l.overscanStartIndex),_=l.overscanStopIndex,w=p.overscanStartIndex,S=p.overscanStopIndex;if(a){if(!a.hasFixedHeight())for(var O=w;O<=S;O++)if(!a.has(O,0)){v=0,_=o-1;break}if(!a.hasFixedWidth())for(var M=v;M<=_;M++)if(!a.has(0,M)){w=0,S=c-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:v,columnStopIndex:_,deferredMeasurementCache:a,horizontalOffsetAdjustment:f,isScrolling:e,isScrollingOptOut:d,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:w,rowStopIndex:S,scrollLeft:g,scrollTop:y,styleCache:this._styleCache,verticalOffsetAdjustment:i,visibleColumnIndices:t,visibleRowIndices:b}),this._columnStartIndex=v,this._columnStopIndex=_,this._rowStartIndex=w,this._rowStopIndex=S}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&(0,w.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=(0,w.requestAnimationTimeout)(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){var e,t;"number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex&&(e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex,this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}))}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,a=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=(e=e.scrollTop,t.props),i=r.height;(0,r.onScroll)({clientHeight:i,clientWidth:r.width,scrollHeight:a,scrollLeft:n,scrollTop:e,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){var e;this._scrollbarPresenceChanged&&(e=this.props.onScrollbarPresenceChange,this._scrollbarPresenceChanged=!1,e({horizontal:0<this._horizontalScrollBarSize,size:this.state.instanceProps.scrollbarSize,vertical:0<this._verticalScrollBarSize}))}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft;e=e.scrollTop,(n=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:e}))&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollLeft",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state;(e=t._getScrollLeftForScrollToColumnStateUpdate(e,n))&&(e.needToResetStyleCache=!1,this.setState(e))}},{key:"_getCalculatedScrollTop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var a="".concat(r,"-").concat(o);this._styleCache[a]=e[a],n&&(this._cellCache[a]=t[a])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state;(e=t._getScrollTopForScrollToRowStateUpdate(e,n))&&(e.needToResetStyleCache=!1,this.setState(e))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r,o,a={},i=(0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(a.scrollLeft=0,a.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(a,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})),n.instanceProps);return a.needToResetStyleCache=!1,e.columnWidth===i.prevColumnWidth&&e.rowHeight===i.prevRowHeight||(a.needToResetStyleCache=!0),i.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),i.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==i.prevColumnCount&&0!==i.prevRowCount||(i.prevColumnCount=0,i.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===i.prevIsScrolling&&Object.assign(a,{isScrolling:!1}),(0,m.default)({cellCount:i.prevColumnCount,cellSize:"number"==typeof i.prevColumnWidth?i.prevColumnWidth:null,computeMetadataCallback:function(){return i.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:i.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){r=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),(0,m.default)({cellCount:i.prevRowCount,cellSize:"number"==typeof i.prevRowHeight?i.prevRowHeight:null,computeMetadataCallback:function(){return i.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:i.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),i.prevColumnCount=e.columnCount,i.prevColumnWidth=e.columnWidth,i.prevIsScrolling=!0===e.isScrolling,i.prevRowCount=e.rowCount,i.prevRowHeight=e.rowHeight,i.prevScrollToColumn=e.scrollToColumn,i.prevScrollToRow=e.scrollToRow,i.scrollbarSize=e.getScrollbarSize(),void 0===i.scrollbarSize?(i.scrollbarSizeMeasured=!1,i.scrollbarSize=0):i.scrollbarSizeMeasured=!0,a.instanceProps=i,O({},a,{},r,{},o)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=(e=e.scrollTop,{scrollPositionChangeReason:M});return"number"==typeof n&&0<=n&&(r.scrollDirectionHorizontal=n>t.scrollLeft?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD,r.scrollLeft=n),"number"==typeof e&&0<=e&&(r.scrollDirectionVertical=e>t.scrollTop?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD,r.scrollTop=e),"number"==typeof n&&0<=n&&n!==t.scrollLeft||"number"==typeof e&&0<=e&&e!==t.scrollTop?r:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,a=e.scrollToColumn,i=(e=e.width,t.scrollLeft);return t=t.instanceProps,0<n?(n-=1,n=a<0?n:Math.min(n,a),a=t.rowSizeAndPositionManager.getTotalSize(),r=t.scrollbarSizeMeasured&&r<a?t.scrollbarSize:0,t.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:e-r,currentOffset:i,targetIndex:n})):0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft;return"number"==typeof(e=t._getCalculatedScrollLeft(e,n))&&0<=e&&r!==e?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,a=e.scrollToRow,i=(e=e.width,t.scrollTop);return t=t.instanceProps,0<r?(r-=1,r=a<0?r:Math.min(r,a),a=t.columnSizeAndPositionManager.getTotalSize(),e=t.scrollbarSizeMeasured&&e<a?t.scrollbarSize:0,t.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-e,currentOffset:i,targetIndex:r})):0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop;return"number"==typeof(e=t._getCalculatedScrollTop(e,n))&&0<=e&&r!==e?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:e}):{}}}]),t}(p.PureComponent),(0,d.default)(n,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:r.default,containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:o.default,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:b.default,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),(0,_.polyfill)(n),t.default=n},45669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellCount,r=e.overscanCellsCount,o=e.scrollDirection,a=e.startIndex;return e=e.stopIndex,r=Math.max(1,r),o===n?{overscanStartIndex:Math.max(0,a-1),overscanStopIndex:Math.min(t-1,e+r)}:{overscanStartIndex:Math.max(0,a-r),overscanStopIndex:Math.min(t-1,e+1)}},t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0,t.SCROLL_DIRECTION_BACKWARD=-1;var n=1;t.SCROLL_DIRECTION_FORWARD=n,t.SCROLL_DIRECTION_HORIZONTAL="horizontal",t.SCROLL_DIRECTION_VERTICAL="vertical"},8824:(e,t,n)=>{"use strict";var r=n(95318),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,a=e.columnStartIndex,i=e.columnStopIndex,l=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,u=e.isScrolling,c=e.isScrollingOptOut,f=e.parent,d=e.rowSizeAndPositionManager,p=e.rowStartIndex,h=e.rowStopIndex,m=e.styleCache,y=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,b=e.visibleRowIndices,v=[],_=(e=r.areOffsetsAdjusted()||d.areOffsetsAdjusted(),!u&&!e),w=p;w<=h;w++)for(var S=d.getSizeAndPositionOfCell(w),O=a;O<=i;O++){var M=r.getSizeAndPositionOfCell(O),C=O>=g.start&&O<=g.stop&&w>=b.start&&w<=b.stop,k="".concat(w,"-").concat(O),E=void 0;_&&m[k]?E=m[k]:l&&!l.has(w,O)?E={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(E={height:S.size,left:M.offset+s,position:"absolute",top:S.offset+y,width:M.size},m[k]=E),M={columnIndex:O,isScrolling:u,isVisible:C,key:k,parent:f,rowIndex:w,style:E},C=void 0,null!=(C=!c&&!u||s||y?n(M):(t[k]||(t[k]=n(M)),t[k]))&&!1!==C&&(C.props.role||(C=o.default.cloneElement(C,{role:"gridcell"})),v.push(C))}return v},r(n(67294)))},74070:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellCount,r=e.overscanCellsCount,o=e.scrollDirection,a=e.startIndex;return e=e.stopIndex,o===n?{overscanStartIndex:Math.max(0,a),overscanStopIndex:Math.min(t-1,e+r)}:{overscanStartIndex:Math.max(0,a-r),overscanStopIndex:Math.min(t-1,e)}},t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0,t.SCROLL_DIRECTION_BACKWARD=-1;var n=1;t.SCROLL_DIRECTION_FORWARD=n,t.SCROLL_DIRECTION_HORIZONTAL="horizontal",t.SCROLL_DIRECTION_VERTICAL="vertical"},39305:(e,t,n)=>{"use strict";var r=n(95318),o=(Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Grid",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"accessibilityOverscanIndicesGetter",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"defaultCellRangeRenderer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"defaultOverscanIndicesGetter",{enumerable:!0,get:function(){return l.default}}),r(n(41427))),a=r(n(45669)),i=r(n(8824)),l=r(n(74070))},50553:(e,t,n)=>{"use strict";var r=n(95318),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(n(34575))),a=r(n(93913)),i=r(n(59713));r=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter;t=t.estimatedCellSize,(0,o.default)(this,e),(0,i.default)(this,"_cellSizeAndPositionData",{}),(0,i.default)(this,"_lastMeasuredIndex",-1),(0,i.default)(this,"_lastBatchedIndex",-1),(0,i.default)(this,"_cellCount",void 0),(0,i.default)(this,"_cellSizeGetter",void 0),(0,i.default)(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=t}return(0,a.default)(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize;e=e.cellSizeGetter,this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=e}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return 0<=this._lastMeasuredIndex?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=void 0===(t=e.align)?"auto":t,n=e.containerSize,r=e.currentOffset;if(e=e.targetIndex,n<=0)return 0;var o,a=this.getSizeAndPositionOfCell(e),i=a.offset,l=i-n+a.size;switch(t){case"start":o=i;break;case"end":o=l;break;case"center":o=i-(n-a.size)/2;break;default:o=Math.max(l,Math.min(i,r))}return e=this.getTotalSize(),Math.max(0,Math.min(e-n,o))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};for(var r=n+t,o=(e=this._findNearestCell(n),n=(t=this.getSizeAndPositionOfCell(e)).offset+t.size,e);n<r&&o<this._cellCount-1;)n+=this.getSizeAndPositionOfCell(++o).size;return{start:e,stop:o}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:n<o&&(e=r-1)}return 0<t?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),t.default=r},15825:(e,t,n)=>{"use strict";var r=n(95318),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(n(6479))),a=r(n(34575)),i=r(n(93913)),l=r(n(59713)),s=r(n(50553)),u=n(41333);r=function(){function e(t){var n=void 0===(n=t.maxScrollSize)?(0,u.getMaxElementSize)():n;t=(0,o.default)(t,["maxScrollSize"]),(0,a.default)(this,e),(0,l.default)(this,"_cellSizeAndPositionManager",void 0),(0,l.default)(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new s.default(t),this._maxScrollSize=n}return(0,i.default)(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=(e=e.offset,this._cellSizeAndPositionManager.getTotalSize()),r=this.getTotalSize();return t=this._getOffsetPercentage({containerSize:t,offset:e,totalSize:r}),Math.round(t*(r-n))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=void 0===(t=e.align)?"auto":t,n=e.containerSize,r=e.currentOffset;return e=e.targetIndex,r=this._safeOffsetToOffset({containerSize:n,offset:r}),t=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:t,containerSize:n,currentOffset:r,targetIndex:e}),this._offsetToSafeOffset({containerSize:n,offset:t})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize;return e=e.offset,e=this._safeOffsetToOffset({containerSize:t,offset:e}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:e})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset;return(e=e.totalSize)<=t?0:n/(e-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=(e=e.offset,this._cellSizeAndPositionManager.getTotalSize()),r=this.getTotalSize();return n===r?e:(e=this._getOffsetPercentage({containerSize:t,offset:e,totalSize:n}),Math.round(e*(r-t)))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=(e=e.offset,this._cellSizeAndPositionManager.getTotalSize()),r=this.getTotalSize();return n===r?e:(e=this._getOffsetPercentage({containerSize:t,offset:e,totalSize:r}),Math.round(e*(n-t)))}}]),e}(),t.default=r},38022:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,a=e.nextCellsCount,i=e.nextCellSize,l=e.nextScrollToIndex,s=e.scrollToIndex;e=e.updateScrollOffsetForScrollToIndex,t===a&&("number"!=typeof n&&"number"!=typeof i||n===i)||(r(o),0<=s&&s===l&&e())}},41333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMaxElementSize=void 0,t.getMaxElementSize=function(){return"undefined"!=typeof window&&window.chrome?16777100:15e5}},4675:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,a=e.previousScrollToAlignment,i=e.previousScrollToIndex,l=e.previousSize,s=e.scrollOffset,u=e.scrollToAlignment,c=e.scrollToIndex,f=e.size,d=e.sizeJustIncreasedFromZero,p=(e=e.updateScrollIndexCallback,n.getCellCount()),h=0<=c&&c<p;d=f!==l||d||!o||"number"==typeof t&&t!==o,h&&(d||u!==a||c!==i)?e(c):!h&&0<p&&(f<l||p<r)&&s>n.getTotalSize()-f&&e(p-1)},r(n(15825))},41233:(e,t,n)=>{"use strict";var r=n(20862),o=n(95318),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(n(67154))),i=o(n(34575)),l=o(n(93913)),s=o(n(78585)),u=o(n(29754)),c=o(n(81506)),f=o(n(2205)),d=o(n(59713)),p=r(n(39305)),h=r(n(67294)),m=o(n(57966));r=function(e){function t(){var e,n;(0,i.default)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(o))),(0,d.default)((0,c.default)(n),"Grid",void 0),(0,d.default)((0,c.default)(n),"_cellRenderer",(function(e){var t=e.parent,r=e.rowIndex,o=e.style,a=e.isScrolling,i=e.isVisible,l=(e=e.key,n.props.rowRenderer),s=Object.getOwnPropertyDescriptor(o,"width");return s&&s.writable&&(o.width="100%"),l({index:r,style:o,isScrolling:a,isVisible:i,key:e,parent:t})})),(0,d.default)((0,c.default)(n),"_setRef",(function(e){n.Grid=e})),(0,d.default)((0,c.default)(n),"_onScroll",(function(e){var t=e.clientHeight,r=e.scrollHeight;e=e.scrollTop,(0,n.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:e})})),(0,d.default)((0,c.default)(n),"_onSectionRendered",(function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex;e=e.rowStopIndex,(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:o,stopIndex:e})})),n}return(0,f.default)(t,e),(0,l.default)(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment;return e=e.index,this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:e,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex;e=e.rowIndex,this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:e,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).columnIndex,t=t.rowIndex;this.Grid&&this.Grid.recomputeGridSize({rowIndex:void 0===t?0:t,columnIndex:void 0===e?0:e})}},{key:"recomputeRowHeights",value:function(){this.Grid&&this.Grid.recomputeGridSize({rowIndex:0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,columnIndex:0})}},{key:"scrollToPosition",value:function(){this.Grid&&this.Grid.scrollToPosition({scrollTop:0<arguments.length&&void 0!==arguments[0]?arguments[0]:0})}},{key:"scrollToRow",value:function(){this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:0<arguments.length&&void 0!==arguments[0]?arguments[0]:0})}},{key:"render",value:function(){var e=(r=this.props).className,t=r.noRowsRenderer,n=r.scrollToIndex,r=r.width;return e=(0,m.default)("ReactVirtualized__List",e),h.createElement(p.default,(0,a.default)({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:e,columnWidth:r,columnCount:1,noContentRenderer:t,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:n}))}}]),t}(h.PureComponent),t.default=r,(0,d.default)(r,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:p.accessibilityOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}})},35277:(e,t,n)=>{"use strict";var r=n(95318),o=(Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return o.default}}),r(n(41233)))},51278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.caf=t.raf=void 0;var n,r=(n="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(e){return n.setTimeout(e,1e3/60)},o=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame||function(e){n.clearTimeout(e)};t.raf=r,r=o,t.caf=r},41498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,a=(n=Object.keys(o),!e||n.every((function(e){return e=o[e],Array.isArray(e)?0<e.length:0<=e})));n=n.length!==Object.keys(t).length||n.some((function(e){var n=t[e];return e=o[e],Array.isArray(e)?n.join(",")!==e.join(","):n!==e})),t=o,a&&n&&r(o)}}},96271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestAnimationTimeout=t.cancelAnimationTimeout=void 0;var r=n(51278);t.cancelAnimationTimeout=function(e){return(0,r.caf)(e.id)},t.requestAnimationTimeout=function(e,t){Promise.resolve().then((function(){n=Date.now()}));var n,o={id:(0,r.raf)((function a(){Date.now()-n>=t?e.call():o.id=(0,r.raf)(a)}))};return o}},55736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,o=void 0!==(r=void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g).document&&r.document.attachEvent;if(!o){var a=function(){var e=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)};return function(t){return e(t)}}(),i=function(){var e=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout;return function(t){return e(t)}}(),l=function(e){var t=(e=e.__resizeTriggers__).firstElementChild,n=(e=e.lastElementChild,t.firstElementChild);e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight,n.style.width=t.offsetWidth+1+"px",n.style.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight},s=function(e){var t;e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0||(l(t=this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=a((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))})))},u=!1,c="",f="animationstart",d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=r.document.createElement("fakeelement");if(!1===(u=void 0!==h.style.animationName||u))for(var m=0;m<d.length;m++)if(void 0!==h.style[d[m]+"AnimationName"]){c="-"+d[m].toLowerCase()+"-",f=p[m],u=!0;break}var y="resizeanim",g="@"+c+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",b=c+"animation: 1ms "+y+"; "}return{addResizeListener:function(t,n){var a,i,u,c,d;o?t.attachEvent("onresize",n):(t.__resizeTriggers__||(a=t.ownerDocument,(i=r.getComputedStyle(t))&&"static"==i.position&&(t.style.position="relative"),(i=a).getElementById("detectElementResize")||(u=(g||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',c=i.head||i.getElementsByTagName("head")[0],(d=i.createElement("style")).id="detectElementResize",d.type="text/css",null!=e&&d.setAttribute("nonce",e),d.styleSheet?d.styleSheet.cssText=u:d.appendChild(i.createTextNode(u)),c.appendChild(d)),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=a.createElement("div")).className="resize-triggers",(i=a.createElement("div")).className="expand-trigger",i.appendChild(a.createElement("div")),(u=a.createElement("div")).className="contract-trigger",t.__resizeTriggers__.appendChild(i),t.__resizeTriggers__.appendChild(u),t.appendChild(t.__resizeTriggers__),l(t),t.addEventListener("scroll",s,!0),f&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==y&&l(t)},t.__resizeTriggers__.addEventListener(f,t.__resizeTriggers__.__animationListener__))),t.__resizeListeners__.push(n))},removeResizeListener:function(e,t){if(o)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(f,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}},94321:(e,t,n)=>{"use strict";n(27418),n(67294),t.Fragment=60107,"function"==typeof Symbol&&Symbol.for&&(t.Fragment=(0,Symbol.for)("react.fragment")),t.jsxDEV=void 0},75251:(e,t,n)=>{"use strict";n(27418),n=n(67294);var r,o=60103,a=(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for&&(o=(r=Symbol.for)("react.element"),t.Fragment=r("react.fragment")),n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner),i=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=s,t.jsxs=s},72408:(e,t,n)=>{"use strict";var r=n(27418),o=60103,a=60106,i=(t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114,60109),l=60110,s=60112,u=(t.Suspense=60113,60115),c=60116,f=("function"==typeof Symbol&&Symbol.for&&(o=(n=Symbol.for)("react.element"),a=n("react.portal"),t.Fragment=n("react.fragment"),t.StrictMode=n("react.strict_mode"),t.Profiler=n("react.profiler"),i=n("react.provider"),l=n("react.context"),s=n("react.forward_ref"),t.Suspense=n("react.suspense"),u=n("react.memo"),c=n("react.lazy")),"function"==typeof Symbol&&Symbol.iterator);function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function m(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=((n=g.prototype=new y).constructor=g,r(n,m.prototype),n.isPureReactComponent=!0,{current:null}),v=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var r,a={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)v.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:o,type:e,key:i,ref:l,props:a,_owner:b.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var O=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=""+e.key,n={"=":"=0",":":"=2"},"$"+e.replace(/[=:]/g,(function(e){return n[e]}))):t.toString(36);var n}function C(e,t,n,r,i){var l,s,u=!1;if(null===(e="undefined"!=(p=typeof e)&&"boolean"!==p?e:null))u=!0;else switch(p){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return i=i(u=e),e=""===r?"."+M(u,0):r,Array.isArray(i)?(n="",C(i,t,n=null!=e?e.replace(O,"$&/")+"/":n,"",(function(e){return e}))):null!=i&&(S(i)&&(s=n+(!(l=i).key||u&&u.key===i.key?"":(""+i.key).replace(O,"$&/")+"/")+e,i={$$typeof:o,type:l.type,key:s,ref:l.ref,props:l.props,_owner:l._owner}),t.push(i)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var p,h=r+M(p=e[c],c);u+=C(p,t,n,h,i)}else if("function"==typeof(h=null!==(s=e)&&"object"==typeof s&&"function"==typeof(s=f&&s[f]||s["@@iterator"])?s:null))for(e=h.call(e),c=0;!(p=e.next()).done;)u+=C(p=p.value,t,n,h=r+M(p,c++),i);else if("object"===p)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function k(e,t,n){if(null==e)return e;var r=[],o=0;return C(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function E(e){var t;if(-1===e._status&&(t=(t=e._result)(),e._status=0,(e._result=t).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))),1===e._status)return e._result;throw e._result}var P={current:null};function T(){var e=P.current;if(null===e)throw Error(d(321));return e}n={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r},t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(S(e))return e;throw Error(d(143))}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var a=r({},e.props),i=e.key,l=e.ref,s=e._owner;if(null!=t)for(u in void 0!==t.ref&&(l=t.ref,s=b.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)v.call(t,u)&&!_.hasOwnProperty(u)&&(a[u]=(void 0===t[u]&&void 0!==c?c:t)[u]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:o,type:e.type,key:i,ref:l,props:a,_owner:s}},t.createContext=function(e,t){return(e={$$typeof:l,_calculateChangedBits:t=void 0===t?null:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},34862:(e,t,n)=>{"use strict";e.exports=n(94321)},85893:(e,t,n)=>{"use strict";e.exports=n(75251)},86702:()=>{window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},53149:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function n(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}e.exports=function(e,r){void 0===r&&(r="");var o=e&&e.split("/")||[],a=r&&r.split("/")||[],i=e&&t(e);if(r=r&&t(r),i=i||r,e&&t(e)?a=o:o.length&&(a.pop(),a=a.concat(o)),!a.length)return"/";e=!!a.length&&("."===(r=a[a.length-1])||".."===r||""===r);for(var l=0,s=a.length;0<=s;s--){var u=a[s];"."===u?n(a,s):".."===u?(n(a,s),l++):l&&(n(a,s),l--)}if(!i)for(;l--;)a.unshift("..");return!i||""===a[0]||a[0]&&t(a[0])||a.unshift(""),o=a.join("/"),e&&"/"!==o.substr(-1)&&(o+="/"),o}},14149:(e,t,n)=>{"use strict";e.exports=n(53149)},60053:(e,t)=>{"use strict";var n,r,o,a,i,l,s,u,c,f,d,p,h,m,y,g,b,v;function _(e,t){var n=e.length;for(e.push(t);;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<O(o,t)))break;e[r]=t,e[n]=o,n=r}}function w(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,i=e[a],l=1+a,s=e[l];if(void 0!==i&&O(i,n)<0)r=void 0!==s&&O(s,i)<0?(e[r]=s,e[l]=n,l):(e[r]=i,e[a]=n,a);else{if(!(void 0!==s&&O(s,n)<0))break;e[r]=s,e[l]=n,r=l}}}}}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(r=performance,t.unstable_now=function(){return r.now()}):(o=Date,a=o.now(),t.unstable_now=function(){return o.now()-a}),"undefined"==typeof window||"function"!=typeof MessageChannel?(l=i=null,s=function(){if(null!==i)try{var e=t.unstable_now();i(!0,e),i=null}catch(e){throw setTimeout(s,0),e}},u=function(e){null!==i?setTimeout(u,0,e):(i=e,setTimeout(s,0))},c=function(e,t){l=setTimeout(e,t)},f=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},n=t.unstable_forceFrameRate=function(){}):(d=window.setTimeout,p=window.clearTimeout,"undefined"!=typeof console&&(L=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof L&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),h=!1,m=null,y=-1,g=5,b=0,t.unstable_shouldYield=function(){return t.unstable_now()>=b},n=function(){},t.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5},L=new MessageChannel,v=L.port2,L.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+g;try{m(!0,e)?v.postMessage(null):(h=!1,m=null)}catch(e){throw v.postMessage(null),e}}else h=!1},u=function(e){m=e,h||(h=!0,v.postMessage(null))},c=function(e,n){y=d((function(){e(t.unstable_now())}),n)},f=function(){p(y),y=-1});var M=[],C=[],k=1,E=null,P=3,T=!1,j=!1,x=!1;function D(e){for(var t=w(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,_(M,t)}t=w(C)}}function A(e){var t;x=!1,D(e),j||(null!==w(M)?(j=!0,u(I)):null!==(t=w(C))&&c(A,t.startTime-e))}function I(e,n){j=!1,x&&(x=!1,f()),T=!0;var r=P;try{for(D(n),E=w(M);null!==E&&(!(E.expirationTime>n)||e&&!t.unstable_shouldYield());){var o,a=E.callback;"function"==typeof a?(E.callback=null,P=E.priorityLevel,o=a(E.expirationTime<=n),n=t.unstable_now(),"function"==typeof o?E.callback=o:E===w(M)&&S(M),D(n)):S(M),E=w(M)}var i;return null!==E||(null!==(i=w(C))&&c(A,i.startTime-n),!1)}finally{E=null,P=r,T=!1}}var L=n;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||T||(j=!0,u(I))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return w(M)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,r){var o=t.unstable_now();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?o+r:o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:k++,callback:n,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},o<r?(e.sortIndex=r,_(C,e),null===w(M)&&e===w(C)&&(x?f():x=!0,c(A,r-o))):(e.sortIndex=a,_(M,e),j||T||(j=!0,u(I))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},63840:(e,t,n)=>{"use strict";e.exports=n(60053)},58971:(e,t,n)=>{var r=n(62195),o=n(39015);n=[n(19257)],e.exports=r.createStore(o,n)},19257:(e,t,n)=>{e.exports=function(){return n(55703),{}}},55703:()=>{"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,a,i,l=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),typeof(s="function"==typeof rep?rep.call(t,e,s):s)){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(s)){for(a=s.length,n=0;n<a;n+=1)i[n]=str(n,s)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+l+"]":"["+i.join(",")+"]",gap=l,o}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],s))&&i.push(quote(r)+(gap?": ":":")+o);else for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(o=str(r,s))&&i.push(quote(r)+(gap?": ":":")+o);return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+l+"}":"{"+i.join(",")+"}",gap=l,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(!(rep=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},62195:(e,t,n)=>{var r=(n=n(69078)).slice,o=n.pluck,a=n.each,i=n.bind,l=n.create,s=n.isList,u=n.isFunction,c=n.isObject,f={version:"2.0.12",enabled:!(e.exports={createStore:d}),get:function(e,t){return e=this.storage.read(this._namespacePrefix+e),this._deserialize(e,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return d.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return d(this.storage,this.plugins,e)}};function d(e,t,n){n=n||"",e&&!s(e)&&(e=[e]),t&&!s(t)&&(t=[t]);var d=n?"__storejs_"+n+"_":"",p=n?new RegExp("^"+d):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h=l({_namespacePrefix:d,_namespaceRegexp:p,_testStorage:function(e){try{var t="__storejs__test__",n=(e.write(t,t),e.read(t)===t);return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=r(arguments,0),o=this,i=[function(){if(n)return a(arguments,(function(e,n){t[n]=e})),n.apply(o,t)}].concat(t);return e.apply(o,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(s(e))a(e,(function(e){t._addPlugin(e)}));else{var n=o(this.plugins,(function(t){return e===t}));if(!n){if(this.plugins.push(e),!u(e))throw new Error("Plugins must be function values that return objects");if(n=e.call(this),!c(n))throw new Error("Plugins must return an object of function properties");a(n,(function(n,r){if(!u(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn||e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},f,{plugins:[]});return h.raw={},a(h,(function(e,t){u(e)&&(h.raw[t]=i(h,e))})),a(e,(function(e){h._addStorage(e)})),a(t,(function(e){h._addPlugin(e)})),h}},69078:(e,t,n)=>{var r=Object.assign||function(e,t,n,r){for(var o=1;o<arguments.length;o++)l(Object(arguments[o]),(function(t,n){e[n]=t}));return e},o=function(){{function e(){}return Object.create?function(e,t,n,o){var a=i(arguments,1);return r.apply(this,[Object.create(e)].concat(a))}:function(t,n,o,a){var l=i(arguments,1);return e.prototype=t,r.apply(this,[new e].concat(l))}}}(),a=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function i(e,t){return Array.prototype.slice.call(e,t||0)}function l(e,t){s(e,(function(e,n){t(e,n)}))}function s(e,t){if(u(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function u(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}n="undefined"!=typeof window?window:n.g,e.exports={assign:r,create:o,trim:a,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:i,each:l,map:function(e,t){var n=u(e)?[]:{};return s(e,(function(e,r){n[r]=t(e,r)})),n},pluck:s,isList:u,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:n}},39015:(e,t,n)=>{e.exports=[n(39627),n(95347),n(34524),n(45580),n(58855),n(8728)]},45580:(e,t,n)=>{var r=(n=n(69078)).Global,o=n.trim,a=(e.exports={name:"cookieStorage",read:function(e){return e&&s(e)?(e="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*",unescape(a.cookie.replace(new RegExp(e),"$1"))):null},write:function(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:i,remove:l,clearAll:function(){i((function(e,t){l(t)}))}},r.document);function i(e){for(var t,n,r=a.cookie.split(/; ?/g),i=r.length-1;0<=i;i--)o(r[i])&&(t=r[i].split("="),n=unescape(t[0]),e(unescape(t[1]),n))}function l(e){e&&s(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function s(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},39627:(e,t,n)=>{var r=n(69078).Global;function o(){return r.localStorage}function a(e){return o().getItem(e)}e.exports={name:"localStorage",read:a,write:function(e,t){return o().setItem(e,t)},each:function(e){for(var t=o().length-1;0<=t;t--){var n=o().key(t);e(a(n),n)}},remove:function(e){return o().removeItem(e)},clearAll:function(){return o().clear()}}},8728:e=>{e.exports={name:"memoryStorage",read:function(e){return t[e]},write:function(e,n){t[e]=n},each:function(e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},remove:function(e){delete t[e]},clearAll:function(e){t={}}};var t={}},95347:(e,t,n)=>{n=n(69078).Global;var r=(e.exports={name:"oldFF-globalStorage",read:function(e){return r[e]},write:function(e,t){r[e]=t},each:o,remove:function(e){return r.removeItem(e)},clearAll:function(){o((function(e,t){delete r[e]}))}},n.globalStorage);function o(e){for(var t=r.length-1;0<=t;t--){var n=r.key(t);e(r[n],n)}}},34524:(e,t,n)=>{n=n(69078).Global;var r=(e.exports={name:"oldIE-userDataStorage",write:function(e,t){var n;i||(n=s(e),a((function(e){e.setAttribute(n,t),e.save(r)})))},read:function(e){var t,n;if(!i)return t=s(e),n=null,a((function(e){n=e.getAttribute(t)})),n},each:function(e){a((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;0<=r;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))},remove:function(e){var t=s(e);a((function(e){e.removeAttribute(t),e.save(r)}))},clearAll:function(){a((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=t.length-1;0<=n;n--)e.removeAttribute(t[n].name);e.save(r)}))}},"storejs"),o=n.document,a=function(){if(!o||!o.documentElement||!o.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(t){n=o.createElement("div"),e=o.body}return function(t){var o=[].slice.call(arguments,0);o.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(r),t.apply(this,o),e.removeChild(n)}}(),i=(n.navigator?n.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function s(e){return e.replace(/^\d/,"___$&").replace(l,"___")}},58855:(e,t,n)=>{var r=n(69078).Global;function o(){return r.sessionStorage}function a(e){return o().getItem(e)}e.exports={name:"sessionStorage",read:a,write:function(e,t){return o().setItem(e,t)},each:function(e){for(var t=o().length-1;0<=t;t--){var n=o().key(t);e(a(n),n)}},remove:function(e){return o().removeItem(e)},clearAll:function(){return o().clear()}}},28571:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u}),t=n(93379),t=n.n(t);var r=n(7795),o=(r=n.n(r),n(90569)),a=(o=n.n(o),n(3565)),i=(a=n.n(a),n(19216)),l=(i=n.n(i),n(44589)),s=(l=n.n(l),n=n(5790),{});s.styleTagTransform=l(),s.setAttributes=a(),s.insert=o().bind(null,"head"),s.domAPI=r(),s.insertStyleElement=i(),t()(n.Z,s);const u=n.Z&&n.Z.locals?n.Z.locals:void 0},65958:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u}),t=n(93379),t=n.n(t);var r=n(7795),o=(r=n.n(r),n(90569)),a=(o=n.n(o),n(3565)),i=(a=n.n(a),n(19216)),l=(i=n.n(i),n(44589)),s=(l=n.n(l),n=n(88383),{});s.styleTagTransform=l(),s.setAttributes=a(),s.insert=o().bind(null,"head"),s.domAPI=r(),s.insertStyleElement=i(),t()(n.Z,s);const u=n.Z&&n.Z.locals?n.Z.locals:void 0},93379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],i=0;i<e.length;i++){var l=e[i],s=o[c=r.base?l[0]+r.base:l[0]]||0,u="".concat(c," ").concat(s),c=(o[c]=s+1,n(u));s={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]},-1!==c?(t[c].references++,t[c].updater(s)):(l=function(e,t){var n=t.domAPI(t);return n.update(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer||n.update(e=t):n.remove()}}(s,r),r.byIndex=i,t.splice(i,0,{identifier:u,updater:l,references:1})),a.push(u)}return a}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=n(a[i]);t[l].references--}e=r(e,o);for(var s=0;s<a.length;s++){var u=n(a[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=e}}},90569:e=>{"use strict";var t={};e.exports=function(e,n){if(!(e=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(n)}},19216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){var r,o,a,i;r=t,o=e,a="",n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {")),(i=void 0!==n.layer)&&(a+="@layer".concat(0<n.layer.length?" ".concat(n.layer):""," {")),a+=n.css,i&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}"),(i=n.sourceMap)&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),o.styleTagTransform(a,r,o.options)},remove:function(){var e;null!==(e=t).parentNode&&e.parentNode.removeChild(e)}}}},44589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},26018:e=>{"use strict";e.exports=function(e,t){if(!e)throw new Error("Invariant failed")}},87641:e=>{"use strict";e.exports=function(e,t){}},53250:(e,t,n)=>{"use strict";n=n(67294);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,i=n.useLayoutEffect,l=n.useDebugValue;function s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return 1}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),u=r[0].inst,c=r[1];return i((function(){u.value=n,u.getSnapshot=t,s(u)&&c({inst:u})}),[e,n,t]),a((function(){return s(u)&&c({inst:u}),e((function(){s(u)&&c({inst:u})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},61688:(e,t,n)=>{"use strict";e.exports=n(53250)},21614:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>T,parse:()=>y,stringify:()=>d,v1:()=>m,v3:()=>C,v4:()=>k,v5:()=>P,validate:()=>l,version:()=>j});var r,o=new Uint8Array(16);function a(){if(r=r||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto))return r(o);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(e){return"string"==typeof e&&i.test(e)};for(var s,u,c=[],f=0;f<256;++f)c.push((f+256).toString(16).substr(1));const d=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(e=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase(),l(e))return e;throw TypeError("Stringified UUID is invalid")};var p=0,h=0;const m=function(e,t,n){var r=t&&n||0,o=t||new Array(16),i=(e=e||{}).node||s,l=(n=void 0!==e.clockseq?e.clockseq:u,null!=i&&null!=n||(l=e.random||(e.rng||a)(),null==i&&(i=s=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==n&&(n=u=16383&(l[6]<<8|l[7]))),void 0!==e.msecs?e.msecs:Date.now()),c=void 0!==e.nsecs?e.nsecs:h+1,f=l-p+(c-h)/1e4;if(f<0&&void 0===e.clockseq&&(n=n+1&16383),1e4<=(c=(f<0||p<l)&&void 0===e.nsecs?0:c))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=l,u=n,f=(1e4*(268435455&(l+=122192928e5))+(h=c))%4294967296,o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f,e=l/4294967296*1e4&268435455,o[r++]=e>>>8&255,o[r++]=255&e,o[r++]=e>>>24&15|16,o[r++]=e>>>16&255,o[r++]=n>>>8|128,o[r++]=255&n;for(var m=0;m<6;++m)o[r+m]=i[m];return t||d(o)},y=function(e){if(!l(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function g(e,t,n){function r(e,r,o,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),16!==(r="string"==typeof r?y(r):r).length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+e.length);if(i.set(r),i.set(e,r.length),(i=n(i))[6]=15&i[6]|t,i[8]=63&i[8]|128,o){a=a||0;for(var l=0;l<16;++l)o[a+l]=i[l];return o}return d(i)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function b(e){return 14+(e+64>>>9<<4)+1}function v(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function _(e,t,n,r,o,a){return v((t=v(v(t,e),v(r,a)))<<o|t>>>32-o,n)}function w(e,t,n,r,o,a,i){return _(t&n|~t&r,e,t,o,a,i)}function S(e,t,n,r,o,a,i){return _(t&r|n&~r,e,t,o,a,i)}function O(e,t,n,r,o,a,i){return _(t^n^r,e,t,o,a,i)}function M(e,t,n,r,o,a,i){return _(n^(t|~r),e,t,o,a,i)}const C=g("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}for(var r=function(e,t){e[t>>5]|=128<<t%32,e[b(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,a=271733878,i=0;i<e.length;i+=16){var l=n,s=r,u=o,c=a;n=w(n,r,o,a,e[i],7,-680876936),a=w(a,n,r,o,e[i+1],12,-389564586),o=w(o,a,n,r,e[i+2],17,606105819),r=w(r,o,a,n,e[i+3],22,-1044525330),n=w(n,r,o,a,e[i+4],7,-176418897),a=w(a,n,r,o,e[i+5],12,1200080426),o=w(o,a,n,r,e[i+6],17,-1473231341),r=w(r,o,a,n,e[i+7],22,-45705983),n=w(n,r,o,a,e[i+8],7,1770035416),a=w(a,n,r,o,e[i+9],12,-1958414417),o=w(o,a,n,r,e[i+10],17,-42063),r=w(r,o,a,n,e[i+11],22,-1990404162),n=w(n,r,o,a,e[i+12],7,1804603682),a=w(a,n,r,o,e[i+13],12,-40341101),o=w(o,a,n,r,e[i+14],17,-1502002290),n=S(n,r=w(r,o,a,n,e[i+15],22,1236535329),o,a,e[i+1],5,-165796510),a=S(a,n,r,o,e[i+6],9,-1069501632),o=S(o,a,n,r,e[i+11],14,643717713),r=S(r,o,a,n,e[i],20,-373897302),n=S(n,r,o,a,e[i+5],5,-701558691),a=S(a,n,r,o,e[i+10],9,38016083),o=S(o,a,n,r,e[i+15],14,-660478335),r=S(r,o,a,n,e[i+4],20,-405537848),n=S(n,r,o,a,e[i+9],5,568446438),a=S(a,n,r,o,e[i+14],9,-1019803690),o=S(o,a,n,r,e[i+3],14,-187363961),r=S(r,o,a,n,e[i+8],20,1163531501),n=S(n,r,o,a,e[i+13],5,-1444681467),a=S(a,n,r,o,e[i+2],9,-51403784),o=S(o,a,n,r,e[i+7],14,1735328473),n=O(n,r=S(r,o,a,n,e[i+12],20,-1926607734),o,a,e[i+5],4,-378558),a=O(a,n,r,o,e[i+8],11,-2022574463),o=O(o,a,n,r,e[i+11],16,1839030562),r=O(r,o,a,n,e[i+14],23,-35309556),n=O(n,r,o,a,e[i+1],4,-1530992060),a=O(a,n,r,o,e[i+4],11,1272893353),o=O(o,a,n,r,e[i+7],16,-155497632),r=O(r,o,a,n,e[i+10],23,-1094730640),n=O(n,r,o,a,e[i+13],4,681279174),a=O(a,n,r,o,e[i],11,-358537222),o=O(o,a,n,r,e[i+3],16,-722521979),r=O(r,o,a,n,e[i+6],23,76029189),n=O(n,r,o,a,e[i+9],4,-640364487),a=O(a,n,r,o,e[i+12],11,-421815835),o=O(o,a,n,r,e[i+15],16,530742520),n=M(n,r=O(r,o,a,n,e[i+2],23,-995338651),o,a,e[i],6,-198630844),a=M(a,n,r,o,e[i+7],10,1126891415),o=M(o,a,n,r,e[i+14],15,-1416354905),r=M(r,o,a,n,e[i+5],21,-57434055),n=M(n,r,o,a,e[i+12],6,1700485571),a=M(a,n,r,o,e[i+3],10,-1894986606),o=M(o,a,n,r,e[i+10],15,-1051523),r=M(r,o,a,n,e[i+1],21,-2054922799),n=M(n,r,o,a,e[i+8],6,1873313359),a=M(a,n,r,o,e[i+15],10,-30611744),o=M(o,a,n,r,e[i+6],15,-1560198380),r=M(r,o,a,n,e[i+13],21,1309151649),n=M(n,r,o,a,e[i+4],6,-145523070),a=M(a,n,r,o,e[i+11],10,-1120210379),o=M(o,a,n,r,e[i+2],15,718787259),r=M(r,o,a,n,e[i+9],21,-343485551),n=v(n,l),r=v(r,s),o=v(o,u),a=v(a,c)}return[n,r,o,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(b(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length),o=[],a=32*r.length,i="0123456789abcdef",l=0;l<a;l+=8){var s=r[l>>5]>>>l%32&255;s=parseInt(i.charAt(s>>>4&15)+i.charAt(15&s),16),o.push(s)}return o})),k=function(e,t,n){var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return d(r)};function E(e,t){return e<<t|e>>>32-t}const P=g("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var o=0;o<r.length;++o)e.push(r.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,i=Math.ceil(a/16),l=new Array(i),s=0;s<i;++s){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*s+4*c]<<24|e[64*s+4*c+1]<<16|e[64*s+4*c+2]<<8|e[64*s+4*c+3];l[s]=u}l[i-1][14]=8*(e.length-1)/Math.pow(2,32),l[i-1][14]=Math.floor(l[i-1][14]),l[i-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<i;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=l[f][p];for(var h=16;h<80;++h)d[h]=E(d[h-3]^d[h-8]^d[h-14]^d[h-16],1);for(var m=n[0],y=n[1],g=n[2],b=n[3],v=n[4],_=0;_<80;++_){var w=Math.floor(_/20);w=E(m,5)+function(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}(w,y,g,b)+v+t[w]+d[_]>>>0,v=b,b=g,g=E(y,30)>>>0,y=m,m=w}n[0]=n[0]+m>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),T="00000000-0000-0000-0000-000000000000",j=function(e){if(l(e))return parseInt(e.substr(14,1),16);throw TypeError("Invalid UUID")}},37307:e=>{"use strict";function t(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}e.exports=function e(n,r){if(n===r)return!0;if(null==n||null==r)return!1;if(Array.isArray(n))return Array.isArray(r)&&n.length===r.length&&n.every((function(t,n){return e(t,r[n])}));if("object"!=typeof n&&"object"!=typeof r)return!1;var o=t(n),a=t(r);return o!==n||a!==r?e(o,a):Object.keys(Object.assign({},n,r)).every((function(t){return e(n[t],r[t])}))}},54545:(e,t,n)=>{"use strict";e.exports=n(37307)},94795:function(e,t,n){var r;!function(t){"use strict";function o(){}var a=o.prototype,i=t.EventEmitter;function l(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}a.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},a.flattenListeners=function(e){for(var t=[],n=0;n<e.length;n+=1)t.push(e[n].listener);return t},a.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},a.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===l(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},a.on=s("addListener"),a.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},a.once=s("addOnceListener"),a.defineEvent=function(e){return this.getListeners(e),this},a.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},a.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=l(o[r],t))&&o[r].splice(n,1);return this},a.off=s("removeListener"),a.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},a.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},a.manipulateListeners=function(e,t,n){var r,o,a=e?this.removeListener:this.addListener,i=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?a:i).call(this,r,o);return this},a.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"==n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},a.removeAllListeners=s("removeEvent"),a.emitEvent=function(e,t){var n,r,o,a,i=this.getListenersAsObject(e);for(a in i)if(i.hasOwnProperty(a))for(n=i[a].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},a.trigger=s("emitEvent"),a.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},a.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=i,o},void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}("undefined"!=typeof window?window:this||{})},8738:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC"},49520:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Dexie:()=>Tn,RangeSet:()=>wn,default:()=>Tn,liveQuery:()=>Dn,mergeRanges:()=>On,rangesOverlap:()=>Mn});const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,o=Object.keys,a=Array.isArray;function i(e,t){return"object"==typeof t&&o(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);const l=Object.getPrototypeOf,s={}.hasOwnProperty;function u(e,t){return s.call(e,t)}function c(e,t){"function"==typeof t&&(t=t(l(e))),("undefined"==typeof Reflect?o:Reflect.ownKeys)(t).forEach((n=>{d(e,n,t[n])}))}const f=Object.defineProperty;function d(e,t,n,r){f(e,t,i(n&&u(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),d(e.prototype,"constructor",e),{extend:c.bind(null,e.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function m(e,t){return h(e,t)||(e=l(e))&&m(e,t)}const y=[].slice;function g(e,t,n){return y.call(e,t,n)}function b(e,t){return t(e)}function v(e){if(!e)throw new Error("Assertion Failed")}function _(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function w(e,t){return e.reduce(((e,n,r)=>((n=t(n,r))&&(e[n[0]]=n[1]),e)),{})}function S(e,t){if(u(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var a=S(e,t[r]);n.push(a)}return n}var i,l=t.indexOf(".");return-1===l||void 0===(i=e[t.substr(0,l)])?void 0:S(i,t.substr(l+1))}function O(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){v("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)O(e,t[r],n[r])}else{var i,l=t.indexOf(".");-1!==l?(i=t.substr(0,l),""===(l=t.substr(l+1))?void 0===n?a(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=n:O(e[i]||(e[i]={}),l,n)):void 0===n?a(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function M(e){var t,n={};for(t in e)u(e,t)&&(n[t]=e[t]);return n}const C=[].concat;function k(e){return C.apply([],e)}const E="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>r[e])),P=E.map((e=>r[e]));w(E,(e=>[e,!0]));let T=null;function j(e){return T="undefined"!=typeof WeakMap&&new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;let n=T&&T.get(t);if(n)return n;if(a(t)){n=[],T&&T.set(t,n);for(var r=0,o=t.length;r<o;++r)n.push(e(t[r]))}else if(0<=P.indexOf(t.constructor))n=t;else{const r=l(t);for(var i in n=r===Object.prototype?{}:Object.create(r),T&&T.set(t,n),t)u(t,i)&&(n[i]=e(t[i]))}return n}(e),T=null,e}const x={}.toString;function D(e){return x.call(e).slice(8,-1)}const A="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",I="symbol"==typeof A?function(e){var t;return null!=e&&(t=e[A])&&t.apply(e)}:function(){return null},L={};function N(e){var t,n,r,o;if(1===arguments.length){if(a(e))return e.slice();if(this===L&&"string"==typeof e)return[e];if(o=I(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const R="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var F="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Y(e,t){F=e,B=t}var B=()=>!0;const U=!new Error("").stack;function W(){if(U)try{throw new Error}catch(e){return e}return new Error}function z(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(B).map((e=>"\n"+e)).join("")):""}t=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(n=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]);var H={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function V(e,t){this._e=W(),this.name=e,this.message=t}function G(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function q(e,t,n,r){this._e=W(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=G(e,t)}function $(e,t){this._e=W(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=G(e,t)}p(V).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+z(this._e,2))}},toString:function(){return this.name+": "+this.message}}),p(q).from(V),p($).from(V);var K=t.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const J=V;var X=t.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=W(),this.name=n,e?"string"==typeof e?(this.message=e+(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=H[t]||n,this.inner=null)}return p(r).from(J),e[t]=r,e}),{}),Z=(X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError,n.reduce(((e,t)=>(e[t+"Error"]=X[t],e)),{}));function Q(){}function ee(e){return e}function te(e,t){return null==e||e===ee?t:function(n){return t(e(n))}}function ne(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function re(e,t){return e===Q?t:function(){var n=e.apply(this,arguments),r=(void 0!==n&&(arguments[0]=n),this.onsuccess),o=this.onerror,a=(this.onsuccess=null,this.onerror=null,t.apply(this,arguments));return r&&(this.onsuccess=this.onsuccess?ne(r,this.onsuccess):r),o&&(this.onerror=this.onerror?ne(o,this.onerror):o),void 0!==a?a:n}}function oe(e,t){return e===Q?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ne(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ne(r,this.onerror):r)}}function ae(e,t){return e===Q?t:function(n){var r=e.apply(this,arguments),o=(i(n,r),n=this.onsuccess,this.onerror),a=(this.onsuccess=null,this.onerror=null,t.apply(this,arguments));return n&&(this.onsuccess=this.onsuccess?ne(n,this.onsuccess):n),o&&(this.onerror=this.onerror?ne(o,this.onerror):o),void 0===r?void 0===a?void 0:a:i(r,a)}}function ie(e,t){return e===Q?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function le(e,t){return e===Q?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,a=new Array(o);o--;)a[o]=arguments[o];return n.then((function(){return t.apply(r,a)}))}return t.apply(this,arguments)}}n=t.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=X[t]),e)),{}),n.ModifyError=q,n.DexieError=V,n.BulkError=$;var se={};const[ue,ce,fe]="undefined"==typeof Promise?[]:(()=>{var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,l(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,l(t),e]})(),de=ce&&ce.then,pe=ue&&ue.constructor,he=!!fe;var me=!1,ye=fe?()=>{fe.then(Re)}:r.setImmediate?setImmediate.bind(null,Re):r.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Re(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Re,0)},ge=function(e,t){ke.push([e,t]),ve&&(ye(),ve=!1)},be=!0,ve=!0,_e=[],we=[],Se=null,Oe=ee,Me={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:it,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{it(e[0],e[1])}catch(e){}}))}},Ce=Me,ke=[],Ee=0,Pe=[];function Te(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Q,this._lib=!1;var t=this._PSD=Ce;if(F&&(this._stackHolder=W(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==se)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&De(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n((n=>{if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Fe();n&&"function"==typeof n.then?e(t,((e,t)=>{n instanceof Te?n._then(e,t):n.then(e,t)})):(t._state=!0,t._value=n,Ae(t)),r&&Ye()}}),De.bind(null,t))}catch(n){De(t,n)}}(this,e)}const je={get:function(){var e=Ce,t=qe;function n(n,r){var o=!e.global&&(e!==Ce||t!==qe);const a=o&&!Xe();var i=new Te(((t,i)=>{Ie(this,new xe(ot(n,e,o,a),ot(r,e,o,a),t,i,e))}));return F&&Ne(i,this),i}return n.prototype=se,n},set:function(e){d(this,"then",e&&e.prototype===se?je:{get:function(){return e},set:je.set})}};function xe(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function De(e,t){if(we.push(t),null===e._state){var n=e._lib&&Fe();if(t=Oe(t),e._state=!1,e._value=t,F&&null!==t&&"object"==typeof t&&!t._promise)try{(()=>{var n=m(t,"stack");t._promise=e,d(t,"stack",{get:()=>me?n&&(n.get?n.get.apply(t):n.value):e.stack})}).apply(null,void 0)}catch(n){}r=e,_e.some((e=>e._value===r._value))||_e.push(r),Ae(e),n&&Ye()}var r}function Ae(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ie(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Ee&&(++Ee,ge((()=>{0==--Ee&&Be()}),[]))}function Ie(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ee,ge(Le,[n,e,t])}else e._listeners.push(t)}function Le(e,t,n){try{var r,o=(Se=t)._value;t._state?r=e(o):(we.length&&(we=[]),r=e(o),-1===we.indexOf(o)&&function(e){for(var t=_e.length;t;)if(_e[--t]._value===e._value)return _e.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Se=null,0==--Ee&&Be(),--n.psd.ref||n.psd.finalize()}}function Ne(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Re(){Fe()&&Ye()}function Fe(){var e=be;return ve=be=!1,e}function Ye(){var e,t,n;do{for(;0<ke.length;)for(e=ke,ke=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<ke.length);ve=be=!0}function Be(){var e=_e;_e=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Pe.slice(0),n=t.length;n;)t[--n]()}function Ue(e){return new Te(se,!1,e)}function We(e,t){var n=Ce;return function(){var r=Fe(),o=Ce;try{return et(n,!0),e.apply(this,arguments)}catch(r){t&&t(r)}finally{et(o,!1),r&&Ye()}}}c(Te.prototype,{then:je,_then:function(e,t){Ie(this,new xe(null,null,e,t,Ce))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,(e=>(e instanceof t?n:Ue)(e))):this.then(null,(e=>(e&&e.name===t?n:Ue)(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Ue(t))))},stack:{get:function(){if(this._stack)return this._stack;try{me=!0;var e=function e(t,n,r){if(n.length===r)return n;var o,a,i,l="";return!1===t._state&&(null!=(i=t._value)?(o=i.name||"Error",a=i.message||i,l=z(i,0)):(o=i,a=""),n.push(o+(a?": "+a:"")+l)),F&&((l=z(t._stackHolder,2))&&-1===n.indexOf(l)&&n.push(l),t._prev&&e(t._prev,n,r)),n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{me=!1}}},timeout:function(e,t){return e<1/0?new Te(((n,r)=>{var o=setTimeout((()=>r(new X.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),Me.env=tt(),c(Te,{all:function(){var e=N.apply(null,arguments).map(Ze);return new Te((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((o,a)=>Te.resolve(o).then((n=>{e[a]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Te)return e;if(e&&"function"==typeof e.then)return new Te(((t,n)=>{e.then(t,n)}));var t=new Te(se,!0,e);return Ne(t,Se),t},reject:Ue,race:function(){var e=N.apply(null,arguments).map(Ze);return new Te(((t,n)=>{e.map((e=>Te.resolve(e).then(t,n)))}))},PSD:{get:()=>Ce,set:e=>Ce=e},totalEchoes:{get:()=>qe},newPSD:Ke,usePSD:nt,scheduler:{get:()=>ge,set:e=>{ge=e}},rejectionMapper:{get:()=>Oe,set:e=>{Oe=e}},follow:(e,t)=>new Te(((n,r)=>Ke(((t,n)=>{var r=Ce;r.unhandleds=[],r.onunhandled=n,r.finalize=ne((function(){var e;e=()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])},Pe.push((function t(){e(),Pe.splice(Pe.indexOf(t),1)})),++Ee,ge((()=>{0==--Ee&&Be()}),[])}),r.finalize),e()}),t,n,r)))}),pe&&(pe.allSettled&&d(Te,"allSettled",(function(){const e=N.apply(null,arguments).map(Ze);return new Te((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,o)=>Te.resolve(e).then((e=>r[o]={status:"fulfilled",value:e}),(e=>r[o]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),pe.any&&"undefined"!=typeof AggregateError&&d(Te,"any",(function(){const e=N.apply(null,arguments).map(Ze);return new Te(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach(((e,a)=>Te.resolve(e).then((e=>t(e)),(e=>{o[a]=e,--r||n(new AggregateError(o))}))))}))})));const ze={awaits:0,echoes:0,id:0};var He=0,Ve=[],Ge=0,qe=0,$e=0;function Ke(e,t,n,r){var o=Ce,a=Object.create(o),l=(a.parent=o,a.ref=0,a.global=!1,a.id=++$e,Me.env);return a.env=he?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject,nthen:at(l.nthen,a),gthen:at(l.gthen,a)}:{},t&&i(a,t),++o.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()},l=nt(a,e,n,r),0===a.ref&&a.finalize(),l}function Je(){return ze.id||(ze.id=++He),++ze.awaits,ze.echoes+=100,ze.id}function Xe(){return!!ze.awaits&&(0==--ze.awaits&&(ze.id=0),ze.echoes=100*ze.awaits,!0)}function Ze(e){return ze.echoes&&e&&e.constructor===pe?(Je(),e.then((e=>(Xe(),e)),(e=>(Xe(),lt(e))))):e}function Qe(){var e=Ve[Ve.length-1];Ve.pop(),et(e,!1)}function et(e,t){var n,o=Ce;(t?!ze.echoes||Ge++&&e===Ce:!Ge||--Ge&&e===Ce)||rt(t?function(e){++qe,ze.echoes&&0!=--ze.echoes||(ze.echoes=ze.id=0),Ve.push(Ce),et(e,!0)}.bind(null,e):Qe),e!==Ce&&(Ce=e,o===Me&&(Me.env=tt()),he)&&(t=Me.env.Promise,n=e.env,ce.then=n.nthen,t.prototype.then=n.gthen,(o.global||e.global)&&(Object.defineProperty(r,"Promise",n.PromiseProp),t.all=n.all,t.race=n.race,t.resolve=n.resolve,t.reject=n.reject,n.allSettled&&(t.allSettled=n.allSettled),n.any&&(t.any=n.any)))}function tt(){var e=r.Promise;return he?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ce.then,gthen:e.prototype.then}:{}}function nt(e,t,n,r,o){var a=Ce;try{return et(e,!0),t(n,r,o)}finally{et(a,!1)}}function rt(e){de.call(ue,e)}function ot(e,t,n,r){return"function"!=typeof e?e:function(){var o=Ce;n&&Je(),et(t,!0);try{return e.apply(this,arguments)}finally{et(o,!1),r&&rt(Xe)}}}function at(e,t){return function(n,r){return e.call(this,ot(n,t),ot(r,t))}}function it(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var o,a={promise:t,reason:e};if(r.document&&document.createEvent?((o=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),i(o,a)):r.CustomEvent&&i(o=new CustomEvent("unhandledrejection",{detail:a}),a),o&&r.dispatchEvent&&(dispatchEvent(o),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(o)}catch(e){}F&&o&&!o.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}-1===(""+de).indexOf("[native code]")&&(Je=Xe=Q);var lt=Te.reject;const st=String.fromCharCode(65535),ut="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ct=[],ft="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),dt=ft,pt=ft,ht=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function mt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const yt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function gt(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=j(t))[e],t)}class bt{_trans(e,t,n){const r=this._tx||Ce.trans,o=this.name;function a(e,n,r){if(r.schema[o])return t(r.idbtrans,r);throw new X.NotFound("Table "+o+" not part of transaction")}var i=Fe();try{return r&&r.db===this.db?r===Ce.trans?r._promise(e,a,n):Ke((()=>r._promise(e,a,n)),{trans:r,transless:Ce.transless||Ce}):function e(t,n,r,o){if(t.idbdb&&(t._state.openComplete||Ce.letThrough||t._vip)){var a=t._createTransaction(n,r,t._dbSchema);try{a.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===K.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>e(t,n,r,o)))):lt(a)}return a._promise(n,((e,t)=>Ke((()=>(Ce.trans=a,o(e,t,a)))))).then((e=>a._completion.then((()=>e))))}if(t._state.openComplete)return lt(new X.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return lt(new X.DatabaseClosed);t.open().catch(Q)}return t._state.dbReadyPromise.then((()=>e(t,n,r,o)))}(this.db,e,[this.name],a)}finally{i&&Ye()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(a(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=o(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>0<=e.keyPath.indexOf(t)))&&e.keyPath.every((e=>0<=t.indexOf(e)))))[0];if(n&&this.db._maxKey!==st)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&F&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const r=this.schema.idxByName,i=this.db._deps.indexedDB;function l(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}var[s,u]=t.reduce((([t,n],o)=>{const i=r[o],s=e[o];return[t||i,t||!i?mt(n,i&&i.multi?e=>{const t=S(e,o);return a(t)&&t.some((e=>l(s,e)))}:e=>l(s,S(e,o))):n]}),[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(u):n?this.filter(u):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,a(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;var t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(u(t,r))try{n[r]=t[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){i(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=gt(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]}))).then((e=>e.numFailures?Te.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{O(e,r,t)}catch(t){}return t}))}update(e,t){if("object"!=typeof e||a(e))return this.where(":id").equals(e).modify(t);{const n=S(e,this.schema.primKey.keyPath);if(void 0===n)return lt(new X.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?o(t).forEach((n=>{O(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=gt(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Te.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{O(e,r,t)}catch(t){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Te.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:yt}))).then((e=>e.numFailures?Te.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{var{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const i=e.length;return n=a&&n?e.map(gt(a)):e,this.core.mutate({trans:t,type:"add",keys:r,values:n,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new $(`${this.name}.bulkAdd(): ${e} of ${i} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{var{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const i=e.length;return n=a&&n?e.map(gt(a)):e,this.core.mutate({trans:t,type:"put",keys:r,values:n,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new $(`${this.name}.bulkPut(): ${e} of ${i} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new $(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function vt(e){function t(t,r){if(r){for(var o=arguments.length,a=new Array(o-1);--o;)a[o-1]=arguments[o];return n[t].subscribe.apply(null,a),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=l;for(var r=1,i=arguments.length;r<i;++r)l(arguments[r]);return t;function l(e,r,i){if("object"!=typeof e){r=r||ie;var s,u={subscribers:[],fire:i=i||Q,subscribe:function(e){-1===u.subscribers.indexOf(e)&&(u.subscribers.push(e),u.fire=r(u.fire,e))},unsubscribe:function(e){u.subscribers=u.subscribers.filter((function(t){return t!==e})),u.fire=u.subscribers.reduce(r,i)}};return n[e]=t[e]=u}o(s=e).forEach((function(e){var t=s[e];if(a(t))l(e,s[e][0],s[e][1]);else{if("asap"!==t)throw new X.InvalidArgument("Invalid event config");var n=l(e,ee,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){_((function(){e.apply(null,t)}))}))}))}}))}}function _t(e,t){return p(t).from({prototype:e}),t}function wt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function St(e,t){e.filter=mt(e.filter,t)}function Ot(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>mt(r(),t()):t,e.justLimit=n&&!r}function Mt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(n)return n;throw new X.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed")}function Ct(e,t,n){var r=Mt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function kt(e,t,n,r){const o=e.replayFilter?mt(e.filter,e.replayFilter()):e.filter;if(e.or){const a={},i=(e,n,r)=>{var i,l;o&&!o(n,r,(e=>n.stop(e)),(e=>n.fail(e)))||("[object ArrayBuffer]"==(l=""+(i=n.primaryKey))&&(l=""+new Uint8Array(i)),u(a,l)||(a[l]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(i,n),Et(Ct(e,r,n),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}return Et(Ct(e,r,n),mt(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Et(e,t,n,r){var o=We(r?(e,t,o)=>n(r(e),t,o):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=Q}),(t=>{e.fail(t),n=Q}))||o(e.value,e,(e=>n=e)),n()}))}))}function Pt(e,t){try{var n=Tt(e),r=Tt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":var o=jt(e),a=jt(t),i=o.length,l=a.length,s=i<l?i:l;for(let e=0;e<s;++e)if(o[e]!==a[e])return o[e]<a[e]?-1:1;return i===l?0:i<l?-1:1;case"Array":{var u=e,c=t;const n=u.length,r=c.length,o=n<r?n:r;for(let e=0;e<o;++e){const t=Pt(u[e],c[e]);if(0!==t)return t}return n===r?0:n<r?-1:1}}}catch(e){}return NaN}function Tt(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(t=D(e))?"binary":t}function jt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class xt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,lt.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,lt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=mt(t.algorithm,e)}_iterate(e,t){return kt(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&i(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>kt(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(wt(t,!0))return n.count({trans:e,query:{index:Mt(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return kt(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],o=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var i="next"===this._ctx.dir?1:-1;function l(e,t){return(e=a(e,o))<(t=a(t,o))?-i:t<e?i:0}return this.toArray((function(e){return e.sort(l)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&wt(t,!0)&&0<t.limit){const n=t.valueMapper,r=Mt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return kt(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,wt(t)?Ot(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?--t:n((()=>{e.advance(t),t=0})),!1)})):Ot(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ot(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}}),!0),this}until(e,t){return St(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t;return St(this._ctx,(function(t){return e(t.value)})),(t=this._ctx).isMatch=mt(t.isMatch,e),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx,n=(t.keysOnly=!t.isMatch,[]);return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&wt(t,!0)&&0<t.limit)return this._read((e=>{var n=Mt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return St(this._ctx,(function(e){e=e.primaryKey.toString();var n=u(t,e);return t[e]=!0,!n})),this}modify(e){var t=this._ctx;return this._write((n=>{var r,a,i;i="function"==typeof e?e:(r=o(e),a=r.length,function(t){for(var n=!1,o=0;o<a;++o){var i=r[o],l=e[i];S(t,i)!==l&&(O(t,i,l),n=!0)}return n});const l=t.table.core,{outbound:s,extractKey:u}=l.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[];let d=0;const p=[],h=(e,t)=>{var n,{failures:r,numFailures:t}=t;for(n of(d+=e-t,o(r)))f.push(r[n])};return this.clone().primaryKeys().then((r=>{const o=a=>{const f=Math.min(c,r.length-a);return l.getMany({trans:n,keys:r.slice(a,a+f),cache:"immutable"}).then((d=>{const p=[],m=[],y=s?[]:null,g=[];for(let e=0;e<f;++e){const t=d[e],n={value:j(t),primKey:r[a+e]};!1!==i.call(n,n.value,n)&&(null==n.value?g.push(r[a+e]):s||0===Pt(u(t),u(n.value))?(m.push(n.value),s&&y.push(r[a+e])):(g.push(r[a+e]),p.push(n.value)))}const b=wt(t)&&t.limit===1/0&&("function"!=typeof e||e===Dt)&&{index:t.index,range:t.range};return Promise.resolve(0<p.length&&l.mutate({trans:n,type:"add",values:p}).then((e=>{for(var t in e.failures)g.splice(parseInt(t),1);h(p.length,e)}))).then((()=>(0<m.length||b&&"object"==typeof e)&&l.mutate({trans:n,type:"put",keys:y,values:m,criteria:b,changeSpec:"function"!=typeof e&&e}).then((e=>h(m.length,e))))).then((()=>(0<g.length||b&&e===Dt)&&l.mutate({trans:n,type:"delete",keys:g,criteria:b}).then((e=>h(g.length,e))))).then((()=>r.length>a+f&&o(a+c)))}))};return o(0).then((()=>{if(0<f.length)throw new q("Error modifying one or more objects",f,d,p);return r.length}))}))}))}delete(){var e=this._ctx,t=e.range;return wt(e)&&(e.isPrimKey&&!pt||3===t.type)?this._write((n=>{const r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((({failures:e,numFailures:n})=>{if(n)throw new q("Could not delete some values",Object.keys(e).map((t=>e[t])),t-n);return t-n}))))})):this.modify(Dt)}}const Dt=(e,t)=>t.value=null;function At(e,t){return e<t?-1:e===t?0:1}function It(e,t){return t<e?-1:e===t?0:1}function Lt(e,t,n){return(e=e instanceof Bt?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function Nt(e){return new e.Collection(e,(()=>Yt(""))).limit(0)}function Rt(e,t,n,r){var o,a,i,l,s,u,c,f=n.length;if(!n.every((e=>"string"==typeof e)))return Lt(e,"String expected.");function d(e){o="next"===e?e=>e.toUpperCase():e=>e.toLowerCase(),a="next"===e?e=>e.toLowerCase():e=>e.toUpperCase(),i="next"===e?At:It;var t=n.map((function(e){return{lower:a(e),upper:o(e)}})).sort((function(e,t){return i(e.lower,t.lower)}));l=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),c="next"===(u=e)?"":r}d("next");var p=((e=new e.Collection(e,(()=>Ft(l[0],s[f-1]+r))))._ondirectionchange=function(e){d(e)},0);return e._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var d=a(o);if(t(d,s,p))return!0;for(var h=null,m=p;m<f;++m){var y=function(e,t,n,r,o,a){for(var i=Math.min(e.length,r.length),l=-1,s=0;s<i;++s){var u=t[s];if(u!==r[s])return o(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):o(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):0<=l?e.substr(0,l)+t[l]+n.substr(l+1):null;o(e[s],u)<0&&(l=s)}return i<r.length&&"next"===a?e+n.substr(e.length):i<e.length&&"prev"===a?e.substr(0,n.length):l<0?null:e.substr(0,l)+r[l]+n.substr(l+1)}(o,d,l[m],s[m],i,u);null===y&&null===h?p=m+1:(null===h||0<i(h,y))&&(h=y)}return n(null!==h?function(){e.continue(h+c)}:r),!1})),e}function Ft(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Yt(e){return{type:1,lower:e,upper:e}}class Bt{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Nt(this):new this.Collection(this,(()=>Ft(e,t,!n,!r)))}catch(e){return Lt(this,ut)}}equals(e){return null==e?Lt(this,ut):new this.Collection(this,(()=>Yt(e)))}above(e){return null==e?Lt(this,ut):new this.Collection(this,(()=>Ft(e,void 0,!0)))}aboveOrEqual(e){return null==e?Lt(this,ut):new this.Collection(this,(()=>Ft(e,void 0,!1)))}below(e){return null==e?Lt(this,ut):new this.Collection(this,(()=>Ft(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Lt(this,ut):new this.Collection(this,(()=>Ft(void 0,e)))}startsWith(e){return"string"!=typeof e?Lt(this,"String expected."):this.between(e,e+st,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Rt(this,((e,t)=>0===e.indexOf(t[0])),[e],st)}equalsIgnoreCase(e){return Rt(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=N.apply(L,arguments);return 0===e.length?Nt(this):Rt(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=N.apply(L,arguments);return 0===e.length?Nt(this):Rt(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,st)}anyOf(){const e=N.apply(L,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Lt(this,ut)}if(0===e.length)return Nt(this);const n=new this.Collection(this,(()=>Ft(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,o,a)=>{for(var i=n.key;0<t(i,e[r]);)if(++r===e.length)return o(a),!1;return 0===t(i,e[r])||(o((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=N.apply(L,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Lt(this,ut)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,o=this._descending,a=this._min,i=this._max;if(0===e.length)return Nt(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Lt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);const l=!t||!1!==t.includeLowers,s=t&&!0===t.includeUppers;let u,c=r;function f(e,t){return c(e[0],t[0])}try{(u=e.reduce((function(e,t){let r=0,o=e.length;for(;r<o;++r){const o=e[r];if(n(t[0],o[1])<0&&0<n(t[1],o[0])){o[0]=a(o[0],t[0]),o[1]=i(o[1],t[1]);break}}return r===o&&e.push(t),e}),[])).sort(f)}catch(e){return Lt(this,ut)}let d=0;const p=s?e=>0<r(e,u[d][1]):e=>0<=r(e,u[d][1]),h=l?e=>0<o(e,u[d][0]):e=>0<=o(e,u[d][0]);let m=p;const y=new this.Collection(this,(()=>Ft(u[0][0],u[u.length-1][1],!l,!s)));return y._ondirectionchange=e=>{c="next"===e?(m=p,r):(m=h,o),u.sort(f)},y._addAlgorithm(((e,t,n)=>{for(var o,a=e.key;m(a);)if(++d===u.length)return t(n),!1;return!(p(o=a)||h(o))||(0!==this._cmp(a,u[d][1])&&0!==this._cmp(a,u[d][0])&&t((()=>{c===r?e.continue(u[d][0]):e.continue(u[d][1])})),!1)})),y}startsWithAnyOf(){const e=N.apply(L,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Nt(this):this.inAnyRange(e.map((e=>[e,e+st]))):Lt(this,"startsWithAnyOf() only works with strings")}}function Ut(e){return We((function(t){return Wt(t),e(t.target.error),!1}))}function Wt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const zt=vt(null,"storagemutated");class Ht{_lock(){return v(!Ce.global),++this._reculock,1!==this._reculock||Ce.global||(Ce.lockOwnerFor=this),this}_unlock(){if(v(!Ce.global),0==--this._reculock)for(Ce.global||(Ce.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{nt(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Ce.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(v(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new X.DatabaseClosed(n);case"MissingAPIError":throw new X.MissingAPI(n.message,n);default:throw new X.OpenFailed(n)}if(this.active)return v(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||t).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=We((t=>{Wt(t),this._reject(e.error)})),e.onabort=We((t=>{Wt(t),this.active&&this._reject(new X.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=We((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&zt.storagemutated.fire(e.mutatedParts)})),this;throw new X.TransactionInactive}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return lt(new X.ReadOnly("Transaction is readonly"));if(!this.active)return lt(new X.TransactionInactive);if(this._locked())return new Te(((r,o)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,o)},Ce])}));if(n)return Ke((()=>{var e=new Te(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Te(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t,n=this._root();const r=Te.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then((()=>r)):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var o=n._waitingFor;return new Te(((e,t)=>{r.then((t=>n._waitingQueue.push(We(e.bind(null,t)))),(e=>n._waitingQueue.push(We(t.bind(null,e))))).finally((()=>{n._waitingFor===o&&(n._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(u(t,e))return t[e];var n=this.schema[e];if(!n)throw new X.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r}}function Vt(e,t,n,r,o,a,i){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:a,src:(n&&!i?"&":"")+(r?"*":"")+(o?"++":"")+Gt(t)}}function Gt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function qt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:w(n,(e=>[e.name,e]))}}let $t=e=>{try{return e.only([[]]),$t=()=>[[]],[[]]}catch(e){return $t=()=>st,st}};function Kt(e){return null==e?()=>{}:"string"==typeof e?1===(t=e).split(".").length?e=>e[t]:e=>S(e,t):t=>S(t,e);var t}function Jt(e){return[].slice.call(e)}let Xt=0;function Zt(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Qt({_novip:e},t){var n,r=t.db,o=([r,t,o,n]=[e._middlewares,r,e._deps.IDBKeyRange,t],t=function(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var{lower:e,upper:n,lowerOpen:r,upperOpen:o}=e;return void 0===e?void 0===n?null:t.upperBound(n,!!o):void 0===n?t.lowerBound(e,!!r):t.bound(e,n,!!r,!!o)}const{schema:o,hasGetAll:i}=function(e,t){const n=Jt(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=a(t),o=null==t,i={},l={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Kt(t)},indexes:Jt(e.indexNames).map((t=>e.index(t))).map((e=>{var{name:e,unique:t,multiEntry:n,keyPath:r}=e;return e={name:e,compound:a(r),keyPath:r,unique:t,multiEntry:n,extractKey:Kt(r)},i[Zt(r)]=e})),getIndexByKeyPath:e=>i[Zt(e)]};return i[":id"]=l.primaryKey,null!=t&&(i[Zt(t)]=l.primaryKey),l}))},hasGetAll:0<n.length&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),l=o.tables.map((e=>{{const n=e.name;return{name:n,schema:e,mutate:function({trans:e,type:t,keys:o,values:a,range:i}){return new Promise(((l,s)=>{l=We(l);const u=e.objectStore(n),c=null==u.keyPath,f="put"===t||"add"===t;if(!f&&"delete"!==t&&"deleteRange"!==t)throw new Error("Invalid operation type: "+t);var d=(o||a||{length:1}).length;if(o&&a&&o.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return l({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const h=[],m=[];let y=0;const g=e=>{++y,Wt(e)};if("deleteRange"===t){if(4===i.type)return l({numFailures:y,failures:m,results:[],lastResult:void 0});3===i.type?h.push(p=u.clear()):h.push(p=u.delete(r(i)))}else{const[e,n]=f?c?[a,o]:[a,null]:[o,null];if(f)for(let r=0;r<d;++r)h.push(p=n&&void 0!==n[r]?u[t](e[r],n[r]):u[t](e[r])),p.onerror=g;else for(let n=0;n<d;++n)h.push(p=u[t](e[n])),p.onerror=g}const b=e=>{e=e.target.result,h.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),l({numFailures:y,failures:m,results:"delete"===t?o:h.map((e=>e.result)),lastResult:e})};p.onerror=e=>{g(e),b(e)},p.onsuccess=b}))},getMany:({trans:e,keys:t})=>new Promise(((r,o)=>{r=We(r);const a=e.objectStore(n),i=t.length,l=new Array(i);let s,u=0,c=0;var f=e=>{e=e.target,l[e._pos]=e.result,++c===u&&r(l)},d=Ut(o);for(let e=0;e<i;++e)null!=t[e]&&((s=a.get(t[e]))._pos=e,s.onsuccess=f,s.onerror=d,++u);0===u&&r(l)})),get:({trans:e,key:t})=>new Promise(((r,o)=>{r=We(r);const a=e.objectStore(n).get(t);a.onsuccess=e=>r(e.target.result),a.onerror=Ut(o)})),query:(t=i,e=>new Promise(((o,a)=>{o=We(o);const{trans:i,values:l,limit:s,query:u}=e,c=s===1/0?void 0:s,{index:f,range:d}=u,p=i.objectStore(n),h=f.isPrimaryKey?p:p.index(f.name),m=r(d);if(0===s)return o({result:[]});if(t){const e=l?h.getAll(m,c):h.getAllKeys(m,c);e.onsuccess=e=>o({result:e.target.result}),e.onerror=Ut(a)}else{let e=0;const t=!l&&"openKeyCursor"in h?h.openKeyCursor(m):h.openCursor(m),n=[];t.onsuccess=r=>{const a=t.result;return a?(n.push(l?a.value:a.primaryKey),++e===s?o({result:n}):void a.continue()):o({result:n})},t.onerror=Ut(a)}}))),openCursor:function({trans:e,values:t,query:o,reverse:a,unique:i}){return new Promise(((l,s)=>{l=We(l);const{index:u,range:c}=o,f=e.objectStore(n),d=u.isPrimaryKey?f:f.index(u.name),p=a?i?"prevunique":"prev":i?"nextunique":"next",h=!t&&"openKeyCursor"in d?d.openKeyCursor(r(c),p):d.openCursor(r(c),p);h.onerror=Ut(s),h.onsuccess=We((t=>{const n=h.result;if(n){n.___id=++Xt,n.done=!1;const t=n.continue.bind(n);let r=n.continuePrimaryKey;r=r&&r.bind(n);const o=n.advance.bind(n),a=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=We(s),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const i=new Promise(((e,t)=>{e=We(e),h.onerror=Ut(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=a,e(t)}})),l=()=>{if(h.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return h.onsuccess=We((e=>{(h.onsuccess=l)()})),n.continue=t,n.continuePrimaryKey=r,n.advance=o,l(),i},l(n)}else l(null)}),s)}))},count({query:e,trans:t}){const{index:o,range:a}=e;return new Promise(((e,i)=>{const l=t.objectStore(n),s=o.isPrimaryKey?l:l.index(o.name),u=r(a),c=u?s.count(u):s.count();c.onsuccess=We((t=>e(t.target.result))),c.onerror=Ut(i)}))}};var t}})),s={};return l.forEach((e=>s[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(s[e])return s[e];throw new Error(`Table '${e}' not found`)},MIN_KEY:-1/0,MAX_KEY:$t(t),schema:o}}(t,o,n),{dbcore:r.dbcore.reduce(((e,{create:t})=>({...e,...t(e)})),t)});e.core=o.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function en({_novip:e},t,n,r){n.forEach((n=>{const o=r[n];t.forEach((t=>{var r=m(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?d(t,n,{get(){return this.table(n)},set(e){f(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function tn({_novip:e},t){t.forEach((t=>{for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function nn(e,t){return e._cfg.version-t._cfg.version}function rn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){var o=e[r],a=t[r];if(o){const e={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||o.primKey.auto!==a.primKey.auto&&!ft)e.recreate=!0,n.change.push(e);else{const t=o.idxByName,r=a.idxByName;let i;for(i in t)r[i]||e.del.push(i);for(i in r){const n=t[i],o=r[i];n?n.src!==o.src&&e.change.push(o):e.add.push(o)}(0<e.del.length||0<e.add.length||0<e.change.length)&&n.change.push(e)}}else n.add.push([r,a])}return n}function on(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});r.forEach((e=>an(o,e)))}function an(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ln(e,t,n){const r={};return g(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let o=t.keyPath;const a=Vt(Gt(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),i=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);o=n.keyPath;var l=Vt(n.name,o,!!n.unique,!!n.multiEntry,!1,o&&"string"!=typeof o,!1);i.push(l)}r[e]=qt(e,a,i)})),r}function sn({_novip:e},t,n){const o=n.db.objectStoreNames;for(let r=0;r<o.length;++r){const a=o[r],i=n.objectStore(a);e._hasGetAll="getAll"in i;for(let e=0;e<i.indexNames.length;++e){const n=i.indexNames[e],r=i.index(n).keyPath,o="string"==typeof r?r:"["+g(r).join("+")+"]";if(t[a]){const e=t[a].idxByName[o];e&&(e.name=n,delete t[a].idxByName[o],t[a].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class un{_parseStoresSpec(e,t){o(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Vt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),a(r),0===t)})),o=r.shift();if(o.multi)throw new X.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")})),t[n]=qt(n,o,r)}}))}stores(e){const t=this.db,n=(this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,e):e,t._versions),r={};let a={};return n.forEach((e=>{i(r,e._cfg.storesSource),a=e._cfg.dbschema={},e._parseStoresSpec(r,a)})),t._dbSchema=a,tn(t,[t._allTables,t,t.Transaction.prototype]),en(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],o(a),a),t._storeNames=o(a),this}upgrade(e){return this._cfg.contentUpgrade=le(this._cfg.contentUpgrade||Q,e),this}}function cn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Tn("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function fn(e){return e&&"function"==typeof e.databases}function dn(e){return Ke((function(){return Ce.letThrough=!0,e()}))}function pn(e){var t=t=>e.next(t),n=o(t),r=o((t=>e.throw(t)));function o(e){return t=>{var o=(t=e(t)).value;return t.done?o:o&&"function"==typeof o.then?o.then(n,r):a(o)?Promise.all(o).then(n,r):n(o)}}return o(t)()}function hn(e,t,n){const r=a(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const mn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),r=n.schema,o={},a=[];function i(e,t,n){const r=Zt(e),l=o[r]=o[r]||[],s=null==e?0:"string"==typeof e?1:e.length,u=0<t,c={...n,isVirtual:u,keyTail:t,keyLength:s,extractKey:Kt(e),unique:!u&&n.unique};return l.push(c),c.isPrimaryKey||a.push(c),1<s&&i(2===s?e[0]:e.slice(0,s-1),t+1,n),l.sort(((e,t)=>e.keyTail-t.keyTail)),c}t=i(r.primaryKey.keyPath,0,r.primaryKey),o[":id"]=[t];for(const e of r.indexes)i(e.keyPath,0,e);function l(t){var n,r=t.query.index;return r.isVirtual?{...t,query:{index:r,range:(n=t.query.range,r=r.keyTail,{type:1===n.type?2:n.type,lower:hn(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:hn(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}:t}return{...n,schema:{...r,primaryKey:t,indexes:a,getIndexByKeyPath:function(e){return(e=o[Zt(e)])&&e[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){const{keyTail:r,isVirtual:o,keyLength:a}=t.query.index;return o?n.openCursor(l(t)).then((n=>n&&function(n){return Object.create(n,{continue:{value:function(o){null!=o?n.continue(hn(o,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,o){n.continuePrimaryKey(hn(t,e.MAX_KEY,r),o)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:()=>n.value}})}(n))):n.openCursor(t)}}}}}};function yn(e,t,n,r){return n=n||{},r=r||"",o(e).forEach((o=>{if(u(t,o)){var a=e[o],i=t[o];if("object"==typeof a&&"object"==typeof i&&a&&i){const e=D(a);e!==D(i)?n[r+o]=t[o]:"Object"===e?yn(a,i,n,r+o+"."):a!==i&&(n[r+o]=t[o])}else a!==i&&(n[r+o]=t[o])}else n[r+o]=void 0})),o(t).forEach((o=>{u(e,o)||(n[r+o]=t[o])})),n}const gn={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),r=n.schema.primaryKey,o={...n,mutate(e){const o=Ce.trans,{deleting:a,creating:i,updating:l}=o.table(t).hook;switch(e.type){case"add":if(i.fire===Q)break;return o._promise("readwrite",(()=>s(e)),!0);case"put":if(i.fire===Q&&l.fire===Q)break;return o._promise("readwrite",(()=>s(e)),!0);case"delete":if(a.fire===Q)break;return o._promise("readwrite",(()=>s(e)),!0);case"deleteRange":if(a.fire===Q)break;return o._promise("readwrite",(()=>function e(t,o,a){return n.query({trans:t,values:!1,query:{index:r,range:o},limit:a}).then((({result:n})=>s({type:"delete",keys:n,trans:t}).then((r=>0<r.numFailures?Promise.reject(r.failures[0]):n.length<a?{failures:[],numFailures:0,lastResult:void 0}:e(t,{...o,lower:n[n.length-1],lowerOpen:!0},a)))))}(e.trans,e.range,1e4)),!0)}return n.mutate(e);function s(e){const t=Ce.trans,o=e.keys||(c=r,"delete"===(s=e).type?s.keys:s.keys||s.values.map(c.extractKey));var s,c,f;if(o)return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:o}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),s=n,f=o,("add"===(c=e).type?Promise.resolve([]):s.getMany({trans:c.trans,keys:f,cache:"immutable"})).then((s=>{const c=o.map(((n,o)=>{var c=s[o],f={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(f,n,c,t);else if("add"===e.type||void 0===c){const a=i.fire.call(f,n,e.values[o],t);null==n&&null!=a&&(n=a,e.keys[o]=n,r.outbound||O(e.values[o],r.keyPath,n))}else{const r=yn(c,e.values[o]),a=l.fire.call(f,r,n,c,t);if(a){const t=e.values[o];Object.keys(a).forEach((e=>{u(t,e)?t[e]=a[e]:O(t,e,a[e])}))}}return f}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:a})=>{for(let r=0;r<o.length;++r){const a=(n||o)[r],i=c[r];null==a?i.onerror&&i.onerror(t[r]):i.onsuccess&&i.onsuccess("put"===e.type&&s[r]?e.values[r]:a)}return{failures:t,results:n,numFailures:r,lastResult:a}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}));throw new Error("Keys missing")}}};return o}})};function bn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let o=0,a=0;o<t.keys.length&&a<e.length;++o)0===Pt(t.keys[o],e[a])&&(r.push(n?j(t.values[o]):t.values[o]),++a);return r.length===e.length?r:null}catch(e){return null}}const vn={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);var t=bn(e.keys,e.trans._cache,"clone"===e.cache);return t?Te.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?j(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function _n(e){return!("from"in e)}const wn=function(e,t){if(!this){const t=new wn;return e&&"d"in e&&i(t,e),t}i(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function Sn(e,t,n){var r=Pt(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(_n(e))return i(e,{from:t,to:n,d:1});r=e.l;var o=e.r;if(Pt(n,e.from)<0)return r?Sn(r,t,n):e.l={from:t,to:n,d:1,l:null,r:null},kn(e);if(0<Pt(t,e.to))return o?Sn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},kn(e);Pt(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),0<Pt(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),t=!e.r,r&&!e.l&&On(e,r),o&&t&&On(e,o)}}function On(e,t){_n(t)||function e(t,{from:n,to:r,l:o,r:a}){Sn(t,n,r),o&&e(t,o),a&&e(t,a)}(e,t)}function Mn(e,t){const n=Cn(t);let r=n.next();if(r.done)return!1;let o=r.value;const a=Cn(e);let i=a.next(o.from),l=i.value;for(;!r.done&&!i.done;){if(Pt(l.from,o.to)<=0&&0<=Pt(l.to,o.from))return!0;Pt(o.from,l.from)<0?o=(r=n.next(l.from)).value:l=(i=a.next(o.from)).value}return!1}function Cn(e){let t=_n(e)?null:{s:0,n:e};return{next(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Pt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Pt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function kn(e){var t,n;const r=((null==(t=e.r)?void 0:t.d)||0)-((null==(n=e.l)?void 0:n.d)||0),o=1<r?"r":r<-1?"l":"";if(o){const t="r"==o?"l":"r",n={...e},r=e[o];e.from=r.from,e.to=r.to,e[o]=r[o],n[o]=r[t],(e[t]=n).d=En(n)}e.d=En(e)}function En({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}c(wn.prototype,{add(e){return On(this,e),this},addKey(e){return Sn(this,e,e),this},addKeys(e){return e.forEach((e=>Sn(this,e,e))),this},[A](){return Cn(this)}});const Pn={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new wn(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),l=i.schema,s=l.primaryKey,{extractKey:u,outbound:c}=s,f={...i,mutate:e=>{const o=e.trans,s=o.mutatedParts||(o.mutatedParts={}),u=e=>s[e=`idb://${t}/${r}/`+e]||(s[e]=new wn),c=u(""),f=u(":dels"),d=e.type;let[p,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const m=e.trans._cache;return i.mutate(e).then((e=>{if(a(p)){"delete"!==d&&(p=e.results),c.addKeys(p);var t=bn(p,m);t||"add"===d||f.addKeys(p),(t||h)&&(r=u,o=t,i=h,l.indexes.forEach((function(e){const t=r(e.name||"");function n(t){return null!=t?e.extractKey(t):null}const l=n=>e.multiEntry&&a(n)?n.forEach((e=>t.addKey(e))):t.addKey(n);(o||i).forEach(((e,t)=>{var r=o&&n(o[t]);0!==Pt(r,t=i&&n(i[t]))&&(null!=r&&l(r),null!=t&&l(t))}))})))}else if(p){const e={from:p.lower,to:p.upper};f.add(e),c.add(e)}else c.add(n),f.add(n),l.indexes.forEach((e=>u(e.name).add(n)));var r,o,i;return e}))}},d=({query:{index:t,range:n}})=>[t,new wn(null!=(t=n.lower)?t:e.MIN_KEY,null!=(t=n.upper)?t:e.MAX_KEY)],p={get:e=>[s,new wn(e.key)],getMany:e=>[s,(new wn).addKeys(e.keys)],count:d,query:d,openCursor:d};return o(p).forEach((e=>{f[e]=function(o){const a=Ce.subscr;if(a){const l=e=>a[e=`idb://${t}/${r}/`+e]||(a[e]=new wn),s=l(""),f=l(":dels"),[d,h]=p[e](o);if(l(d.name||"").add(h),!d.isPrimaryKey){if("count"!==e){const t="query"===e&&c&&o.values&&i.query({...o,values:!1});return i[e].apply(this,arguments).then((n=>{if("query"===e){if(c&&o.values)return t.then((({result:e})=>(s.addKeys(e),n)));const e=o.values?n.result.map(u):n.result;(o.values?s:f).addKeys(e)}else if("openCursor"===e){const e=n,t=o.values;return e&&Object.create(e,{key:{get:()=>(f.addKey(e.primaryKey),e.key)},primaryKey:{get(){var t=e.primaryKey;return f.addKey(t),t}},value:{get:()=>(t&&s.addKey(e.primaryKey),e.value)}})}return n}))}f.add(n)}}return i[e].apply(this,arguments)}})),f}}}};class Tn{constructor(e,t){this._middlewares={},this.verno=0;var n,r,o,a,i,l=Tn.dependencies;this._options=t={addons:Tn.addons,autoOpen:!0,indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const s=t.addons,u=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Q,dbReadyPromise:null,cancelOpen:Q,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3});u.dbReadyPromise=new Te((e=>{u.dbReadyResolve=e})),u.openCanceller=new Te(((e,t)=>{u.cancelOpen=t})),this._state=u,this.name=e,this.on=vt(this,"populate","blocked","versionchange","close",{ready:[le,Q]}),this.on.ready.subscribe=b(this.on.ready.subscribe,(e=>(t,n)=>{Tn.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Te.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(n=this,_t(xt.prototype,(function(e,t){this.db=n;let r=yt,o=null;if(t)try{r=t()}catch(e){o=e}var a=(t=e._ctx).table,i=a.hook.reading.fire;this._ctx={table:a,index:t.index,isPrimKey:!t.index||a.schema.primKey.keyPath&&t.index===a.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:t.or,valueMapper:i!==ee?i:null}}))),this.Table=(i=this,_t(bt.prototype,(function(e,t,n){this.db=i,this._tx=n,this.name=e,this.schema=t,this.hook=i._allTables[e]?i._allTables[e].hook:vt(null,{creating:[re,Q],reading:[te,ee],updating:[ae,Q],deleting:[oe,Q]})}))),this.Transaction=(a=this,_t(Ht.prototype,(function(e,t,n,r,o){this.db=a,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=vt(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),lt(e)}))}))),this.Version=(o=this,_t(un.prototype,(function(e){this.db=o,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))),this.WhereClause=(r=this,_t(Bt.prototype,(function(e,t,n){this.db=r,this._ctx={table:e,index:":id"===t?null:t,or:n};const o=r._deps.indexedDB;if(!o)throw new X.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(e,t)=>o.cmp(t,e),this._max=(e,t)=>0<o.cmp(e,t)?e:t,this._min=(e,t)=>o.cmp(e,t)<0?e:t,this._IDBKeyRange=r._deps.IDBKeyRange}))),this.on("versionchange",(e=>{0<e.newVersion?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version `+e.oldVersion/10)})),this._maxKey=$t(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),ct.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(mn),this.use(gn),this.use(Pn),this.use(vn),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new X.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(nn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Ce.letThrough||this._vip)?e():new Te(((e,t)=>{if(this._state.openComplete)return t(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new X.DatabaseClosed);this.open().catch(Q)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:t,level:null==n?10:n,name:r}),o.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?lt(t.dbOpenError):e));F&&(t.openCanceller._stackHolder=W()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function a(){if(t.openCanceller!==r)throw new X.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,l=null,s=!1;return Te.race([r,("undefined"==typeof navigator?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){function t(){return indexedDB.databases().finally(e)}u=setInterval(t,100),t()})).finally((function(){return clearInterval(u)})):Promise.resolve()).then((()=>new Te(((r,i)=>{if(a(),!n)throw new X.MissingAPI;const u=e.name,c=t.autoSchema?n.open(u):n.open(u,Math.round(10*e.verno));if(!c)throw new X.MissingAPI;c.onerror=Ut(i),c.onblocked=We(e._fireOnBlocked),c.onupgradeneeded=We((r=>{if(l=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=Wt,l.abort(),c.result.close();const e=n.deleteDatabase(u);e.onsuccess=e.onerror=We((()=>{i(new X.NoSuchDatabase(`Database ${u} doesnt exist`))}))}else l.onerror=Ut(i),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,s=r<1,e._novip.idbdb=c.result,function(e,t,n,r){const a=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,a),l=(i.create(n),i._completion.catch(r),i._reject.bind(i)),s=Ce.transless||Ce;Ke((()=>{Ce.trans=i,Ce.transless=s,0===t?(o(a).forEach((e=>{on(n,e,a[e].primKey,a[e].indexes)})),Qt(e,n),Te.follow((()=>e.on.populate.fire(i))).catch(l)):function({_novip:e},t,n,r){const a=[],i=e._versions;let l=e._dbSchema=ln(0,e.idbdb,r),s=!1;return i.filter((e=>e._cfg.version>=t)).forEach((i=>{a.push((()=>{const a=l,u=i._cfg.dbschema,c=(sn(e,a,r),sn(e,u,r),l=e._dbSchema=u,rn(a,u)),f=(c.add.forEach((e=>{on(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new X.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>an(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),an(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}})),i._cfg.contentUpgrade);if(f&&i._cfg.version>t){Qt(e,r),n._memoizedTables={},s=!0;let t=M(u);c.del.forEach((e=>{t[e]=a[e]})),tn(e,[e.Transaction.prototype]),en(e,[e.Transaction.prototype],o(t),t),n.schema=t;const i=R(f);let l;i&&Je();const d=Te.follow((()=>{var e;(l=f(n))&&i&&(e=Xe.bind(null,null),l.then(e,e))}));return l&&"function"==typeof l.then?Te.resolve(l):d.then((()=>l))}})),a.push((t=>{var r,o;s&&dt||(r=i._cfg.dbschema,o=t,[].slice.call(o.db.objectStoreNames).forEach((e=>null==r[e]&&o.db.deleteObjectStore(e)))),tn(e,[e.Transaction.prototype]),en(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return a.length?Te.resolve(a.shift()(n.idbtrans)).then(e):Te.resolve()}().then((()=>{var e,t=r;o(e=l).forEach((n=>{t.db.objectStoreNames.contains(n)||on(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(l)}))}(e,r/10,l,i)}),i),c.onsuccess=We((()=>{l=null;const n=e._novip.idbdb=c.result,a=g(n.objectStoreNames);if(0<a.length)try{const r=n.transaction(1===a.length?a[0]:a,"readonly");if(t.autoSchema){var[i,f,d]=[e._novip,n,r];i.verno=f.version/10,d=i._dbSchema=ln(0,f,d),i._storeNames=g(f.objectStoreNames,0),en(i,[i._allTables],o(d),d)}else sn(e,e._dbSchema,r),function(e,t){const n=rn(ln(0,e.idbdb,t),e._dbSchema);return!n.add.length&&!n.change.some((e=>e.add.length||e.change.length))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.");Qt(e,r)}catch(n){}ct.push(e),n.onversionchange=We((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=We((t=>{e.on("close").fire(t)})),s&&([{indexedDB:f,IDBKeyRange:i},d]=[e._deps,u],fn(f)||"__dbnames"===d||cn(f,i).put({name:d}).catch(Q)),r()}),i)}))))]).then((()=>(a(),t.onReadyBeingFired=[],Te.resolve(dn((()=>e.on.ready.fire(e.vip)))).then((function n(){if(0<t.onReadyBeingFired.length){let r=t.onReadyBeingFired.reduce(le,Q);return t.onReadyBeingFired=[],Te.resolve(dn((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{l&&l.abort()}catch(n){}return r===t.openCanceller&&e._close(),lt(n)})).finally((()=>{t.openComplete=!0,i()}));var u}(this)}_close(){const e=this._state,t=ct.indexOf(this);if(0<=t&&ct.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Te((t=>{e.dbReadyResolve=t})),e.openCanceller=new Te(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new X.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=0<arguments.length,t=this._state;return new Te(((n,r)=>{var o=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=We((()=>{var e,t,r;[{indexedDB:e,IDBKeyRange:t},r]=[this._deps,this.name],fn(e)||"__dbnames"===r||cn(e,t).delete(r).catch(Q),n()})),e.onerror=Ut(r),e.onblocked=this._fireOnBlocked};if(e)throw new X.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(o):o()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return o(this._allTables).map((e=>this._allTables[e]))}transaction(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new X.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,k(o),n]}.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Ce.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const o=-1!==e.indexOf("?");let a,i;e=e.replace("!","").replace("?","");try{if(i=t.map((e=>{if("string"!=typeof(e=e instanceof this.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==e||"readonly"===e)a="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new X.InvalidArgument("Invalid transaction mode: "+e);a="readwrite"}if(r){if("readonly"===r.mode&&"readwrite"===a){if(!o)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!o)throw new X.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),o&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):lt(e)}const l=function e(t,n,r,o,a){return Te.resolve().then((()=>{const i=Ce.transless||Ce,l=t._createTransaction(n,r,t._dbSchema,o),s={trans:l,transless:i};if(o)l.idbtrans=o.idbtrans;else try{l.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===K.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>e(t,n,r,null,a)))):lt(i)}const u=R(a);let c;u&&Je();const f=Te.follow((()=>{var e;(c=a.call(l,l))&&(u?(e=Xe.bind(null,null),c.then(e,e)):"function"==typeof c.next&&"function"==typeof c.throw&&(c=pn(c)))}),s);return(c&&"function"==typeof c.then?Te.resolve(c).then((e=>l.active?e:lt(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):f.then((()=>c))).then((e=>(o&&l._resolve(),l._completion.then((()=>e))))).catch((e=>(l._reject(e),lt(e))))}))}.bind(null,this,a,i,r,n);return r?r._promise(a,l,"lock"):Ce.trans?nt(Ce.transless,(()=>this._whenReady(l))):this._whenReady(l)}table(e){if(u(this._allTables,e))return this._allTables[e];throw new X.InvalidTable(`Table ${e} does not exist`)}}class jn{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}["undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable"](){return this}}function xn(e,t){return o(t).forEach((n=>{On(e[n]||(e[n]=new wn),t[n])})),e}function Dn(e){return new jn((t=>{const n=R(e);let r=!1,a={},i={};const l={get closed(){return r},unsubscribe:()=>{r=!0,zt.storagemutated.unsubscribe(f)}};t.start&&t.start(l);let s=!1,u=!1;function c(){return o(i).some((e=>a[e]&&Mn(a[e],i[e])))}const f=e=>{xn(a,e),c()&&d()},d=()=>{if(!s&&!r){a={};const o={},p=function(t){n&&Je();const r=()=>Ke(e,{subscr:t,trans:null}),o=Ce.trans?nt(Ce.transless,r):r();return n&&o.then(Xe,Xe),o}(o);u||(zt("storagemutated",f),u=!0),s=!0,Promise.resolve(p).then((e=>{s=!1,r||(c()?d():(a={},i=o,t.next&&t.next(e)))}),(e=>{s=!1,t.error&&t.error(e),l.unsubscribe()}))}};return d(),l}))}let An;try{An={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(r){An={indexedDB:null,IDBKeyRange:null}}const In=Tn;function Ln(e){var t=Nn;try{Nn=!0,zt.storagemutated.fire(e)}finally{Nn=t}}c(In,{...n,delete:e=>new In(e,{addons:[]}).delete(),exists:e=>new In(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return({indexedDB:t,IDBKeyRange:n}=In.dependencies),(fn(t)?Promise.resolve(t.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):cn(t,n).toCollection().primaryKeys()).then(e)}catch(e){return lt(new X.MissingAPI)}var t,n},defineClass:()=>function(e){i(this,e)},ignoreTransaction:e=>Ce.trans?nt(Ce.transless,e):e(),vip:dn,async:function(e){return function(){try{var t=pn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Te.resolve(t)}catch(t){return lt(t)}}},spawn:function(e,t,n){try{var r=pn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Te.resolve(r)}catch(e){return lt(e)}},currentTransaction:{get:()=>Ce.trans||null},waitFor:function(e,t){return e=Te.resolve("function"==typeof e?In.ignoreTransaction(e):e).timeout(t||6e4),Ce.trans?Ce.trans.waitFor(e):e},Promise:Te,debug:{get:()=>F,set:e=>{Y(e,"dexie"===e?()=>!0:ht)}},derive:p,extend:i,props:c,override:b,Events:vt,on:zt,liveQuery:Dn,extendObservabilitySet:xn,getByKeyPath:S,setByKeyPath:O,delByKeyPath:function(e,t){"string"==typeof t?O(e,t,void 0):"length"in t&&[].map.call(t,(function(t){O(e,t,void 0)}))},shallowClone:M,deepClone:j,getObjectDiff:yn,cmp:Pt,asap:_,minKey:-1/0,addons:[],connections:ct,errnames:K,dependencies:An,semVer:"3.2.1",version:"3.2.1".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),In.maxKey=$t(In.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(zt("storagemutated",(e=>{if(!Nn){let t;ft?(t=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,e):t=new CustomEvent("x-storagemutated-1",{detail:e}),Nn=!0,dispatchEvent(t),Nn=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{Nn||Ln(e)})));let Nn=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");zt("storagemutated",(t=>{Nn||e.postMessage(t)})),e.onmessage=e=>{e.data&&Ln(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){zt("storagemutated",(e=>{try{Nn||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),addEventListener("storage",(e=>{"x-storagemutated-1"===e.key&&(e=JSON.parse(e.newValue))&&Ln(e.changedParts)}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&Ln(e.changedParts)}))}Te.rejectionMapper=function(e,t){return!e||e instanceof V||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Z[e.name]?e:(t=new Z[e.name](t||e.message,e),"stack"in e&&d(t,"stack",{get:function(){return this.inner.stack}}),t)},Y(F,ht)},8755:e=>{"use strict";e.exports=JSON.parse('{"DEFAULT":"en","FUZZY_MATCH":true,"ALL":[{"name":"zh-cn","label":"","labels":{"zh-tw":"","en":"Simplified Chinese","ja":"","vi":"Ting Trung gin th"}},{"name":"zh-tw","label":"","labels":{"zh-cn":"","ja":"","en":"Traditional Chinese","vi":"Trung Quc truyn thng"}},{"name":"en","label":"English","labels":{"zh-cn":"","zh-tw":"","ja":"","vi":"Ting anh"}},{"name":"ja","label":"","labels":{"zh-cn":"","zh-tw":"","en":"Japanese","vi":"Ting nht"}},{"name":"vi","label":"Ting vit","labels":{"zh-cn":"","zh-tw":"","en":"Vietnamese","ja":""}}],"zh-cn":{"common.notification":"()"},"zh-tw":{"common.notification":"()"},"en":{"common.notification":"Notifications(Legacy)"},"ja":{"common.notification":"()"},"vi":{"common.notification":"Thng bo(di sn)"}}')},35507:e=>{"use strict";e.exports=JSON.parse('{"emoji.imagePathPNG":"media/twemoji/png/","emoji.imageType":"png","image.path":"media/img/","image.path.en.logo":"media/img/logo.png","image.path.en.logo-inverse":"media/img/logo-inverse.png","sound.path":"media/sound/"}')},10241:e=>{"use strict";e.exports=JSON.parse('{"device":"desktop","notification.enable":true,"permissions":null,"localExtensions.enabled":"debug","http.timeout":20000,"socket.timeout":20000}')},33859:e=>{"use strict";e.exports=JSON.parse('{"app.windowMinWidth":748,"app.windowMinHeight":510,"app.windowDefaultWidth":1000,"app.windowDefaultHeight":750,"app.showPoweredBy":"auto","chat.cacheLife":"30MIN","chat.denyChatFromMemberProfile":false,"chat.denyShowMemberProfile":false,"chat.disableChatHistory":false,"chat.fetchUserProfileOnDemand":true,"chat.autoActiveNextChat":true,"chat.flow.size":20,"chat.hideAllSidebar":false,"chat.hideChatAvatar":false,"chat.hideStatusDot":false,"chat.markdown.html":true,"chat.mentionOthers":true,"chat.messageList.useInverseColumn":"auto","chat.muteOnChatNotActive":false,"chat.sendbox.height":100,"chat.sendbox.enableSyncSize":true,"chat.sendbox.focusOnActiveChat":true,"chat.sendCode.enable":true,"chat.sendCode.langs":["HTML",{"label":"JavaScript","value":"js"},"CSS","Java","PHP","Python","JSON",{"label":"C++","value":"cpp"},"C",{"label":"C#","value":"csharp"},"Swift","Go","Bash","XML","yaml",{"label":"TypeScript","value":"ts"},"Less","SCSS","Dart","Ruby","SQL",{"label":"Kotlin","value":"kt"},"Ini","Apache","Makefile","Perl","Diff","CMake"],"chat.sendMarkdown":true,"chat.showMeAsMySenderName":false,"chat.showNoticeOnChatTitle":false,"chat.simpleChatView":false,"chat.suggestPanelShowTime":10000,"chat.urlInspector":true,"chat.bulletinNotificationCondition":true,"chat.autoScrollToActiveChat":true,"chat.image.autoDownloadSize":"1MB","defaultUser":null,"exts.app.home.hideExtensionsApp":false,"exts.categories":false,"hotkey.sendMessageOptions":["Enter","Alt+Enter","Ctrl+Enter","Shift+Enter","Ctrl+Shift+Enter","Ctrl+Alt+Enter"],"license.fullname":"ZenTao Open Software License ZOSL 1.0","license.name":"ZOSL 1.0","license.url":"http://zpl.pub/page/zoslv1.html","login.ldap":true,"login.skipHTTPSecurityAlert":true,"markdown.hintUrl":"https://markdown-zh.readthedocs.io/en/latest/","member.showAvatar":true,"menu.width":200,"navbar.width":50,"page.more.size":20,"page.start.size":20,"showDailySignMessage":true,"todo.enable":true,"webview.frame.hiddenNavButtons":false,"qrcode.login.enable":true,"mobile.getAppUrl":"https://www.xuanim.com/page/getapp.html","message.interval.minute":5,"conference.showParticipants.limit":30,"app.timeToShowMainWindowAfterOffline":"3MIN","app.hideLogout":false,"app.shortenReconnectMessage":false}')},44575:e=>{"use strict";e.exports=JSON.parse('{"app.companyName":"","app.companyShortName":"","chat.addAdminForGroup":"{0}","chat.addAdminForGroup.confirm":"{0}","chat.all":"","chat.atHim":"@/","chat.atHim.f":"@","chat.atHim.m":"@","chat.bulletin.cancel":"","chat.bulletin.expiryDate":"","chat.bulletin.settings":"","chat.bulletin.type":"","chat.bulletin.type.bulletin":"","chat.bulletin.type.notice":"","chat.committers.blocked":"","chat.committers.blockedTip":"","chat.committers.committersSettingTip":"","chat.committers.setCommitters":"","chat.committers.setCommittersFormat":"{0}","chat.committers.type.admins":"","chat.committers.type.all":"","chat.committers.type.whitelist":"","chat.confirmSendFiles.format":" {0} ","chat.copyChatGID":" ID","chat.create.chatType.normal":"","chat.create.chatType.public":"","chat.create.chatTypeTip":"","chat.create.chatWith.format":" {0} ","chat.create.filterByDept":"","chat.create.filterByGroup":"","chat.create.group.format":" {0} ","chat.create.groupsTip":"","chat.create.join":"","chat.create.joinGroup.format":" {0}","chat.create.joinGroupTip":"","chat.create.mustIncludeYourself":"","chat.create.newChatNameTip":"","chat.create.title":"","chat.createNewChat.format":"{0}  {1}","chat.deleted":"","chat.deletedOne2OneTip":"","chat.exit.message":"{0} ","chat.fontSize.current.format":" {0}","chat.fontSize.resetDefault":"","chat.group.archive":"","chat.group.archive.alert":"","chat.group.archived":"","chat.group.archivedTip":"","chat.group.avatar":"","chat.group.default":"","chat.group.dismiss":"","chat.group.dismiss.message":"{0} ","chat.group.dismissConfirm":"{0}","chat.group.dismissTip":" {0} ","chat.group.dismissed":"","chat.group.exit":"","chat.group.exitConfirm":"{0}","chat.group.exitTip":"","chat.group.groupsVisual":"","chat.group.limited":"16","chat.group.members":"","chat.group.merge":"","chat.group.mergeTips":"","chat.group.mergeTo":" {0} ","chat.group.name":"","chat.group.publicVisual":"","chat.group.setting.adminInvite":"","chat.group.setting.public":"","chat.group.setting.public.tips":"","chat.group.settings":"","chat.group.settings.groupAvatar.change":"","chat.group.settings.groupAvatar.chooseColor":"","chat.group.settings.groupAvatar.chooseColorTips":"","chat.group.settings.groupAvatar.customText":"","chat.group.settings.groupAvatar.customTextTooLong":"","chat.group.settings.groupAvatar.inputTextPlaceholder":"","chat.group.settings.groupAvatar.textAvatar":"","chat.group.settings.groupAvatar.uploadAvatar":"","chat.group.start":"","chat.group.tempName":"-{0}","chat.group.transfer":"","chat.group.transferTips":"","chat.group.unarchive":"","chat.group.upload":"","chat.group.visibility":"","chat.groupName.format":"{0}{1}","chat.invite":"","chat.invite.choosed":"","chat.invite.removeAll":"","chat.invite.selectMembers":"","chat.invite.title":"","chat.inviteAndCreateNewChat.format":"{0}  {1}","chat.inviteMembersJoinChat.format":"{0}  {1} ","chat.join.message":"{0}","chat.kickOffFromGroup":"","chat.kickOffFromGroup.confirm":"{0}","chat.kickOffFromGroup.confirm.batch":"","chat.loadMoreMessage":"","chat.membersCount.format":"{0}","chat.menu.addCategory":"","chat.menu.addCategory.title":"","chat.menu.allChats":"","chat.menu.contacts":"","chat.menu.createChat":"","chat.menu.currentChat":"","chat.menu.emptySearchResultTip":" {0} ","chat.menu.groups":"","chat.menu.private":"","chat.menu.recents":"","chat.menu.resultTooMany":"","chat.menu.searchResult":"","chat.menu.searchTooShort":"","chat.merge.search":"","chat.message.atAll":"","chat.message.bulletin.type.bulletin":"","chat.message.bulletin.type.notice":"","chat.message.cannotSendOnOffline":"","chat.message.clickToCollapse":"","chat.message.clickToExpand":"","chat.message.copy":"","chat.message.copyMarkdown":" Markdown","chat.message.deleted":"","chat.message.expandAllReplies":"","chat.message.getFail":"","chat.message.loadCard":"","chat.message.notification.file.cancelReceive":"{0}  {1}","chat.message.notification.file.cancelSend":"{0}  {1}","chat.message.notification.file.exception":"{0}  {1} ","chat.message.notification.file.readyToReceive":"{0}  {1}","chat.message.notification.file.reciveDone":"{0} ","chat.message.notification.file.rejctReceive":"{0}  {1}","chat.message.notification.file.terminalSend":"{0}  {1}","chat.message.notification.notify-handle-process":"","chat.message.notification.notify-handle-review":"","chat.message.notification.notify-handle-view":"","chat.message.pin":"","chat.message.pinned":"","chat.message.provider.format":"{0}","chat.message.reedit":"","chat.message.refreshCard":"","chat.message.reply":"","chat.message.resend":"","chat.message.retract":"","chat.message.retracted":"{0}","chat.message.retracted.byAdmin":"{0}","chat.message.sendFailed":"","chat.message.senderMe":"","chat.message.type.code":"","chat.message.type.emoji":"","chat.message.type.image":"","chat.message.type.object":"","chat.message.type.url":"","chat.message.unpin":"","chat.message.userSendAt":"{user}{time}","chat.mute.label":"","chat.noMoreMessage":"","chat.notInGroupTip":"","chat.one2one.typing":"...","chat.privateChat.name":"{0}","chat.public.copyInvitation":"","chat.public.label":"","chat.public.setPrivate":"","chat.public.setPublic":"","chat.removeAdminForGroup":"{0}","chat.removeAdminForGroup.confirm":"{0}","chat.rename.newTitle":"","chat.rename.newTitleRequired":"","chat.rename.someRenameGroup.format":"{0}  {1}","chat.rename.title":"","chat.role.admin":"","chat.selectMembers":"","chat.selectMentions":"","chat.selectOtherMembers":"","chat.send.sendSuccess":" {0} ","chat.send.sending":"...","chat.sendClipboardImage":"","chat.sendCode.codeName":"","chat.sendCode.content.placeholder":"","chat.sendCode.defaultLanguage":"","chat.sendCode.sendBtnLabel":"","chat.sendCodeDialog.title":"","chat.sendMessage":"","chat.sendbox.changeHotkeyTip":"","chat.sendbox.memberNotInGroup":"{0}","chat.sendbox.placeholder.memberIsBusy":"{0}{1}","chat.sendbox.placeholder.memberIsOffline":"{0}","chat.sendbox.placeholder.sendMessage":"","chat.sendbox.toolbar.bulletin":"","chat.sendbox.toolbar.captureScreen":"","chat.sendbox.toolbar.changeHotkeyTip":"","chat.sendbox.toolbar.code":"","chat.sendbox.toolbar.command":"","chat.sendbox.toolbar.emoticon":"","chat.sendbox.toolbar.file":"","chat.sendbox.toolbar.file.collabora":"","chat.sendbox.toolbar.file.offline":"","chat.sendbox.toolbar.file.online":"","chat.sendbox.toolbar.file.online.offlinewarning":"","chat.sendbox.toolbar.file.online.unusable":"","chat.sendbox.toolbar.image":"","chat.sendbox.toolbar.markdown.disabled":"Markdown - ","chat.sendbox.toolbar.markdown.enabled":"Markdown - ","chat.sendbox.toolbar.markdownGuide":"Markdown ","chat.sendbox.toolbar.moreOptions":"","chat.sendbox.toolbar.previewDraft":"","chat.sendbox.toolbar.send":"","chat.sendbox.toolbar.setFontSize":"","chat.sendbox.toolbar.tips":"","chat.share":"","chat.share.selectChats":"","chat.share.sendSuccess":" {0} ","chat.share.sending":"...","chat.sidebar.cancelSelection":"","chat.sidebar.close":"","chat.sidebar.createChat":"","chat.sidebar.createGroup":"","chat.sidebar.invite":"","chat.sidebar.invite.action":"","chat.sidebar.removeMember":"","chat.sidebar.tab.files.label":"","chat.sidebar.tab.files.loading":"","chat.sidebar.tab.files.noFilesHere":"","chat.sidebar.tab.peoples.label":"","chat.sidebar.tab.profile.label":"","chat.sidebar.tab.recentContacts.label":"","chat.sidebar.watch":"","chat.status.atAll":"@","chat.status.atMe":"@","chat.systemGroup.name":"","chat.tempChat.name":"","chat.tips.close":"","chat.tips.dragging":"","chat.tips.markdown":" Markdown ","chat.tips.pasting":"","chat.tips.screenshots":"","chat.tips.title":"","chat.toolbar.cancelHide":"","chat.toolbar.cancelMute":"","chat.toolbar.freeze":"","chat.toolbar.hide":"","chat.toolbar.history":"","chat.toolbar.invite":"","chat.toolbar.more":"","chat.toolbar.mute":"","chat.toolbar.scrollToBottom":"","chat.toolbar.scrollToTarget":"","chat.toolbar.scrollToTop":"","chat.toolbar.sidebar":"","chat.toolbar.star":"","chat.toolbar.unstar":"","chat.view.context":"","chats.cannotJoinArchivedChat":"","chats.chat.search.include":"","chats.chat.search.result.format":" {0}  {1} ","chats.chat.selectOneOnMenu":"","chats.confirmToJoinPublicChat":"{0}","chats.create.label":"","chats.dragNDropFileMessage":"","chats.history.fetchAll":"","chats.history.fetchAllFromServer":"","chats.history.fetchFinish":"","chats.history.fetchFromServer":"","chats.history.fetchingMessages":"","chats.history.group.contacts":"","chats.history.group.groups":"","chats.history.group.others":"","chats.history.localChat":"","chats.history.noMessages":"","chats.history.search.filetype.all":"","chats.history.search.filetype.file":"","chats.history.search.filetype.image":"","chats.history.search.placeholder":"","chats.history.search.result.format":" {0} ","chats.history.search.result.noResults":"","chats.history.search.result.notShow.format":" {0} ","chats.history.search.result.selectTip":"","chats.history.search.result.toMany":"","chats.history.search.type.all":"","chats.history.search.type.choosed":"","chats.history.search.type.contacts":"","chats.history.search.type.groups":"","chats.history.searching":"","chats.history.searching.format":" {0} ","chats.history.selectChatTip":"","chats.history.selectFetchTime":"","chats.history.sync.fast":"","chats.history.sync.slow":"","chats.history.title":"","chats.joinedChatNotFound":"","chats.menu.fileSaved":"","chats.menu.filesSaved.format":"{0} ","chats.menu.group.add":"","chats.menu.group.addExist":"","chats.menu.group.create":"","chats.menu.group.createTip":"","chats.menu.group.current":"","chats.menu.group.default":"","chats.menu.group.delete":"","chats.menu.group.delete.confirm.format":"{0}","chats.menu.group.delete.tip.format":"{0}","chats.menu.group.deleted":"","chats.menu.group.dismissed":"","chats.menu.group.existsTip":"","chats.menu.group.noCategoryToAdd":"","chats.menu.group.other":"","chats.menu.group.rename":"","chats.menu.group.renameTip":"","chats.menu.group.requiredNewName":"","chats.menu.group.stared":"","chats.menu.groupType.category":"","chats.menu.groupType.dept":"","chats.menu.groupType.normal":"","chats.menu.groupType.role":"","chats.menu.switchView":"","chats.search":"","chats.search.contacts":"","chats.search.groups":"","chats.search.recents":"","common.about":"","common.audioVideoConference":"","common.back":"","common.busyTip":"","common.cancel":"","common.category":"","common.changeUploadPhoto":"","common.chat":"","common.checkUpdate":"","common.clickShowMoreFormat":" {0} ","common.close":"","common.closeWindowConfirm":"","common.collapse":"","common.conference":"","common.confirm":"","common.confirmCreateAppWindow":"","common.confirmQuitIM":"","common.confirmSelect":"","common.continue":"","common.copied":"","common.copy":"","common.copyCode":"","common.copyConferenceNumber":" ID","common.copyConferenceNumber.messager":" ID {0}","common.copyFormat":" {0}","common.copyLink":"","common.copyText":"","common.copyrightFormat":"  {year} {name}","common.delete":"","common.download":"","common.draft":"","common.endTime":"","common.enterFullscreen":"","common.exit":"","common.exitFullscreen":"","common.exitIM":"","common.expand":"","common.files.findCount.none":"","common.filter":"","common.finish":"","common.group":"","common.groupBy":"","common.invalidDate":"","common.invalidTime":"","common.load.failed":"","common.loadMore":"","common.loading":"","common.more":"","common.moreActions":"","common.moreThan":"{0}","common.morrow":"","common.multiSelection":"","common.noAvailableActions":"","common.notFoundOptions":"","common.notes":"","common.notification":"","common.notificationSubname":"","common.open":"","common.openLink":"","common.poweredBy":"","common.previewCropper":"","common.refresh":"","common.remove":"","common.rename":"","common.required":"","common.requiredField.format":"{0}","common.rerequest":"","common.restore":"","common.save":"","common.search":"","common.selectAll":"","common.selectInverse":"","common.selectLanguage":"","common.separator":"","common.setting":"","common.settings":"","common.shareMenu":"","common.sortBy":"","common.startTime":"","common.switchLanguage":"","common.systemPreferneces":"","common.time.day":"","common.time.duration.10minutes":"10 ","common.time.duration.15minutes":"15 ","common.time.duration.1hour":"1 ","common.time.duration.20minutes":"20 ","common.time.duration.2hours":"2 ","common.time.duration.30minutes":"30 ","common.time.duration.45minutes":"45 ","common.time.hour":"","common.time.minute":"","common.time.month":"","common.time.quarter":"","common.time.quickSelectionDuration":"","common.time.today":"","common.time.tomorrow":"","common.time.week":"","common.time.year":"","common.unselectAll":"","common.viewDetail":"","common.xuanbot":"","conference.app.closed":"","conference.app.createByMe":"","conference.app.onGoing":"","conference.app.scheduled":"","conference.app.search.noData":"","conference.appointment":"","conference.appointment.cancelConfirm":"","conference.appointment.finishConfirm":"","conference.appointment.success":"","conference.audioDisabled":"","conference.audioDisabledMessage":"","conference.cancel":"","conference.cancelConfirm.cancel":"","conference.cancelConfirm.content":"","conference.cancelConfirm.submit":"","conference.cancelConfirm.title":"{0}","conference.close":"","conference.closeConfirmMessage":"","conference.closeConfirmTitle":"","conference.closeVideo":"","conference.connectionInfoFormat":"{0}","conference.contextMenu.aboutMe":"","conference.contextMenu.other":"","conference.create":"","conference.createConfirmMessage":" {name} ","conference.createFailed.alreadyJoined":"{name}","conference.createMenu.call":"","conference.createMenu.startForAll":"","conference.createMenu.startWithSelections":"","conference.createMenu.video":"","conference.defaultAppointmentTopic":"{0}","conference.defaultGroupTopic":"{0}","conference.defaultOne2OneTopic":"{0}","conference.defaultTopic":"{0}","conference.deleteConfirm.content":"{0}","conference.detail.joinStatus":" {0} {1} ","conference.detectAudioUnavailable":"","conference.displayType.screen":"","conference.displayType.window":"","conference.edit":"","conference.editApproachingMeetingConfirm":"5","conference.entireScreen":"","conference.error.noAudioInput":"","conference.error.noVideo":"","conference.error.publishVideo":"[{error}]","conference.hangup":"","conference.hangupConfirmTitle":"","conference.ignore":"","conference.inviteCard.firstTip":"","conference.inviteTip":" ","conference.join":"","conference.joinConference":"","conference.joinFailed.alreadyJoined":"{name}","conference.joinNotFound":"","conference.joined":"","conference.leave":"","conference.mediaTypes.audio":"","conference.mediaTypes.video":"","conference.message.closed":"","conference.message.closing":"","conference.message.createFail":"","conference.message.creating":"","conference.message.ignored":"","conference.message.incoming":"{openedBy}{participantsInfo}","conference.message.joinFail":"","conference.message.joinedOnOtherDevice":"","conference.message.open":"{participantsInfo}","conference.message.server_connected":"{participantsInfo}{connectionInfo}","conference.message.server_connecting":"","conference.message.server_disconnecting":"","conference.message.server_error":"","conference.message.server_ready":"","conference.message.server_sdp_error":"","conference.mute":"","conference.muted":"","conference.number":"ID","conference.numberInputTip":"","conference.openedBy":"","conference.othersAlreadyShareScreen":"","conference.participants":"","conference.participants.ellipsisTotalFormat":" {0} ","conference.participants.joinPunctuation":"","conference.participants.me":"","conference.participants.totalFormat":" {0} ","conference.participantsList":"","conference.pc.disconnected":"/...","conference.pc.failed":"/","conference.pc.reconnected":"","conference.play.fail":" {0} ","conference.publish.fail":"","conference.publishVideo":"","conference.ready.toggleAudio":"/","conference.ready.toggleVideo":"/","conference.rejoin":"","conference.reminderTime":"","conference.reminderTime.10Minutes":"10 ","conference.reminderTime.15Minutes":"15 ","conference.reminderTime.1Day":"1 ","conference.reminderTime.1Hour":"1 ","conference.reminderTime.2Days":"2 ","conference.reminderTime.2Hours":"2 ","conference.reminderTime.30Minutes":"30 ","conference.reminderTime.5Minutes":"5 ","conference.reminderTime.none":"","conference.retryCreate":"","conference.screenNamePrefix":" ","conference.screenSharing":"","conference.selectAllChatMembers":"","conference.selectDisplaySourceToShare":"","conference.selectManual":"","conference.selectMediaTypes":"","conference.selectParticipants":"","conference.share.selectTip":"","conference.shareScreen":"","conference.shareScreen.noPermission":"","conference.speaker":"","conference.status.closed":"","conference.status.closing":"","conference.status.createFail":"","conference.status.creating":"","conference.status.ignored":"","conference.status.incoming":"{openedBy}{participantsCount}","conference.status.joinedOnOtherDevice":"","conference.status.muted":"","conference.status.offline":"","conference.status.open":"","conference.status.open.invite":"","conference.status.server_connected":"","conference.status.server_connecting":"","conference.status.server_disconnecting":"","conference.status.server_error":"","conference.status.server_ready":"","conference.switchToConferenceWindow":"","conference.time":"","conference.timeRange":"","conference.topic":"","conference.unignore":"","conference.unmute":"","conference.unpublishScreencast":"","conference.unpublishVideo":"","conference.videoNotAllowedWithScreen":"","conference.videoPublishing":"","conference.window.closeConfirm":"","conference.window.title":" - {0}","contacts":"","contacts.groups.created":"","contacts.groups.joined":"","contacts.groups.public":"","contacts.members.all":"","contacts.nav.groups":"","contacts.nav.members":"","debug.inspectElement":"","diagnostics.contactUs":"","diagnostics.copiedDiagnoseLogs":"","diagnostics.copyDiagnoseLogs":"","diagnostics.detail":"","diagnostics.diagnoseNetwork":"","diagnostics.diagnoseUnexpectedInterruption":"","diagnostics.endDiagnoseNetwork":"","diagnostics.endDiagnoseNetworkWithErrors":" {errorsCount} {warningsCount} ","diagnostics.expandAllDetail":"","diagnostics.exportDiagnoseLogs":"","diagnostics.moreSuggestions":"...","diagnostics.newVersionAvailable":" {newVersion} {currentVersion} {downloadURL} ","diagnostics.pingLogs":"ping {hostname}  {pingTime}ms","diagnostics.pingWithLongTime":" ping {hostname}  {pingTime}ms","diagnostics.resolveHostname":" {hostname}  IP {ip}","diagnostics.restartDiagnose":"","diagnostics.serverInfo":" {serverInfoUrl}  serverInfo ","diagnostics.startingDiagnoseNetwork":"{url}{account}{version}","diagnostics.suggestions":"","diagnostics.tracerouteError":"Traceroute {hostname} ","diagnostics.tracerouteInfo":"Traceroute {hostname} ","diagnostics.waitForDiagnosing":"","dialog.appClose.cancelAction":"","dialog.appClose.minimizeMainWindow":"","dialog.appClose.quitApp":"","dialog.appClose.rememberOption":"","dialog.appClose.title":"","dialog.fileSaveTo":"","dialog.openFile":"","dialog.reloadWindowConfirm":"","dialog.reloadWindowConfirmTip":"","emoji.category.activity":"","emoji.category.flags":"","emoji.category.food":"","emoji.category.nature":"","emoji.category.objects":"","emoji.category.people":"","emoji.category.symbols":"","emoji.category.travel":"","emoji.title":"","error.ACTION_NOT_ALLOWED":"","error.BUSY":"","error.CANNOT_HANDLE_IMAGE":"","error.CLIENT_REQUIRE_UPDATE":"","error.COMMON_ERROR":"","error.CONFERENCE_CLOSED":"","error.CONFERENCE_NO_SCREEN":"","error.CONFERENCE_NO_VIDEO":"","error.EXT_NAME_ALREADY_INSTALLED":"","error.EXT_NOT_EXT_SOURCE":" zip xext  package.json ","error.EXT_NOT_FOUND":"","error.EXT_UNZIP_ERROR":"","error.HTTP_ABORT":"","error.HTTP_DATA_ERROR":"","error.HTTP_ECONNREFUSED":" {url} ","error.HTTP_EHOSTDOWN":" {hostname} ","error.HTTP_ENETUNREACH":" {hostname} ","error.HTTP_ETIMEDOUT":" {url} ","error.HTTP_REQUEST_FAIL":"","error.HTTP_STATUS_401":"","error.HTTP_STATUS_402":"","error.HTTP_STATUS_403":"","error.HTTP_STATUS_405":"","error.HTTP_STATUS_500":"","error.HTTP_STATUS_ERROR":"","error.IMAGE_NOT_FIND":" {0}","error.INVALID_TOKEN":"","error.INVALID_URL":"URL ","error.NAMESERVER_NOT_FOUND":"DNS ","error.NET_LOOKUP_FAIL":" {hostname}","error.NET_OFFLINE":"","error.NET_PING_FAIL":"ping {hostname} ","error.NET_TRACEROUTE_ERROR":"Traceroute {hostname} ","error.SERVER_VERSION_NOT_SUPPORT":"{version} {serverVersion} 5.6 {version}","error.SERVER_VERSION_UNKNOWN":"","error.SOCKET_CLOSED":" Socket ","error.SOCKET_CLOSE_ABNORMAL":" Socket ","error.SOCKET_TIMEOUT":"Socket ","error.THEME_WITHOUT_CSS_FILE":" CSS ","error.TIMEOUT":"","error.UPDATER_UNZIP_ERROR":"","error.UPLOAD_DISABLED":"","error.UPLOAD_FILE_FAILED":"","error.UPLOAD_FILE_IS_TOO_LARGE":" {0} ","error.UPLOAD_FILE_IS_TYPE_ERROR":"","error.UPLOAD_FILE_IS_ZERO_SIZE":" 0","error.UPLOAD_FOLDER_NOT_SUPPORTED":"","error.USER_CANCELED":"","error.USER_DATA_PATH_DENY":"","error.USER_DENY_UPLOAD":"","error.USER_INVALID":"","error.USER_KICKOFF":"","error.USER_KICKOFF_1":"","error.USER_KICKOFF_2":"","error.USER_KICKOFF_3":"","error.USER_KICKOFF_4":"","error.suggestion.CLIENT_REQUIRE_UPDATE":"","error.suggestion.HTTP_DATA_ERROR":" XXD | XXB | mysql  XXB ","error.suggestion.HTTP_ECONNREFUSED":" {port} | XXD ","error.suggestion.HTTP_EHOSTDOWN":"| XXD ","error.suggestion.HTTP_ENETUNREACH":"| XXD ","error.suggestion.HTTP_ETIMEDOUT":"| XXD | {hostname}  {port}|","error.suggestion.HTTP_REQUEST_FAIL":" IP ","error.suggestion.HTTP_STATUS_401":" XXB ","error.suggestion.HTTP_STATUS_402":" 10 | XXB ","error.suggestion.HTTP_STATUS_403":" XXB ","error.suggestion.HTTP_STATUS_405":" https://www.xuanim.com/license-browse.html ","error.suggestion.HTTP_STATUS_500":" XXB | mysql  XXB ","error.suggestion.HTTP_STATUS_ERROR":" XXB | mysql  XXB ","error.suggestion.NAMESERVER_NOT_FOUND":" DNS  DNS ","error.suggestion.NET_LOOKUP_FAIL":"| DNS | {hostname} |","error.suggestion.NET_OFFLINE":"|||","error.suggestion.NET_PING_FAIL":"|| {hostname} ","error.suggestion.NET_TRACEROUTE_ERROR":"|| {hostname} ","error.suggestion.RTC_NOT_SUPPORT":"","error.suggestion.RTC_ONLY_ONE2ONE":"","error.suggestion.SERVER_VERSION_NOT_SUPPORT":"","error.suggestion.SERVER_VERSION_UNKNOWN":"","error.suggestion.SOCKET_CLOSED":" XXD | XXD ","error.suggestion.SOCKET_CLOSE_ABNORMAL":" XXD | XXD ","error.suggestion.SOCKET_TIMEOUT":"|","error.suggestion.USER_INVALID":"","ext.api.detail.definition.header":"","ext.api.detail.example.header":"","ext.api.detail.params.column.default":"","ext.api.detail.params.column.explain":"","ext.api.detail.params.column.name":"","ext.api.detail.params.column.option":"","ext.api.detail.params.column.type":"","ext.api.detail.params.header":"","ext.api.detail.returns.column.explain":"","ext.api.detail.returns.column.type":"","ext.api.detail.returns.header":"","ext.api.developLink":"","ext.api.extensionApi":"API","ext.api.groupType.level":"","ext.api.groupType.module":"","ext.api.groupType.none":"","ext.api.level.description.L0":" 0  API","ext.api.level.description.L1":"","ext.api.level.description.L2":"","ext.api.level.description.L3":"","ext.api.level.description.L4":" API ","ext.api.level.description.L5":" API","ext.api.level.description.L6":" React ","ext.api.level.description.L7":" NodeJS  electron","ext.api.noPermission":" API","ext.api.search.noData":"","ext.api.searchBox.placeholder":"API","ext.api.searchResult":"","ext.api.sortType.level":"","ext.api.sortType.name":"","ext.api.type.class":"","ext.api.type.function":"","ext.api.type.interface":"","ext.api.type.module":"","ext.api.type.type":"","ext.api.type.var":"","ext.app.about":"","ext.app.close":"","ext.app.copyUrl":"","ext.app.goBack":"","ext.app.goForward":"","ext.app.goHome":"","ext.app.open":"","ext.app.openDevTools":"","ext.app.openInBrowser":"","ext.app.pinnedOnMenu":"","ext.app.redirectConfirm":" {url}","ext.app.refresh":"","ext.app.share":"","ext.app.unpinnedOnMenu":"","ext.author":"","ext.bugs":"","ext.buildIn":"","ext.buildIn.hint":"","ext.cannotUninstallBuildIn":"","ext.cannotUninstallRemote":"","ext.disable":"","ext.disabled":"","ext.downloading":"...{0}","ext.enable":"","ext.extension.installTime":"","ext.extension.loadPath":"","ext.extension.loadTime":"","ext.extension.needRestart":"","ext.extension.needRestartTip":"","ext.extension.pkgHasError":"","ext.extension.updateTime":"","ext.extensions.all":"","ext.extensions.apps":"","ext.extensions.developing":"","ext.extensions.installConfirm":"","ext.extensions.installDevExtension":"","ext.extensions.installExtension":"","ext.extensions.installLocalExtTip":" .zip ","ext.extensions.installLocalExtension":"","ext.extensions.installed":"","ext.extensions.moreActions":"","ext.extensions.needRestartTip.format":" {0} ","ext.extensions.plugins":"","ext.extensions.reload":"","ext.extensions.reloadFinish":"","ext.extensions.restart":"","ext.extensions.searchResult":"","ext.extensions.showFolder":"","ext.extensions.themes":"","ext.files":"","ext.files.all":"","ext.files.docs":"","ext.files.findCount.format":" {0} ","ext.files.findCount.none":"","ext.files.findToMany.format":" {0}  {1}  {2} ","ext.files.images":"","ext.files.others":"","ext.files.programs":"","ext.group.action":"","ext.group.addMember":"","ext.group.createdDate":"","ext.group.groupManagement":"","ext.group.groupName":"","ext.group.groupNoDataTip":"","ext.group.groupOwner":"","ext.group.groupRename":"","ext.group.groupSearchNoDataTip":"","ext.group.id":"ID","ext.group.joinTime":"","ext.group.kickOwnerTip":"","ext.group.lastActiveTime":"","ext.group.lastPost":"","ext.group.lastSeen":"","ext.group.memberCount":"","ext.group.memberManagement":"","ext.group.memberName":"","ext.group.memberSearch.placeholder":"","ext.group.memberSearchNoDataTip":"","ext.group.mergeGroup":"","ext.group.publicType":"","ext.group.reload":"","ext.group.removeGroupAdmin":"","ext.group.search.placeholder":"","ext.group.setGroupAdmin":"","ext.group.setGroupAdmin.confirm":"{0}","ext.group.setOwner":"","ext.group.setOwner.confirm":"{0}","ext.group.typePrivate":"","ext.group.typePublic":"","ext.home.addMoreApps":"","ext.home.appsCount.format":" {0} ","ext.home.findAppsCount.format":" {0} ","ext.home.manageInExtensionsApp":"","ext.homepage":"","ext.install":"","ext.installFail":"","ext.installSuccess.format":" {0} ","ext.license":"","ext.openApp":"","ext.overrideInstall.format":"{0} {1}{2} {3}","ext.publisher":"","ext.publisher.format":" {0} ","ext.remote.hint":"","ext.repository":"","ext.themes.count.format":" {0} ","ext.themes.current":"","ext.themes.default":"","ext.themes.inside":"","ext.type.app":"","ext.type.plugin":"","ext.type.theme":"","ext.unavailable":"","ext.uninstall":"","ext.uninstallConfirm.format":" {0}","ext.uninstallSuccess.format":" {0} ","ext.updateInstall.format":"{0} {1}  {2}","exts.api.category.chat":"","exts.api.category.ext":"","exts.api.category.platform":"","exts.api.category.ui":"","exts.api.category.utils":"","exts.api.desc":"API","exts.api.label":"API","exts.appNoView":"","exts.appNotFound.format":"{0}","exts.category.buildIn":"","exts.category.others":"","exts.category.remote":"","exts.extensions.desc":"","exts.extensions.label":"","exts.files.desc":"","exts.files.label":"","exts.firefoxSend.desc":"","exts.firefoxSend.label":"","exts.group.desc":"","exts.group.label":"","exts.home.all":"","exts.home.desc":"","exts.home.label":"","exts.home.search":"","exts.install":"","exts.installWarning":"{0}","exts.installation.permissions":"","exts.installation.title":"{0}","exts.permission.user.getCurrentUser":"","exts.themes.desc":"","exts.themes.label":"","file.abort":"","file.abortNetwork":"","file.cannotOpenTheFile":"","file.cannotPreviewTheFile":"","file.collabora":"","file.collabora.abbr":"","file.collabora.forwardWarning":"","file.collabora.prompt":"","file.downloadFailed":"","file.downloading":"","file.edit":"","file.error.acces":"","file.error.busy":"","file.error.remove":"","file.fileSavedAt.format":" {0}","file.image.title":"","file.loading":"","file.notFoundInServer":"","file.open":"","file.openFolder":"","file.preview":"","file.preview.unsupported":"","file.preview.warning":"","file.retracted":"","file.reupload":"","file.rtc.accept":"","file.rtc.notFound":"","file.rtc.refuse":"","file.rtc.time":" {0}s","file.rtc.transferring":"","file.rtc.waiting":"","file.sending":"","file.title.format":"{0}","file.upload.large.hint":"","file.upload.large.tip":"","file.upload.p2p.always":"","file.upload.p2p.exitHint.content":"","file.upload.p2p.exitHint.sendingFileOnlyOne":"","file.upload.p2p.hint":"","file.upload.p2p.label":"","file.uploadFailed":"","file.uploading":"","gallery.view.audio":"","gallery.view.image":"","gallery.view.media":"","gallery.view.video":"","imageCutter.captureScreen":"","imageCutter.hideCurrentWindowAndCaptureScreen":"","imageCutter.setGlobalHotkey":"","integrations.collaboraOffice.notConfigured":"Collabora Office ","login.account.hint":"/","login.account.label":"","login.autoConnect.connectIM":"","login.autoConnect.connecting":"","login.autoConnect.connecting.short":"","login.autoConnect.errorDetail":"","login.autoConnect.failedAndWait":"{0} ","login.autoConnect.logout":"","login.autoConnect.wait":"{0} ","login.autoConnect.wait.short":"","login.autoLogin":"","login.btn.label":"  ","login.btn.logging":"","login.ldap":"LDAP","login.ldap.confirm":" LDAP ","login.moreLoginSettings":"","login.nonSecurity.btn":"","login.nonSecurity.confirm":" http  {0}","login.nonSecurity.detail":" https ","login.openAtLogin":"","login.openAtLogin.failure":"","login.password.clear":"","login.password.label":"","login.rememberMe":"","login.retry":"","login.serverUrl.hint":"https://xuanxuan.chat","login.serverUrl.label":"","login.showServerSetting":"","login.signed":"","login.swapUser":"","media.next":"","media.prev":"","media.preview":"","media.rotate90":" 90","media.zoomIn":"","media.zoomOut":"","media.zoomReset":"","member.dept":"","member.dept.none":"","member.dept.short":"","member.dept.unset":"","member.gender.f":"","member.gender.m":"","member.him":"/","member.him.f":"","member.him.m":"","member.profile.address":"","member.profile.contactInfo":"","member.profile.editUserInfo":"","member.profile.email":"","member.profile.gender":"","member.profile.mobile":"","member.profile.phone":"","member.profile.realname":"","member.profile.save":"","member.profile.sendMessage":"","member.profile.site":"","member.profile.view":"","member.profile.weixin":"","member.role":"","member.role.dev":"","member.role.market":"","member.role.office":"","member.role.pm":"","member.role.po":"","member.role.qa":"","member.role.qd":"","member.role.sale":"","member.status":"","member.status.away":"","member.status.busy":"","member.status.disconnect":"","member.status.logged":"","member.status.meeting":"","member.status.offline":"","member.status.online":"","member.status.unverified":"","menu.about":"","menu.bringAllToFront":"","menu.close":"","menu.community":"","menu.copy":"","menu.copy.select":" {0}","menu.copyImage":"","menu.createNewWindow":"...","menu.cut":"","menu.edit":"","menu.help":"","menu.hideCurrentWindow":"","menu.hideOtherWindows":"","menu.image.copy":"","menu.image.download":"","menu.image.open":"","menu.image.saveAs":"","menu.image.view":"","menu.issues":"","menu.minimize":"","menu.paste":"","menu.project":"","menu.quit":"","menu.redo":"","menu.reload":"","menu.selectAll":"","menu.showAllWindows":"","menu.toggleDeveloperTool":"","menu.toggleFullscreen":"","menu.undo":"","menu.view":"","menu.website":"","menu.window":"","mobile.download.tip":" >>","mobile.download.title":"","mobile.login.tip":" >>","mobile.login.title":"","mobile.logined.tip":"{0} ","navbar.chats.label":"","navbar.chats.menu":"/","navbar.contacts.label":"","navbar.exts.label":"","navbar.groups.label":"","notification.memberSays.format":"{0} ","notification.memberSaysInGroup.format":"{0}  {1} ","notification.receviedMessages.format":" {0} ","pager.next":"","pager.prev":"","qrcode.login.fail":"","qrcode.login.refresh":"","setting.advanced.initConference":"","setting.advanced.initConferenceDescription":"","setting.chats.enableAnimate":"","setting.chats.enableSearchInEmojiPicker":"","setting.chats.listenClipboardImage":"","setting.chats.sendBigFileOnline":"","setting.chats.sendHDEmoticon":"","setting.chats.sendTypingStatus":"","setting.chats.showMeOnMenu":"","setting.chats.showMessageTip":"","setting.hotkeys.cantSetOnlyModifyKeys":"Ctrl, Alt/Option, Shift, Windows/Command","setting.hotkeys.globalCaptureScreen":"","setting.hotkeys.globalFocusWindow":"","setting.hotkeys.sendMessage":"","setting.message.reset":"","setting.navigation.navbarShowRecents":"","setting.navigation.onlyShowNoticeCountOnRecents":"","setting.navigation.showAvatarOnBottom":"","setting.notification.enableSoundNotification":"","setting.notification.enableWindowNotification":"","setting.notification.flashTrayIcon":"","setting.notification.flashTrayIconCondition":"","setting.notification.muteOnUserIsBusy":"/","setting.notification.onNeed":"","setting.notification.onWindowBlur":"","setting.notification.onWindowHide":"","setting.notification.playSoundCondition":"","setting.notification.safeWindowNotificationTip":"","setting.notification.windowNotificationCondition":"","setting.openCacheFilePath.noCache":"","setting.openCacheFilePath.tip":"","setting.reset.btn":"","setting.reset.tip":"","setting.section.advanced":"","setting.section.chats":"","setting.section.hotkeys":"","setting.section.navigation":"","setting.section.notification":"","setting.section.openCacheFilePath":"","setting.section.reset":"","setting.section.windows":"","setting.windows.askEveryTime":"","setting.windows.hideWindowOnBlur":"","setting.windows.hideWindowOnOpenAtLogin":"","setting.windows.minimizeMainWindow":"","setting.windows.onClickCloseButton":"","setting.windows.quitApp":"","setting.windows.removeFromTaskbarOnHide":"","setting.windows.zoomFactor":"","time.all":"","time.dby":"","time.format.day":"d","time.format.full":"yyyyMd","time.format.month":"Md","time.format.yearMonth":"yyyyM","time.halfYear":"","time.justNow":"","time.minute":"","time.minuteAgo":"{0}","time.oneMonth":"","time.oneWeek":"","time.oneYear":"","time.threeMonth":"","time.today":"","time.twoYear":"","time.yesterday":"","todo.beginAndEndBothRequired":"","todo.beginMustBeforeEnd":"","todo.create":"","todo.createSuccess":"","todo.edit":"","todo.input.desc.hint":" Markdown","todo.label.begin":"","todo.label.date":"","todo.label.desc":"","todo.label.end":"","todo.label.name":"","todo.label.pri":"","update.clientRequiredUpdateToLoginServer":" {0}","update.closeAndDownloadInBackground":"","update.contactAdminToUpdate":"","update.foundNewVersion":"","update.message.alreadyNew":"","update.message.downloadUrlNotAvailable":"","update.message.downloaded":"","update.message.downloading":"...","update.message.newVersionAvailable":"","update.message.unziping":"...","update.notifyMeNextTime":"","update.restartToCompleteUpdate":"","update.retryUpdate":"","update.skipThisVersion":"","update.updateNow":"","update.versionDetails":" {0} ","update.versionsFormat":" {0} {1}","user.changePassword.btn.confirm":"","user.changePassword.denySimplePassword":"6","user.changePassword.failed":"","user.changePassword.heading":"","user.changePassword.inputRequired":"{0}","user.changePassword.newPassword":"","user.changePassword.newPasswordRepeat":"","user.changePassword.notChanged":"","user.changePassword.notSupport":"","user.changePassword.passwordNotSame":"","user.changePassword.success":"","user.editInfo.emailError":"","user.editInfo.failed":"","user.editInfo.heading":"","user.editInfo.mobileError":"","user.editInfo.saveSuccess":"","user.editInfo.telError":"","usermenu.about":"","usermenu.changeAvatar":"","usermenu.changePassword":"","usermenu.exit":"","usermenu.login.qr":"","usermenu.logout":"","usermenu.openProfile":"","usermenu.setting":"","webview.foreceReload":"","webview.goBack":"","webview.goForward":"","webview.maximize":"","webview.openInBrowser":"","webview.reload":"","webview.stopLoad":"","webview.window.title":"","week.Friday":"","week.Monday":"","week.Saturday":"","week.Sunday":"","week.Thursday":"","week.Tuesday":"","week.Wednesday":""}')},91230:e=>{"use strict";e.exports=JSON.parse('{"name":"zentaoclient","productName":"zentaoclient","displayName":"","version":"7.2.1","displayVersion":"7.2.1","description":"","main":"./main.js","author":{"name":"","email":"sunhao@cnezsoft.com"},"homepage":"https://www.zentao.net/","company":"","license":"ZOSL 1.0 (http://zpl.pub/page/zoslv1.html)","bugs":{"url":"https://www.xuanim.com/forum/"},"dependencies":{"cheerio":"^1.0.0-rc.2","extract-zip":"^1.6.7","iconv-lite":"^0.4.23","immutable":"^3.7.6","jquery":"^3.5.1","nodejs-traceroute":"^1.2.0","ping":"^0.4.2","react-chatview":"^0.2.5","react-electron-web-view":"^2.0.1","remove-markdown":"^0.3.0","socket.io-client":"^2.2.0","pretty-format":"^27.0.6","js-beautify":"^1.14.0"},"commit":"a44e8cdcc8e0cb721ae9608b7382a1d883ea5904","buildTime":"2023-07-06T06:02:16.111Z","buildVersion":"","buildTypes":{"beta":false,"debug":false},"configurations":{"lang":{"zh-cn":{"app.title":"","common.notification":"","login.serverUrl.hint":"","common.notificationIconLabel":""},"zh-tw":{"app.title":"","common.notification":"","login.serverUrl.hint":"","common.notificationIconLabel":""},"en":{"app.title":"","app.homepage":"http://www.zentao.pm/","common.notification":"","login.serverUrl.hint":"","common.notificationIconLabel":""}},"ui":{"app.windowDefaultWidth":1280,"app.windowMinWidth":1280,"defaultThemeColor":"#0c64eb","login.skipHTTPSecurityAlert":true,"todo.enable":false,"login.ldap":false,"webview.frame.hiddenNavButtons":true}},"updater":null}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];return void 0!==t||(t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}},__webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0),t.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";__webpack_require__(68196),__webpack_require__(86702);var e=s(__webpack_require__(67294)),t=s(__webpack_require__(73935)),n=(__webpack_require__(7253),__webpack_require__(59826),__webpack_require__(66834),__webpack_require__(69851),__webpack_require__(12443)),r=s(__webpack_require__(13346)),o=__webpack_require__(82587),a=s(__webpack_require__(61862)),i=s(__webpack_require__(91103)),l=(__webpack_require__(34916),__webpack_require__(45030),__webpack_require__(90756));function s(e){return e&&e.__esModule?e:{default:e}}__webpack_require__(15518),PERF_MARK("uiResourceLoad"),(0,n.default)((function(){var n=document.getElementById("appContainer");PERF_MARK("uiRenderStart","uiResourceLoad","resourceLoadTime"),t.default.render(e.default.createElement(r.default,null),n,(function(){var e=document.getElementById("loading");e.parentNode.removeChild(e),setTimeout((function(){document.body.classList.remove("no-animation")}),2e3),(0,i.default)(a.default),(0,o.triggerUIReady)(),PERF_MARK("uiRenderFinish","uiRenderStart","uiFirstRenderTime")}))})),(0,l.isEmbed)()&&(0,n.default)((function(){(0,l.sendEmbedMessage)("loaded")}))})(),__FIX_DUMMY_LIBRARY_NAME_NOT_ALLOWED__=__webpack_exports__})();